{"version":3,"sources":["webpack:///./src/js/view/controls/controls.js","webpack:///./src/js/controller/controller.js","webpack:///./src/js/providers/html5.js","webpack:///./node_modules/intersection-observer/intersection-observer.js","webpack:///./src/js/utils/ui.js","webpack:///./src/js/view/controls/icons.js","webpack:///./src/js/view/controls/components/button.js","webpack:///./src/js/utils/svgParser.js","webpack:///./src/js/parsers/captions/srt.js","webpack:///./src/js/view/constants.js","webpack:///./src/js/utils/cancelable.js","webpack:///./src/js/controller/model.js","webpack:///./src/js/utils/request-animation-frame.js","webpack:///./src/js/view/utils/breakpoint.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./src/js/utils/aria.js","webpack:///./src/js/view/controls/components/slider.js","webpack:///./src/js/view/controls/components/tooltip.js","webpack:///./src/js/view/controls/components/simple-tooltip.js","webpack:///./src/js/program/program-controller.js","webpack:///./src/js/utils/eventable.js","webpack:///./src/js/program/program-listeners.js","webpack:///./src/js/events/change-state-event.js","webpack:///./src/js/utils/active-tab.js","webpack:///./src/js/controller/tracks-loader.js","webpack:///./src/js/controller/tracks-helper.js","webpack:///./src/js/providers/utils/play-promise.js","webpack:///./src/js/parsers/captions/vttcue.js","webpack:///./src/js/parsers/captions/dfxp.js","webpack:///./src/js/view/controls/controlbar.js","webpack:///./src/assets/SVG/buffer.svg","webpack:///./src/assets/SVG/replay.svg","webpack:///./src/assets/SVG/playback-error.svg","webpack:///./src/assets/SVG/play.svg","webpack:///./src/assets/SVG/pause.svg","webpack:///./src/assets/SVG/rewind-10.svg","webpack:///./src/assets/SVG/next.svg","webpack:///./src/assets/SVG/volume-0.svg","webpack:///./src/assets/SVG/volume-50.svg","webpack:///./src/assets/SVG/volume-100.svg","webpack:///./src/assets/SVG/captions-on.svg","webpack:///./src/assets/SVG/captions-off.svg","webpack:///./src/assets/SVG/airplay-on.svg","webpack:///./src/assets/SVG/airplay-off.svg","webpack:///./src/assets/SVG/playback-rate.svg","webpack:///./src/assets/SVG/settings.svg","webpack:///./src/assets/SVG/audio-tracks.svg","webpack:///./src/assets/SVG/quality-100.svg","webpack:///./src/assets/SVG/fullscreen-not.svg","webpack:///./src/assets/SVG/fullscreen.svg","webpack:///./src/assets/SVG/close.svg","webpack:///./src/assets/SVG/jw-logo.svg","webpack:///./src/js/view/controls/components/custom-button.js","webpack:///./src/js/view/controls/components/timeslider.js","webpack:///./src/js/view/controls/templates/slider.js","webpack:///./src/js/view/controls/components/chapters.mixin.js","webpack:///./src/js/view/controls/components/thumbnails.mixin.js","webpack:///./src/js/view/controls/components/volumetooltip.js","webpack:///./src/js/view/controls/display-container.js","webpack:///./src/js/view/controls/templates/display-container.js","webpack:///./src/js/view/controls/templates/display-icon.js","webpack:///./src/js/view/controls/rewind-display-icon.js","webpack:///./src/js/view/controls/play-display-icon.js","webpack:///./src/js/view/controls/next-display-icon.js","webpack:///./src/js/view/controls/nextuptooltip.js","webpack:///./src/js/view/controls/templates/nextup.js","webpack:///./src/js/view/controls/rightclick.js","webpack:///./src/js/view/controls/templates/rightclick.js","webpack:///./src/js/view/controls/settings-menu.js","webpack:///./src/js/view/controls/components/settings/menu.js","webpack:///./src/js/view/controls/templates/settings/menu.js","webpack:///./src/js/view/utils/submenu-factory.js","webpack:///./src/js/view/controls/components/settings/submenu.js","webpack:///./src/js/view/controls/templates/settings/submenu.js","webpack:///./src/js/view/controls/components/settings/content-item.js","webpack:///./src/js/view/controls/templates/settings/content-item.js","webpack:///./src/css/controls.less?b048","webpack:///./src/css/controls.less","webpack:///./src/js/api/set-config.js","webpack:///./src/js/controller/instream-adapter.js","webpack:///./src/js/program/ad-program-controller.js","webpack:///./src/js/program/media-controller.js","webpack:///./src/js/program/background-media.js","webpack:///./src/js/controller/captions.js","webpack:///./src/js/view/view.js","webpack:///./src/templates/player.js","webpack:///./src/js/view/utils/audio-mode.js","webpack:///./src/js/view/utils/views-manager.js","webpack:///./src/js/view/utils/visibility.js","webpack:///./src/js/view/utils/skin.js","webpack:///./src/js/view/utils/request-fullscreen-helper.js","webpack:///./src/js/view/utils/flag-no-focus.js","webpack:///./src/js/view/utils/clickhandler.js","webpack:///./src/js/view/captionsrenderer.js","webpack:///./src/js/view/logo.js","webpack:///./src/templates/logo.js","webpack:///./src/js/view/preview.js","webpack:///./src/js/view/title.js","webpack:///./src/css/jwplayer.less?586a","webpack:///./src/css/jwplayer.less","webpack:///./src/js/view/view-model.js","webpack:///./src/js/controller/events-middleware.js","webpack:///./src/js/utils/can-autoplay.js","webpack:///./src/js/providers/utils/stream-type.js","webpack:///./src/js/controller/qoe.js","webpack:///./src/js/utils/time-ranges.js","webpack:///./src/js/providers/data-normalizer.js","webpack:///./src/js/providers/video-listener-mixin.js","webpack:///./src/js/providers/video-actions-mixin.js","webpack:///./src/js/providers/video-attached-mixin.js","webpack:///./src/js/providers/tracks-mixin.js","webpack:///./src/js/providers/utils/id3Parser.js"],"names":["require","ACTIVE_TIMEOUT","mobile","cloneIcon","forEach","api","getState","errorIconContainer","getContainer","querySelector","hasChildNodes","appendChild","reasonInteraction","reason","Controls","context","playerContainer","activeTimeout","inactiveTime","controlbar","displayContainer","backdrop","enabled","instreamState","keydownCallback","keyupCallback","blurCallback","mute","nextUpToolTip","rightClickMenu","settingsMenu","showing","unmuteCallback","logo","div","dimensions","userInactiveTimeout","remainingTime","setTimeout","userInactive","model","element","createElement","className","touchMode","get","buttons","display","on","trigger","userActive","playToggle","addClass","change","modelChanged","isBlocked","destroy","setup","data","lastState","visibilityChangeHandler","visible","evt","state","settingsInteraction","isKeyEvent","sourceEvent","type","toggleClass","pause","play","settingsButton","elements","focus","insertBefore","setupUnmuteAutoplay","_model","unmuteAutoplay","unmute","show","renderVolume","once","adjustSeek","amount","min","max","position","Math","newSeek","between","seek","adjustVolume","newVol","setVolume","onEscape","setFullscreen","blur","related","getPlugin","close","handleKeydown","ctrlKey","metaKey","keyCode","captionsList","getCaptionsList","listLength","length","nextIndex","getCurrentCaptions","setCurrentCaptions","setMute","number","test","preventDefault","addEventListener","handleKeyup","isTab","insideContainer","contains","target","focusedElement","relatedTarget","document","addBackdrop","off","clearTimeout","parentNode","removeClass","removeChild","removeEventListener","removeBackdrop","cbHeight","clientHeight","autostartSucceeded","set","undefined","hide","event","insideControlbar","insideNextUp","insideLogo","timeout","parent","normalizeState","newstate","Controller","prototype","config","_api","originalContainer","eventListeners","commandQueue","mediaPool","_this","_view","_captions","_beforePlay","_actionOnAttach","_stopPlaylist","_interruptPlay","checkAutoStartCancelable","_checkAutoStart","updatePlaylistCancelable","primeBeforePlay","currentContainer","_events","args","call","eventsReadyQueue","_trigger","viewModel","_programController","updateProgramSoundSettings","addProgramControllerListeners","triggerError","throttled","errorEvent","message","bool","fullscreen","vol","volume","getMute","rate","playbackRate","_pause","_play","tracks","track","mediaModel","changedMediaModel","duration","minDvrWindow","setStreamType","index","recsAuto","oncomplete","item","backgroundLoading","onPosition","daiSetting","backgroundLoad","viewElement","playerReady","nextUp","Object","sources","_playerReadyNotify","init","_updateViewable","setupTime","playlist","eventData","feedData","eventFeedData","playlistItem","flush","viewableChange","_checkPlayOnViewable","visibility","isUndefined","round","apiQueue","_autoStart","viewable","preloadVideo","_load","instream","_instreamAdapter","noResume","_stop","cancel","_inInteraction","window","primeMediaElements","loadPromise","attributes","itemReady","loadPlaylistPromise","_loadPlaylist","catch","error","updatePlaylist","then","async","_setItem","toLoad","resolve","reject","loader","load","_getAdState","_getState","adState","isString","meta","playReason","_getReason","startTime","pauseAd","playVideo","adConfig","cancelable","muted","allowMuted","autoplayadsmuted","result","cancelled","internal","empty","fromApi","stopVideo","pauseReason","_isIdle","_seek","pos","_item","parseInt","setActiveItem","_prev","_next","_completeHandler","idx","iOS","_setFullscreen","triggerAdvanceEvent","_setCurrentQuality","quality","_getCurrentQuality","_getConfig","getConfiguration","_getVisualQuality","_getQualityLevels","qualities","_setCurrentAudioTrack","audioTrack","_getCurrentAudioTrack","_getAudioTracks","audioTracks","_setCurrentCaptions","persistVideoSubtitleTrack","subtitles","_getCaptionsList","_getCurrentCaptions","getCurrentIndex","_detachMedia","backgroundActiveMedia","attached","_attachMedia","restoreBackgroundMedia","isBoolean","_adModel","_nextUp","next","cb","mode","ui","itemsShown","e","setSubtitlesTracks","defaultCaptionsIndex","stop","playlistNext","playlistPrev","setCurrentQuality","detachMedia","attachMedia","getCurrentQuality","getQualityLevels","setCurrentAudioTrack","getCurrentAudioTrack","getAudioTracks","getVisualQuality","getConfig","setConfig","newConfig","setItemIndex","castVideo","castProvider","stopCast","preloadNextItem","backgroundMedia","isBeforeComplete","beforeComplete","setPlaybackRate","getProvider","getWidth","getHeight","getItemQoe","_qoeItem","addButton","img","tooltip","callback","id","btnClass","customButtons","replaced","newButton","reduce","button","push","unshift","removeButton","filter","resize","getSafeRegion","setCaptions","checkBeforePlay","setControls","controls","setCues","cues","filteredPlaylist","playerDestroy","instreamDestroy","isBeforePlay","createInstream","skipAd","queue","apply","property","MIN_DVR_DURATION","_name","_setupListeners","eventsHash","videoTag","keys","eventName","_removeListeners","VideoProvider","_playerId","_playerConfig","mediaElement","seeking","renderNatively","configRenderNatively","safari","chrome","MediaEvents","progress","checkStaleStream","timeupdate","_positionBeforeSeek","_videotag","currentTime","_setPositionBeforeSeek","ie","checkVisualQuality","ended","_currentQuality","clearTimeouts","loadedmetadata","getDuration","_androidHls","Infinity","metadata","height","videoHeight","width","videoWidth","durationchange","loadeddata","_setAudioTracks","_checkDelayedSeek","canplay","_canSeek","_setMediaType","version","major","setTextTracks","_textTracks","offset","_seekOffset","getCurrentTime","_delayedSeek","seeked","waiting","setState","atEdgeOfLiveStream","stallTime","webkitbeginfullscreen","_fullscreenState","_sendFullscreen","webkitendfullscreen","mixinEventHandler","renderCaptionsNatively","eventsOn_","eventsOff_","removeTracksListener","textTracks","textTrackChangeHandler","disableTextTrack","loop","enableTextTrack","video","addTracksListener","isLive","visualQuality","level","_staleStreamDuration","liveTimeout","_levels","_beforeResumeHandler","noop","_audioTracks","_currentAudioTrackIndex","_staleStreamTimeout","_stale","_lastEndOfBuffer","isSDK","sdkplatform","supportsPlaybackRate","bitrate","label","_convertTime","_getSeekableEnd","isNaN","end","seekableDuration","_getSeekableStart","_getPublicLevels","levels","publicLevels","typeOf","map","i","_setLevels","_pickInitialQuality","currentQuality","qualityLabel","default","_completeLoad","previousSource","src","sourceElement","file","sourceChanged","_setVideotagSource","sendMediaType","source","_clearVideotagSource","removeAttribute","objectFit","msie","seekable","start","clearTracks","_audioTrackChangeHandler","preload","setAttribute","starttime","setupSideloadedTracks","unpausing","paused","isLiveNotDvr","behindLiveEdge","seekPos","firefox","_selectedAudioTrackIndex","jwstate","setVisibility","android","container","opacity","stretching","styles","playerAspectRatio","videoAspectRatio","abs","fitVideoUsingTransforms","androidNative","x","floor","y","scaleX","ceil","scaleY","top","left","margin","toFixed","status","tryCatch","enterFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","Error","getFullScreen","exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitDisplayingFullscreen","time","defaultPlaybackRate","getPlaybackRate","getName","name","_track","language","currentTrack","mediaType","readyState","endOfBuffer","buffered","live","checkStreamEnded","getPointerType","TouchEvent","PointerEvent","_supportsPointerEvents","_supportsTouchEvents","_useMouseEvents","_isOSXFirefox","mac","getCoord","c","originalEvent","changedTouches","isRightClick","MouseEvent","which","isEnterKey","KeyboardEvent","stopPropagation","normalizeUIEvent","srcEvent","touches","currentTarget","pageX","pageY","preventManipulation","UI","elem","options","_elem","_hasMoved","_startX","_startY","_lastClickTime","_doubleClickDelay","_touchListenerTarget","_pointerId","listenerOptions","passiveEvents","passive","preventScrolling","interactEndDelegate","interactEndHandler","interactStartHandler","useHover","overHandler","pointerOutHandler","useMove","moveHandler","outHandler","keyHandler","useFocus","pointerType","triggerEvent","overElement","elementFromPoint","setEventListener","isPrimary","pointerId","setPointerCapture","interactDragHandler","nodeName","toLowerCase","movementThreshold","endX","endY","moveX","moveY","isPointerEvent","releasePointerCapture","directSelect","indexOf","self","enableDoubleTap","doubleType","cloneIcons","collection","icon","getCollection","nameToClass","clone","names","icons","querySelectorAll","split","join","__DEBUG__","Array","cloneNode","parseCollection","apiAction","ariaText","svgIcons","style","svgIcon","toggle","m","svgParse","parser","svgXml","DOMParser","parseFromString","documentElement","Srt","list","entry","_entry","text","array","line","begin","substr","slice","dvrSeekLimit","arguments","Model","providers","_provider","MediaModel","setAutoStart","mediaModelAttributes","key","persistQualityLevel","currentLevel","resetItem","setMediaModel","syncPlayerWithMediaModel","_destroyed","getVideo","getProviders","streamType","setProvider","provider","syncProviderProperties","resetProvider","isNumber","persistCaptionsTrack","setVideoSubtitleTrack","trackIndex","autoStart","autoStartOnMobile","itemMeta","instreamMode","mediaState","srcReset","started","preloaded","buffer","requestAnimationFrame","cancelAnimationFrame","getBreakpoint","setBreakpoint","breakpoint","playerElement","breakpointNumber","breakpointClass","ariaLabel","getRailBounds","elementRail","bounds","pageXOffset","body","parentElement","getBoundingClientRect","right","Slider","orientation","dragStartListener","dragStart","bind","dragMoveListener","dragMove","dragEndListener","dragEnd","tapListener","tap","el","getElementsByClassName","elementBuffer","elementProgress","elementThumb","userInteract","railBounds","dimension","percentage","bottom","updatedPercent","limit","render","update","Tooltip","elementShown","openClass","componentType","content","removeContent","isOpen","closeTooltip","openTooltip","SimpleTooltip","attachToElement","openCallback","tooltipElement","textElement","textContent","instance","open","touchEvent","setText","newText","ProgramController","adPlaying","background","mediaController","mediaControllerListener","getPrimedElement","getSource","isNext","_destroyActiveMedia","_activateBackgroundMedia","_destroyBackgroundMedia","casting","_providerCanPlay","activeItem","_setActiveMedia","mediaModelContext","_setupMediaController","nextMediaController","err","playPromise","thenPlayPromise","media","currentMedia","castMediaController","_destroyMediaController","backgroundMediaController","setNext","clearNext","prime","assignMediaContainer","forwardEvents","detach","_destroyBackgroundLoadingMedia","recycle","makeMediaController","ProviderConstructor","primedElement","choose","nextLoadPromise","shouldAttach","attach","syncMute","beforeLoad","syncVolume","changedModel","changedContainer","programController","Eventable","ProviderListener","MediaControllerListener","previousState","_playbackComplete","bufferPercent","ChangeStateEvent","normalizeApiState","oldstate","eventType","replace","hidden","webkitHidden","loadFile","cancelXhr","convertToVTTCues","successHandler","errorHandler","xhr","ajax","xhrSuccess","onload","onreadystatechange","onerror","abort","cue","xmlRoot","responseXML","firstChild","vttCues","nextSibling","nodeType","COMMENT_NODE","responseText","loadVttParser","VTTParser","oncue","onflush","parse","createId","createLabel","tracksCount","trackId","prefix","kind","defaulttrack","_id","unknownCount","createPlayPromise","removeEventListeners","listener","VTTCue","findDirectionSetting","value","directionSetting","lr","rl","dir","findAlignSetting","alignSetting","middle","align","autoKeyword","endTime","hasBeenReset","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_size","_align","defineProperty","enumerable","TypeError","setting","SyntaxError","displayState","getCueAsHTML","WebVTT","convertCueToDOMTree","Dfxp","xmlDoc","validate","paragraphs","getElementsByTagName","frameRate","tt","parsedFrameRate","parseFloat","getAttribute","p","breaks","j","b","replaceChild","createTextNode","rawText","innerHTML","dur","parseError","object","role","textIcon","classes","createCastButton","castToggle","localization","airplayButton","airplay","castButton","cursor","cast","buttonsInFirstNotInSecond","buttonsA","buttonsB","some","a","appendChildren","Controlbar","_isMobile","timeSlider","volumeTooltip","muteButton","rewind","nextButton","settings","captionsButton","cc","liveButton","goToLiveEdge","liveBroadcast","alt","elapsed","countdown","volumetooltip","spacer","buttonContainer","captionsTip","onCaptionsChanged","currentCaptions","nextUpTip","buttonLayout","layout","menus","addLogo","onVolume","onMute","onDuration","onElapsed","onFullscreen","onStreamTypeChange","dvrLive","setAltText","updateButtons","tipText","title","onAudioMode","onCastAvailable","onCastActive","pct","val","click","currentPosition","each","ele","closeMenus","volumeSlider","elapsedTime","countdownTime","timeFormat","altText","rewindPosition","startPosition","logoButton","link","newButtons","oldButtons","addedButtons","removedButtons","removeButtons","buttonProps","firstButton","buttonsToRemove","buttonElement","active","getCachedIcon","svg","CustomButton","iconElement","substring","backgroundImage","TimeTip","containerWidth","textLength","dragJustReleased","wrapper","addContent","txt","setWidth","tolerance","TimeSlider","timeTip","seekThrottled","throttle","performSeek","mobileHoverDistance","addCues","onPlaylistItem","onBuffer","onStreamType","elementUI","showTimeTooltip","hideTimeTooltip","percent","activeCue","updatedPosition","seekTo","updateBuffer","updateTime","drawCues","reset","loadThumbnails","loadChapters","playerWidth","timetipText","closeCue","allowNegativeTime","resetWidth","showThumbnail","timeTipWidth","widthPct","timeTipPct","safePct","addCue","resetChapters","resetThumbnails","Cue","toString","ChaptersMixin","chaptersLoaded","chaptersFailed","plainText","isArray","obj","Thumbnail","ThumbnailsMixin","vttPath","individualImage","thumbnailsLoaded","thumbnailsFailed","thumbnails","chooseThumbnail","seconds","sortedIndex","url","loadThumbnail","backgroundPosition","hashIndex","matched","exec","Image","image","VolumeTooltip","classList","remove","toggleValue","toggleOpenState","DisplayContainer","iconElements","ButtonClass","iconContainer","playback","iconName","RewindDisplayIcon","PlayDisplayIcon","iconDisplay","newstateLabel","replay","NextDisplayIcon","nextUpChangeModel","NextUpTooltip","_playerElement","nextUpText","nextUpClose","shown","closeButton","playerViewModel","player","onNextUp","stateChangeModel","nextUpSticky","nextUpImage","nextUpItem","thumbnail","thumbnailStyle","header","innerText","showNextUp","setNextUpItem","showUntilEnd","closeAriaLabel","createDomElement","html","logoContainer","RightClick","semverParts","majorMinorPatchPre","menu","items","featured","showLogo","lazySetup","mouseOverContext","hideMenu","showMenu","playerBounds","getOffset","_menuTimeout","buildArray","newEl","childNodes","layer","hideMenuHandler","addOffListener","oncontextmenu","rightClick","removeOffListener","itemsHtml","rightClickItem","createSettingsMenu","setupSubmenuListeners","onVisibility","onSubmenuAdded","onMenuEmpty","submenuName","isDefault","submenu","getSubmenu","activateSubmenu","activateFirstSubmenu","activateSubmenuItem","itemIndex","activateItem","onAudiotracksChanged","onQualitiesChanged","hd","controlbarButton","toggleCaptionsButtonState","setupPlaybackRatesMenu","playbackRates","showPlaybackRateControls","currentAudioTrack","captionsSubmenu","rates","SettingsMenu","documentClickHandler","targetClass","match","submenus","settingsMenuElement","closeOnEnter","closeOnButton","shiftKey","topbarElement","addDocumentListeners","categoryButtonElement","deactivateAllSubmenus","removeDocumentListeners","addSubmenu","sharingButton","removeSubmenu","activate","firstSubmenuName","defineProperties","handler","deactivate","addCaptionsSubmenu","removeCaptionsSubmenu","addAudioTracksSubmenu","removeAudioTracksSubmenu","addQualitiesSubmenu","removeQualitiesSubmenu","addPlaybackRatesSubmenu","removePlaybackRatesSubmenu","AUDIO_TRACKS_SUBMENU","CAPTIONS_SUBMENU","QUALITIES_SUBMENU","PLAYBACK_RATE_SUBMENU","DEFAULT_SUBMENU","makeSubmenu","contentItems","tooltipText","replaceContent","categoryButton","children","action","initialSelectionIndex","captionsContentItems","contentItemElement","audioTracksList","audioTracksItems","audioTracksSubmenu","qualitiesList","qualitiesItems","qualitiesSubmenu","rateList","rateItems","playbackRatesSubmenu","SettingsSubmenu","submenuElement","onFocus","srcElement","itemOrdinal","deactivateAllItems","SettingsContentItem","contentItemUI","uiElement","supportedFields","controller","size","newValue","field","_defaultOptions","skipoffset","tag","InstreamAdapter","_controller","_mediaPool","_adProgram","_array","_arrayOptions","_arrayIndex","_options","_skipAd","_instreamItemNext","_backgroundLoadTriggered","_oldpos","_skipOffset","_backgroundLoadStart","_inited","_clickHandler","hasControls","_doubleClickHandler","addAdProgramTimeListener","_instreamTime","clickHandler","setAlternateClickHandlers","_instreamForward","triggerPlayRejected","_instreamItemComplete","_instreamMeta","mediaContainer","loadingAd","_loadNextItem","loadItem","adModel","addClickHandler","setupSkipButton","customNext","skipMessage","skipText","skipButton","applyProviderListeners","usePsuedoProvider","skipAdType","resizeMedia","replacePlaylistItem","revertAlternateClickHandlers","getMediaElement","setSkipOffset","skipOffset","AdProgramController","playerModel","getAdElement","mediaSrc","srcResetListener","playerAttributes","edition","mediaContext","autostartMuted","autostart","advertising","_nativeFullscreenHandler","_setProvider","isVpaidProvider","adMediaModelContext","changeAdModel","_stateHandler","clean","MediaController","providerListener","addProviderListeners","eventQueue","_loadAndPlay","_playAttempt","videoTagPaused","providerSetupPromise","shouldBackground","setContainer","mediaModelState","setSubtitlesTrack","BackgroundMedia","nextMedia","JSON","stringify","Captions","_tracks","_tracksById","_unknownCount","captionsIndex","_captionsMenu","len","_kindSupported","_addTrack","_addVTTCuesToTrack","_setCaptionsList","captionsMenuIndex","_setSubtitlesTracks","labelInfo","_selectDefaultIndex","autoselect","_setCurrentIndex","listIdentity","ControlsLoader","ControlsModule","_isIE","View","isSetup","_videoLayer","_preview","_title","_captionsRenderer","_logo","_lastWidth","_lastHeight","_resizeMediaTimeout","_resizeContainerRequestId","_stateClassRequestId","displayClickHandler","fullscreenHelpers","focusHelper","_breakpoint","_controls","updateBounds","inDOM","rect","containerHeight","_responsiveListener","observe","updateStyles","updateContainerStyles","_resizeMedia","checkResized","_responsiveUpdate","audioMode","smallPlayer","_logoClickHandler","clickHandlerHelper","_fullscreenChangeHandler","_errorHandler","onStretchChange","onFlashBlockedChange","_resizePlayer","onAspectRatioChange","skin","skinColors","iframe","add","updateVisibility","_fullscreen","redraw","setupInstream","destroyInstream","changeControls","_setLiveMode","_onMediaTypeChange","enable","controlsEvent","module","enabledState","addControls","removeControls","lastVisibility","videoLayer","settingsMenuVisible","renderCues","doubleClick","mouseMove","newVal","aspectratio","aspectRatioContainer","paddingTop","linktarget","disable","supportsDomFullscreen","requestFullscreen","_toggleDOMFullscreen","playerHeight","resetAspectMode","widthSet","heightSet","playerStyle","_isNativeFullscreen","fsElement","fullscreenElement","modelState","newState","fullscreenState","overflowY","isAudioFile","isFlash","errorContainer","oldState","_stateUpdate","setMediaTitleAttribute","videotag","dummyDiv","setPosterImage","setImage","controlsContainer","excludeControlbar","safeRegion","controlbarHeight","captionsStyle","clear","unobserve","CONTROLBAR_ONLY_HEIGHT","isAudioMode","verticalPixels","NaN","views","observed","intersectionObserver","responsiveRepaintRequestId","lazyInitIntersectionObserver","IntersectionObserver","entries","view","intersectionRatio","threshold","scheduleResponsiveRedraw","responsiveRepaint","onVisibilityChange","splice","getVisibility","computeVisibility","rootRect","clientWidth","getComputedStyle","targetRect","intersectionRect","atRoot","parentRect","overflow","computeRectIntersection","targetArea","intersectionArea","rect1","rect2","normalizeSkin","handleColorOverrides","skinConfig","inactive","colors","getControlBar","timeslider","getTimeSlider","getMenus","tooltips","getTooltips","controlBarConfig","iconsActive","timesliderConfig","rail","menusConfig","textActive","tooltipsConfig","playerId","addStyle","attr","extendParent","o","styleControlbar","styleTimeslider","styleMenus","styleTooltips","insertGlobalColorClasses","activeColorSet","color","borderColor","stroke","inactiveColorSet","elementContext","documentContext","changeCallback","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","DOCUMENT_FULLSCREEN_EVENTS","events","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","_focusFromClick","onBlur","onMouseDown","ClickHandler","domElement","alternateDoubleClickHandler","alternateClickHandler","doubleClickHandler","_WebVTT","_defaults","back","backgroundOpacity","edgeStyle","fontSize","fontOpacity","fontScale","preprocessor","identity","windowOpacity","CaptionsRenderer","_captionsTrack","_currentCues","_timeEvent","_display","_captionsWindow","_textContainer","_fontScale","_windowStyle","populate","captions","selectCues","_setFontSize","updateBoxPosition","processCues","timeEvent","getAlignmentPosition","getCurrentCues","updateCurrentCues","allCues","difference","playerElementId","_setFontScale","windowColor","textStyle","_addTextStyle","backgroundColor","_addEdgeStyle","_setupCaptionStyles","captionsTrack","isFinite","_setShadowDOMFontSize","_styleNativeCaptions","_stylePlayerCaptions","bgColor","bgOpacity","fontFamily","fontStyle","fontWeight","textDecoration","option","textShadow","_timeChange","_captionsListHandler","loadWebVttPolyfill","Logo","LogoDefaults","_settings","_img","positions","maxHeight","maxWidth","logoAR","videoAR","logoInteractHandler","jwhide","Preview","validState","backgroundSize","imageAspectRatio","Title","titleEl","arr","description","titleStyle","padding","paddingLeft","paddingRight","updateText","SimpleModelExtendable","changeEventRegEx","dispatchDiffChangeEvents","newAttributes","oldAttributes","removeListeners","PlayerViewModel","eventFilter","_mediaModel","logoWidth","scrubbing","objectOrEvent","previousValue","previousMediaModel","ViewModel","instreamModel","_instreamModel","_playerViewModel","previousInstream","mergedAttributes","middleware","currentState","canAutoplay","VIDEO","Blob","Uint8Array","startPlayback","URL","createObjectURL","AUTOPLAY_ENABLED","AUTOPLAY_MUTED","AUTOPLAY_DISABLED","autoplayPagePromises","getTestElement","timeoutId","promise","timer","race","isDvr","_minDvrWindow","TAB_HIDDEN","TAB_VISIBLE","onTimeIncreasesGenerator","lastVal","unbindFirstFrameEvents","_onPlayAttempt","_triggerFirstFrame","_onTime","_onTabVisible","trackFirstFrame","qoeItem","tick","getFirstFrame","loadTime","activeTab","initQoe","initialModel","onMediaModel","oldMediaModel","timeActive","changeMediaModel","endOfRange","timeRanges","qualityLevel","VideoListenerMixin","drmUsed","drm","_helperLastVideoHeight","adaptation","timeEventObject","getPtsOffset","ptsOffset","mpegts","volumechange","playing","buf","ratechange","code","VideoActionsMixin","timeFudge","VideoAttachedMixin","Tracks","_itemTracks","_cuesByTrackId","_cachedVTTCues","_metaCuesByTextTime","_currentTextTrackIndex","_activeCuePosition","_initTextTracks","clearCueData","getSubtitlesTrack","addTextTracks","addTrackHandler","addCuesToTrack","addCaptionsCue","addVTTCue","addVTTCuesToTrack","nativemetadata","inuse","oncuechange","_cueChangeHandler","embedded","loaded","shift","_addCueToTrack","_addTrackToList","edge","itemTracks","alreadyLoaded","_clearSideloadedTextTracks","menuIndex","setCurrentSubtitleTrack","cueData","trackid","cueId","useDTS","vttCue","itemTrack","_createTrack","_cacheVTTCue","cuesToConvert","sort","metadataTrack","_removeCues","cachedVTTCues","inUseTracks","_tracksModified","selectedTextTrackIndex","tracksArray","textTrackAny","textTrack","TextTrackCue","textTrackCue","removeCue","findWhere","addTextTrack","nonSideloadedTracks","groupid","activeCues","dataCues","metadataTime","id3Data","trackKind","cachedCues","cacheKeyTime","cacheLine","cacheValue","cueExists","utf8ArrayToStr","syncSafeInt","parseID3","friendlyNames","TIT2","TT2","WXXX","TPE1","TP1","TALB","TAL","startingIndex","char2","char3","out","String","fromCharCode","utf16BigEndianArrayToStr","lastDoubleByte","sizeArray","arrayToInt","sizeString","ArrayBuffer","oldCue","arrayLength","startPos","firstByte","infoDelimiterPosition","info","subarray","ptsIs33Bit","transportStreamTimestamp","encoding","hasOwnProperty"],"mappings":"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aAASG,gBAAT,GAA4B;AACxB,YAAIlG,UAAU3T,MAAM8R,kBAAN,EAAd,EAA0C;AACtC9R,kBAAMzG,OAAN,sBAA2B;AACvBiI,yBAAS;AADc,aAA3B;AAGA,mBAAO,IAAP;AACH;;AAED,eAAO,KAAP;AACH;;AAED,aAAS0O,aAAT,GAAyB;AACrB9R,qBAAasV,mBAAb;AACAA,8BAAsB,CAAC,CAAvB;AACH;AACJ;;AAED,SAAc7E,cAAcpP,SAA5B;;AAEAoP,cAAcsK,OAAd,GAAwB,YAAW;AAC/B,WAAO,EAAEC,MAAM,OAAR,EAAP;AACH,CAFD;;kBAIevK,a;;;;;;;;;;;ACnzBf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA,WAAW,0BAA0B;AACrC;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,4BAA4B;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,UAAU;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCrYeiL,c,GAAAA,c;;AA9UhB;;AACA;;AACA;;;;AACA;;;;AAEA,IAAMC,aAAa/U,OAAO+U,UAA1B;AACA,IAAMC,eAAehV,OAAOgV,YAA5B;AACA,IAAMC,yBAA0B,kBAAkBjV,MAAnB,IAA8B,CAAC,gBAAGiS,OAAjE;AACA,IAAMiD,uBAAwB,kBAAkBlV,MAAhD;AACA,IAAMmV,kBAAkB,CAACF,sBAAD,IAA2B,EAAEC,wBAAwB,gBAAG1jB,MAA7B,CAAnD;AACA,IAAM4jB,gBAAgB,qBAAQvD,OAAR,IAAmB,gBAAGwD,GAA5C;;AAEA,SAASC,QAAT,CAAkBjQ,CAAlB,EAAqBkQ,CAArB,EAAwB;AACpB,WAAO,SAAQhd,IAAR,CAAa8M,EAAE5P,IAAf,IAAuB,CAAC4P,EAAEmQ,aAAF,IAAmBnQ,CAApB,EAAuBoQ,cAAvB,CAAsC,CAAtC,EAAyC,SAASF,CAAlD,CAAvB,GAA8ElQ,EAAE,SAASkQ,CAAX;AAArF;AACH;;AAED,SAASG,YAAT,CAAsBtgB,GAAtB,EAA2B;AACvB,QAAMiQ,IAAIjQ,OAAO4K,OAAOhG,KAAxB;;AAEA,QAAI,EAAE5E,eAAeugB,UAAjB,CAAJ,EAAkC;AAC9B,eAAO,KAAP;AACH;;AAED,QAAI,WAAWtQ,CAAf,EAAkB;AACd;AACA,eAAQA,EAAEuQ,KAAF,KAAY,CAApB;AACH,KAHD,MAGO,IAAI,YAAYvQ,CAAhB,EAAmB;AACtB;AACA,eAAQA,EAAE0C,MAAF,KAAa,CAArB;AACH;;AAED,WAAO,KAAP;AACH;;AAED,SAAS8N,UAAT,CAAoBzgB,GAApB,EAAyB;AACrB,QAAMiQ,IAAIjQ,OAAO4K,OAAOhG,KAAxB;;AAEA,QAAKqL,aAAayQ,aAAd,IAAgCzQ,EAAExN,OAAF,KAAc,EAAlD,EAAsD;AAClDzC,YAAI2gB,eAAJ;AACA,eAAO,IAAP;AACH;;AAED,WAAO,KAAP;AACH;;AAED,SAASC,gBAAT,CAA0BvgB,IAA1B,EAAgCwgB,QAAhC,EAA0Cnd,MAA1C,EAAkD;AAC9C,QAAI6X,eAAJ;;AAEA,QAAIsF,oBAAoBN,UAApB,IAAmC,CAACM,SAASC,OAAV,IAAqB,CAACD,SAASR,cAAtE,EAAuF;AACnF9E,iBAASsF,QAAT;AACH,KAFD,MAEO,IAAIA,SAASC,OAAT,IAAoBD,SAASC,OAAT,CAAiBje,MAAzC,EAAiD;AACpD0Y,iBAASsF,SAASC,OAAT,CAAiB,CAAjB,CAAT;AACH,KAFM,MAEA;AACHvF,iBAASsF,SAASR,cAAT,CAAwB,CAAxB,CAAT;AACH;;AAED,WAAO;AACHhgB,cAAMA,IADH;AAEHD,qBAAaygB,QAFV;AAGHnd,gBAAQmd,SAASnd,MAHd;AAIHqd,uBAAerd,MAJZ;AAKHsd,eAAOzF,OAAOyF,KALX;AAMHC,eAAO1F,OAAO0F;AANX,KAAP;AAQH;;AAED;AACA,SAAS7d,cAAT,CAAwBpD,GAAxB,EAA6B;AACzB;AACA;AACA,QAAI,EAAEA,eAAeugB,UAAjB,KAAgC,EAAEvgB,eAAe2f,UAAjB,CAApC,EAAkE;AAC9D;AACH;AACD,QAAI3f,IAAIkhB,mBAAR,EAA6B;AACzBlhB,YAAIkhB,mBAAJ;AACH;AACD;AACA,QAAIlhB,IAAIoD,cAAR,EAAwB;AACpBpD,YAAIoD,cAAJ;AACH;AACJ;;AAED,IAAM+d,KAAK,SAALA,EAAK,CAAUC,IAAV,EAAgBC,OAAhB,EAAyB;AAChC,QAAMC,QAAQF,IAAd;AACA,QAAIG,YAAY,KAAhB;AACA,QAAIC,UAAU,CAAd;AACA,QAAIC,UAAU,CAAd;AACA,QAAIC,iBAAiB,CAArB;AACA,QAAIC,oBAAoB,GAAxB;AACA,QAAIC,6BAAJ;AACA,QAAIC,mBAAJ;;AAEAR,cAAUA,WAAW,EAArB;;AAEA,QAAMS,kBAAkB,sBAASC,aAAT,GAAyB,EAAEC,SAAS,CAACX,QAAQY,gBAApB,EAAzB,GAAkE,KAA1F;;AAEA,QAAMC,sBAAsB,SAAtBA,mBAAsB,CAACtd,KAAD;AAAA,eAAWud,mBAAmBvd,KAAnB,CAAX;AAAA,KAA5B;;AAEA;AACA;AACA,QAAIib,sBAAJ,EAA4B;AACxBuB,aAAK/d,gBAAL,CAAsB,aAAtB,EAAqC+e,oBAArC,EAA2DN,eAA3D;AACA,YAAIT,QAAQgB,QAAZ,EAAsB;AAClBjB,iBAAK/d,gBAAL,CAAsB,aAAtB,EAAqCif,WAArC;AACAlB,iBAAK/d,gBAAL,CAAsB,YAAtB,EAAoCkf,iBAApC;AACH;AACD,YAAIlB,QAAQmB,OAAZ,EAAqB;AACjBpB,iBAAK/d,gBAAL,CAAsB,aAAtB,EAAqCof,WAArC;AACH;AACJ,KATD,MASO;AACH,YAAI1C,eAAJ,EAAqB;AACjBqB,iBAAK/d,gBAAL,CAAsB,WAAtB,EAAmC+e,oBAAnC,EAAyDN,eAAzD;AACA,gBAAIT,QAAQgB,QAAZ,EAAsB;AAClBjB,qBAAK/d,gBAAL,CAAsB,WAAtB,EAAmCif,WAAnC;AACAlB,qBAAK/d,gBAAL,CAAsB,UAAtB,EAAkCqf,UAAlC;AACH;AACD,gBAAIrB,QAAQmB,OAAZ,EAAqB;AACjBpB,qBAAK/d,gBAAL,CAAsB,WAAtB,EAAmCof,WAAnC;AACH;AACJ;;AAED;AACArB,aAAK/d,gBAAL,CAAsB,YAAtB,EAAoC+e,oBAApC,EAA0DN,eAA1D;AACH;;AAEDV,SAAK/d,gBAAL,CAAsB,SAAtB,EAAiCsf,UAAjC;AACA,QAAItB,QAAQuB,QAAZ,EAAsB;AAClBxB,aAAK/d,gBAAL,CAAsB,OAAtB,EAA+Bif,WAA/B;AACAlB,aAAK/d,gBAAL,CAAsB,MAAtB,EAA8Bqf,UAA9B;AACH;;AAED;AACA,aAASJ,WAAT,CAAqBtiB,GAArB,EAA0B;AACtB,YAAIA,IAAI6iB,WAAJ,KAAoB,OAAxB,EAAiC;AAC7BC,uCAAmB9iB,GAAnB;AACH;AACJ;;AAED,aAASyiB,WAAT,CAAqBziB,GAArB,EAA0B;AACtB,YAAIA,IAAI6iB,WAAJ,KAAoB,OAAxB,EAAiC;AAC7BC,uCAAmB9iB,GAAnB;AACH;AACJ;;AAED,aAASuiB,iBAAT,CAA2BviB,GAA3B,EAAgC;AAC5B,YAAIA,IAAI6iB,WAAJ,KAAoB,OAApB,IAA+B,OAAO7iB,GAA1C,EAA+C;AAC3C;AAD2C,gBAEnCud,CAFmC,GAE1Bvd,GAF0B,CAEnCud,CAFmC;AAAA,gBAEhCE,CAFgC,GAE1Bzd,GAF0B,CAEhCyd,CAFgC;;AAG3C,gBAAMsF,cAAclf,SAASmf,gBAAT,CAA0BzF,CAA1B,EAA6BE,CAA7B,CAApB;AACA,gBAAI,CAAC2D,KAAK3d,QAAL,CAAcsf,WAAd,CAAL,EAAiC;AAC7BD,0CAAkB9iB,GAAlB;AACH;AACJ;AACJ;;AAED,aAAS0iB,UAAT,CAAoB1iB,GAApB,EAAyB;AACrB8iB,kCAAkB9iB,GAAlB;AACH;;AAED,aAAS2iB,UAAT,CAAoB3iB,GAApB,EAAyB;AACrB,YAAIygB,WAAWzgB,GAAX,CAAJ,EAAqB;AACjB8iB,wCAAoB9iB,GAApB;AACH;AACJ;;AAED,aAASijB,gBAAT,CAA0BtkB,OAA1B,EAAmC4V,SAAnC,EAA8CnC,QAA9C,EAAwD;AACpDzT,gBAAQyF,mBAAR,CAA4BmQ,SAA5B,EAAuCnC,QAAvC;AACAzT,gBAAQ0E,gBAAR,CAAyBkR,SAAzB,EAAoCnC,QAApC;AACH;;AAED,aAASgQ,oBAAT,CAA8BpiB,GAA9B,EAAmC;AAC/B4hB,+BAAuB5hB,IAAI0D,MAA3B;AACA8d,kBAAUtB,SAASlgB,GAAT,EAAc,GAAd,CAAV;AACAyhB,kBAAUvB,SAASlgB,GAAT,EAAc,GAAd,CAAV;;AAEA,YAAI,CAACsgB,aAAatgB,GAAb,CAAL,EAAwB;;AAEpB,gBAAIA,IAAIK,IAAJ,KAAa,aAAb,IAA8BL,IAAIkjB,SAAtC,EAAiD;AAC7C,oBAAI7B,QAAQY,gBAAZ,EAA8B;AAC1BJ,iCAAa7hB,IAAImjB,SAAjB;AACA/B,yBAAKgC,iBAAL,CAAuBvB,UAAvB;AACH;AACDoB,iCAAiB7B,IAAjB,EAAuB,aAAvB,EAAsCiC,mBAAtC,EAA2DvB,eAA3D;AACAmB,iCAAiB7B,IAAjB,EAAuB,eAAvB,EAAwCe,kBAAxC;;AAEA;AACA,oBAAIniB,IAAI6iB,WAAJ,KAAoB,OAApB,IAA+BjB,qBAAqB0B,QAArB,KAAkC,QAArE,EAA+E;AAC3EL,qCAAiBpf,QAAjB,EAA2B,SAA3B,EAAsCqe,mBAAtC;AACH,iBAFD,MAEO;AACHe,qCAAiB7B,IAAjB,EAAuB,WAAvB,EAAoCe,kBAApC;AACH;AACJ,aAdD,MAcO,IAAIniB,IAAIK,IAAJ,KAAa,WAAjB,EAA8B;AACjC4iB,iCAAiBpf,QAAjB,EAA2B,WAA3B,EAAwCwf,mBAAxC,EAA6DvB,eAA7D;;AAEA;AACA,oBAAI9B,iBAAiBhgB,IAAI0D,MAAJ,CAAW4f,QAAX,CAAoBC,WAApB,OAAsC,QAA3D,EAAqE;AACjEN,qCAAiB7B,IAAjB,EAAuB,OAAvB,EAAgCe,kBAAhC;AACH,iBAFD,MAEO;AACHc,qCAAiBpf,QAAjB,EAA2B,SAA3B,EAAsCqe,mBAAtC;AACH;AACJ,aATM,MASA,IAAIliB,IAAIK,IAAJ,KAAa,YAAjB,EAA+B;AAClC4iB,iCAAiBrB,oBAAjB,EAAuC,WAAvC,EAAoDyB,mBAApD,EAAyEvB,eAAzE;AACAmB,iCAAiBrB,oBAAjB,EAAuC,aAAvC,EAAsDO,kBAAtD;AACAc,iCAAiBrB,oBAAjB,EAAuC,UAAvC,EAAmDO,kBAAnD;AACH;;AAED;AACA,gBAAId,QAAQY,gBAAZ,EAA8B;AAC1B7e,+BAAepD,GAAf;AACH;AACJ;AACJ;;AAED,aAASqjB,mBAAT,CAA6BrjB,GAA7B,EAAkC;AAC9B,YAAMwjB,oBAAoB,CAA1B;;AAEA,YAAIjC,SAAJ,EAAe;AACXuB,uCAAmB9iB,GAAnB;AACH,SAFD,MAEO;AACH,gBAAMyjB,OAAOvD,SAASlgB,GAAT,EAAc,GAAd,CAAb;AACA,gBAAM0jB,OAAOxD,SAASlgB,GAAT,EAAc,GAAd,CAAb;AACA,gBAAM2jB,QAAQF,OAAOjC,OAArB;AACA,gBAAMoC,QAAQF,OAAOjC,OAArB;AACA,gBAAIkC,QAAQA,KAAR,GAAgBC,QAAQA,KAAxB,GAAgCJ,oBAAoBA,iBAAxD,EAA2E;AACvEV,iDAAyB9iB,GAAzB;AACAuhB,4BAAY,IAAZ;AACAuB,2CAAmB9iB,GAAnB;AACH;AACJ;;AAED;AACA,YAAIqhB,QAAQY,gBAAZ,EAA8B;AAC1B7e,2BAAepD,GAAf;AACH;AACJ;;AAED,aAASmiB,kBAAT,CAA4BniB,GAA5B,EAAiC;AAC7B,YAAM6jB,iBAAkB7jB,IAAIK,IAAJ,KAAa,WAAb,IAA4BL,IAAIK,IAAJ,KAAa,eAAjE;AACA,YAAIwjB,kBAAkBxC,QAAQY,gBAA9B,EAAgD;AAC5Cb,iBAAK0C,qBAAL,CAA2BjC,UAA3B;AACH;AACDT,aAAKhd,mBAAL,CAAyB,aAAzB,EAAwCif,mBAAxC;AACAjC,aAAKhd,mBAAL,CAAyB,eAAzB,EAA0C+d,kBAA1C;AACAf,aAAKhd,mBAAL,CAAyB,WAAzB,EAAsC+d,kBAAtC;AACAte,iBAASO,mBAAT,CAA6B,WAA7B,EAA0Cif,mBAA1C;AACAxf,iBAASO,mBAAT,CAA6B,SAA7B,EAAwC8d,mBAAxC;AACA,YAAIN,oBAAJ,EAA0B;AACtBA,iCAAqBxd,mBAArB,CAAyC,WAAzC,EAAsDif,mBAAtD;AACAzB,iCAAqBxd,mBAArB,CAAyC,aAAzC,EAAwD+d,kBAAxD;AACAP,iCAAqBxd,mBAArB,CAAyC,UAAzC,EAAqD+d,kBAArD;AACH;;AAED,YAAIZ,SAAJ,EAAe;AACXuB,2CAAuB9iB,GAAvB;AACH,SAFD,MAEO,IAAI,CAAC,CAACqhB,QAAQ0C,YAAT,IAAyB/jB,IAAI0D,MAAJ,KAAe0d,IAAzC,KAAkDphB,IAAIK,IAAJ,CAAS2jB,OAAT,CAAiB,QAAjB,MAA+B,CAAC,CAAtF,EAAyF;AAC5F,gBAAIhkB,IAAIK,IAAJ,KAAa,SAAb,IAA0BL,IAAIK,IAAJ,KAAa,OAAvC,IAAkDwjB,kBAAkB7jB,IAAI6iB,WAAJ,KAAoB,OAA5F,EAAqG;AACjGC,4CAAoB9iB,GAApB;AACH,aAFD,MAEO;AACH8iB,0CAAkB9iB,GAAlB;AACA,oBAAIA,IAAIK,IAAJ,KAAa,UAAjB,EAA6B;AACzB;AACA+C,mCAAepD,GAAf;AACH;AACJ;AACJ;;AAED4hB,+BAAuB,IAAvB;AACAL,oBAAY,KAAZ;AACH;;AAED,QAAM0C,OAAO,IAAb;AACA,aAASnB,YAAT,CAAsBziB,IAAtB,EAA4BwgB,QAA5B,EAAsC;AAClC,YAAI7gB,YAAJ;AACA,YAAIqhB,QAAQ6C,eAAR,KAA4B7jB,0BAAkBA,oBAA9C,CAAJ,EAAiE;AAC7D,gBAAI,mBAAQqhB,cAAR,GAAyBC,iBAA7B,EAAgD;AAC5C,oBAAMwC,aAAc9jB,sBAAD,4CAAnB;AAEAL,sBAAM4gB,iBAAiBuD,UAAjB,EAA6BtD,QAA7B,EAAuCS,KAAvC,CAAN;AACA2C,qBAAK9kB,OAAL,CAAaglB,UAAb,EAAyBnkB,GAAzB;AACA0hB,iCAAiB,CAAjB;AACH,aAND,MAMO;AACHA,iCAAiB,gBAAjB;AACH;AACJ;AACD1hB,cAAM4gB,iBAAiBvgB,IAAjB,EAAuBwgB,QAAvB,EAAiCS,KAAjC,CAAN;AACA2C,aAAK9kB,OAAL,CAAakB,IAAb,EAAmBL,GAAnB;AACH;;AAED,SAAK8iB,YAAL,GAAoBA,YAApB;;AAEA,SAAKpjB,OAAL,GAAe,YAAW;AACtB,aAAKqE,GAAL;AACAqd,aAAKhd,mBAAL,CAAyB,YAAzB,EAAuCge,oBAAvC;AACAhB,aAAKhd,mBAAL,CAAyB,WAAzB,EAAsCge,oBAAtC;AACAhB,aAAKhd,mBAAL,CAAyB,SAAzB,EAAoCue,UAApC;;AAEA,YAAIf,oBAAJ,EAA0B;AACtBA,iCAAqBxd,mBAArB,CAAyC,WAAzC,EAAsDif,mBAAtD;AACAzB,iCAAqBxd,mBAArB,CAAyC,aAAzC,EAAwD+d,kBAAxD;AACAP,iCAAqBxd,mBAArB,CAAyC,UAAzC,EAAqD+d,kBAArD;AACAP,mCAAuB,IAAvB;AACH;;AAED,YAAI/B,sBAAJ,EAA4B;AACxB,gBAAIwB,QAAQY,gBAAZ,EAA8B;AAC1Bb,qBAAK0C,qBAAL,CAA2BjC,UAA3B;AACH;AACDT,iBAAKhd,mBAAL,CAAyB,aAAzB,EAAwCke,WAAxC;AACAlB,iBAAKhd,mBAAL,CAAyB,aAAzB,EAAwCge,oBAAxC;AACAhB,iBAAKhd,mBAAL,CAAyB,aAAzB,EAAwCif,mBAAxC;AACAjC,iBAAKhd,mBAAL,CAAyB,aAAzB,EAAwCqe,WAAxC;AACArB,iBAAKhd,mBAAL,CAAyB,eAAzB,EAA0C+d,kBAA1C;AACAf,iBAAKhd,mBAAL,CAAyB,YAAzB,EAAuCme,iBAAvC;AACAnB,iBAAKhd,mBAAL,CAAyB,WAAzB,EAAsC+d,kBAAtC;AACH;;AAEDf,aAAKhd,mBAAL,CAAyB,OAAzB,EAAkC+d,kBAAlC;AACAf,aAAKhd,mBAAL,CAAyB,WAAzB,EAAsCke,WAAtC;AACAlB,aAAKhd,mBAAL,CAAyB,WAAzB,EAAsCqe,WAAtC;AACArB,aAAKhd,mBAAL,CAAyB,UAAzB,EAAqCse,UAArC;AACA7e,iBAASO,mBAAT,CAA6B,WAA7B,EAA0Cif,mBAA1C;AACAxf,iBAASO,mBAAT,CAA6B,SAA7B,EAAwC8d,mBAAxC;;AAEA,YAAIb,QAAQuB,QAAZ,EAAsB;AAClBxB,iBAAKhd,mBAAL,CAAyB,OAAzB,EAAkCke,WAAlC;AACAlB,iBAAKhd,mBAAL,CAAyB,MAAzB,EAAiCse,UAAjC;AACH;AACJ,KArCD;;AAuCA,WAAO,IAAP;AACH,CAxPD;;AA0PA;AACA;AACO,SAAShD,cAAT,CAAwB1f,GAAxB,EAA6B;AAChC,QAAK8f,wBAAwB9f,eAAe2f,UAAxC,IACCE,0BAA0B7f,eAAe4f,YAAzC,IAAyD5f,IAAI6iB,WAAJ,KAAoB,OADlF,EAC4F;AACxF,eAAO,OAAP;AACH;;AAED,WAAO,OAAP;AACH;;AAED,SAAc1B,GAAG9b,SAAjB;;kBAEe8b,E;;;;;;;;;;;;;;;;;QC1TC9kB,S,GAAAA,S;QAWA+nB,U,GAAAA,U;;AA1ChB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAIA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAFA;;AAPA;AACA;AACA;;AAbA;AAsBA,IAAIC,aAAa,IAAjB;;AAEO,SAAShoB,SAAT,CAAmB2iB,IAAnB,EAAyB;AAC5B,QAAMsF,OAAOC,gBAAgB5nB,aAAhB,CAA8B6nB,YAAYxF,IAAZ,CAA9B,CAAb;AACA,QAAIsF,IAAJ,EAAU;AACN,eAAOG,MAAMH,IAAN,CAAP;AACH;AACD,QAAI,IAAJ,EAAe;AACX,cAAM,IAAIhG,KAAJ,CAAU,oBAAoBU,IAA9B,CAAN;AACH;AACD,WAAO,IAAP;AACH;;AAEM,SAASoF,UAAT,CAAoBM,KAApB,EAA2B;AAC9B,QAAMC,QAAQJ,gBAAgBK,gBAAhB,CAAiCF,MAAMG,KAAN,CAAY,GAAZ,EAAiBrK,GAAjB,CAAqBgK,WAArB,EAAkCM,IAAlC,CAAuC,GAAvC,CAAjC,CAAd;AACA,QAAI,IAAAC,IAAa,CAACJ,MAAM9hB,MAAxB,EAAgC;AAC5B,cAAM,IAAIyb,KAAJ,CAAU,qBAAqBoG,KAA/B,CAAN;AACH;AACD,WAAOM,MAAM3f,SAAN,CAAgBmV,GAAhB,CAAoB9T,IAApB,CAAyBie,KAAzB,EAAgC;AAAA,eAAQF,MAAMH,IAAN,CAAR;AAAA,KAAhC,CAAP;AACH;;AAED,SAASE,WAAT,CAAqBxF,IAArB,EAA2B;AACvB,6BAAuBA,IAAvB;AACH;;AAED,SAASyF,KAAT,CAAeH,IAAf,EAAqB;AACjB,WAAOA,KAAKW,SAAL,CAAe,IAAf,CAAP;AACH;;AAED,SAASV,aAAT,GAAyB;AACrB,QAAI,CAACF,UAAL,EAAiB;AACbA,qBAAaa,iBAAb;AACH;AACD,WAAOb,UAAP;AACH;;AAED,SAASa,eAAT,GAA2B;AACvB,WAAO,yBAAS,sdAuBZ,QAvBG,CAAP;AAwBH,C;;;;;;;;;;;;;;;;;;kBCvFc,UAAUZ,IAAV,EAAgBa,SAAhB,EAA2BC,QAA3B,EAAqCC,QAArC,EAA+C;AAC1D,QAAM1mB,WAAUkF,SAASjF,aAAT,CAAuB,KAAvB,CAAhB;AACAD,aAAQE,SAAR,GAAoB,qDAAqDylB,IAAzE;AACA3lB,aAAQsd,YAAR,CAAqB,MAArB,EAA6B,QAA7B;AACAtd,aAAQsd,YAAR,CAAqB,UAArB,EAAiC,GAAjC;;AAEA,QAAImJ,QAAJ,EAAc;AACVzmB,iBAAQsd,YAAR,CAAqB,YAArB,EAAmCmJ,QAAnC;AACH;;AAEDzmB,aAAQ2mB,KAAR,CAAcrmB,OAAd,GAAwB,MAAxB;;AAEA,QAAIkmB,SAAJ,EAAe;AACX,yBAAOxmB,QAAP,EAAgBO,EAAhB,CAAmB,iBAAnB,EAAsC,UAAS0F,KAAT,EAAgB;AAClDugB,sBAAUvgB,KAAV;AACH,SAFD;AAGH;;AAED;AACA;AACAjG,aAAQ0E,gBAAR,CAAyB,WAAzB,EAAsC,UAAC4M,CAAD,EAAO;AACzCA,UAAE7M,cAAF;AACH,KAFD;;AAIA,QAAIiiB,QAAJ,EAAc;AACVL,cAAM3f,SAAN,CAAgB/I,OAAhB,CAAwBoK,IAAxB,CAA6B2e,QAA7B,EAAuC,mBAAW;AAC9C,gBAAI,OAAOE,OAAP,KAAmB,QAAvB,EAAiC;AAC7B5mB,yBAAQ9B,WAAR,CAAoB,yBAAS0oB,OAAT,CAApB;AACH,aAFD,MAEO;AACH5mB,yBAAQ9B,WAAR,CAAoB0oB,OAApB;AACH;AACJ,SAND;AAOH;;AAED,WAAO;AACH5mB,iBAAS,mBAAW;AAChB,mBAAOA,QAAP;AACH,SAHE;AAIH6mB,gBAAQ,gBAASC,CAAT,EAAY;AAChB,gBAAIA,CAAJ,EAAO;AACH,qBAAKxkB,IAAL;AACH,aAFD,MAEO;AACH,qBAAK0D,IAAL;AACH;AACJ,SAVE;AAWH1D,cAAM,gBAAW;AACbtC,qBAAQ2mB,KAAR,CAAcrmB,OAAd,GAAwB,EAAxB;AACH,SAbE;AAcH0F,cAAM,gBAAW;AACbhG,qBAAQ2mB,KAAR,CAAcrmB,OAAd,GAAwB,MAAxB;AACH;AAhBE,KAAP;AAkBH,C;;AAvDD;;;;AACA;;;;;;;;;;;;;;;;;;;;;kBCCwBymB,Q;AAFxB,IAAIC,eAAJ;;AAEe,SAASD,QAAT,CAAkBE,MAAlB,EAA0B;AACrC,QAAI,CAACD,MAAL,EAAa;AACTA,iBAAS,IAAIE,SAAJ,EAAT;AACH;;AAED,WAAOF,OAAOG,eAAP,CAAuBF,MAAvB,EAA+B,eAA/B,EAAgDG,eAAvD;AACH,C;;;;;;;;;;;;;;;;;kBCJuBC,G;;AAJxB;;AAEA;;AAEe,SAASA,GAAT,CAAapmB,IAAb,EAAmB;AAC9B;AACA,QAAIkG,YAAY,EAAhB;AACAlG,WAAO,mBAAKA,IAAL,CAAP;AACA,QAAIqmB,OAAOrmB,KAAKilB,KAAL,CAAW,UAAX,CAAX;AACA,QAAIoB,KAAKpjB,MAAL,KAAgB,CAApB,EAAuB;AACnBojB,eAAOrmB,KAAKilB,KAAL,CAAW,MAAX,CAAP;AACH;;AAED,SAAK,IAAIpK,IAAI,CAAb,EAAgBA,IAAIwL,KAAKpjB,MAAzB,EAAiC4X,GAAjC,EAAsC;AAClC,YAAIwL,KAAKxL,CAAL,MAAY,QAAhB,EAA0B;AACtB;AACH;AACD;AACA,YAAIyL,QAAQC,OAAOF,KAAKxL,CAAL,CAAP,CAAZ;AACA,YAAIyL,MAAME,IAAV,EAAgB;AACZtgB,sBAAU8M,IAAV,CAAesT,KAAf;AACH;AACJ;;AAED,WAAOpgB,SAAP;AACH;;AAGD;AACA,SAASqgB,MAAT,CAAgBvmB,IAAhB,EAAsB;AAClB,QAAIsmB,QAAQ,EAAZ;AACA,QAAIG,QAAQzmB,KAAKilB,KAAL,CAAW,MAAX,CAAZ;AACA,QAAIwB,MAAMxjB,MAAN,KAAiB,CAArB,EAAwB;AACpBwjB,gBAAQzmB,KAAKilB,KAAL,CAAW,IAAX,CAAR;AACH;AACD,QAAIhX,MAAM,CAAV;AACA,QAAIwY,MAAM,CAAN,EAASrC,OAAT,CAAiB,OAAjB,IAA4B,CAAhC,EAAmC;AAC/BnW,cAAM,CAAN;AACH;AACD,QAAIwY,MAAMxjB,MAAN,GAAegL,MAAM,CAArB,IAA0BwY,MAAMxY,MAAM,CAAZ,CAA9B,EAA8C;AAC1C;AACA,YAAIyY,OAAOD,MAAMxY,GAAN,CAAX;AACA,YAAIxF,QAAQie,KAAKtC,OAAL,CAAa,OAAb,CAAZ;AACA,YAAI3b,QAAQ,CAAZ,EAAe;AACX6d,kBAAMK,KAAN,GAAc,sBAAQD,KAAKE,MAAL,CAAY,CAAZ,EAAene,KAAf,CAAR,CAAd;AACA6d,kBAAMjM,GAAN,GAAY,sBAAQqM,KAAKE,MAAL,CAAYne,QAAQ,CAApB,CAAR,CAAZ;AACA;AACA6d,kBAAME,IAAN,GAAaC,MAAMI,KAAN,CAAY5Y,MAAM,CAAlB,EAAqBiX,IAArB,CAA0B,MAA1B,CAAb;AACH;AACJ;AACD,WAAOoB,KAAP;AACH,C;;;;;;;;;;;;;;;;;AClDM,IAAMQ,sCAAe,CAAC,EAAtB,C;;;;;;;;;;;;;;;;;kBCCiBja,U;;AAFxB;;AAEe,SAASA,UAAT,CAAoB2F,QAApB,EAA8B;AACzC,QAAItF,aAAY,KAAhB;;AAEA,WAAO;AACHvB,eAAO,iBAAW;AAAA;;AACd,gBAAM9E,OAAOkgB,SAAb;AACA,mBAAO,kBAASrb,IAAT,CAAc,YAAM;AACvB,oBAAIwB,UAAJ,EAAe;AACX;AACH;AACD,uBAAOsF,SAAS2B,KAAT,QAAqBtN,IAArB,CAAP;AACH,aALM,CAAP;AAMH,SATE;AAUHiE,gBAAQ,kBAAM;AACVoC,yBAAY,IAAZ;AACH,SAZE;AAaHA,mBAAW;AAAA,mBAAMA,UAAN;AAAA;AAbR,KAAP;AAeH,C;;;;;;;;;;;;;;;;;;;;;ACpBD;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;;;AAEA;AACA,IAAM8Z,QAAQ,SAARA,KAAQ,GAAW;AACrB,QAAMhhB,QAAQ,IAAd;AACA,QAAIihB,kBAAJ;AACA,QAAIC,kBAAJ;AACA,SAAK9e,UAAL,GAAkB,IAAI+e,UAAJ,EAAlB;;AAEA,SAAKtiB,GAAL,CAAS,UAAT,EAAqB,IAArB;AACA,SAAKA,GAAL,CAAS,YAAT,EAAuB,KAAKuD,UAA5B;;AAEA,SAAKrI,KAAL,GAAa,UAAS2F,MAAT,EAAiB;AAC1B,iBAAc,KAAKyF,UAAnB,EAA+BzF,MAA/B;AACAuhB,oBAAY,wBAAc,KAAKxY,gBAAL,EAAd,CAAZ;AACA,aAAK2Y,YAAL;AACA,eAAO,IAAP;AACH,KALD;;AAOA,SAAK3Y,gBAAL,GAAwB,YAAW;AAC/B,YAAM/I,SAAS,KAAKmf,KAAL,EAAf;AACA,YAAMwC,uBAAuB3hB,OAAO0C,UAAP,CAAkB+C,UAA/C;AACA/B,eAAOsL,IAAP,mCAAiChY,OAAjC,CAAyC,eAAO;AAC5CgJ,mBAAO4hB,GAAP,IAAcD,qBAAqBC,GAArB,CAAd;AACH,SAFD;AAGA,eAAO5hB,OAAOgF,QAAd;AACA,eAAOhF,OAAO0C,UAAd;AACA,eAAO1C,MAAP;AACH,KATD;;AAWA,SAAK6hB,mBAAL,GAA2B,UAASjZ,OAAT,EAAkBmM,MAAlB,EAA0B;AACjD,YAAI+M,eAAe/M,OAAOnM,OAAP,KAAmB,EAAtC;AACA,YAAI2L,QAAQuN,aAAavN,KAAzB;AACA,aAAKpV,GAAL,CAAS,cAAT,EAAyBoV,KAAzB;AACH,KAJD;;AAMA,SAAKpM,aAAL,GAAqB,UAAUpF,KAAV,EAAiB;AAClC,YAAMG,OAAO,KAAKzJ,GAAL,CAAS,UAAT,EAAqBsJ,KAArB,CAAb;AACA,aAAKgf,SAAL,CAAe7e,IAAf;AACA,aAAKuC,UAAL,CAAgBrB,YAAhB,GAA+B,IAA/B;AACA,aAAKjF,GAAL,CAAS,MAAT,EAAiB4D,KAAjB;AACA,aAAK5D,GAAL,CAAS,cAAT,EAAyB+D,KAAKL,YAA9B;AACA,aAAK1D,GAAL,CAAS,cAAT,EAAyB+D,IAAzB;AACH,KAPD;;AASA,SAAK8e,aAAL,GAAqB,UAAUtf,UAAV,EAAsB;AACvC,YAAI,KAAKA,UAAL,IAAmB,KAAKA,UAAL,KAAoBA,UAA3C,EAAuD;AACnD,iBAAKA,UAAL,CAAgBjE,GAAhB;AACH;;AAEDiE,qBAAaA,cAAc,IAAI+e,UAAJ,EAA3B;AACA,aAAK/e,UAAL,GAAkBA,UAAlB;AACA,aAAKvD,GAAL,CAAS,YAAT,EAAuBuD,UAAvB;AACAuf,iCAAyBvf,UAAzB;AACH,KATD;;AAWA,SAAKtI,OAAL,GAAe,YAAW;AACtB,aAAKqL,UAAL,CAAgByc,UAAhB,GAA6B,IAA7B;AACA,aAAKzjB,GAAL;AACA,YAAI+iB,SAAJ,EAAe;AACXA,sBAAU/iB,GAAV,CAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B;AACA+iB,sBAAUpnB,OAAV;AACH;AACJ,KAPD;;AASA,SAAK+nB,QAAL,GAAgB,YAAW;AACvB,eAAOX,SAAP;AACH,KAFD;;AAIA,SAAK7kB,aAAL,GAAqB,UAAShC,KAAT,EAAgB;AACjCA,gBAAQ,CAAC,CAACA,KAAV;AACA,YAAIA,UAAU2F,MAAM7G,GAAN,CAAU,YAAV,CAAd,EAAuC;AACnC6G,kBAAMnB,GAAN,CAAU,YAAV,EAAwBxE,KAAxB;AACH;AACJ,KALD;;AAOA,SAAKynB,YAAL,GAAoB,YAAW;AAC3B,eAAOb,SAAP;AACH,KAFD;;AAIA,SAAK9kB,SAAL,GAAiB,UAASyF,MAAT,EAAiB;AAC9BA,iBAAS/F,KAAKuI,KAAL,CAAWxC,MAAX,CAAT;AACA,aAAK/C,GAAL,CAAS,QAAT,EAAmB+C,MAAnB;AACA,YAAI3J,OAAQ2J,WAAW,CAAvB;AACA,YAAI3J,SAAU,KAAK4J,OAAL,EAAd,EAA+B;AAC3B,iBAAKxE,OAAL,CAAapF,IAAb;AACH;AACJ,KAPD;;AASA,SAAK4J,OAAL,GAAe,YAAW;AACtB,eAAO,KAAK1I,GAAL,CAAS,gBAAT,KAA8B,KAAKA,GAAL,CAAS,MAAT,CAArC;AACH,KAFD;;AAIA,SAAKkE,OAAL,GAAe,UAASpF,IAAT,EAAe;AAC1B,YAAIA,SAAS6G,SAAb,EAAwB;AACpB7G,mBAAO,CAAE,KAAK4J,OAAL,EAAT;AACH;AACD,aAAKhD,GAAL,CAAS,MAAT,EAAiB5G,IAAjB;AACA,YAAI,CAACA,IAAL,EAAW;AACP,gBAAI2J,SAAS/F,KAAKF,GAAL,CAAS,EAAT,EAAa,KAAKxC,GAAL,CAAS,QAAT,CAAb,CAAb;AACA,iBAAK0F,GAAL,CAAS,gBAAT,EAA2B,KAA3B;AACA,iBAAK1C,SAAL,CAAeyF,MAAf;AACH;AACJ,KAVD;;AAYA,SAAKY,aAAL,GAAqB,UAASuf,UAAT,EAAqB;AACtC,aAAKljB,GAAL,CAAS,YAAT,EAAuBkjB,UAAvB;AACA,YAAIA,eAAe,MAAnB,EAA2B;AACvB,iBAAKhW,eAAL,CAAqB,CAArB;AACH;AACJ,KALD;;AAOA,SAAKiW,WAAL,GAAmB,UAAUC,QAAV,EAAoB;AACnCf,oBAAYe,QAAZ;AACAC,+BAAuB,IAAvB,EAA6BD,QAA7B;AACH,KAHD;;AAKA,SAAKE,aAAL,GAAqB,YAAY;AAC7BjB,oBAAY,IAAZ;AACA,aAAKriB,GAAL,CAAS,UAAT,EAAqBC,SAArB;AACH,KAHD;;AAKA,SAAKiN,eAAL,GAAuB,UAAShK,YAAT,EAAuB;AAC1C,YAAI,CAAC,qBAAEqgB,QAAF,CAAWrgB,YAAX,CAAL,EAA+B;AAC3B;AACH;;AAED;AACAA,uBAAelG,KAAKF,GAAL,CAASE,KAAKH,GAAL,CAASqG,YAAT,EAAuB,CAAvB,CAAT,EAAoC,IAApC,CAAf;;AAEA,YAAI,KAAK5I,GAAL,CAAS,YAAT,MAA2B,MAA/B,EAAuC;AACnC4I,2BAAe,CAAf;AACH;;AAED,aAAKlD,GAAL,CAAS,qBAAT,EAAgCkD,YAAhC;;AAEA,YAAImf,aAAaA,UAAUnV,eAA3B,EAA4C;AACxCmV,sBAAUnV,eAAV,CAA0BhK,YAA1B;AACH;AACJ,KAjBD;;AAmBA,SAAKsgB,oBAAL,GAA4B,YAAW;AACnC,YAAIlgB,QAAQ,KAAKhJ,GAAL,CAAS,eAAT,CAAZ;;AAEA,YAAIgJ,KAAJ,EAAW;AACP;AACA,iBAAKtD,GAAL,CAAS,cAAT,EAAyBsD,MAAMiX,IAA/B;AACH,SAHD,MAGO;AACH,iBAAKva,GAAL,CAAS,cAAT,EAAyB,KAAzB;AACH;AACJ,KATD;;AAYA,SAAKyjB,qBAAL,GAA6B,UAASC,UAAT,EAAqBrgB,MAArB,EAA6B;AACtD,aAAKrD,GAAL,CAAS,eAAT,EAA0B0jB,UAA1B;AACA;;;;AAIA,YAAIA,cAAcrgB,MAAd,IAAwBqgB,cAAcrgB,OAAOjF,MAA7C,IAAuDiF,OAAOqgB,aAAa,CAApB,EAAuBvoB,IAAlF,EAAwF;AACpF,iBAAK6E,GAAL,CAAS,eAAT,EAA0BqD,OAAOqgB,aAAa,CAApB,CAA1B;AACH;AACJ,KATD;;AAWA,SAAKpZ,yBAAL,GAAiC,UAASoZ,UAAT,EAAqBrgB,MAArB,EAA6B;AAC1D,aAAKogB,qBAAL,CAA2BC,UAA3B,EAAuCrgB,MAAvC;AACA,aAAKmgB,oBAAL;AACH,KAHD;;AAKA;AACA;AACA,SAAKjB,YAAL,GAAoB,UAASoB,SAAT,EAAoB;AACpC,YAAIA,cAAc1jB,SAAlB,EAA6B;AACzB,iBAAKD,GAAL,CAAS,WAAT,EAAsB2jB,SAAtB;AACH;;AAED,YAAMC,oBAAoB,gBAAGjsB,MAAH,IAAa,KAAK2C,GAAL,CAAS,WAAT,CAAvC;AACA,aAAK0F,GAAL,CAAS,gBAAT,EAA2B4jB,qBAAqB,KAAKtpB,GAAL,CAAS,WAAT,MAA0B,UAA1E;AACH,KAPD;;AASA,SAAKsoB,SAAL,GAAiB,UAAU7e,IAAV,EAAgB;AAC7B,YAAMhH,WAAWgH,OAAO,sBAAQA,KAAK0T,SAAb,CAAP,GAAiC,CAAlD;AACA,YAAMhU,WAAWM,OAAO,sBAAQA,KAAKN,QAAb,CAAP,GAAgC,CAAjD;AACA,YAAMF,aAAa,KAAKA,UAAxB;AACA,aAAKvD,GAAL,CAAS,cAAT,EAAyB,KAAzB;AACA,aAAKsG,UAAL,CAAgBud,QAAhB,GAA2B,EAA3B;AACAtgB,mBAAWvD,GAAX,CAAe,UAAf,EAA2BjD,QAA3B;AACAwG,mBAAWvD,GAAX,CAAe,aAAf,EAA8B,CAA9B;AACAuD,mBAAWvD,GAAX,CAAe,UAAf,EAA2ByD,QAA3B;AACH,KATD;AAUH,CA3LD;;AA6LA,IAAM4f,yBAAyB,SAAzBA,sBAAyB,CAACppB,KAAD,EAAQmpB,QAAR,EAAqB;AAChDnpB,UAAM+F,GAAN,CAAU,UAAV,EAAsBojB,SAAS9I,OAAT,EAAtB;AACA,QAAIrgB,MAAMK,GAAN,CAAU,cAAV,MAA8B,IAAlC,EAAwC;AACpC8oB,iBAASU,YAAT,GAAwB,IAAxB;AACH;;AAED,QAAIV,SAAS9I,OAAT,GAAmBC,IAAnB,CAAwBgF,OAAxB,CAAgC,OAAhC,MAA6C,CAAC,CAAlD,EAAqD;AACjDtlB,cAAM+F,GAAN,CAAU,eAAV,EAA2BC,SAA3B;AACAhG,cAAM+F,GAAN,CAAU,cAAV,EAA0B,KAA1B;AACH;;AAED;AACA/F,UAAMiT,eAAN,CAAsBjT,MAAMK,GAAN,CAAU,qBAAV,CAAtB;;AAEA;AACAL,UAAM+F,GAAN,CAAU,sBAAV,EAAkCojB,SAASlO,oBAA3C;AACAjb,UAAM+F,GAAN,CAAU,cAAV,EAA0BojB,SAAS/I,eAAT,EAA1B;AACApgB,UAAM+F,GAAN,CAAU,wBAAV,EAAoCojB,SAAS/S,cAA7C;AACH,CAlBD;;AAoBA,SAASyS,wBAAT,CAAkCvf,UAAlC,EAA8C;AAC1C;AACA,QAAMwgB,aAAaxgB,WAAWjJ,GAAX,CAAe,YAAf,CAAnB;AACAiJ,eAAW7I,OAAX,CAAmB,mBAAnB,EAAwC6I,UAAxC,EAAoDwgB,UAApD,EAAgEA,UAAhE;AACH;;AAED;AACA,IAAMzB,aAAaH,MAAMG,UAAN,GAAmB,YAAW;AAC7C,SAAKhc,UAAL,GAAkB;AACdyd;AADc,KAAlB;AAGH,CAJD;;AAMA,SAAczB,WAAW1hB,SAAzB,yBAAiD;AAC7CojB,YAD6C,sBAClC;AACP,iBAAc,KAAK1d,UAAnB,EAA+B;AAC3BpL,mBAAO,KADoB;AAE3B+oB,qBAAS,KAFkB;AAG3BC,uBAAW,KAHgB;AAI3B9P,2BAAe,IAJY;AAK3B+P,oBAAQ,CALmB;AAM3BpT,yBAAa;AANc,SAA/B;AAQH;AAV4C,CAAjD;;AAaA,SAAcoR,MAAMvhB,SAApB;;QAES0hB,U,GAAAA,U;kBACMH,K;;;;;;;;;;;;;;;;;ACvPR,IAAMiC,wDAAwBje,OAAOie,qBAAP,IAAgC,UAAUzW,QAAV,EAAoB;AACrF,WAAO5T,WAAW4T,QAAX,EAAqB,EAArB,CAAP;AACH,CAFM;;AAIA,IAAM0W,sDAAuBle,OAAOke,oBAAP,IAA+B9kB,YAA5D,C;;;;;;;;;;;;;;;;;QCFS+kB,a,GAAAA,a;QAsBAC,a,GAAAA,a;;AAxBhB;;AAEO,SAASD,aAAT,CAAuBzS,KAAvB,EAA8B;AACjC,QAAI2S,aAAa,CAAjB;;AAEA,QAAI3S,SAAS,IAAb,EAAmB;AACf2S,qBAAa,CAAb;AACH,KAFD,MAEO,IAAI3S,SAAS,GAAb,EAAkB;AACrB2S,qBAAa,CAAb;AACH,KAFM,MAEA,IAAI3S,SAAS,GAAb,EAAkB;AACrB2S,qBAAa,CAAb;AACH,KAFM,MAEA,IAAI3S,SAAS,GAAb,EAAkB;AACrB2S,qBAAa,CAAb;AACH,KAFM,MAEA,IAAI3S,SAAS,GAAb,EAAkB;AACrB2S,qBAAa,CAAb;AACH,KAFM,MAEA,IAAI3S,SAAS,GAAb,EAAkB;AACrB2S,qBAAa,CAAb;AACH,KAFM,MAEA,IAAI3S,SAAS,GAAb,EAAkB;AACrB2S,qBAAa,CAAb;AACH;;AAED,WAAOA,UAAP;AACH;;AAEM,SAASD,aAAT,CAAuBE,aAAvB,EAAsCC,gBAAtC,EAAwD;AAC3D,QAAMC,kBAAkB,mBAAmBD,gBAA3C;AACA,2BAAaD,aAAb,EAA4B,mBAA5B,EAAiDE,eAAjD;AACH,C;;;;;;;;;;;AC3BD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD,IAAI;AACJ;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,cAAc;;AAElE;AACA;;;;;;;;;;;;;;;;;;;kBC3Ee,UAASzqB,OAAT,EAAkB0qB,SAAlB,EAA6B;AACxC,QAAI,CAAC1qB,OAAD,IAAY,CAAC0qB,SAAjB,EAA4B;AACxB;AACH;;AAED1qB,YAAQsd,YAAR,CAAqB,YAArB,EAAmCoN,SAAnC;AACA1qB,YAAQsd,YAAR,CAAqB,MAArB,EAA6B,QAA7B;AACAtd,YAAQsd,YAAR,CAAqB,UAArB,EAAiC,GAAjC;AACH,C;;;;;;;;;;;;;;;;;;;;;;ACRD;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMqN,gBAAgB,SAAhBA,aAAgB,CAASC,WAAT,EAAsB;AACxC,QAAMC,SAAS,kBAAMA,MAAN,CAAaD,WAAb,CAAf;AACA;AACA;AACA,QAAME,cAAc7e,OAAO6e,WAA3B;AACA,QAAIA,eAAe,gBAAG5M,OAAlB,IAA6BhZ,SAAS6lB,IAAT,CAAcC,aAAd,CAA4BC,qBAA5B,GAAoD9L,IAApD,IAA4D,CAA7F,EAAgG;AAC5F0L,eAAO1L,IAAP,IAAe2L,WAAf;AACAD,eAAOK,KAAP,IAAgBJ,WAAhB;AACH;AACD,WAAOD,MAAP;AACH,CAVD;;IAYqBM,M;AACjB,oBAAYjrB,SAAZ,EAAuBkrB,WAAvB,EAAoC;AAAA;;AAChC,iBAAc,IAAd;;AAEA,aAAKlrB,SAAL,GAAiBA,YAAY,+BAA7B;AACA,aAAKkrB,WAAL,GAAmBA,WAAnB;;AAEA,aAAKC,iBAAL,GAAyB,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAzB;AACA,aAAKC,gBAAL,GAAwB,KAAKC,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAxB;AACA,aAAKG,eAAL,GAAuB,KAAKC,OAAL,CAAaJ,IAAb,CAAkB,IAAlB,CAAvB;;AAEA,aAAKK,WAAL,GAAmB,KAAKC,GAAL,CAASN,IAAT,CAAc,IAAd,CAAnB;AACH;;;;gCAEO;AACJ,iBAAKO,EAAL,GAAU,kBAAM7rB,aAAN,CAAoB,sBAAe,KAAKC,SAApB,EAA+B,eAAe,KAAKkrB,WAAnD,CAApB,CAAV;;AAEA,iBAAKR,WAAL,GAAmB,KAAKkB,EAAL,CAAQC,sBAAR,CAA+B,qBAA/B,EAAsD,CAAtD,CAAnB;AACA,iBAAKC,aAAL,GAAqB,KAAKF,EAAL,CAAQC,sBAAR,CAA+B,WAA/B,EAA4C,CAA5C,CAArB;AACA,iBAAKE,eAAL,GAAuB,KAAKH,EAAL,CAAQC,sBAAR,CAA+B,aAA/B,EAA8C,CAA9C,CAAvB;AACA,iBAAKG,YAAL,GAAoB,KAAKJ,EAAL,CAAQC,sBAAR,CAA+B,SAA/B,EAA0C,CAA1C,CAApB;;AAEA,iBAAKI,YAAL,GAAoB,iBAAO,KAAKnsB,OAAL,EAAP,EAAuB,EAAEsjB,kBAAkB,IAApB,EAAvB,CAApB;;AAEA,iBAAK6I,YAAL,CAAkB5rB,EAAlB,CAAqB,WAArB,EAAkC,KAAK8qB,iBAAvC;AACA,iBAAKc,YAAL,CAAkB5rB,EAAlB,CAAqB,MAArB,EAA6B,KAAKirB,gBAAlC;AACA,iBAAKW,YAAL,CAAkB5rB,EAAlB,CAAqB,SAArB,EAAgC,KAAKmrB,eAArC;;AAEA,iBAAKS,YAAL,CAAkB5rB,EAAlB,CAAqB,WAArB,EAAkC,KAAKqrB,WAAvC;AACH;;;oCAEW;AACR,iBAAKprB,OAAL,CAAa,WAAb;AACA,iBAAK4rB,UAAL,GAAkBzB,cAAc,KAAKC,WAAnB,CAAlB;AACH;;;gCAEOvpB,G,EAAK;AACT,iBAAKoqB,QAAL,CAAcpqB,GAAd;AACA,iBAAKb,OAAL,CAAa,SAAb;AACH;;;iCAEQa,G,EAAK;AACV,gBAAMwpB,SAAS,KAAKuB,UAAL,GAAmB,KAAKA,UAAN,GAAoB,KAAKA,UAAzB,GAAsCzB,cAAc,KAAKC,WAAnB,CAAvE;AACA,gBAAIyB,kBAAJ;AACA,gBAAIC,mBAAJ;;AAEA,gBAAI,KAAKlB,WAAL,KAAqB,YAAzB,EAAuC;AACnCiB,4BAAYhrB,IAAIghB,KAAhB;AACA,oBAAIgK,YAAYxB,OAAO1L,IAAvB,EAA6B;AACzBmN,iCAAa,CAAb;AACH,iBAFD,MAEO,IAAID,YAAYxB,OAAOK,KAAvB,EAA8B;AACjCoB,iCAAa,GAAb;AACH,iBAFM,MAEA;AACHA,iCAAa,kBAAMtpB,OAAN,CAAc,CAACqpB,YAAYxB,OAAO1L,IAApB,IAA4B0L,OAAOlT,KAAjD,EAAwD,CAAxD,EAA2D,CAA3D,IAAgE,GAA7E;AACH;AACJ,aATD,MASO;AACH0U,4BAAYhrB,IAAIihB,KAAhB;AACA,oBAAI+J,aAAaxB,OAAO0B,MAAxB,EAAgC;AAC5BD,iCAAa,CAAb;AACH,iBAFD,MAEO,IAAID,aAAaxB,OAAO3L,GAAxB,EAA6B;AAChCoN,iCAAa,GAAb;AACH,iBAFM,MAEA;AACHA,iCAAa,kBAAMtpB,OAAN,CAAc,CAAC6nB,OAAOpT,MAAP,IAAiB4U,YAAYxB,OAAO3L,GAApC,CAAD,IAA6C2L,OAAOpT,MAAlE,EAA0E,CAA1E,EAA6E,CAA7E,IAAkF,GAA/F;AACH;AACJ;;AAED,gBAAM+U,iBAAiB,KAAKC,KAAL,CAAWH,UAAX,CAAvB;AACA,iBAAKI,MAAL,CAAYF,cAAZ;AACA,iBAAKG,MAAL,CAAYH,cAAZ;;AAEA,mBAAO,KAAP;AACH;;;4BAEGnrB,G,EAAK;AACL,iBAAK+qB,UAAL,GAAkBzB,cAAc,KAAKC,WAAnB,CAAlB;AACA,iBAAKa,QAAL,CAAcpqB,GAAd;AACH;;;8BAEKirB,U,EAAY;AACd;AACA,mBAAOA,UAAP;AACH;;;+BAEMA,U,EAAY;AACf,iBAAK9rB,OAAL,CAAa,QAAb,EAAuB,EAAE8rB,YAAYA,UAAd,EAAvB;AACH;;;+BAEMA,U,EAAY;AACfA,yBAAaxpB,KAAKF,GAAL,CAAS,CAAT,EAAYE,KAAKH,GAAL,CAAS2pB,UAAT,EAAqB,GAArB,CAAZ,CAAb;;AAEA,gBAAI,KAAKlB,WAAL,KAAqB,YAAzB,EAAuC;AACnC,qBAAKc,YAAL,CAAkBvF,KAAlB,CAAwBxH,IAAxB,GAA+BmN,aAAa,GAA5C;AACA,qBAAKL,eAAL,CAAqBtF,KAArB,CAA2BhP,KAA3B,GAAmC2U,aAAa,GAAhD;AACH,aAHD,MAGO;AACH,qBAAKJ,YAAL,CAAkBvF,KAAlB,CAAwB4F,MAAxB,GAAiCD,aAAa,GAA9C;AACA,qBAAKL,eAAL,CAAqBtF,KAArB,CAA2BlP,MAA3B,GAAoC6U,aAAa,GAAjD;AACH;AACJ;;;qCAEYA,U,EAAY;AACrB,iBAAKN,aAAL,CAAmBrF,KAAnB,CAAyBhP,KAAzB,GAAiC2U,aAAa,GAA9C;AACH;;;kCAES;AACN,mBAAO,KAAKR,EAAZ;AACH;;;;;;kBAzGgBX,M;;;;;;;;;;;;;;;;;;;;;;AClBrB;;;;AACA;;;;AACA;;AACA;;;;;;;;IAEqByB,O;AACjB,qBAAYvM,IAAZ,EAAkBoG,QAAlB,EAA4BoG,YAA5B,EAA0CnG,QAA1C,EAAoD;AAAA;;AAAA;;AAChD,iBAAc,IAAd;AACA,aAAKoF,EAAL,GAAU5mB,SAASjF,aAAT,CAAuB,KAAvB,CAAV;AACA,YAAIC,YAAY,6BAA6BmgB,IAA7B,GAAoC,2BAApD;AACA,YAAI,CAACwM,YAAL,EAAmB;AACf3sB,yBAAa,YAAb;AACH;;AAED,4BAAU,KAAK4rB,EAAf,EAAmBrF,QAAnB;;AAEA,aAAKqF,EAAL,CAAQ5rB,SAAR,GAAoBA,SAApB;AACA,aAAKie,SAAL,GAAiBjZ,SAASjF,aAAT,CAAuB,KAAvB,CAAjB;AACA,aAAKke,SAAL,CAAeje,SAAf,GAA2B,qBAA3B;AACA,aAAK4sB,SAAL,GAAiB,SAAjB;AACA,aAAKC,aAAL,GAAqB,SAArB;;AAEA,aAAKjB,EAAL,CAAQ5tB,WAAR,CAAoB,KAAKigB,SAAzB;AACA,YAAIuI,YAAYA,SAASxiB,MAAT,GAAkB,CAAlC,EAAqC;AACjCmiB,kBAAM3f,SAAN,CAAgB/I,OAAhB,CAAwBoK,IAAxB,CAA6B2e,QAA7B,EAAuC,mBAAW;AAC9C,oBAAI,OAAOE,OAAP,KAAmB,QAAvB,EAAiC;AAC7B,0BAAKkF,EAAL,CAAQ5tB,WAAR,CAAoB,yBAAS0oB,OAAT,CAApB;AACH,iBAFD,MAEO;AACH,0BAAKkF,EAAL,CAAQ5tB,WAAR,CAAoB0oB,OAApB;AACH;AACJ,aAND;AAOH;AACJ;;;;mCAEUnE,I,EAAM;AACb,gBAAI,KAAKuK,OAAT,EAAkB;AACd,qBAAKC,aAAL;AACH;;AAED,iBAAKD,OAAL,GAAevK,IAAf;AACA,iBAAKtE,SAAL,CAAejgB,WAAf,CAA2BukB,IAA3B;AACH;;;wCAEe;AACZ,gBAAI,KAAKuK,OAAT,EAAkB;AACd,qBAAK7O,SAAL,CAAe3Y,WAAf,CAA2B,KAAKwnB,OAAhC;AACA,qBAAKA,OAAL,GAAe,IAAf;AACH;AACJ;;;qCAEY;AACT,mBAAO,CAAC,CAAC,KAAKA,OAAd;AACH;;;kCAES;AACN,mBAAO,KAAKlB,EAAZ;AACH;;;oCAEWzqB,G,EAAK;AACb,iBAAKb,OAAL,CAAa,UAAU,KAAKusB,aAA5B,EAA2C1rB,GAA3C,EAAgD,EAAE6rB,QAAQ,IAAV,EAAhD;AACA,iBAAKA,MAAL,GAAc,IAAd;AACA,kCAAY,KAAKpB,EAAjB,EAAqB,KAAKgB,SAA1B,EAAqC,KAAKI,MAA1C;AACH;;;qCAEY7rB,G,EAAK;AACd,iBAAKb,OAAL,CAAa,WAAW,KAAKusB,aAA7B,EAA4C1rB,GAA5C,EAAiD,EAAE6rB,QAAQ,KAAV,EAAjD;AACA,iBAAKA,MAAL,GAAc,KAAd;AACA,kCAAY,KAAKpB,EAAjB,EAAqB,KAAKgB,SAA1B,EAAqC,KAAKI,MAA1C;AACH;;;wCAEe7rB,G,EAAK;AACjB,gBAAI,KAAK6rB,MAAT,EAAiB;AACb,qBAAKC,YAAL,CAAkB9rB,GAAlB;AACH,aAFD,MAEO;AACH,qBAAK+rB,WAAL,CAAiB/rB,GAAjB;AACH;AACJ;;;;;;kBAvEgBurB,O;;;;;;;;;;;;;;;;;QCHLS,a,GAAAA,a;;AAFhB;;AAEO,SAASA,aAAT,CAAuBC,eAAvB,EAAwCjN,IAAxC,EAA8CoH,IAA9C,EAAoD8F,YAApD,EAAkE;AACrE,QAAMC,iBAAiBtoB,SAASjF,aAAT,CAAuB,KAAvB,CAAvB;AACAutB,mBAAettB,SAAf,uCAA6DmgB,IAA7D;;AAEA,QAAMoN,cAAcvoB,SAASjF,aAAT,CAAuB,KAAvB,CAApB;AACAwtB,gBAAYvtB,SAAZ,GAAwB,SAAxB;AACAutB,gBAAYC,WAAZ,GAA0BjG,IAA1B;;AAEA+F,mBAAetvB,WAAf,CAA2BuvB,WAA3B;AACAH,oBAAgBpvB,WAAhB,CAA4BsvB,cAA5B;;AAEA,QAAMG,WAAW;AACbC,YADa,kBACN;AACH,gBAAID,SAASE,UAAb,EAAyB;AACrB;AACH;;AAEDL,2BAAelQ,YAAf,CAA4B,eAA5B,EAA6C,MAA7C;AACA,+BAASkQ,cAAT,EAAyB,SAAzB;;AAEA,gBAAID,YAAJ,EAAkB;AACdA;AACH;AACJ,SAZY;AAab7pB,aAba,mBAaL;AACJ,gBAAIiqB,SAASE,UAAb,EAAyB;AACrB;AACH;;AAEDL,2BAAelQ,YAAf,CAA4B,eAA5B,EAA6C,OAA7C;AACA,kCAAYkQ,cAAZ,EAA4B,SAA5B;AACH,SApBY;AAqBbM,eArBa,mBAqBLC,OArBK,EAqBI;AACbP,2BAAexvB,aAAf,CAA6B,UAA7B,EAAyC0vB,WAAzC,GAAuDK,OAAvD;AACH;AAvBY,KAAjB;;AA0BAT,oBAAgB5oB,gBAAhB,CAAiC,WAAjC,EAA8CipB,SAASC,IAAvD;AACAN,oBAAgB5oB,gBAAhB,CAAiC,OAAjC,EAA0CipB,SAASC,IAAnD;AACAN,oBAAgB5oB,gBAAhB,CAAiC,MAAjC,EAAyCipB,SAASjqB,KAAlD;AACA4pB,oBAAgB5oB,gBAAhB,CAAiC,UAAjC,EAA6CipB,SAASjqB,KAAtD;AACA4pB,oBAAgB5oB,gBAAhB,CAAiC,YAAjC,EAA+C,YAAM;AACjDipB,iBAASE,UAAT,GAAsB,IAAtB;AACH,KAFD,EAEG;AACCxK,iBAAS;AADV,KAFH;;AAMA,WAAOsK,QAAP;AACH,C;;;;;;;;;;;;;;;;;;;;;;AClDD;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;;;;;AAEA;;IAEMK,iB;;;AACF;;;;;AAKA,+BAAYjuB,KAAZ,EAAmBiH,SAAnB,EAA8B;AAAA;;AAAA;;AAG1B,cAAKinB,SAAL,GAAiB,KAAjB;AACA,cAAKC,UAAL,GAAkB,gCAAlB;AACA,cAAKlnB,SAAL,GAAiBA,SAAjB;AACA,cAAKmnB,eAAL,GAAuB,IAAvB;AACA,cAAKC,uBAAL,GAA+B,+CAAwBruB,KAAxB,QAA/B;AACA,cAAKA,KAAL,GAAaA,KAAb;AACA,cAAKmoB,SAAL,GAAiB,wBAAcnoB,MAAM2P,gBAAN,EAAd,CAAjB;AACA,cAAKvD,WAAL;;AAEA,YAAI,CAAC,sBAASrC,iBAAd,EAAiC;AAC7B;AACA/J,kBAAM+F,GAAN,CAAU,cAAV,EAA0B,MAAKkB,SAAL,CAAeqnB,gBAAf,EAA1B;AACH;AAfyB;AAgB7B;;AAED;;;;;;;;;;;sCAOc3kB,K,EAAO;AAAA;;AAAA,gBACTwkB,UADS,GAC8B,IAD9B,CACTA,UADS;AAAA,gBACGC,eADH,GAC8B,IAD9B,CACGA,eADH;AAAA,gBACoBpuB,KADpB,GAC8B,IAD9B,CACoBA,KADpB;;AAEjB,gBAAM8J,OAAO9J,MAAMK,GAAN,CAAU,UAAV,EAAsBsJ,KAAtB,CAAb;;AAEA3J,kBAAMqM,UAAN,CAAiBC,SAAjB,GAA6B,KAA7B;AACAtM,kBAAM+O,aAAN,CAAoBpF,KAApB;AACA,gBAAMkT,SAAS0R,UAAUzkB,IAAV,CAAf;AACA,gBAAI,CAAC+S,MAAL,EAAa;AACT,uBAAO,kBAAQ5P,MAAR,CAAe,IAAI2S,KAAJ,CAAU,UAAV,CAAf,CAAP;AACH;;AAED;AACA,gBAAIuO,WAAWK,MAAX,CAAkB1kB,IAAlB,CAAJ,EAA6B;AACzB;AACA,qBAAK2kB,mBAAL;AACA;AACA,qBAAKriB,WAAL,GAAmB,KAAKsiB,wBAAL,EAAnB;AACA,uBAAO,KAAKtiB,WAAZ;AACH;AACD;AACA,iBAAKuiB,uBAAL;;AAEA,gBAAIP,eAAJ,EAAqB;AACjB,oBAAMQ,UAAU5uB,MAAMK,GAAN,CAAU,YAAV,CAAhB;AACA,oBAAIuuB,WAAW,KAAKC,gBAAL,CAAsBT,gBAAgBjF,QAAtC,EAAgDtM,MAAhD,CAAf,EAAwE;AACpE;AACA,yBAAKzQ,WAAL,GAAmB,kBAAQY,OAAR,CAAgBohB,eAAhB,CAAnB;AACA;AACAA,oCAAgBU,UAAhB,GAA6BhlB,IAA7B;AACA,yBAAKilB,eAAL,CAAqBX,eAArB;AACA,2BAAO,KAAKhiB,WAAZ;AACH;;AAED;AACA;AACA,qBAAKqiB,mBAAL;AACH;;AAED,gBAAMO,oBAAoBhvB,MAAMsJ,UAAhC;AACA,iBAAK8C,WAAL,GAAmB,KAAK6iB,qBAAL,CAA2BpS,MAA3B,EACdjQ,IADc,CACT,+BAAuB;AACzB;AACA;AACA,oBAAIoiB,sBAAsBhvB,MAAMsJ,UAAhC,EAA4C;AACxC4lB,wCAAoBJ,UAApB,GAAiChlB,IAAjC;AACA,2BAAKilB,eAAL,CAAqBG,mBAArB;AACA,2BAAOA,mBAAP;AACH;AACJ,aATc,EAUdziB,KAVc,CAUR,eAAO;AACV,uBAAKgiB,mBAAL;AACA,sBAAMU,GAAN;AACH,aAbc,CAAnB;AAcA,mBAAO,KAAK/iB,WAAZ;AACH;;AAED;;;;;;;;;kCAMUqB,U,EAAY;AAAA;;AAAA,gBACV2gB,eADU,GACiB,IADjB,CACVA,eADU;AAAA,gBACOpuB,KADP,GACiB,IADjB,CACOA,KADP;;AAElB,gBAAM8J,OAAO9J,MAAMK,GAAN,CAAU,cAAV,CAAb;AACA,gBAAI+uB,oBAAJ;;AAEA,gBAAI,CAACtlB,IAAL,EAAW;AACP,uBAAO,kBAAQmD,MAAR,CAAe,IAAI2S,KAAJ,CAAU,UAAV,CAAf,CAAP;AACH;;AAED,gBAAI,CAACnS,UAAL,EAAiB;AACbA,6BAAazN,MAAMK,GAAN,CAAU,YAAV,CAAb;AACH;;AAED;AACA,gBAAI+tB,eAAJ,EAAqB;AACjBgB,8BAAchB,gBAAgBtsB,IAAhB,CAAqB2L,UAArB,CAAd;AACH,aAFD,MAEO;AACH;AACAzN,sBAAM+F,GAAN;;AAEA;AACA,oBAAMspB,kBAAkB,0BAAW,UAACH,mBAAD,EAAyB;AACxD,wBAAI,OAAKd,eAAL,IAAwB,OAAKA,eAAL,CAAqB9kB,UAArB,KAAoC4lB,oBAAoB5lB,UAApF,EAAgG;AAC5F,+BAAO4lB,oBAAoBptB,IAApB,CAAyB2L,UAAzB,CAAP;AACH;AACD,0BAAM,IAAImS,KAAJ,CAAU,qBAAV,CAAN;AACH,iBALuB,CAAxB;;AAOAwP,8BAAc,KAAKhjB,WAAL,CACTK,KADS,CACH,iBAAS;AACZ4iB,oCAAgBrjB,MAAhB;AACA;AACAhM,0BAAMS,OAAN,gBAAqB;AACjBiI,4DAAkCgE,MAAMhE,OADvB;AAEjBgE,+BAAOA;AAFU,qBAArB;AAIA;AACA,0BAAMA,KAAN;AACH,iBAVS,EAWTE,IAXS,CAWJyiB,gBAAgBxiB,KAXZ,CAAd;AAYH;;AAED,mBAAOuiB,WAAP;AACH;;AAED;;;;;;;oCAIY;AAAA,gBACAhB,eADA,GAC2B,IAD3B,CACAA,eADA;AAAA,gBACiBpuB,KADjB,GAC2B,IAD3B,CACiBA,KADjB;;;AAGR,gBAAM8J,OAAO9J,MAAMK,GAAN,CAAU,UAAV,EAAsBL,MAAMK,GAAN,CAAU,MAAV,CAAtB,CAAb;AACAL,kBAAMqM,UAAN,CAAiBrB,YAAjB,GAAgClB,IAAhC;AACA9J,kBAAM2oB,SAAN,CAAgB7e,IAAhB;;AAEA,gBAAIskB,eAAJ,EAAqB;AACjBA,gCAAgB1c,IAAhB;AACH;AACJ;;AAED;;;;;;;uCAIe;AAAA,gBACHyc,UADG,GAC6B,IAD7B,CACHA,UADG;AAAA,gBACSC,eADT,GAC6B,IAD7B,CACSA,eADT;;AAEX,gBAAMkB,QAAQlB,mBAAmBD,WAAWoB,YAA5C;AACA,gBAAI,CAACD,KAAL,EAAY;AACR;AACH;AACDA,kBAAMhS,OAAN;AACH;;AAED;;;;;;;gCAIQ;AAAA,gBACI8Q,eADJ,GACwB,IADxB,CACIA,eADJ;;AAEJ,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAEDA,4BAAgBvsB,KAAhB;AACH;;AAED;;;;;;;;;kCAMU8Q,Y,EAAc7I,I,EAAM;AAAA,gBAClB9J,KADkB,GACR,IADQ,CAClBA,KADkB;;AAE1BA,kBAAMqM,UAAN,CAAiBC,SAAjB,GAA6B,KAA7B;;AAEA,gBAAMtB,eAAe,SAAc,EAAd,EAAkBlB,IAAlB,CAArB;AACAkB,yBAAawS,SAAb,GAAyBxd,MAAMsJ,UAAN,CAAiBjJ,GAAjB,CAAqB,UAArB,CAAzB;;AAEA,gBAAMmvB,sBAAsB,8BAAoB7c,YAApB,EAAkC3S,KAAlC,CAA5B;AACAwvB,gCAAoBV,UAApB,GAAiC9jB,YAAjC;AACA,iBAAK+jB,eAAL,CAAqBS,mBAArB;AACH;;AAED;;;;;;;mCAIW;AAAA,gBACCxvB,KADD,GACW,IADX,CACCA,KADD;;AAEP,gBAAM2J,QAAQ3J,MAAMK,GAAN,CAAU,MAAV,CAAd;AACA,gBAAMyJ,OAAO9J,MAAMK,GAAN,CAAU,UAAV,EAAsBsJ,KAAtB,CAAb;;AAEAG,iBAAK0T,SAAL,GAAiBxd,MAAMsJ,UAAN,CAAiBjJ,GAAjB,CAAqB,UAArB,CAAjB;;AAEA,iBAAKmO,SAAL;AACA,iBAAKO,aAAL,CAAmBpF,KAAnB;AACH;;AAED;;;;;;;;;;gDAOwB;AACpB,iBAAKukB,SAAL,GAAiB,IAAjB;AADoB,gBAEZC,UAFY,GAEoB,IAFpB,CAEZA,UAFY;AAAA,gBAEAC,eAFA,GAEoB,IAFpB,CAEAA,eAFA;;AAGpB,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAED;AACA,gBAAID,WAAWoB,YAAf,EAA6B;AACzB,qBAAKE,uBAAL,CAA6BtB,WAAWoB,YAAxC;AACH;;AAEDnB,4BAAgBD,UAAhB,GAA6B,IAA7B;AACAA,uBAAWoB,YAAX,GAA0BnB,eAA1B;AACA,iBAAKA,eAAL,GAAuB,IAAvB;AACH;;AAED;;;;;;;;;iDAMyB;AACrB,iBAAKF,SAAL,GAAiB,KAAjB;AADqB,gBAEbC,UAFa,GAEmB,IAFnB,CAEbA,UAFa;AAAA,gBAEDC,eAFC,GAEmB,IAFnB,CAEDA,eAFC;;AAGrB,gBAAMsB,4BAA4BvB,WAAWoB,YAA7C;AACA,gBAAI,CAACG,yBAAL,EAAgC;AAC5B;AACH,aAFD,MAEO,IAAItB,eAAJ,EAAqB;AACxB;AACA;AACA,qBAAKqB,uBAAL,CAA6BC,yBAA7B;AACAvB,2BAAWoB,YAAX,GAA0B,IAA1B;AACA;AACH;;AAEDG,sCAA0BpmB,UAA1B,CAAqC+C,UAArC,CAAgDyd,UAAhD,GAA6D,WAA7D;AACA,iBAAKiF,eAAL,CAAqBW,yBAArB;AACAA,sCAA0BvB,UAA1B,GAAuC,KAAvC;AACAA,uBAAWoB,YAAX,GAA0B,IAA1B;AACH;;AAED;;;;;;;;;uCAMezlB,I,EAAM;AAAA,gBACTqkB,UADS,GACM,IADN,CACTA,UADS;;AAEjB,gBAAMtR,SAAS0R,UAAUzkB,IAAV,CAAf;;AAEAqkB,uBAAWwB,OAAX,CAAmB7lB,IAAnB,EAAyB,KAAKmlB,qBAAL,CAA2BpS,MAA3B,EACpBjQ,IADoB,CACf,+BAAuB;AACzBsiB,oCAAoBJ,UAApB,GAAiChlB,IAAjC;AACAolB,oCAAoB5R,OAApB;AACA,uBAAO4R,mBAAP;AACH,aALoB,EAMpBziB,KANoB,CAMd,YAAM;AACT0hB,2BAAWyB,SAAX;AACH,aARoB,CAAzB;AAUH;;AAED;;;;;;;;;6CAMqB;AACjB,iBAAK3oB,SAAL,CAAe4oB,KAAf;AACH;;AAED;;;;;;;kCAIU;AACN,iBAAKxqB,GAAL;AACA,iBAAKspB,uBAAL;AACA,iBAAKF,mBAAL;AACH;;AAED;;;;;;;;;;wCAOgBL,e,EAAiB;AAAA,gBACrBpuB,KADqB,GACX,IADW,CACrBA,KADqB;AAAA,gBAErBsJ,UAFqB,GAEI8kB,eAFJ,CAErB9kB,UAFqB;AAAA,gBAET6f,QAFS,GAEIiF,eAFJ,CAETjF,QAFS;;;AAI7B2G,iCAAqB9vB,KAArB,EAA4BouB,eAA5B;AACA,iBAAKA,eAAL,GAAuBA,eAAvB;;AAEApuB,kBAAM+F,GAAN,CAAU,cAAV,EAA0BqoB,gBAAgBlY,YAA1C;AACAlW,kBAAM4oB,aAAN,CAAoBtf,UAApB;AACAtJ,kBAAMkpB,WAAN,CAAkBC,QAAlB;;AAEA4G,0BAAc,IAAd,EAAoB3B,eAApB;AACApuB,kBAAM+F,GAAN,CAAU,WAAV,EAAuB,IAAvB;AACH;;AAED;;;;;;;;8CAKsB;AAAA,gBACVqoB,eADU,GACiB,IADjB,CACVA,eADU;AAAA,gBACOpuB,KADP,GACiB,IADjB,CACOA,KADP;;AAElB,gBAAI,CAACouB,eAAL,EAAsB;AAClB;AACH;;AAEDA,4BAAgB4B,MAAhB;AACA,iBAAKP,uBAAL,CAA6BrB,eAA7B;AACApuB,kBAAMqpB,aAAN;AACA,iBAAK+E,eAAL,GAAuB,IAAvB;AACH;;AAED;;;;;;;;kDAK0B;AAAA,gBACdD,UADc,GACC,IADD,CACdA,UADc;;AAEtB,iBAAKsB,uBAAL,CAA6BtB,WAAWoB,YAAxC;AACApB,uBAAWoB,YAAX,GAA0B,IAA1B;AACA,iBAAKU,8BAAL;AACH;;AAED;;;;;;;;;gDAMwB7B,e,EAAiB;AAAA,gBAC7BnnB,SAD6B,GACf,IADe,CAC7BA,SAD6B;;AAErC,gBAAI,CAACmnB,eAAL,EAAsB;AAClB;AACH;AACDnnB,sBAAUipB,OAAV,CAAkB9B,gBAAgBlY,YAAlC;AACAkY,4BAAgBptB,OAAhB;AACH;;AAED;;;;;;;;;;;8CAQsB6b,M,EAAQ;AAAA;;AAAA,gBAClB7c,KADkB,GACG,IADH,CAClBA,KADkB;AAAA,gBACXmoB,SADW,GACG,IADH,CACXA,SADW;;AAE1B,gBAAMgI,sBAAsB,SAAtBA,mBAAsB;AAAA,uBAAuB,8BAC/C,IAAIC,mBAAJ,CAAwBpwB,MAAMK,GAAN,CAAU,IAAV,CAAxB,EAAyCL,MAAM2P,gBAAN,EAAzC,EAAmE,OAAK0gB,aAAxE,CAD+C,EAE/CrwB,KAF+C,CAAvB;AAAA,aAA5B;;AAF0B,oCAOCmoB,UAAUmI,MAAV,CAAiBzT,MAAjB,CAPD;AAAA,gBAOlBsM,QAPkB,qBAOlBA,QAPkB;AAAA,gBAOR7I,IAPQ,qBAORA,IAPQ;;AAQ1B,gBAAI6I,QAAJ,EAAc;AACV,uBAAO,kBAAQnc,OAAR,CAAgBmjB,oBAAqBhH,QAArB,CAAhB,CAAP;AACH;;AAED,mBAAOhB,UAAUhb,IAAV,CAAemT,IAAf,EACF1T,IADE,CACG;AAAA,uBAAuBujB,oBAAoBC,mBAApB,CAAvB;AAAA,aADH,CAAP;AAEH;;AAED;;;;;;;;;;;;mDAS2B;AAAA;;AAAA,gBACfjC,UADe,GACiC,IADjC,CACfA,UADe;AAAA,gBACWoC,eADX,GACiC,IADjC,CACHpC,UADG,CACWoC,eADX;AAEvB;;AACA,iBAAKd,uBAAL,CAA6BtB,WAAWoB,YAAxC;AACApB,uBAAWoB,YAAX,GAA0B,IAA1B;AACA,mBAAOgB,gBAAgB3jB,IAAhB,CAAqB,+BAAuB;AAC/C,oBAAI,CAACsiB,mBAAL,EAA0B;AACtB;AACH;AACDf,2BAAWyB,SAAX;AACA,oBAAI,OAAK1B,SAAT,EAAoB;AAChBC,+BAAWoB,YAAX,GAA0BL,mBAA1B;AACH,iBAFD,MAEO;AACH,2BAAKH,eAAL,CAAqBG,mBAArB;AACAA,wCAAoBf,UAApB,GAAiC,KAAjC;AACH;AACD,uBAAOe,mBAAP;AACH,aAZM,CAAP;AAaA;AACH;;AAED;;;;;;;;;yDAMiC;AAAA;;AAAA,gBACrBf,UADqB,GAC2B,IAD3B,CACrBA,UADqB;AAAA,gBACKoC,eADL,GAC2B,IAD3B,CACTpC,UADS,CACKoC,eADL;;AAE7B,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;AACDA,4BAAgB3jB,IAAhB,CAAqB,+BAAuB;AACxC,uBAAK6iB,uBAAL,CAA6BP,mBAA7B;AACAf,2BAAWyB,SAAX;AACH,aAHD;AAIH;;;yCAEgBxH,S,EAAWvL,M,EAAQ;AAAA,qCACX,KAAKsL,SAAL,CAAemI,MAAf,CAAsBzT,MAAtB,CADW;AAAA,gBACxBsM,QADwB,sBACxBA,QADwB;;AAEhC,mBAAOA,YAAaf,aAAaA,qBAAqBe,QAAtD;AACH;;AAED;;;;;;;4BAIiB;AAAA,gBACLiF,eADK,GACe,IADf,CACLA,eADK;;AAEb,gBAAI,CAACA,eAAL,EAAsB;AAClB,uBAAO,CAAC,CAAR;AACH;;AAED,mBAAOA,gBAAgBpe,UAAvB;AACH;;AAED;;;;;;;AAqFA;;;;;0BAKerG,K,EAAO;AAAA,gBACVykB,eADU,GACU,IADV,CACVA,eADU;;AAElB,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAEDA,4BAAgBpe,UAAhB,GAA6BlB,SAASnF,KAAT,EAAgB,EAAhB,KAAuB,CAApD;AACH;;AAED;;;;;;;;;4BA/FkB;AAAA,gBACNykB,eADM,GACc,IADd,CACNA,eADM;;AAEd,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAED,mBAAOA,gBAAgBje,WAAvB;AACH;;AAED;;;;;;;;4BAKqB;AAAA,gBACTie,eADS,GACyC,IADzC,CACTA,eADS;AAAA,gBACsBmB,YADtB,GACyC,IADzC,CACQpB,UADR,CACsBoB,YADtB;;AAEjB,gBAAI,CAACnB,eAAD,IAAoB,CAACmB,YAAzB,EAAuC;AACnC,uBAAO,KAAP;AACH;;AAED,mBAAOnB,kBAAkBA,gBAAgBpb,cAAlC,GAAmDuc,aAAavc,cAAvE;AACH;;AAED;;;;;;;4BAIoB;AAChB,gBAAI,CAAC,sBAASjJ,iBAAd,EAAiC;AAC7B;AACA;AAF6B,oBAGrB/J,KAHqB,GAGX,IAHW,CAGrBA,KAHqB;;AAI7B,uBAAOA,MAAMK,GAAN,CAAU,cAAV,CAAP;AACH;AACD,mBAAO,KAAK4G,SAAL,CAAeqnB,gBAAf,EAAP;AACH;;AAED;;;;;;;4BAIc;AACV,gBAAI,CAAC,KAAKF,eAAV,EAA2B;AACvB,uBAAO,CAAC,CAAR;AACH;;AAED,mBAAO,KAAKA,eAAL,CAAqB5e,OAA5B;AACH;;AAED;;;;;;;AAwGA;;;;;0BAKY7F,K,EAAO;AAAA,gBACPykB,eADO,GACa,IADb,CACPA,eADO;;AAEf,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAEDA,4BAAgB5e,OAAhB,GAA0BV,SAASnF,KAAT,EAAgB,EAAhB,KAAuB,CAAjD;AACH;;AAED;;;;;;;;4BAlHgB;AAAA,gBACJykB,eADI,GACgB,IADhB,CACJA,eADI;;AAEZ,gBAAI,CAACA,eAAL,EAAsB;AAClB,uBAAO,IAAP;AACH;;AAED,mBAAOA,gBAAgBte,SAAvB;AACH;;AAED;;;;;;;;0BAKa0gB,Y,EAAc;AAAA,gBACfpC,eADe,GACK,IADL,CACfA,eADe;;;AAGvB,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAED,gBAAIoC,YAAJ,EAAkB;AACdpC,gCAAgBqC,MAAhB;AACH,aAFD,MAEO;AACHrC,gCAAgB4B,MAAhB;AACH;AACJ;;;0BAsBY5e,I,EAAM;AAAA,gBACPgd,eADO,GACa,IADb,CACPA,eADO;;AAEf,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAEDA,4BAAgBzZ,QAAhB,GAA2BvD,IAA3B;AACH;;AAED;;;;;;;;;0BAMSjS,I,EAAM;AAAA,gBACHgvB,UADG,GACwC,IADxC,CACHA,UADG;AAAA,gBACSC,eADT,GACwC,IADxC,CACSA,eADT;AAAA,gBAC0BnnB,SAD1B,GACwC,IADxC,CAC0BA,SAD1B;;;AAGX,gBAAImnB,eAAJ,EAAqB;AACjBA,gCAAgBjvB,IAAhB,GAAuBA,IAAvB;AACH;AACD,gBAAIgvB,WAAWoB,YAAf,EAA6B;AACzBpB,2BAAWoB,YAAX,CAAwBpwB,IAAxB,GAA+BA,IAA/B;AACH;;AAED8H,sBAAUypB,QAAV,CAAmBvxB,IAAnB;AACH;;AAED;;;;;;;;;;0BAOayP,G,EAAK;AAAA,gBACNwf,eADM,GACqB,IADrB,CACNA,eADM;AAAA,gBACWpuB,KADX,GACqB,IADrB,CACWA,KADX;;AAEd,gBAAI,CAACouB,eAAL,EAAsB;AAClB;AACH;AACD,gBAAM7sB,QAAQvB,MAAMK,GAAN,sBAAd;AACA,gBAAMswB,aAAc,CAACvC,gBAAgBpE,OAAjB,IAA4B,CAACoE,gBAAgBnE,SAA7C,IAA0D1oB,4BAA9E;;AAEA,gBAAIovB,cAAcpvB,gCAAlB,EAA4C;AACxC6sB,gCAAgBtkB,IAAhB,CAAqB0T,SAArB,GAAiC5O,GAAjC;AACH,aAFD,MAEO,IAAIwf,gBAAgBxd,QAApB,EAA8B;AACjCwd,gCAAgBtrB,QAAhB,GAA2B8L,GAA3B;AACH,aAFM,MAEA;AACHwf,gCAAgBtkB,IAAhB,CAAqB0T,SAArB,GAAiC5O,GAAjC;AACH;AACJ;;;0BAqBajF,K,EAAO;AAAA,gBACTykB,eADS,GACW,IADX,CACTA,eADS;;AAEjB,gBAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAEDA,4BAAgB9d,SAAhB,GAA4B3G,KAA5B;AACH;;AAED;;;;;;;;;0BAMWb,M,EAAQ;AAAA,gBACPqlB,UADO,GACoC,IADpC,CACPA,UADO;AAAA,gBACKC,eADL,GACoC,IADpC,CACKA,eADL;AAAA,gBACsBnnB,SADtB,GACoC,IADpC,CACsBA,SADtB;;;AAGf,gBAAImnB,eAAJ,EAAqB;AACjBA,gCAAgBtlB,MAAhB,GAAyBA,MAAzB;AACH;AACD,gBAAIqlB,WAAWoB,YAAf,EAA6B;AACzBpB,2BAAWoB,YAAX,CAAwBzmB,MAAxB,GAAiCA,MAAjC;AACH;;AAED7B,sBAAU2pB,UAAV,CAAqB9nB,MAArB;AACH;;;;;;AAGL,SAASgnB,oBAAT,CAA8B9vB,KAA9B,EAAqCouB,eAArC,EAAsD;AAClD,QAAMhQ,YAAYpe,MAAMK,GAAN,CAAU,gBAAV,CAAlB;AACA,QAAI+d,SAAJ,EAAe;AACXgQ,wBAAgBhQ,SAAhB,GAA4BA,SAA5B;AACH,KAFD,MAEO;AACHpe,cAAMyC,IAAN,CAAW,uBAAX,EAAoC,UAACouB,YAAD,EAAeC,gBAAf,EAAoC;AACpE1C,4BAAgBhQ,SAAhB,GAA4B0S,gBAA5B;AACH,SAFD;AAGH;AACJ;;AAED,SAASf,aAAT,CAAuBgB,iBAAvB,EAA0C3C,eAA1C,EAA2D;AACvDA,oBAAgB/oB,GAAhB,CAAoB,KAApB,EAA2B0rB,kBAAkB1C,uBAA7C,EAAsE0C,iBAAtE;AACA3C,oBAAgB5tB,EAAhB,CAAmB,KAAnB,EAA0BuwB,kBAAkB1C,uBAA5C,EAAqE0C,iBAArE;AACH;;AAED,SAASxC,SAAT,CAAmBzkB,IAAnB,EAAyB;AACrB,WAAOA,QAAQA,KAAKS,OAAb,IAAwBT,KAAKS,OAAL,CAAa,CAAb,CAA/B;AACH;;kBAEc0jB,iB;;;;;;;;;;;;;;;;;;;;AC1rBf;;;;;;;;AAEA;IACqB+C,S;;;;kBAAAA,S;;AACrBA,UAAUrqB,SAAV,GAAsB,SAAc,EAAd,qBAAtB,C;;;;;;;;;;;;;;;;;;;;QCGgBsqB,gB,GAAAA,gB;QA6FAC,uB,GAAAA,uB;;AApGhB;;AACA;;AAMO,SAASD,gBAAT,CAA0B7C,eAA1B,EAA2C;AAC9C,WAAO,UAAUzsB,IAAV,EAAgBT,IAAhB,EAAsB;AAAA,YACjBoI,UADiB,GACF8kB,eADE,CACjB9kB,UADiB;;AAEzB,YAAMpD,QAAQ,SAAc,EAAd,EAAkBhF,IAAlB,EAAwB;AAClCS,kBAAMA;AAD4B,SAAxB,CAAd;;AAIA,gBAAQA,IAAR;AACI;AACI,oBAAI2H,WAAWjJ,GAAX,yBAA+Ba,KAAKwf,SAAxC,EAAmD;AAC/C;AACH;AACDpX,2BAAWvD,GAAX,qBAA2B7E,KAAKwf,SAAhC;AACA;AACJ;AACIpX,2BAAWvD,GAAX,+BAAqC,SAAc,EAAd,EAAkB7E,IAAlB,CAArC;AACA;AACJ;AAAmB;AACf,wBAAIA,KAAKuF,QAAL,uBAAJ,EAAkC;AAC9B2nB,wCAAgBiB,eAAhB,CAAgCrjB,MAAhC;AACA1C,mCAAWygB,QAAX;AACH;AACD;AACA,wBAAMoH,gBAAgB7nB,WAAW+C,UAAX,CAAsByd,UAA5C;AACAxgB,+BAAW+C,UAAX,CAAsByd,UAAtB,GAAmC5oB,KAAKuF,QAAxC;AACA6C,+BAAW7I,OAAX,CAAmB,mBAAnB,EAAwC6I,UAAxC,EAAoDpI,KAAKuF,QAAzD,EAAmE0qB,aAAnE;AACA;AACA;AACA;AACA;AACH;AACD;AACI/C,gCAAgBpb,cAAhB,GAAiC,IAAjC;AACAob,gCAAgB3tB,OAAhB,+BAA8CyF,KAA9C;AACA,oBAAIkoB,gBAAgBxd,QAAhB,IAA4B,CAACwd,gBAAgBD,UAAjD,EAA6D;AACzDC,oCAAgBgD,iBAAhB;AACH;AACD;AACJ;AACIhD,gCAAgBiB,eAAhB,CAAgCrjB,MAAhC;AACA1C,2BAAWygB,QAAX;AACA;AACJ;AAAiB;AACb,wBAAMvgB,WAAWtI,KAAKsI,QAAtB;AACA,wBAAI,2BAAUA,QAAV,KAAuB,CAAC,wBAAOA,QAAP,CAA5B,EAA8C;AAC1CF,mCAAWvD,GAAX,CAAe,UAAf,EAA2ByD,QAA3B;AACH;AACD;AACH;AACD;AACIF,2BAAWvD,GAAX,CAAe,QAAf,EAAyB7E,KAAKmwB,aAA9B;AACA;AACJ;AAAiB;AACb/nB,+BAAWvD,GAAX,CAAe,UAAf,EAA2B7E,KAAK4B,QAAhC;AACAwG,+BAAWvD,GAAX,CAAe,aAAf,EAA8B7E,KAAK4V,WAAnC;AACA,wBAAMtN,YAAWtI,KAAKsI,QAAtB;AACA,wBAAI,2BAAUA,SAAV,KAAuB,CAAC,wBAAOA,SAAP,CAA5B,EAA8C;AAC1CF,mCAAWvD,GAAX,CAAe,UAAf,EAA2ByD,SAA3B;AACH;AACD;AACH;AACD;AACIF,2BAAWvD,GAAX,uBAA6B7E,KAAKya,MAAlC;AACA;AACJ;AAA0B;AAAA,wBACdO,cADc,GACahb,IADb,CACdgb,cADc;AAAA,wBACEP,MADF,GACaza,IADb,CACEya,MADF;;AAEtB,wBAAIO,iBAAiB,CAAC,CAAlB,IAAuBP,OAAOxX,MAAP,GAAgB,CAA3C,EAA8C;AAC1CmF,mCAAWvD,GAAX,CAAe,cAAf,EAA+B+I,SAASoN,cAAT,CAA/B;AACH;AACD;AACH;AACD;AACI5S,2BAAWvD,GAAX,uBAA6B7E,KAAKkI,MAAlC;AACA;AACJ;AAA0B;AAAA,wBACdqX,YADc,GACWvf,IADX,CACduf,YADc;AAAA,wBACArX,MADA,GACWlI,IADX,CACAkI,MADA;;;AAGtB,wBAAIqX,eAAe,CAAC,CAAhB,IAAqBrX,OAAOjF,MAAP,GAAgB,CAArC,IAA0Csc,eAAerX,OAAOjF,MAApE,EAA4E;AACxEmF,mCAAWvD,GAAX,CAAe,mBAAf,EAAoC+I,SAAS2R,YAAT,CAApC;AACH;AACD;AACH;AACD,iBAAK,eAAL;AACInX,2BAAWvD,GAAX,CAAe,eAAf,EAAgC,SAAc,EAAd,EAAkB7E,IAAlB,CAAhC;AACA;AACJ;AACI;AA/ER;;AAkFAktB,wBAAgB3tB,OAAhB,CAAwBkB,IAAxB,EAA8BuE,KAA9B;AACH,KAzFD;AA0FH;;AAEM,SAASgrB,uBAAT,CAAiClxB,KAAjC,EAAwC+wB,iBAAxC,EAA2D;AAC9D,WAAO,UAAUpvB,IAAV,EAAgBT,IAAhB,EAAsB;AACzB,gBAAQS,IAAR;AACI,iBAAK,eAAL;AAAsB;AAClB,wBAAM6G,YAAatH,KAAKK,KAAL,KAAe,QAAlC;AACAvB,0BAAM+F,GAAN,CAAU,eAAV,EAA2ByC,SAA3B;AACAxI,0BAAM+F,GAAN,CAAU,cAAV,EAA0ByC,SAA1B;AACH;AACG;AACJ,iBAAK,cAAL;AACIxI,sBAAM+F,GAAN,CAAU,cAAV,EAA0B,IAA1B;AACA;AACJ,iBAAK,gBAAL;AACI/F,sBAAM+F,GAAN,CAAU,cAAV,EAA0B,KAA1B;AACA;AACJ;AACI/F,sBAAM+F,GAAN,CAAUpE,IAAV,EAAgBT,KAAKS,IAAL,CAAhB;AACA;AACJ;AACI,oBAAI,CAAC3B,MAAMK,GAAN,CAAU,gBAAV,CAAL,EAAkC;AAC9B;AACAL,0BAAM+F,GAAN,CAAUpE,IAAV,EAAgBT,KAAKS,IAAL,CAAhB;AACH;AACD;AACJ;AACI3B,sBAAM+F,GAAN,CAAU,cAAV,EAA0B7E,KAAK+H,YAA/B;AACA;AACJ;AAAiB;AACb,6BAAcjJ,MAAMK,GAAN,CAAU,UAAV,CAAd,EAAqCa,KAAKuW,QAA1C;AACA;AACH;AACD;AACIzX,sBAAMyoB,mBAAN,CAA0BvnB,KAAKgb,cAA/B,EAA+Chb,KAAKya,MAApD;AACA;AACJ,iBAAK,uBAAL;AACI3b,sBAAMqQ,yBAAN,CAAgCnP,KAAKuf,YAArC,EAAmDvf,KAAKkI,MAAxD;AACA;AACJ;AACA;AACA;AACA;AACA,iBAAK,iBAAL;AACA,iBAAK,qBAAL;AACIpJ,sBAAMS,OAAN,CAAckB,IAAd,EAAoBT,IAApB;AACA;AACJ;AA3CJ;;AA8CA6vB,0BAAkBtwB,OAAlB,CAA0BkB,IAA1B,EAAgCT,IAAhC;AACH,KAhDD;AAiDH,C;;;;;;;;;;;;;;;;;kBC3IuBowB,gB;;AAXxB;;AAEA;AACA;AACA,SAASC,iBAAT,CAA2B9qB,QAA3B,EAAqC;AACjC,QAAIA,uCAA+BA,gCAAnC,EAA6D;AACzD;AACH;AACD,WAAOA,QAAP;AACH;;AAEc,SAAS6qB,gBAAT,CAA0BtxB,KAA1B,EAAiCyG,QAAjC,EAA2C+qB,QAA3C,EAAqD;AAChE/qB,eAAW8qB,kBAAkB9qB,QAAlB,CAAX;AACA+qB,eAAWD,kBAAkBC,QAAlB,CAAX;AACA;AACA,QAAI/qB,aAAa+qB,QAAjB,EAA2B;AACvB;AACA;AACA,YAAIC,YAAYhrB,SAASirB,OAAT,CAAiB,YAAjB,EAA+B,EAA/B,CAAhB;AACA,YAAIpwB,MAAM;AACNK,kBAAM8vB,SADA;AAENhrB,sBAAUA,QAFJ;AAGN+qB,sBAAUA,QAHJ;AAINnzB,oBAAQ2B,MAAMsJ,UAAN,CAAiBjJ,GAAjB,CAAqB,YAArB;AAJF,SAAV;AAMA;AACA,YAAIoxB,cAAc,MAAlB,EAA0B;AACtBnwB,gBAAImM,UAAJ,GAAiBzN,MAAMK,GAAN,CAAU,YAAV,CAAjB;AACH,SAFD,MAEO,IAAIoxB,cAAc,OAAlB,EAA2B;AAC9BnwB,gBAAImN,WAAJ,GAAkBzO,MAAMK,GAAN,CAAU,aAAV,CAAlB;AACH;AACD,aAAKI,OAAL,CAAagxB,SAAb,EAAwBnwB,GAAxB;AACH;AACJ,C;;;;;;;;;;;;;;;;;;kBCjCe,YAAW;AACvB,QAAI,YAAY6D,QAAhB,EAA0B;AACtB,eAAO,YAAY;AACf,mBAAO,CAACA,SAASwsB,MAAjB;AACH,SAFD;AAGH;AACD,QAAI,kBAAkBxsB,QAAtB,EAAgC;AAC5B,eAAO,YAAY;AACf,mBAAO,CAACA,SAASysB,YAAjB;AACH,SAFD;AAGH;AACD;AACA,WAAO,YAAY;AACf,eAAO,IAAP;AACH,KAFD;AAGH,CAfe,E;;;;;;;;;;;;;;;;;QCOAC,Q,GAAAA,Q;QAMAC,S,GAAAA,S;QAiBAC,gB,GAAAA,gB;;AA9BhB;;;;AACA;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;AAEO,SAASF,QAAT,CAAkBxoB,KAAlB,EAAyB2oB,cAAzB,EAAyCC,YAAzC,EAAuD;AAC1D5oB,UAAM6oB,GAAN,GAAY,kBAAMC,IAAN,CAAW9oB,MAAMoT,IAAjB,EAAuB,UAASyV,GAAT,EAAc;AAC7CE,mBAAWF,GAAX,EAAgB7oB,KAAhB,EAAuB2oB,cAAvB,EAAuCC,YAAvC;AACH,KAFW,EAETA,YAFS,CAAZ;AAGH;;AAEM,SAASH,SAAT,CAAmB1oB,MAAnB,EAA2B;AAC9B,QAAIA,MAAJ,EAAY;AACRA,eAAOxL,OAAP,CAAe,iBAAS;AACpB,gBAAIs0B,MAAM7oB,MAAM6oB,GAAhB;AACA,gBAAIA,GAAJ,EAAS;AACLA,oBAAIG,MAAJ,GAAa,IAAb;AACAH,oBAAII,kBAAJ,GAAyB,IAAzB;AACAJ,oBAAIK,OAAJ,GAAc,IAAd;AACA,oBAAI,WAAWL,GAAf,EAAoB;AAChBA,wBAAIM,KAAJ;AACH;AACJ;AACD,mBAAOnpB,MAAM6oB,GAAb;AACH,SAXD;AAYH;AACJ;;AAEM,SAASH,gBAAT,CAA0Bld,IAA1B,EAAgC;AACnC;AACA,WAAOA,KAAKiH,GAAL,CAAS;AAAA,eAAO,qBAAW2W,IAAI5K,KAAf,EAAsB4K,IAAIlX,GAA1B,EAA+BkX,IAAI/K,IAAnC,CAAP;AAAA,KAAT,CAAP;AACH;;AAED,SAAS0K,UAAT,CAAoBF,GAApB,EAAyB7oB,KAAzB,EAAgC2oB,cAAhC,EAAgDC,YAAhD,EAA8D;AAC1D,QAAIS,UAAUR,IAAIS,WAAJ,GAAkBT,IAAIS,WAAJ,CAAgBC,UAAlC,GAA+C,IAA7D;AACA,QAAI/d,IAAJ;AACA,QAAIge,OAAJ;;AAEA;AACA,QAAIH,OAAJ,EAAa;AACT,YAAI,wBAAUA,OAAV,MAAuB,KAA3B,EAAkC;AAC9BA,sBAAUA,QAAQI,WAAlB;AACH;AACD;AACA,eAAOJ,QAAQK,QAAR,KAAqBL,QAAQM,YAApC,EAAkD;AAC9CN,sBAAUA,QAAQI,WAAlB;AACH;AACJ;;AAED,QAAI;AACA,YAAIJ,WAAW,wBAAUA,OAAV,MAAuB,IAAtC,EAA4C;AACxC;AACA7d,mBAAO,oBAAKqd,IAAIS,WAAT,CAAP;AACAE,sBAAUd,iBAAiBld,IAAjB,CAAV;AACA,mBAAOxL,MAAM6oB,GAAb;AACAF,2BAAea,OAAf;AACH,SAND,MAMO;AACH;AACA,gBAAII,eAAef,IAAIe,YAAvB;AACA,gBAAIA,aAAa3N,OAAb,CAAqB,QAArB,KAAkC,CAAtC,EAAyC;AACrC;AACA4N,gCAAgBtmB,IAAhB,CAAqB,qBAAa;AAC9B,wBAAIqa,SAAS,IAAIkM,SAAJ,CAAcjnB,MAAd,CAAb;AACA2mB,8BAAU,EAAV;AACA5L,2BAAOmM,KAAP,GAAe,UAASX,GAAT,EAAc;AACzBI,gCAAQ3e,IAAR,CAAaue,GAAb;AACH,qBAFD;;AAIAxL,2BAAOoM,OAAP,GAAiB,YAAW;AACxB,+BAAOhqB,MAAM6oB,GAAb;AACAF,uCAAea,OAAf;AACH,qBAHD;;AAKA;AACA5L,2BAAOqM,KAAP,CAAaL,YAAb;AACH,iBAdD,EAcGxmB,KAdH,CAcS,iBAAS;AACd,2BAAOpD,MAAM6oB,GAAb;AACAD,iCAAavlB,KAAb;AACH,iBAjBD;AAkBH,aApBD,MAoBO;AACH;AACAmI,uBAAO,mBAAIoe,YAAJ,CAAP;AACAJ,0BAAUd,iBAAiBld,IAAjB,CAAV;AACA,uBAAOxL,MAAM6oB,GAAb;AACAF,+BAAea,OAAf;AACH;AACJ;AACJ,KAtCD,CAsCE,OAAOnmB,KAAP,EAAc;AACZ,eAAOrD,MAAM6oB,GAAb;AACAD,qBAAavlB,KAAb;AACH;AACJ;;AAED,SAASwmB,aAAT,GAAyB;AACrB,WAAO,mEAA+C,UAAU11B,OAAV,EAAmB;AACrE,eAAO,mBAAAA,CAAQ,oCAAR,EAAsC4e,OAA7C;AACH,KAFM,2EAAP;AAGH,C;;;;;;;;;;;;;;;;;QCnGemX,Q,GAAAA,Q;QAWAC,W,GAAAA,W;AAXT,SAASD,QAAT,CAAkBlqB,KAAlB,EAAyBoqB,WAAzB,EAAsC;AACzC,QAAIC,OAAJ;AACA,QAAIC,SAAStqB,MAAMuqB,IAAN,IAAc,IAA3B;AACA,QAAIvqB,MAAM+S,OAAN,IAAiB/S,MAAMwqB,YAA3B,EAAyC;AACrCH,kBAAU,SAAV;AACH,KAFD,MAEO;AACHA,kBAAUrqB,MAAMyqB,GAAN,IAAazqB,MAAMoT,IAAnB,IAA4BkX,SAASF,WAA/C;AACH;AACD,WAAOC,OAAP;AACH;;AAEM,SAASF,WAAT,CAAqBnqB,KAArB,EAA4B0qB,YAA5B,EAA0C;AAC7C,QAAI5Y,QAAQ9R,MAAM8R,KAAN,IAAe9R,MAAMiX,IAArB,IAA6BjX,MAAMmX,QAA/C;AACA,QAAI,CAACrF,KAAL,EAAY;AACRA,gBAAQ,YAAR;AACA4Y,wBAAgB,CAAhB;AACA,YAAIA,eAAe,CAAnB,EAAsB;AAClB5Y,qBAAS,OAAO4Y,YAAP,GAAsB,GAA/B;AACH;AACJ;AACD,WAAO,EAAE5Y,OAAOA,KAAT,EAAgB4Y,cAAcA,YAA9B,EAAP;AACH,C;;;;;;;;;;;;;;;;;kBCnBuBC,iB;;AAFxB;;;;;;AAEe,SAASA,iBAAT,CAA2Bha,KAA3B,EAAkC;AAC7C,WAAO,sBAAY,UAAShN,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,YAAI+M,MAAM2D,MAAV,EAAkB;AACd,mBAAO1Q,OAAO,IAAI2S,KAAJ,CAAU,eAAV,CAAP,CAAP;AACH;AACD,YAAMqU,uBAAuB,SAAvBA,oBAAuB,GAAW;AACpCja,kBAAMtU,mBAAN,CAA0B,SAA1B,EAAqCwuB,QAArC;AACAla,kBAAMtU,mBAAN,CAA0B,OAA1B,EAAmCwuB,QAAnC;AACAla,kBAAMtU,mBAAN,CAA0B,OAA1B,EAAmCwuB,QAAnC;AACAla,kBAAMtU,mBAAN,CAA0B,OAA1B,EAAmCwuB,QAAnC;AACH,SALD;AAMA,YAAMA,WAAW,SAAXA,QAAW,CAAS3iB,CAAT,EAAY;AACzB0iB;AACA,gBAAI1iB,EAAE5P,IAAF,KAAW,SAAf,EAA0B;AACtBqL;AACH,aAFD,MAEO;AACHC,uBAAO,IAAI2S,KAAJ,CAAU,8CAA8CrO,EAAE5P,IAAhD,GAAuD,UAAjE,CAAP;AACH;AACJ,SAPD;;AASAqY,cAAMrV,gBAAN,CAAuB,SAAvB,EAAkCuvB,QAAlC;AACAla,cAAMrV,gBAAN,CAAuB,OAAvB,EAAgCuvB,QAAhC;AACAla,cAAMrV,gBAAN,CAAuB,OAAvB,EAAgCuvB,QAAhC;AACAla,cAAMrV,gBAAN,CAAuB,OAAvB,EAAgCuvB,QAAhC;AACH,KAvBM,CAAP;AAwBH,C;;;;;;;;;;;;;;;;;AC3BD;;;;;;;;;;;;;;;;AAgBA,IAAIC,SAASjoB,OAAOioB,MAApB;;AAEA,SAASC,oBAAT,CAA8BC,KAA9B,EAAqC;AACjC,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,eAAO,KAAP;AACH;AACD,QAAMC,mBAAmB;AACrB,YAAI,IADiB;AAErBC,YAAI,IAFiB;AAGrBC,YAAI;AAHiB,KAAzB;AAKA,QAAMC,MAAMH,iBAAiBD,MAAMxP,WAAN,EAAjB,CAAZ;AACA,WAAO4P,MAAMJ,MAAMxP,WAAN,EAAN,GAA4B,KAAnC;AACH;;AAED,SAAS6P,gBAAT,CAA0BL,KAA1B,EAAiC;AAC7B,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,eAAO,KAAP;AACH;AACD,QAAMM,eAAe;AACjBxX,eAAO,IADU;AAEjByX,gBAAQ,IAFS;AAGjBrZ,aAAK,IAHY;AAIjB6D,cAAM,IAJW;AAKjB+L,eAAO;AALU,KAArB;AAOA,QAAM0J,QAAQF,aAAaN,MAAMxP,WAAN,EAAb,CAAd;AACA,WAAOgQ,QAAQR,MAAMxP,WAAN,EAAR,GAA8B,KAArC;AACH;;AAED,IAAI,CAACsP,MAAL,EAAa;AACT,QAAMW,cAAc,MAApB;;AAEAX,aAAS,gBAASxmB,SAAT,EAAoBonB,OAApB,EAA6BrN,IAA7B,EAAmC;AACxC,YAAM+K,MAAM,IAAZ;;AAEA;;;;;AAKA;AACA;AACA;AACAA,YAAIuC,YAAJ,GAAmB,KAAnB;;AAEA;;;;;AAKA,YAAIlB,MAAM,EAAV;AACA,YAAImB,eAAe,KAAnB;AACA,YAAIC,aAAavnB,SAAjB;AACA,YAAIwnB,WAAWJ,OAAf;AACA,YAAIK,QAAQ1N,IAAZ;AACA,YAAI2N,UAAU,IAAd;AACA,YAAIC,YAAY,EAAhB;AACA,YAAIC,eAAe,IAAnB;AACA,YAAIC,QAAQV,WAAZ;AACA,YAAIW,aAAa,OAAjB;AACA,YAAIC,YAAYZ,WAAhB;AACA,YAAIa,QAAQ,GAAZ;AACA,YAAIC,SAAS,QAAb;;AAEAtrB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,IAA3B,EAAiC;AAC7BqD,wBAAY,IADiB;AAE7Bz1B,iBAAK,eAAY;AACb,uBAAOyzB,GAAP;AACH,aAJ4B;AAK7B/tB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClBP,sBAAM,KAAKO,KAAX;AACH;AAP4B,SAAjC;;AAUA/pB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,aAA3B,EAA0C;AACtCqD,wBAAY,IAD0B;AAEtCz1B,iBAAK,eAAY;AACb,uBAAO40B,YAAP;AACH,aAJqC;AAKtClvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClBY,+BAAe,CAAC,CAACZ,KAAjB;AACH;AAPqC,SAA1C;;AAUA/pB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,WAA3B,EAAwC;AACpCqD,wBAAY,IADwB;AAEpCz1B,iBAAK,eAAY;AACb,uBAAO60B,UAAP;AACH,aAJmC;AAKpCnvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,0BAAM,IAAI0B,SAAJ,CAAc,qCAAd,CAAN;AACH;AACDb,6BAAab,KAAb;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AAXmC,SAAxC;;AAcA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,SAA3B,EAAsC;AAClCqD,wBAAY,IADsB;AAElCz1B,iBAAK,eAAY;AACb,uBAAO80B,QAAP;AACH,aAJiC;AAKlCpvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,0BAAM,IAAI0B,SAAJ,CAAc,mCAAd,CAAN;AACH;AACDZ,2BAAWd,KAAX;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AAXiC,SAAtC;;AAcA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,MAA3B,EAAmC;AAC/BqD,wBAAY,IADmB;AAE/Bz1B,iBAAK,eAAY;AACb,uBAAO+0B,KAAP;AACH,aAJ8B;AAK/BrvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClBe,wBAAQ,KAAKf,KAAb;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AAR8B,SAAnC;;AAWA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,QAA3B,EAAqC;AACjCqD,wBAAY,IADqB;AAEjCz1B,iBAAK,eAAY;AACb,uBAAOg1B,OAAP;AACH,aAJgC;AAKjCtvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClBgB,0BAAUhB,KAAV;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AARgC,SAArC;;AAWA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,UAA3B,EAAuC;AACnCqD,wBAAY,IADuB;AAEnCz1B,iBAAK,eAAY;AACb,uBAAOi1B,SAAP;AACH,aAJkC;AAKnCvvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAM2B,UAAU5B,qBAAqBC,KAArB,CAAhB;AACA;AACA,oBAAI2B,YAAY,KAAhB,EAAuB;AACnB,0BAAM,IAAIC,WAAJ,CAAgB,6CAAhB,CAAN;AACH;AACDX,4BAAYU,OAAZ;AACA,qBAAKhB,YAAL,GAAoB,IAApB;AACH;AAbkC,SAAvC;;AAgBA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,aAA3B,EAA0C;AACtCqD,wBAAY,IAD0B;AAEtCz1B,iBAAK,eAAY;AACb,uBAAOk1B,YAAP;AACH,aAJqC;AAKtCxvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClBkB,+BAAe,CAAC,CAAClB,KAAjB;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AARqC,SAA1C;;AAWA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,MAA3B,EAAmC;AAC/BqD,wBAAY,IADmB;AAE/Bz1B,iBAAK,eAAY;AACb,uBAAOm1B,KAAP;AACH,aAJ8B;AAK/BzvB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,UAAUS,WAA3C,EAAwD;AACpD,0BAAM,IAAImB,WAAJ,CAAgB,oDAAhB,CAAN;AACH;AACDT,wBAAQnB,KAAR;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AAX8B,SAAnC;;AAcA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,WAA3B,EAAwC;AACpCqD,wBAAY,IADwB;AAEpCz1B,iBAAK,eAAY;AACb,uBAAOo1B,UAAP;AACH,aAJmC;AAKpC1vB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAM2B,UAAUtB,iBAAiBL,KAAjB,CAAhB;AACA,oBAAI,CAAC2B,OAAL,EAAc;AACV,0BAAM,IAAIC,WAAJ,CAAgB,6CAAhB,CAAN;AACH;AACDR,6BAAaO,OAAb;AACA,qBAAKhB,YAAL,GAAoB,IAApB;AACH;AAZmC,SAAxC;;AAeA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,UAA3B,EAAuC;AACnCqD,wBAAY,IADuB;AAEnCz1B,iBAAK,eAAY;AACb,uBAAOq1B,SAAP;AACH,aAJkC;AAKnC3vB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAIA,QAAQ,CAAR,IAAaA,QAAQ,GAAzB,EAA8B;AAC1B,0BAAM,IAAIzU,KAAJ,CAAU,qCAAV,CAAN;AACH;AACD8V,4BAAYrB,KAAZ;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AAXkC,SAAvC;;AAcA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,MAA3B,EAAmC;AAC/BqD,wBAAY,IADmB;AAE/Bz1B,iBAAK,eAAY;AACb,uBAAOs1B,KAAP;AACH,aAJ8B;AAK/B5vB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAIA,QAAQ,CAAR,IAAaA,QAAQ,GAAzB,EAA8B;AAC1B,0BAAM,IAAIzU,KAAJ,CAAU,iCAAV,CAAN;AACH;AACD+V,wBAAQtB,KAAR;AACA,qBAAKW,YAAL,GAAoB,IAApB;AACH;AAX8B,SAAnC;;AAcA1qB,eAAOurB,cAAP,CAAsBpD,GAAtB,EAA2B,OAA3B,EAAoC;AAChCqD,wBAAY,IADoB;AAEhCz1B,iBAAK,eAAY;AACb,uBAAOu1B,MAAP;AACH,aAJ+B;AAKhC7vB,iBAAK,aAAUsuB,KAAV,EAAiB;AAClB,oBAAM2B,UAAUtB,iBAAiBL,KAAjB,CAAhB;AACA,oBAAI,CAAC2B,OAAL,EAAc;AACV,0BAAM,IAAIC,WAAJ,CAAgB,6CAAhB,CAAN;AACH;AACDL,yBAASI,OAAT;AACA,qBAAKhB,YAAL,GAAoB,IAApB;AACH;AAZ+B,SAApC;;AAeA;;;;AAIA;AACAvC,YAAIyD,YAAJ,GAAmBlwB,SAAnB;AACH,KA/MD;;AAiNA;;;;AAIAmuB,WAAOxtB,SAAP,CAAiBwvB,YAAjB,GAAgC,YAAY;AACxC;AACA,YAAMC,SAASlqB,OAAOkqB,MAAtB;AACA,eAAOA,OAAOC,mBAAP,CAA2BnqB,MAA3B,EAAmC,KAAKwb,IAAxC,CAAP;AACH,KAJD;AAKH;;kBAEcyM,M;;;;;;;;;;;;;;;;;;kBCzQSmC,I;;AAJxB;;AAEA;;AAEe,SAASA,IAAT,CAAcC,MAAd,EAAsB;AACjCC,aAASD,MAAT;AACA,QAAInvB,YAAY,EAAhB;AACA,QAAIqvB,aAAaF,OAAOG,oBAAP,CAA4B,GAA5B,CAAjB;AACA;AACA,QAAIC,YAAY,EAAhB;AACA,QAAIC,KAAKL,OAAOG,oBAAP,CAA4B,IAA5B,CAAT;AACA,QAAIE,MAAMA,GAAG,CAAH,CAAV,EAAiB;AACb,YAAIC,kBAAkBC,WAAWF,GAAG,CAAH,EAAMG,YAAN,CAAmB,eAAnB,CAAX,CAAtB;AACA,YAAI,CAACzb,MAAMub,eAAN,CAAL,EAA6B;AACzBF,wBAAYE,eAAZ;AACH;AACJ;AACDL,aAASC,UAAT;AACA,QAAI,CAACA,WAAWtyB,MAAhB,EAAwB;AACpBsyB,qBAAaF,OAAOG,oBAAP,CAA4B,MAA5B,CAAb;AACA,YAAI,CAACD,WAAWtyB,MAAhB,EAAwB;AACpBsyB,yBAAaF,OAAOG,oBAAP,CAA4B,OAA5B,CAAb;AACH;AACJ;;AAED,SAAK,IAAI3a,IAAI,CAAb,EAAgBA,IAAI0a,WAAWtyB,MAA/B,EAAuC4X,GAAvC,EAA4C;AACxC,YAAIib,IAAIP,WAAW1a,CAAX,CAAR;;AAEA,YAAIkb,SAASD,EAAEN,oBAAF,CAAuB,IAAvB,CAAb;AACA,aAAK,IAAIQ,IAAI,CAAb,EAAgBA,IAAID,OAAO9yB,MAA3B,EAAmC+yB,GAAnC,EAAwC;AACpC,gBAAIC,IAAIF,OAAOC,CAAP,CAAR;AACAC,cAAE5xB,UAAF,CAAa6xB,YAAb,CAA0Bb,OAAOc,cAAP,CAAsB,MAAtB,CAA1B,EAAyDF,CAAzD;AACH;;AAED,YAAIG,UAAWN,EAAEO,SAAF,IAAeP,EAAErJ,WAAjB,IAAgCqJ,EAAEtP,IAAlC,IAA0C,EAAzD;AACA,YAAIA,OAAO,mBAAK4P,OAAL,EAAc5F,OAAd,CAAsB,QAAtB,EAAgC,IAAhC,EAAsCA,OAAtC,CAA8C,cAA9C,EAA8D,IAA9D,EAAoEA,OAApE,CAA4E,YAA5E,EAA0F,MAA1F,CAAX;AACA,YAAIhK,IAAJ,EAAU;AACN,gBAAIG,QAAQmP,EAAED,YAAF,CAAe,OAAf,CAAZ;AACA,gBAAIS,MAAMR,EAAED,YAAF,CAAe,KAAf,CAAV;AACA,gBAAIxb,MAAMyb,EAAED,YAAF,CAAe,KAAf,CAAV;;AAEA,gBAAIvP,QAAQ;AACRK,uBAAO,sBAAQA,KAAR,EAAe8O,SAAf,CADC;AAERjP,sBAAMA;AAFE,aAAZ;AAIA,gBAAInM,GAAJ,EAAS;AACLiM,sBAAMjM,GAAN,GAAY,sBAAQA,GAAR,EAAaob,SAAb,CAAZ;AACH,aAFD,MAEO,IAAIa,GAAJ,EAAS;AACZhQ,sBAAMjM,GAAN,GAAYiM,MAAMK,KAAN,GAAc,sBAAQ2P,GAAR,EAAab,SAAb,CAA1B;AACH;AACDvvB,sBAAU8M,IAAV,CAAesT,KAAf;AACH;AACJ;AACD,QAAI,CAACpgB,UAAUjD,MAAf,EAAuB;AACnBszB;AACH;AACD,WAAOrwB,SAAP;AACH;;AAED,SAASovB,QAAT,CAAkBkB,MAAlB,EAA0B;AACtB,QAAI,CAACA,MAAL,EAAa;AACTD;AACH;AACJ;;AAED,SAASA,UAAT,GAAsB;AAClB,UAAM,IAAI7X,KAAJ,CAAU,mBAAV,CAAN;AACH,C;;;;;;;;;;;;;;;;;;;;;;;ACnED;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,SAAS8H,IAAT,CAAcpH,IAAd,EAAoBqX,IAApB,EAA0B;AACtB,QAAM13B,UAAUkF,SAASjF,aAAT,CAAuB,MAAvB,CAAhB;AACAD,YAAQE,SAAR,GAAoB,sBAAsBmgB,IAA1C;AACA,QAAIqX,IAAJ,EAAU;AACN13B,gBAAQsd,YAAR,CAAqB,MAArB,EAA6Boa,IAA7B;AACH;AACD,WAAO13B,OAAP;AACH;;AAED,SAAS23B,QAAT,CAAkBtX,IAAlB,EAAwBqX,IAAxB,EAA8B;AAC1B,QAAM13B,UAAUkF,SAASjF,aAAT,CAAuB,KAAvB,CAAhB;AACAD,YAAQE,SAAR,GAAoB,6CAA6CmgB,IAAjE;AACA,QAAIqX,IAAJ,EAAU;AACN13B,gBAAQsd,YAAR,CAAqB,MAArB,EAA6Boa,IAA7B;AACH;AACD,WAAO13B,OAAP;AACH;;AAED,SAASP,GAAT,CAAam4B,OAAb,EAAsB;AAClB,QAAM53B,UAAUkF,SAASjF,aAAT,CAAuB,KAAvB,CAAhB;AACAD,YAAQE,SAAR,iBAAgC03B,OAAhC;AACA,WAAO53B,OAAP;AACH;;AAED,SAAS63B,gBAAT,CAA0BC,UAA1B,EAAsCC,YAAtC,EAAoD;;AAEhD,QAAI,qBAAQ1hB,MAAZ,EAAoB;AAChB,YAAM2hB,gBAAgB,sBAClB,wBADkB,EAElBF,UAFkB,EAGlBC,aAAaE,OAHK,EAIlB,uBAAW,wBAAX,CAJkB,CAAtB;;AAMA,0CAAcD,cAAch4B,OAAd,EAAd,EAAuC,SAAvC,EAAkD+3B,aAAaE,OAA/D;;AAEA,eAAOD,aAAP;AACH;;AAED,QAAI,CAAC,qBAAQ1hB,MAAT,IAAmB,gBAAGnH,GAA1B,EAA+B;AAC3B;AACH;;AAGD,QAAM+oB,aAAahzB,SAASjF,aAAT,CAAuB,QAAvB,EAAiC,oBAAjC,CAAnB;AACAi4B,eAAW5a,YAAX,CAAwB,MAAxB,EAAgC,QAAhC;AACA4a,eAAW5a,YAAX,CAAwB,UAAxB,EAAoC,IAApC;;AAEA,QAAMtd,WAAUkF,SAASjF,aAAT,CAAuB,KAAvB,CAAhB;AACAD,aAAQE,SAAR,GAAoB,8DAApB;AACAF,aAAQ2mB,KAAR,CAAcrmB,OAAd,GAAwB,MAAxB;AACAN,aAAQ2mB,KAAR,CAAcwR,MAAd,GAAuB,SAAvB;AACAn4B,aAAQ9B,WAAR,CAAoBg6B,UAApB;AACA,wBAAUl4B,QAAV,EAAmB+3B,aAAaK,IAAhC;;AAEA,sCAAcp4B,QAAd,EAAuB,YAAvB,EAAqC+3B,aAAaK,IAAlD;;AAEA,WAAO;AACHp4B,iBAAS,mBAAW;AAChB,mBAAOA,QAAP;AACH,SAHE;AAIH6mB,gBAAQ,gBAASC,CAAT,EAAY;AAChB,gBAAIA,CAAJ,EAAO;AACH,qBAAKxkB,IAAL;AACH,aAFD,MAEO;AACH,qBAAK0D,IAAL;AACH;AACJ,SAVE;AAWH1D,cAAM,gBAAW;AACbtC,qBAAQ2mB,KAAR,CAAcrmB,OAAd,GAAwB,EAAxB;AACH,SAbE;AAcH0F,cAAM,gBAAW;AACbhG,qBAAQ2mB,KAAR,CAAcrmB,OAAd,GAAwB,MAAxB;AACH,SAhBE;AAiBH0T,gBAAQkkB;AAjBL,KAAP;AAmBH;;AAED,SAAS/5B,iBAAT,GAA6B;AACzB,WAAO,EAAEC,QAAQ,aAAV,EAAP;AACH;;AAED,SAASi6B,yBAAT,CAAmCC,QAAnC,EAA6CC,QAA7C,EAAuD;AACnD,WAAOD,SAASlkB,MAAT,CAAgB;AAAA,eACnB,CAACmkB,SAASC,IAAT,CAAc;AAAA,mBAAMtB,EAAExjB,EAAF,GAAOwjB,EAAEvjB,QAAT,KAAsB8kB,EAAE/kB,EAAF,GAAO+kB,EAAE9kB,QAAhC,IAA6C8kB,EAAEhlB,QAAF,KAAeyjB,EAAEzjB,QAAnE;AAAA,SAAd,CADkB;AAAA,KAAhB,CAAP;AAEH;;AAED,IAAMilB,iBAAiB,SAAjBA,cAAiB,CAACva,SAAD,EAAYpc,QAAZ,EAAyB;AAC5CA,aAASpE,OAAT,CAAiB,aAAK;AAClB,YAAI2T,EAAEtR,OAAN,EAAe;AACXsR,gBAAIA,EAAEtR,OAAF,EAAJ;AACH;AACDme,kBAAUjgB,WAAV,CAAsBoT,CAAtB;AACH,KALD;AAMH,CAPD;;IASqBqnB,U;AACjB,wBAAY/xB,IAAZ,EAAkBzE,MAAlB,EAA0B;AAAA;;AAAA;;AACtB,iBAAc,IAAd;AACA,aAAKyE,IAAL,GAAYA,IAAZ;AACA,aAAKzE,MAAL,GAAcA,MAAd;AACA,aAAKy2B,SAAL,GAAiB,gBAAGn7B,MAApB;AACA,YAAMs6B,eAAe51B,OAAO/B,GAAP,CAAW,cAAX,CAArB;AACA,YAAMy4B,aAAa,yBAAe12B,MAAf,EAAuByE,IAAvB,CAAnB;AACA,YAAIkyB,sBAAJ;AACA,YAAIC,mBAAJ;;AAEA,YAAMl3B,OAAOk2B,aAAal2B,IAA1B;AACA,YAAMoP,OAAO8mB,aAAa9mB,IAA1B;AACA,YAAMrI,MAAMmvB,aAAalvB,MAAzB;AACA,YAAMmwB,SAASjB,aAAaiB,MAA5B;;AAEA;AACA,YAAI,CAAC72B,OAAO/B,GAAP,CAAW,aAAX,CAAD,IAA8B,EAAE,gBAAG+O,GAAH,IAAU,gBAAGiJ,OAAH,CAAWC,KAAX,GAAmB,EAA/B,CAAlC,EAAsE;AAClE;AACA,gBAAMqO,WAAW,uBAAW,qBAAX,CAAjB;AACAqS,yBAAa,sBAAO,gBAAP,EAAyB,YAAM;AACxCnyB,qBAAKtC,OAAL;AACH,aAFY,EAEVsE,GAFU,EAEL8d,QAFK,CAAb;AAGH;;AAED;AACA,YAAI,CAAC,KAAKkS,SAAV,EAAqB;AACjBE,4BAAgB,4BAAkB32B,MAAlB,EAA0B,gBAA1B,EAA4CyG,GAA5C,EACZ,uBAAW,+BAAX,CADY,CAAhB;AAEH;;AAED,YAAMqwB,aAAa,sBAAO,cAAP,EAAuB,YAAM;AAC5CryB,iBAAKqK,IAAL;AACH,SAFkB,EAEhBA,IAFgB,EAEV,uBAAW,MAAX,CAFU,CAAnB;;AAIA,YAAMnP,iBAAiB,sBAAO,6CAAP,EAAsD,UAACmE,KAAD,EAAW;AACpF,kBAAKzF,OAAL,CAAa,qBAAb,EAAoC,SAApC,EAA+C,IAA/C,EAAqDyF,KAArD;AACH,SAFsB,EAEpB8xB,aAAamB,QAFO,EAEG,uBAAW,UAAX,CAFH,CAAvB;AAGAp3B,uBAAe9B,OAAf,GAAyBsd,YAAzB,CAAsC,eAAtC,EAAuD,MAAvD;;AAEA,YAAM6b,iBAAiB,sBAAO,uCAAP,EAAgD,UAAClzB,KAAD,EAAW;AAC9E,kBAAKzF,OAAL,CAAa,qBAAb,EAAoC,UAApC,EAAgD,KAAhD,EAAuDyF,KAAvD;AACH,SAFsB,EAEpB8xB,aAAaqB,EAFO,EAEH,uBAAW,cAAX,CAFG,CAAvB;AAGAD,uBAAen5B,OAAf,GAAyBsd,YAAzB,CAAsC,eAAtC,EAAuD,MAAvD;;AAEA,YAAM+b,aAAa,sBAAO,cAAP,EAAuB,YAAM;AAC5C,kBAAKC,YAAL;AACH,SAFkB,EAEhBvB,aAAawB,aAFG,CAAnB;AAGAF,mBAAWr5B,OAAX,GAAqB0tB,WAArB,GAAmCqK,aAAawB,aAAhD;;AAEA,YAAMx3B,WAAW,KAAKA,QAAL,GAAgB;AAC7By3B,iBAAK/R,KAAK,aAAL,EAAoB,QAApB,CADwB;AAE7B5lB,kBAAM,sBAAO,kBAAP,EAA2B,YAAM;AACnC+E,qBAAKlG,UAAL,CAAgBvC,mBAAhB;AACH,aAFK,EAEH0D,IAFG,EAEG,uBAAW,YAAX,CAFH,CAFuB;AAK7Bm3B,oBAAQ,sBAAO,gBAAP,EAAyB,YAAM;AACnC,sBAAKA,MAAL;AACH,aAFO,EAELA,MAFK,EAEG,uBAAW,QAAX,CAFH,CALqB;AAQ7BnY,kBAAMwY,UARuB;AAS7BpoB,kBAAMgoB,UATuB;AAU7BQ,qBAAS9B,SAAS,iBAAT,EAA4B,OAA5B,CAVoB;AAW7B+B,uBAAW/B,SAAS,mBAAT,EAA8B,OAA9B,CAXkB;AAY7B1X,kBAAM4Y,UAZuB;AAa7BtvB,sBAAUouB,SAAS,kBAAT,EAA6B,OAA7B,CAbmB;AAc7Bz4B,kBAAM65B,UAduB;AAe7BY,2BAAeb,aAfc;AAgB7BV,kBAAMP,iBAAiB,YAAM;AACzBjxB,qBAAKkxB,UAAL;AACH,aAFK,EAEHC,YAFG,CAhBuB;AAmB7BpvB,wBAAY,sBAAO,oBAAP,EAA6B,YAAM;AAC3C/B,qBAAKtD,aAAL;AACH,aAFW,EAETy0B,aAAapvB,UAFJ,EAEgB,uBAAW,8BAAX,CAFhB,CAnBiB;AAsB7BixB,oBAAQn6B,IAAI,WAAJ,CAtBqB;AAuB7Bo6B,6BAAiBp6B,IAAI,qBAAJ,CAvBY;AAwB7BqC,0CAxB6B;AAyB7Bq3B;AAzB6B,SAAjC;;AA4BA;AACA,YAAMW,cAAc,kCAAcX,eAAen5B,OAAf,EAAd,EAAwC,UAAxC,EAAoD+3B,aAAaqB,EAAjE,CAApB;AACA,YAAMW,oBAAoB,SAApBA,iBAAoB,CAACh6B,KAAD,EAAW;AACjC,gBAAMi6B,kBAAkBj6B,MAAMK,GAAN,CAAU,cAAV,EAA0BL,MAAMK,GAAN,CAAU,eAAV,CAA1B,CAAxB;AACA,gBAAI2tB,UAAUgK,aAAaqB,EAA3B;AACA,gBAAIY,mBAAmBA,gBAAgB9e,KAAhB,KAA0B,KAAjD,EAAwD;AACpD6S,0BAAUiM,gBAAgB9e,KAA1B;AACH;AACD4e,wBAAYhM,OAAZ,CAAoBC,OAApB;AACH,SAPD;;AASA,YAAMkM,YAAY,kCAAcl4B,SAASkP,IAAT,CAAcjR,OAAd,EAAd,EAAuC,MAAvC,EAA+C+3B,aAAa3tB,MAA5D,EAAoE,YAAM;AACxF,gBAAMA,SAASjI,OAAO/B,GAAP,CAAW,QAAX,CAAf;;AAEA,kBAAKI,OAAL,CAAa,WAAb,EAA0B;AACtB2Q,sBAAM/G,OAAO+G,IADS;AAEtBC,oBAAI,QAFkB;AAGtBC,4BAAY,CAACjH,MAAD,CAHU;AAItBS,0BAAUT,OAAOS,QAJK;AAKtBzM,wBAAQ;AALc,aAA1B;AAOH,SAViB,CAAlB;AAWA,0CAAc2D,SAASi3B,MAAT,CAAgBh5B,OAAhB,EAAd,EAAyC,QAAzC,EAAmD+3B,aAAaiB,MAAhE;AACA,0CAAcj3B,SAASD,cAAT,CAAwB9B,OAAxB,EAAd,EAAiD,UAAjD,EAA6D+3B,aAAamB,QAA1E;AACA,0CAAcn3B,SAAS4G,UAAT,CAAoB3I,OAApB,EAAd,EAA6C,YAA7C,EAA2D+3B,aAAapvB,UAAxE;;AAEA;AACA,YAAMuxB,eAAe,CACjBn4B,SAASF,IADQ,EAEjBE,SAASi3B,MAFQ,EAGjBj3B,SAASkP,IAHQ,EAIjBlP,SAAS43B,aAJQ,EAKjB53B,SAAS7C,IALQ,EAMjB6C,SAASy3B,GANQ,EAOjBz3B,SAAS8e,IAPQ,EAQjB9e,SAAS03B,OARQ,EASjB13B,SAAS23B,SATQ,EAUjB33B,SAASwH,QAVQ,EAWjBxH,SAAS63B,MAXQ,EAYjB73B,SAASq2B,IAZQ,EAajBr2B,SAASo3B,cAbQ,EAcjBp3B,SAASD,cAdQ,EAejBC,SAAS4G,UAfQ,EAgBnByL,MAhBmB,CAgBZ;AAAA,mBAAK9C,CAAL;AAAA,SAhBY,CAArB;;AAkBA,YAAM6oB,SAAS,CACXp4B,SAASke,IADE,EAEXle,SAAS83B,eAFE,EAGbzlB,MAHa,CAGN;AAAA,mBAAK9C,CAAL;AAAA,SAHM,CAAf;;AAKA,YAAM8oB,QAAQ,KAAKA,KAAL,GAAa,CACvBr4B,SAAS43B,aADc,EAEzBvlB,MAFyB,CAElB;AAAA,mBAAK9C,CAAL;AAAA,SAFkB,CAA3B;;AAIA,aAAKwa,EAAL,GAAU5mB,SAASjF,aAAT,CAAuB,KAAvB,CAAV;AACA,aAAK6rB,EAAL,CAAQ5rB,SAAR,GAAoB,wBAApB;;AAEAw4B,uBAAe32B,SAAS83B,eAAxB,EAAyCK,YAAzC;AACAxB,uBAAe,KAAK5M,EAApB,EAAwBqO,MAAxB;;AAEA,YAAM36B,OAAO2C,OAAO/B,GAAP,CAAW,MAAX,CAAb;AACA,YAAIZ,QAAQA,KAAKqD,QAAL,KAAkB,aAA9B,EAA6C;AACzC,iBAAKw3B,OAAL,CAAa76B,IAAb;AACH;;AAED;AACAuC,iBAASF,IAAT,CAAcS,IAAd;AACAP,iBAAS4G,UAAT,CAAoBrG,IAApB;AACA,YAAIP,SAAS7C,IAAb,EAAmB;AACf6C,qBAAS7C,IAAT,CAAcoD,IAAd;AACH;;AAED;AACAH,eAAOvB,MAAP,CAAc,QAAd,EAAwB,KAAK05B,QAA7B,EAAuC,IAAvC;AACAn4B,eAAOvB,MAAP,CAAc,MAAd,EAAsB,KAAK25B,MAA3B,EAAmC,IAAnC;AACAp4B,eAAOvB,MAAP,CAAc,UAAd,EAA0B,KAAK45B,UAA/B,EAA2C,IAA3C;AACAr4B,eAAOvB,MAAP,CAAc,UAAd,EAA0B,KAAK65B,SAA/B,EAA0C,IAA1C;AACAt4B,eAAOvB,MAAP,CAAc,YAAd,EAA4B,KAAK85B,YAAjC,EAA+C,IAA/C;AACAv4B,eAAOvB,MAAP,CAAc,YAAd,EAA4B,KAAK+5B,kBAAjC,EAAqD,IAArD;AACAx4B,eAAOvB,MAAP,CAAc,SAAd,EAAyB,UAACb,KAAD,EAAQ66B,OAAR,EAAoB;AACzC,8BAAMj5B,WAAN,CAAkB,MAAKI,QAAL,CAAc8e,IAAd,CAAmB7gB,OAAnB,EAAlB,EAAgD,aAAhD,EAA+D46B,YAAY,KAA3E;AACH,SAFD,EAEG,IAFH;AAGAz4B,eAAOvB,MAAP,CAAc,SAAd,EAAyB,KAAKi6B,UAA9B,EAA0C,IAA1C;AACA14B,eAAOvB,MAAP,CAAc,eAAd,EAA+B,KAAKk6B,aAApC,EAAmD,IAAnD;AACA34B,eAAO5B,EAAP,CAAU,sBAAV,EAAkCw5B,iBAAlC,EAAqD,IAArD;AACA53B,eAAO5B,EAAP,CAAU,qBAAV,EAAiCw5B,iBAAjC,EAAoD,IAApD;AACA53B,eAAOvB,MAAP,CAAc,QAAd,EAAwB,UAACb,KAAD,EAAQqK,MAAR,EAAmB;AACvC,gBAAI2wB,UAAUhD,aAAa3tB,MAA3B;AACA,gBAAIA,UAAUA,OAAO4wB,KAArB,EAA4B;AACxBD,kCAAiB3wB,OAAO4wB,KAAxB;AACH;AACDf,sBAAUnM,OAAV,CAAkBiN,OAAlB;AACAh5B,qBAASkP,IAAT,CAAc4V,MAAd,CAAqB,CAAC,CAACzc,MAAvB;AACH,SAPD;AAQAjI,eAAOvB,MAAP,CAAc,WAAd,EAA2B,KAAKq6B,WAAhC,EAA6C,IAA7C;AACA,YAAIl5B,SAASq2B,IAAb,EAAmB;AACfj2B,mBAAOvB,MAAP,CAAc,eAAd,EAA+B,KAAKs6B,eAApC,EAAqD,IAArD;AACA/4B,mBAAOvB,MAAP,CAAc,YAAd,EAA4B,KAAKu6B,YAAjC,EAA+C,IAA/C;AACH;;AAED;AACA;AACA,YAAIp5B,SAAS43B,aAAb,EAA4B;AACxB53B,qBAAS43B,aAAT,CAAuBp5B,EAAvB,CAA0B,QAA1B,EAAoC,UAAU66B,GAAV,EAAe;AAC/C,oBAAMC,MAAMD,IAAI9O,UAAhB;AACA,qBAAK1lB,IAAL,CAAUxD,SAAV,CAAoBi4B,GAApB;AACH,aAHD,EAGG,IAHH;AAIAt5B,qBAAS43B,aAAT,CAAuBp5B,EAAvB,CAA0B,aAA1B,EAAyC,YAAY;AACjD,qBAAKqG,IAAL,CAAUtC,OAAV;AACH,aAFD,EAEG,IAFH;AAGH;;AAED,YAAIvC,SAASq2B,IAAT,IAAiBr2B,SAASq2B,IAAT,CAAcpkB,MAAnC,EAA2C;AACvC,6BAAOjS,SAASq2B,IAAT,CAAcp4B,OAAd,EAAP,EAAgCO,EAAhC,CAAmC,iBAAnC,EAAsD,UAASc,GAAT,EAAc;AAChE;AACA;AACA,oBAAIA,IAAIK,IAAJ,KAAa,OAAjB,EAA0B;AACtBK,6BAASq2B,IAAT,CAAcpkB,MAAd,CAAqBsnB,KAArB;AACH;AACD,qBAAKn5B,MAAL,CAAY2D,GAAZ,CAAgB,aAAhB,EAA+B,IAA/B;AACH,aAPD,EAOG,IAPH;AAQH;;AAED,yBAAO/D,SAASwH,QAAhB,EAA0BhJ,EAA1B,CAA6B,iBAA7B,EAAgD,YAAY;AACxD,gBAAI,KAAK4B,MAAL,CAAY/B,GAAZ,CAAgB,YAAhB,MAAkC,KAAtC,EAA6C;AACzC;AACA,oBAAMm7B,kBAAkB,KAAKp5B,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAxB;AACA,qBAAKwG,IAAL,CAAU3D,IAAV,CAAeH,KAAKF,GAAL,0BAAuB24B,eAAvB,CAAf,EAAwDp9B,mBAAxD;AACH;AACJ,SAND,EAMG,IANH;;AAQA;AACA,yBAAO,KAAK2tB,EAAZ,EAAgBvrB,EAAhB,CAAmB,gBAAnB,EAAqC,YAAY;AAC7C,iBAAKC,OAAL;AACH,SAFD,EAEG,IAFH;AAGA,6BAAEg7B,IAAF,CAAOpB,KAAP,EAAc,UAAUqB,GAAV,EAAe;AACzBA,gBAAIl7B,EAAJ,CAAO,cAAP,EAAuB,KAAKm7B,UAA5B,EAAwC,IAAxC;AACH,SAFD,EAEG,IAFH;AAGH;;;;iCAEQ37B,K,EAAOq7B,G,EAAK;AACjB,iBAAK74B,YAAL,CAAkBxC,MAAMK,GAAN,CAAU,MAAV,CAAlB,EAAqCg7B,GAArC;AACH;;;+BAEMr7B,K,EAAOgO,K,EAAO;AACjB,iBAAKxL,YAAL,CAAkBwL,KAAlB,EAAyBhO,MAAMK,GAAN,CAAU,QAAV,CAAzB;AACH;;;qCAEY2N,K,EAAOnF,G,EAAK;AACrB;AACA,gBAAI,KAAK7G,QAAL,CAAc7C,IAAlB,EAAwB;AACpB,kCAAMyC,WAAN,CAAkB,KAAKI,QAAL,CAAc7C,IAAd,CAAmBc,OAAnB,EAAlB,EAAgD,QAAhD,EAA0D+N,KAA1D;AACA,kCAAMpM,WAAN,CAAkB,KAAKI,QAAL,CAAc7C,IAAd,CAAmBc,OAAnB,EAAlB,EAAgD,SAAhD,EAA2D,CAAC+N,KAA5D;AACH;AACD,gBAAI,KAAKhM,QAAL,CAAc43B,aAAlB,EAAiC;AAC7B,qBAAK53B,QAAL,CAAc43B,aAAd,CAA4BgC,YAA5B,CAAyCjP,MAAzC,CAAgD3e,QAAQ,CAAR,GAAYnF,GAA5D;AACA,kCAAMjH,WAAN,CAAkB,KAAKI,QAAL,CAAc43B,aAAd,CAA4B35B,OAA5B,EAAlB,EAAyD,QAAzD,EAAmE+N,KAAnE;AACA,kCAAMpM,WAAN,CAAkB,KAAKI,QAAL,CAAc43B,aAAd,CAA4B35B,OAA5B,EAAlB,EAAyD,SAAzD,EAAoE4I,OAAO,EAAP,IAAa,CAACmF,KAAlF;AACH;AACJ;;;wCAEehO,K,EAAOs7B,G,EAAK;AACxB,iBAAKt5B,QAAL,CAAcq2B,IAAd,CAAmBvR,MAAnB,CAA0BwU,GAA1B;AACH;;;qCAEYt7B,K,EAAOs7B,G,EAAK;AACrB,iBAAKt5B,QAAL,CAAc4G,UAAd,CAAyBke,MAAzB,CAAgC,CAACwU,GAAjC;AACA,gBAAI,KAAKt5B,QAAL,CAAcq2B,IAAd,CAAmBpkB,MAAvB,EAA+B;AAC3B,kCAAMrS,WAAN,CAAkB,KAAKI,QAAL,CAAcq2B,IAAd,CAAmBpkB,MAArC,EAA6C,QAA7C,EAAuD,CAACqnB,GAAxD;AACH;AACJ;;;kCAESt7B,K,EAAO8C,Q,EAAU;AACvB,gBAAI+4B,oBAAJ;AACA,gBAAIC,sBAAJ;AACA,gBAAMtyB,WAAWxJ,MAAMK,GAAN,CAAU,UAAV,CAAjB;AACA,gBAAIL,MAAMK,GAAN,CAAU,YAAV,MAA4B,KAAhC,EAAuC;AACnC,oBAAMm7B,kBAAkBz4B,KAAKkc,IAAL,CAAUnc,QAAV,CAAxB;AACA+4B,8BAAcC,gBAAgBN,6CAAkC,EAAlC,GAAuC,MAAM,kBAAMO,UAAN,CAAiB,CAACj5B,QAAlB,CAA3E;AACA9C,sBAAM+F,GAAN,CAAU,SAAV,EAAqBy1B,0CAArB;AACH,aAJD,MAIO;AACHK,8BAAc,kBAAME,UAAN,CAAiBj5B,QAAjB,CAAd;AACAg5B,gCAAgB,kBAAMC,UAAN,CAAiBvyB,WAAW1G,QAA5B,CAAhB;AACH;AACD,iBAAKd,QAAL,CAAc03B,OAAd,CAAsB/L,WAAtB,GAAoCkO,WAApC;AACA,iBAAK75B,QAAL,CAAc23B,SAAd,CAAwBhM,WAAxB,GAAsCmO,aAAtC;AACH;;;mCAEU97B,K,EAAOs7B,G,EAAK;AACnB,iBAAKt5B,QAAL,CAAcwH,QAAd,CAAuBmkB,WAAvB,GAAqC,kBAAMoO,UAAN,CAAiBh5B,KAAK2b,GAAL,CAAS4c,GAAT,CAAjB,CAArC;AACH;;;qCAEYt7B,K,EAAOs7B,G,EAAK;AACrB,8BAAM15B,WAAN,CAAkB,KAAKI,QAAL,CAAc4G,UAAd,CAAyB3I,OAAzB,EAAlB,EAAsD,QAAtD,EAAgEq7B,GAAhE;AACA,iBAAKt5B,QAAL,CAAcF,IAAd,CAAmB7B,OAAnB,GAA6BgC,KAA7B;AACH;;;oCAEWjC,K,EAAOs7B,G,EAAK;AACpB,gBAAMxC,aAAa,KAAK92B,QAAL,CAAcke,IAAd,CAAmBjgB,OAAnB,EAAnB;AACA,gBAAIq7B,GAAJ,EAAS;AACL,qBAAKt5B,QAAL,CAAc83B,eAAd,CAA8B53B,YAA9B,CACI42B,UADJ,EAEI,KAAK92B,QAAL,CAAc03B,OAFlB;AAIH,aALD,MAKO;AACH,uCAAa,KAAK3N,EAAlB,EAAsB+M,UAAtB;AACH;AACJ;;;kCAES;AACN,mBAAO,KAAK/M,EAAZ;AACH;;;mCAEU/rB,K,EAAOg8B,O,EAAS;AACvB,iBAAKh6B,QAAL,CAAcy3B,GAAd,CAAkB9L,WAAlB,GAAgCqO,OAAhC;AACH;;AAED;;;;mCACW16B,G,EAAK;AACZ,iCAAEm6B,IAAF,CAAO,KAAKpB,KAAZ,EAAmB,UAAUqB,GAAV,EAAe;AAC9B,oBAAI,CAACp6B,GAAD,IAAQA,IAAI0D,MAAJ,KAAe02B,IAAI3P,EAA/B,EAAmC;AAC/B2P,wBAAItO,YAAJ,CAAiB9rB,GAAjB;AACH;AACJ,aAJD;AAKH;;;iCAEQ;AACL,gBAAMk6B,kBAAkB,KAAKp5B,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAxB;AACA,gBAAMmJ,WAAW,KAAKpH,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAjB;AACA,gBAAM47B,iBAAiBT,kBAAkB,EAAzC;AACA,gBAAIU,gBAAgB,CAApB;;AAEA;AACA,gBAAI,KAAK95B,MAAL,CAAY/B,GAAZ,CAAgB,YAAhB,MAAkC,KAAtC,EAA6C;AACzC67B,gCAAgB1yB,QAAhB;AACH;AACD;AACA,iBAAK3C,IAAL,CAAU3D,IAAV,CAAeH,KAAKF,GAAL,CAASo5B,cAAT,EAAyBC,aAAzB,CAAf,EAAwD99B,mBAAxD;AACH;;;2CAEkB4B,K,EAAOipB,U,EAAY;AAClC;AACA,iBAAKjnB,QAAL,CAAci3B,MAAd,CAAqBnS,MAArB,CAA4BmC,eAAe,MAA3C;AACA,iBAAKjnB,QAAL,CAAc8e,IAAd,CAAmBgG,MAAnB,CAA0BmC,eAAe,MAAf,IAAyBA,eAAe,KAAlE;AACA,iBAAKjnB,QAAL,CAAcwH,QAAd,CAAuBod,KAAvB,CAA6BrmB,OAA7B,GAAuC0oB,eAAe,KAAf,GAAuB,MAAvB,GAAgC,EAAvE;AACA,gBAAMzf,WAAWxJ,MAAMK,GAAN,CAAU,UAAV,CAAjB;AACA,iBAAKo6B,UAAL,CAAgBz6B,KAAhB,EAAuBwJ,QAAvB;AACH;;;gCAEO/J,I,EAAM;AACV,gBAAMq6B,kBAAkB,KAAK93B,QAAL,CAAc83B,eAAtC;;AAEA,gBAAMqC,aAAa,2BACf18B,KAAKgd,IADU,EAEf,MAFe,EAGf,YAAM;AACF,oBAAIhd,KAAK28B,IAAT,EAAe;AACXlwB,2BAAO2hB,IAAP,CAAYpuB,KAAK28B,IAAjB,EAAuB,QAAvB;AACH;AACJ,aAPc,EAQf,MARe,EASf,gBATe,CAAnB;;AAYA,gBAAI,CAAC38B,KAAK28B,IAAV,EAAgB;AACZD,2BAAWl8B,OAAX,GAAqBsd,YAArB,CAAkC,UAAlC,EAA8C,IAA9C;AACH;AACDuc,4BAAgB53B,YAAhB,CACIi6B,WAAWl8B,OAAX,EADJ,EAEI65B,gBAAgB77B,aAAhB,CAA8B,YAA9B,EAA4C60B,WAFhD;AAIH;;;uCAEc;AACX,gBAAI,KAAK1wB,MAAL,CAAY/B,GAAZ,CAAgB,YAAhB,MAAkC,KAAtC,EAA6C;AACzC;AACA,oBAAMm7B,kBAAkB,KAAKp5B,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAxB;AACA,qBAAKwG,IAAL,CAAU3D,IAAV,CAAeH,KAAKF,GAAL,0BAAuB24B,eAAvB,CAAf,EAAwDp9B,mBAAxD;AACH;AACJ;;;sCAEa4B,K,EAAOq8B,U,EAAYC,U,EAAY;AACzC;AACA,gBAAI,CAACD,UAAL,EAAiB;AACb;AACH;;AAED,gBAAMvC,kBAAkB,KAAK93B,QAAL,CAAc83B,eAAtC;;AAEA,gBAAIyC,qBAAJ;AACA,gBAAIC,uBAAJ;;AAEA;AACA,gBAAIH,eAAeC,UAAf,IAA6B,CAACA,UAAlC,EAA8C;AAC1CC,+BAAeF,UAAf;AAEH,aAHD,MAGO;AACHE,+BAAejE,0BAA0B+D,UAA1B,EAAsCC,UAAtC,CAAf;AACAE,iCAAiBlE,0BAA0BgE,UAA1B,EAAsCD,UAAtC,CAAjB;;AAEA,qBAAKI,aAAL,CAAmB3C,eAAnB,EAAoC0C,cAApC;AACH;;AAED,iBAAK,IAAIzgB,IAAIwgB,aAAap4B,MAAb,GAAsB,CAAnC,EAAsC4X,KAAK,CAA3C,EAA8CA,GAA9C,EAAmD;AAC/C,oBAAI2gB,cAAcH,aAAaxgB,CAAb,CAAlB;AACA,oBAAMhI,YAAY,2BACd2oB,YAAYlpB,GADE,EAEdkpB,YAAYjpB,OAFE,EAGdipB,YAAYhpB,QAHE,EAIdgpB,YAAY/oB,EAJE,EAKd+oB,YAAY9oB,QALE,CAAlB;;AAQA,oBAAI8oB,YAAYjpB,OAAhB,EAAyB;AACrB,sDAAcM,UAAU9T,OAAV,EAAd,EAAmCy8B,YAAY/oB,EAA/C,EAAmD+oB,YAAYjpB,OAA/D;AACH;;AAED,oBAAIkpB,oBAAJ;AACA,oBAAI5oB,UAAUJ,EAAV,KAAiB,SAArB,EAAgC;AAC5BgpB,kCAAc,KAAK36B,QAAL,CAAcD,cAAd,CAA6B9B,OAA7B,EAAd;AACH,iBAFD,MAEO,IAAI8T,UAAUJ,EAAV,KAAiB,OAArB,EAA8B;AACjCgpB,kCAAc7C,gBAAgB77B,aAAhB,CAA8B,oBAA9B,KACV,KAAK+D,QAAL,CAAcD,cAAd,CAA6B9B,OAA7B,EADJ;AAEH,iBAHM,MAGA;AACH08B,kCAAc,KAAK36B,QAAL,CAAc63B,MAAd,CAAqB/G,WAAnC;AACA,wBAAI6J,eAAeA,YAAY5F,YAAZ,CAAyB,QAAzB,MAAuC,MAA1D,EAAkE;AAC9D4F,sCAAcA,YAAY7J,WAA1B;AACH;AACJ;AACDgH,gCAAgB53B,YAAhB,CAA6B6R,UAAU9T,OAAV,EAA7B,EAAkD08B,WAAlD;AACH;AACJ;;;sCAEa7C,e,EAAiB8C,e,EAAiB;AAC5C,iBAAK,IAAI7gB,IAAI6gB,gBAAgBz4B,MAA7B,EAAqC4X,GAArC,GAA2C;AACvC,oBAAM8gB,gBAAgB/C,gBAAgB77B,aAAhB,eAA0C2+B,gBAAgB7gB,CAAhB,EAAmBpI,EAA7D,QAAtB;AACA,oBAAIkpB,aAAJ,EAAmB;AACf/C,oCAAgBr0B,WAAhB,CAA4Bo3B,aAA5B;AACH;AACJ;AACJ;;;kDAEyBC,M,EAAQ;AAC9B,gBAAM1D,iBAAiB,KAAKp3B,QAAL,CAAco3B,cAArC;AACA,gBAAI,CAACA,cAAL,EAAqB;AACjB;AACH;;AAED,8BAAMx3B,WAAN,CAAkBw3B,eAAen5B,OAAf,EAAlB,EAA4C,QAA5C,EAAsD,CAAC68B,MAAvD;AACH;;;;;;kBA3agBlE,U;;;;;;;;;;;AC/GrB,oR;;;;;;;;;;;ACAA,gU;;;;;;;;;;;ACAA,6IAA6I,YAAY,6L;;;;;;;;;;;ACAzJ,wU;;;;;;;;;;;ACAA,siB;;;;;;;;;;;ACAA,0vB;;;;;;;;;;;ACAA,wR;;;;;;;;;;;ACAA,md;;;;;;;;;;;ACAA,gd;;;;;;;;;;;ACAA,qjB;;;;;;;;;;;ACAA,o+B;;;;;;;;;;;ACAA,2/B;;;;;;;;;;;ACAA,ge;;;;;;;;;;;ACAA,oZ;;;;;;;;;;;ACAA,6Y;;;;;;;;;;;ACAA,q6B;;;;;;;;;;;ACAA,kjB;;;;;;;;;;;ACAA,6qB;;;;;;;;;;;ACAA,mjB;;;;;;;;;;;ACAA,oiB;;;;;;;;;;;ACAA,4nB;;;;;;;;;;;ACAA,muC;;;;;;;;;;;;;;;;;;;;ACAA;;AACA;;;;AACA;;;;;;;;AAEA,IAAIjT,aAAa,EAAjB;;AAEA,SAASoX,aAAT,CAAuBC,GAAvB,EAA4B;AACxB,QAAI,CAACrX,WAAWqX,GAAX,CAAL,EAAsB;AAClB,YAAM/W,QAAQ3b,OAAOsL,IAAP,CAAY+P,UAAZ,CAAd;AACA,YAAIM,MAAM9hB,MAAN,GAAe,EAAnB,EAAuB;AACnB,mBAAOwhB,WAAWM,MAAM,CAAN,CAAX,CAAP;AACH;AACD,YAAMhmB,UAAU,yBAAS+8B,GAAT,CAAhB;AACArX,mBAAWqX,GAAX,IAAkB/8B,OAAlB;AACH;AACD,WAAO0lB,WAAWqX,GAAX,EAAgBzW,SAAhB,CAA0B,IAA1B,CAAP;AACH;;IAEoB0W,Y;AAEjB,0BAAYzpB,GAAZ,EAAiBkT,QAAjB,EAA2BhT,QAA3B,EAAqCC,EAArC,EAAyCC,QAAzC,EAAmD;AAAA;;AAC/C,YAAMipB,gBAAgB13B,SAASjF,aAAT,CAAuB,KAAvB,CAAtB;AACA28B,sBAAc18B,SAAd,yDAA6EyT,YAAY,EAAzF;AACAipB,sBAActf,YAAd,CAA2B,QAA3B,EAAqC5J,EAArC;AACAkpB,sBAActf,YAAd,CAA2B,MAA3B,EAAmC,QAAnC;AACAsf,sBAActf,YAAd,CAA2B,UAA3B,EAAuC,GAAvC;AACA,YAAImJ,QAAJ,EAAc;AACVmW,0BAActf,YAAd,CAA2B,YAA3B,EAAyCmJ,QAAzC;AACH;;AAED,YAAIwW,oBAAJ;AACA,YAAI1pB,OAAOA,IAAI2pB,SAAJ,CAAc,CAAd,EAAiB,CAAjB,MAAwB,MAAnC,EAA2C;AACvCD,0BAAcH,cAAcvpB,GAAd,CAAd;AACH,SAFD,MAEO;AACH0pB,0BAAc/3B,SAASjF,aAAT,CAAuB,KAAvB,CAAd;AACAg9B,wBAAY/8B,SAAZ,GAAwB,kDAAxB;AACA,gBAAIqT,GAAJ,EAAS;AACL,gCAAM0pB,WAAN,EAAmB;AACfE,8CAAwB5pB,GAAxB;AADe,iBAAnB;AAGH;AACJ;;AAEDqpB,sBAAc1+B,WAAd,CAA0B++B,WAA1B;;AAEA,yBAAOL,aAAP,EAAsBr8B,EAAtB,CAAyB,iBAAzB,EAA4CkT,QAA5C,EAAsD,IAAtD;;AAEA;AACA;AACAmpB,sBAAcl4B,gBAAd,CAA+B,WAA/B,EAA4C,UAAC4M,CAAD,EAAO;AAC/CA,cAAE7M,cAAF;AACH,SAFD;;AAIA,aAAKiP,EAAL,GAAUA,EAAV;AACA,aAAKkpB,aAAL,GAAqBA,aAArB;AACH;;;;kCAES;AACN,mBAAO,KAAKA,aAAZ;AACH;;;+BAEMt6B,I,EAAM;AACT,gBAAIA,IAAJ,EAAU;AACN,qBAAKA,IAAL;AACH,aAFD,MAEO;AACH,qBAAK0D,IAAL;AACH;AACJ;;;+BAEM;AACH,iBAAK42B,aAAL,CAAmBjW,KAAnB,CAAyBrmB,OAAzB,GAAmC,EAAnC;AACH;;;+BACM;AACH,iBAAKs8B,aAAL,CAAmBjW,KAAnB,CAAyBrmB,OAAzB,GAAmC,MAAnC;AACH;;;;;;kBAxDgB08B,Y;;;;;;;;;;;;;;;;;;;;;;;;AClBrB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMI,O;;;;;;;;;;;gCAEM;AACJ,iBAAK3V,IAAL,GAAYviB,SAASjF,aAAT,CAAuB,MAAvB,CAAZ;AACA,iBAAKwnB,IAAL,CAAUvnB,SAAV,GAAsB,kBAAtB;AACA,iBAAKqT,GAAL,GAAWrO,SAASjF,aAAT,CAAuB,KAAvB,CAAX;AACA,iBAAKsT,GAAL,CAASrT,SAAT,GAAqB,wBAArB;AACA,iBAAKm9B,cAAL,GAAsB,CAAtB;AACA,iBAAKC,UAAL,GAAkB,CAAlB;AACA,iBAAKC,gBAAL,GAAwB,KAAxB;;AAEA,gBAAIC,UAAUt4B,SAASjF,aAAT,CAAuB,KAAvB,CAAd;AACAu9B,oBAAQt9B,SAAR,GAAoB,sBAApB;AACAs9B,oBAAQt/B,WAAR,CAAoB,KAAKqV,GAAzB;AACAiqB,oBAAQt/B,WAAR,CAAoB,KAAKupB,IAAzB;;AAEA,iBAAKgW,UAAL,CAAgBD,OAAhB;AACH;;;8BAEK7W,K,EAAO;AACT,8BAAMA,KAAN,CAAY,KAAKpT,GAAjB,EAAsBoT,KAAtB;AACH;;;+BAEM+W,G,EAAK;AACR,iBAAKjW,IAAL,CAAUiG,WAAV,GAAwBgQ,GAAxB;AACH;;;mCAEW;AACR,gBAAI,CAAC,KAAKL,cAAV,EAA0B;AACtB,qBAAKM,QAAL;AACH;;AAED,mBAAO,KAAKN,cAAZ;AACH;;;iCAES1lB,K,EAAO;AACb,gBAAMimB,YAAY,EAAlB,CADa,CACS;;AAEtB,gBAAIjmB,KAAJ,EAAW;AACP,qBAAK0lB,cAAL,GAAsB1lB,QAAQimB,SAA9B;AACA;AACH;;AAED,gBAAI,CAAC,KAAKzf,SAAV,EAAqB;AACjB;AACH;;AAED,iBAAKkf,cAAL,GAAsB,kBAAMxS,MAAN,CAAa,KAAK1M,SAAlB,EAA6BxG,KAA7B,GAAqCimB,SAA3D;AACH;;;qCAEa;AACV,iBAAKP,cAAL,GAAsB,CAAtB;AACH;;;;;;AAGL,SAASl/B,iBAAT,GAA6B;AACzB,WAAO,EAAEC,QAAQ,aAAV,EAAP;AACH;;IAEKy/B,U;;;AACF,wBAAY17B,MAAZ,EAAoByE,IAApB,EAA0B;AAAA;;AAAA,6HAChB,gBADgB,EACE,YADF;;AAGtB,eAAKzE,MAAL,GAAcA,MAAd;AACA,eAAKyE,IAAL,GAAYA,IAAZ;;AAEA,eAAKk3B,OAAL,GAAe,IAAIV,OAAJ,CAAY,iBAAZ,EAA+B,IAA/B,EAAqC,IAArC,CAAf;AACA,eAAKU,OAAL,CAAa98B,KAAb;;AAEA,eAAK4T,IAAL,GAAY,EAAZ;;AAEA;AACA,eAAKmpB,aAAL,GAAqB,qBAAEC,QAAF,CAAW,OAAKC,WAAhB,EAA6B,GAA7B,CAArB;AACA,eAAKC,mBAAL,GAA2B,CAA3B;;AAEA,eAAKl9B,KAAL;AAfsB;AAgBzB;;AAED;;;;;gCACQ;AACJ,+GAAYoU,KAAZ,CAAkB,IAAlB,EAAwB4S,SAAxB;;AAEA,iBAAK7lB,MAAL,CACK5B,EADL,CACQ,iBADR,EAC2B,KAAKi6B,UADhC,EAC4C,IAD5C,EAEKj6B,EAFL,CAEQ,aAFR,EAEuB,KAAK49B,OAF5B,EAEqC,IAFrC,EAGKv9B,MAHL,CAGY,cAHZ,EAG4B,KAAKw9B,cAHjC,EAGiD,IAHjD,EAIKx9B,MAJL,CAIY,UAJZ,EAIwB,KAAKmJ,UAJ7B,EAIyC,IAJzC,EAKKnJ,MALL,CAKY,QALZ,EAKsB,KAAKy9B,QAL3B,EAKqC,IALrC,EAMKz9B,MANL,CAMY,YANZ,EAM0B,KAAK09B,YAN/B,EAM6C,IAN7C;;AAQA,iBAAK1T,WAAL,CAAiB1sB,WAAjB,CAA6B,KAAK4/B,OAAL,CAAa99B,OAAb,EAA7B;;AAEA;AACA,iBAAKu+B,SAAL,GAAiB,iBAAO,KAAKzS,EAAZ,EAAgB,EAAEpI,UAAU,IAAZ,EAAkBG,SAAS,IAA3B,EAAhB,EACZtjB,EADY,CACT,gBADS,EACS,KAAKi+B,eAAL,CAAqBjT,IAArB,CAA0B,IAA1B,CADT,EAC0C,IAD1C,EAEZhrB,EAFY,CAET,aAFS,EAEM,KAAKk+B,eAAL,CAAqBlT,IAArB,CAA0B,IAA1B,CAFN,EAEuC,IAFvC,CAAjB;AAGH;;;8BAEKmT,O,EAAS;AACX,gBAAI,KAAKC,SAAL,IAAkB,qBAAEtV,QAAF,CAAW,KAAKsV,SAAL,CAAevD,GAA1B,CAAtB,EAAsD;AAClD,uBAAO,KAAKuD,SAAL,CAAevD,GAAtB;AACH;AACD,gBAAI7xB,WAAW,KAAKpH,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAf;AACA,gBAAI,KAAK4oB,UAAL,KAAoB,KAAxB,EAA+B;AAC3B,oBAAInmB,WAAW,CAAC,IAAK67B,UAAU,GAAhB,IAAwBn1B,QAAvC;AACA,oBAAIgyB,kBAAkB,KAAKp5B,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAtB;AACA,oBAAIw+B,kBAAkB97B,KAAKH,GAAL,CAASE,QAAT,EAAmBC,KAAKF,GAAL,0BAAuB24B,eAAvB,CAAnB,CAAtB;AACA,oBAAI/O,iBAAiBoS,kBAAkB,GAAlB,GAAwBr1B,QAA7C;AACA,uBAAO,MAAMijB,cAAb;AACH;AACD,mBAAOkS,OAAP;AACH;;;+BAEMA,O,EAAS;AACZ,iBAAKG,MAAL,GAAcH,OAAd;AACA,iBAAKX,aAAL;AACA,gHAAa3oB,KAAb,CAAmB,IAAnB,EAAyB4S,SAAzB;AACH;;;oCAEW;AACR,iBAAK7lB,MAAL,CAAY2D,GAAZ,CAAgB,WAAhB,EAA6B,IAA7B;AACA,mHAAgBsP,KAAhB,CAAsB,IAAtB,EAA4B4S,SAA5B;AACH;;;kCAES;AACN,iHAAc5S,KAAd,CAAoB,IAApB,EAA0B4S,SAA1B;AACA,iBAAK7lB,MAAL,CAAY2D,GAAZ,CAAgB,WAAhB,EAA6B,KAA7B;AACH;;;iCAEQ/F,K,EAAOq7B,G,EAAK;AACjB,iBAAK0D,YAAL,CAAkB1D,GAAlB;AACH;;;mCAEUr7B,K,EAAO8C,Q,EAAU;AACxB,iBAAKk8B,UAAL,CAAgBl8B,QAAhB,EAA0B9C,MAAMK,GAAN,CAAU,UAAV,CAA1B;AACH;;;mCAEUL,K,EAAOwJ,Q,EAAU;AACxB,iBAAKw1B,UAAL,CAAgBh/B,MAAMK,GAAN,CAAU,UAAV,CAAhB,EAAuCmJ,QAAvC;AACA,iBAAKy1B,QAAL;AACH;;;qCAEYj/B,K,EAAOipB,U,EAAY;AAC5B,iBAAKA,UAAL,GAAkBA,UAAlB;AACH;;;mCAEUnmB,Q,EAAU0G,Q,EAAU;AAC3B,gBAAI6xB,MAAM,CAAV;AACA,gBAAI7xB,QAAJ,EAAc;AACV,oBAAI,KAAKyf,UAAL,KAAoB,KAAxB,EAA+B;AAC3BoS,0BAAM,CAAC7xB,WAAW1G,QAAZ,IAAwB0G,QAAxB,GAAmC,GAAzC;AACH,iBAFD,MAEO,IAAI,KAAKyf,UAAL,KAAoB,KAApB,IAA6B,CAAC,KAAKA,UAAvC,EAAmD;AACtD;AACAoS,0BAAMv4B,WAAW0G,QAAX,GAAsB,GAA5B;AACH;AACJ;AACD,iBAAKmjB,MAAL,CAAY0O,GAAZ;AACH;;;uCAEcr7B,K,EAAOgL,Y,EAAc;AAChC,gBAAI,CAACA,YAAL,EAAmB;AACf;AACH;AACD,iBAAKk0B,KAAL;AACA,iBAAKd,OAAL,CAAap+B,KAAb,EAAoBA,MAAMK,GAAN,CAAU,MAAV,CAApB;;AAEA,gBAAI+I,SAAS4B,aAAa5B,MAA1B;AACA,iCAAEqyB,IAAF,CAAOryB,MAAP,EAAe,UAAUC,KAAV,EAAiB;AAC5B,oBAAIA,SAASA,MAAMuqB,IAAf,IAAuBvqB,MAAMuqB,IAAN,CAAW/O,WAAX,OAA6B,YAAxD,EAAsE;AAClE,yBAAKsa,cAAL,CAAoB91B,MAAMoT,IAA1B;AACH,iBAFD,MAEO,IAAIpT,SAASA,MAAMuqB,IAAf,IAAuBvqB,MAAMuqB,IAAN,CAAW/O,WAAX,OAA6B,UAAxD,EAAoE;AACvE,yBAAKua,YAAL,CAAkB/1B,MAAMoT,IAAxB;AACH;AACJ,aAND,EAMG,IANH;AAOH;;;sCAEa;AACV,gBAAIkiB,UAAU,KAAKG,MAAnB;AACA,gBAAIt1B,WAAW,KAAKpH,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAf;AACA,gBAAIyC,QAAJ;AACA,gBAAI0G,aAAa,CAAjB,EAAoB;AAChB,qBAAK3C,IAAL,CAAU/E,IAAV,CAAe1D,mBAAf;AACH,aAFD,MAEO,IAAI,KAAK6qB,UAAL,KAAoB,KAAxB,EAA+B;AAClCnmB,2BAAW,CAAC,MAAM67B,OAAP,IAAkB,GAAlB,GAAwBn1B,QAAnC;AACA,qBAAK3C,IAAL,CAAU3D,IAAV,CAAeJ,QAAf,EAAyB1E,mBAAzB;AACH,aAHM,MAGA;AACH0E,2BAAW67B,UAAU,GAAV,GAAgBn1B,QAA3B;AACA,qBAAK3C,IAAL,CAAU3D,IAAV,CAAeH,KAAKH,GAAL,CAASE,QAAT,EAAmB0G,WAAW,IAA9B,CAAf,EAAoDpL,mBAApD;AACH;AACJ;;;wCAEekD,G,EAAK;AAAA;;AACjB,gBAAIkI,WAAW,KAAKpH,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAf;AACA,gBAAImJ,aAAa,CAAjB,EAAoB;AAChB;AACH;;AAED,gBAAI61B,cAAc,KAAKj9B,MAAL,CAAY/B,GAAZ,CAAgB,gBAAhB,CAAlB;AACA,gBAAIgsB,aAAa,kBAAMvB,MAAN,CAAa,KAAKD,WAAlB,CAAjB;AACA,gBAAI/nB,WAAYxB,IAAIghB,KAAJ,GAAahhB,IAAIghB,KAAJ,GAAY+J,WAAWjN,IAApC,GAA4C9d,IAAIud,CAAhE;AACA/b,uBAAW,kBAAMG,OAAN,CAAcH,QAAd,EAAwB,CAAxB,EAA2BupB,WAAWzU,KAAtC,CAAX;AACA,gBAAIyjB,MAAMv4B,WAAWupB,WAAWzU,KAAhC;AACA,gBAAIsI,OAAO1W,WAAW6xB,GAAtB;;AAEA;AACA,gBAAI7xB,WAAW,CAAf,EAAkB;AACd0W,uBAAO1W,WAAW0W,IAAlB;AACH;;AAED,gBAAIof,WAAJ;;AAEA;AACA;AACA,gBAAI,wBAAeh+B,IAAII,WAAnB,MAAoC,OAAxC,EAAiD;AAC7C,qBAAKk9B,SAAL,GAAiB,KAAK/pB,IAAL,CAAUb,MAAV,CAAiB,UAACurB,QAAD,EAAW9M,GAAX,EAAmB;AACjD,wBAAI1vB,KAAK2b,GAAL,CAAS5b,WAAYgM,SAAS2jB,IAAI4I,GAAb,IAAoB,GAApB,GAA0BhP,WAAWzU,KAA1D,IAAoE,OAAKumB,mBAA7E,EAAkG;AAC9F,+BAAO1L,GAAP;AACH;AACD,2BAAO8M,QAAP;AACH,iBALgB,EAKdv5B,SALc,CAAjB;AAMH;;AAED,gBAAI,KAAK44B,SAAT,EAAoB;AAChBU,8BAAc,KAAKV,SAAL,CAAelX,IAA7B;AACH,aAFD,MAEO;AACH,oBAAI8X,oBAAoB,IAAxB;AACAF,8BAAc,kBAAMvD,UAAN,CAAiB7b,IAAjB,EAAuBsf,iBAAvB,CAAd;;AAEA;AACA,oBAAIh2B,WAAW,CAAX,IAAgB0W,8BAApB,EAAyC;AACrCof,kCAAc,MAAd;AACH;AACJ;AACD,gBAAIvB,UAAU,KAAKA,OAAnB;;AAEAA,oBAAQnR,MAAR,CAAe0S,WAAf;AACA,gBAAI,KAAK/B,UAAL,KAAoB+B,YAAYn7B,MAApC,EAA4C;AACxC;AACA,qBAAKo5B,UAAL,GAAkB+B,YAAYn7B,MAA9B;AACA45B,wBAAQ0B,UAAR;AACH;AACD,iBAAKC,aAAL,CAAmBxf,IAAnB;;AAEA,8BAAMtf,QAAN,CAAem9B,QAAQhS,EAAvB,EAA2B,SAA3B;;AAEA,gBAAI4T,eAAe5B,QAAQ5qB,QAAR,EAAnB;AACA,gBAAIysB,WAAWvT,WAAWzU,KAAX,GAAmB,GAAlC;AACA,gBAAIimB,YAAYwB,cAAchT,WAAWzU,KAAzC;AACA,gBAAIioB,aAAa,CAAjB;AACA,gBAAIF,eAAe9B,SAAnB,EAA8B;AAC1B;AACAgC,6BAAa,CAACF,eAAe9B,SAAhB,KAA8B,IAAI,GAAJ,GAAU+B,QAAxC,CAAb;AACH;AACD,gBAAIE,UAAU/8B,KAAKH,GAAL,CAAS,IAAIi9B,UAAb,EAAyB98B,KAAKF,GAAL,CAASg9B,UAAT,EAAqBxE,GAArB,CAAzB,EAAoD/b,OAApD,CAA4D,CAA5D,IAAiE,GAA/E;AACA,8BAAMsH,KAAN,CAAYmX,QAAQhS,EAApB,EAAwB,EAAE3M,MAAM0gB,UAAU,GAAlB,EAAxB;AACH;;;0CAEiB;AACd,8BAAMt6B,WAAN,CAAkB,KAAKu4B,OAAL,CAAahS,EAA/B,EAAmC,SAAnC;AACH;;;gCAEO/rB,K,EAAO6U,I,EAAM;AAAA;;AACjB,gBAAIA,QAAQA,KAAK1Q,MAAjB,EAAyB;AACrB0Q,qBAAKjX,OAAL,CAAa,UAAC89B,GAAD,EAAS;AAClB,2BAAKqE,MAAL,CAAYrE,GAAZ;AACH,iBAFD;AAGA,qBAAKuD,QAAL;AACH,aALD,MAKO;AACH,qBAAKe,aAAL;AACH;AACJ;;;gCAEO;AACJ,iBAAKC,eAAL;AACA,iBAAKlC,OAAL,CAAa0B,UAAb;AACA,iBAAKlC,UAAL,GAAkB,CAAlB;AACH;;;;;;AAGL,SAAcO,WAAWn3B,SAAzB;;kBAEem3B,U;;;;;;;;;;;;;;;;;;kBClSA,YAAsC;AAAA,QAArC39B,SAAqC,uEAAzB,EAAyB;AAAA,QAArBkrB,WAAqB,uEAAP,EAAO;;AACjD,WACI,iBAAelrB,SAAf,SAA4BkrB,WAA5B,kRADJ;AAUH,C;;;;;;;;;;;;;;;;;;;;ACXD;;;;AACA;;;;;;;;IAEM6U,G;AACF,iBAAahgB,IAAb,EAAmBwH,IAAnB,EAAyB;AAAA;;AACrB,aAAKxH,IAAL,GAAYA,IAAZ;AACA,aAAKwH,IAAL,GAAYA,IAAZ;AACA,aAAKqE,EAAL,GAAU5mB,SAASjF,aAAT,CAAuB,KAAvB,CAAV;AACA,aAAK6rB,EAAL,CAAQ5rB,SAAR,GAAoB,iBAApB;AACH;;;;8BAEKqJ,Q,EAAU;AACZ;AACA,gBAAI,KAAK0W,IAAL,CAAUigB,QAAV,GAAqBpY,KAArB,CAA2B,CAAC,CAA5B,MAAmC,GAAvC,EAA4C;AACxC,qBAAKsT,GAAL,GAAW,KAAKnb,IAAhB;AACH,aAFD,MAEO;AACH,oBAAMqM,aAAc,KAAKrM,IAAL,GAAY1W,QAAb,GAAyB,GAA5C;AACA,qBAAK6xB,GAAL,GAAW9O,aAAa,GAAxB;AACH;;AAED,iBAAKR,EAAL,CAAQnF,KAAR,CAAcxH,IAAd,GAAqB,KAAKic,GAA1B;AACH;;;;;;AAGL,IAAM+E,gBAAgB;;AAElBhB,kBAAc,sBAAU3iB,IAAV,EAAgB;AAC1B,0BAAM0V,IAAN,CAAW1V,IAAX,EAAiB,KAAK4jB,cAAL,CAAoB7U,IAApB,CAAyB,IAAzB,CAAjB,EAAiD,KAAK8U,cAAtD,EAAsE;AAClEC,uBAAW;AADuD,SAAtE;AAGH,KANiB;;AAQlBF,oBAAgB,wBAAU/+B,GAAV,EAAe;AAAA;;AAC3B,YAAMJ,OAAO,mBAAII,IAAI2xB,YAAR,CAAb;AACA,YAAI3M,MAAMka,OAAN,CAAct/B,IAAd,CAAJ,EAAyB;AACrBA,iBAAKtD,OAAL,CAAa,UAAC6iC,GAAD;AAAA,uBAAS,MAAKV,MAAL,CAAYU,GAAZ,CAAT;AAAA,aAAb;AACA,iBAAKxB,QAAL;AACH;AACJ,KAdiB;;AAgBlBqB,oBAAgB,0BAAY,CAAE,CAhBZ;;AAkBlBP,YAAQ,gBAAUU,GAAV,EAAe;AACnB,aAAK5rB,IAAL,CAAUX,IAAV,CAAe,IAAIgsB,GAAJ,CAAQO,IAAI5Y,KAAZ,EAAmB4Y,IAAI/Y,IAAvB,CAAf;AACH,KApBiB;;AAsBlBuX,cAAU,oBAAY;AAAA;;AAClB;AACA,YAAMz1B,WAAW,KAAKpH,MAAL,CAAY/B,GAAZ,CAAgB,UAAhB,CAAjB;AACA,YAAI,CAACmJ,QAAD,IAAaA,YAAY,CAA7B,EAAgC;AAC5B;AACH;;AAED,aAAKqL,IAAL,CAAUjX,OAAV,CAAkB,UAAC60B,GAAD,EAAS;AACvBA,gBAAIoC,KAAJ,CAAUrrB,QAAV;AACAipB,gBAAI1G,EAAJ,CAAOpnB,gBAAP,CAAwB,WAAxB,EAAqC,YAAM;AACvC,uBAAKi6B,SAAL,GAAiBnM,GAAjB;AACH,aAFD;AAGAA,gBAAI1G,EAAJ,CAAOpnB,gBAAP,CAAwB,UAAxB,EAAoC,YAAM;AACtC,uBAAKi6B,SAAL,GAAiB,IAAjB;AACH,aAFD;AAGA,mBAAK/T,WAAL,CAAiB1sB,WAAjB,CAA6Bs0B,IAAI1G,EAAjC;AACH,SATD;AAUH,KAvCiB;;AAyClBiU,mBAAe,yBAAW;AACtB,aAAKnrB,IAAL,CAAUjX,OAAV,CAAkB,UAAC60B,GAAD,EAAS;AACvB,gBAAIA,IAAI1G,EAAJ,CAAOxmB,UAAX,EAAuB;AACnBktB,oBAAI1G,EAAJ,CAAOxmB,UAAP,CAAkBE,WAAlB,CAA8BgtB,IAAI1G,EAAlC;AACH;AACJ,SAJD;AAKA,aAAKlX,IAAL,GAAY,EAAZ;AACH;AAhDiB,CAAtB;;kBAmDeurB,a;;;;;;;;;;;;;;;;;;AC3Ef;;;;AACA;;;;AACA;;;;;;AAEA,SAASM,SAAT,CAAmBD,GAAnB,EAAwB;AACpB,SAAK5Y,KAAL,GAAa4Y,IAAI5Y,KAAjB;AACA,SAAKtM,GAAL,GAAWklB,IAAIllB,GAAf;AACA,SAAK/H,GAAL,GAAWitB,IAAI/Y,IAAf;AACH;;AAED,IAAMiZ,kBAAkB;AACpBxB,oBAAgB,wBAAU1iB,IAAV,EAAgB;AAC5B,YAAI,CAACA,IAAL,EAAW;AACP;AACH;AACD,aAAKmkB,OAAL,GAAenkB,KAAK0J,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmBA,KAAnB,CAAyB,GAAzB,EAA8B4B,KAA9B,CAAoC,CAApC,EAAuC,CAAC,CAAxC,EAA2C3B,IAA3C,CAAgD,GAAhD,CAAf;AACA;AACA;AACA,aAAKya,eAAL,GAAuB,IAAvB;AACA,0BAAM1O,IAAN,CAAW1V,IAAX,EAAiB,KAAKqkB,gBAAL,CAAsBtV,IAAtB,CAA2B,IAA3B,CAAjB,EAAmD,KAAKuV,gBAAL,CAAsBvV,IAAtB,CAA2B,IAA3B,CAAnD,EAAqF;AACjF+U,uBAAW;AADsE,SAArF;AAGH,KAZmB;;AAcpBO,sBAAkB,0BAAUx/B,GAAV,EAAe;AAC7B,YAAIJ,OAAO,mBAAII,IAAI2xB,YAAR,CAAX;AACA,YAAI,qBAAEuN,OAAF,CAAUt/B,IAAV,CAAJ,EAAqB;AACjB,iCAAEu6B,IAAF,CAAOv6B,IAAP,EAAa,UAASu/B,GAAT,EAAc;AACvB,qBAAKO,UAAL,CAAgB9sB,IAAhB,CAAqB,IAAIwsB,SAAJ,CAAcD,GAAd,CAArB;AACH,aAFD,EAEG,IAFH;AAGA,iBAAKxB,QAAL;AACH;AACJ,KAtBmB;;AAwBpB8B,sBAAkB,4BAAY,CAAG,CAxBb;;AA0BpBE,qBAAiB,yBAASC,OAAT,EAAkB;AAC/B,YAAI/xB,MAAM,qBAAEgyB,WAAF,CAAc,KAAKH,UAAnB,EAA+B,EAAEzlB,KAAK2lB,OAAP,EAA/B,EAAiD,qBAAE5rB,QAAF,CAAW,KAAX,CAAjD,CAAV;AACA,YAAInG,OAAO,KAAK6xB,UAAL,CAAgB78B,MAA3B,EAAmC;AAC/BgL,kBAAM,KAAK6xB,UAAL,CAAgB78B,MAAhB,GAAyB,CAA/B;AACH;AACD,YAAIi9B,MAAM,KAAKJ,UAAL,CAAgB7xB,GAAhB,EAAqBqE,GAA/B;AACA,YAAI4tB,IAAI9b,OAAJ,CAAY,KAAZ,IAAqB,CAAzB,EAA4B;AACxB8b,kBAAM,KAAKR,OAAL,GAAe,KAAKA,OAAL,GAAe,GAAf,GAAqBQ,GAApC,GAA0CA,GAAhD;AACH;;AAED,eAAOA,GAAP;AACH,KArCmB;;AAuCpBC,mBAAe,uBAASH,OAAT,EAAkB;AAC7B,YAAIE,MAAM,KAAKH,eAAL,CAAqBC,OAArB,CAAV;AACA,YAAIta,QAAQ;AACRvH,oBAAQ,QADA;AAERiiB,gCAAoB;AAFZ,SAAZ;;AAKA,YAAIC,YAAYH,IAAI9b,OAAJ,CAAY,OAAZ,CAAhB;AACA,YAAIic,YAAY,CAAhB,EAAmB;AACf,gBAAI;AACA,oBAAIC,UAAW,mCAAD,CAAsCC,IAAtC,CAA2CL,GAA3C,CAAd;AACAA,sBAAMI,QAAQ,CAAR,CAAN;AACA5a,sBAAM0a,kBAAN,GAA4BE,QAAQ,CAAR,IAAa,CAAC,CAAf,GAAoB,KAApB,GAA6BA,QAAQ,CAAR,IAAa,CAAC,CAA3C,GAAgD,IAA3E;AACA5a,sBAAMhP,KAAN,GAAc4pB,QAAQ,CAAR,CAAd;AACA,qBAAKzD,OAAL,CAAaH,QAAb,CAAsB,CAAChX,MAAMhP,KAA7B;AACAgP,sBAAMlP,MAAN,GAAe8pB,QAAQ,CAAR,CAAf;AACH,aAPD,CAOE,OAAOjwB,CAAP,EAAU;AACR;AACA;AACH;AACJ,SAZD,MAYO,IAAI,CAAC,KAAKsvB,eAAV,EAA2B;AAC9B,iBAAKA,eAAL,GAAuB,IAAIa,KAAJ,EAAvB;AACA,iBAAKb,eAAL,CAAqBxO,MAArB,GAA8B,qBAAE7G,IAAF,CAAO,YAAY;AAC7C,qBAAKqV,eAAL,CAAqBxO,MAArB,GAA8B,IAA9B;AACA,qBAAK0L,OAAL,CAAa4D,KAAb,CAAmB,EAAE/pB,OAAO,KAAKipB,eAAL,CAAqBjpB,KAA9B,EAAqCF,QAAQ,KAAKmpB,eAAL,CAAqBnpB,MAAlE,EAAnB;AACA,qBAAKqmB,OAAL,CAAaH,QAAb,CAAsB,KAAKiD,eAAL,CAAqBjpB,KAA3C;AACH,aAJ6B,EAI3B,IAJ2B,CAA9B;AAKA,iBAAKipB,eAAL,CAAqBtkB,GAArB,GAA2B6kB,GAA3B;AACH;;AAEDxa,cAAMwW,eAAN,GAAwB,UAAUgE,GAAV,GAAgB,IAAxC;;AAEA,eAAOxa,KAAP;AACH,KAxEmB;;AA0EpB8Y,mBAAe,uBAASwB,OAAT,EAAkB;AAC7B;AACA,YAAI,KAAK9+B,MAAL,CAAY/B,GAAZ,CAAgB,gBAAhB,KAAqC,GAArC,IAA4C,KAAK2gC,UAAL,CAAgB78B,MAAhB,GAAyB,CAAzE,EAA4E;AACxE;AACH;AACD,aAAK45B,OAAL,CAAa4D,KAAb,CAAmB,KAAKN,aAAL,CAAmBH,OAAnB,CAAnB;AACH,KAhFmB;;AAkFpBjB,qBAAiB,2BAAW;AACxB,aAAKlC,OAAL,CAAa4D,KAAb,CAAmB;AACfvE,6BAAiB,EADF;AAEfxlB,mBAAO,CAFQ;AAGfF,oBAAQ;AAHO,SAAnB;AAKA,aAAKspB,UAAL,GAAkB,EAAlB;AACH;AAzFmB,CAAxB;;kBA4FeL,e;;;;;;;;;;;;;;;;;;;;ACtGf;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqBiB,a;;;AACjB,2BAAYx/B,MAAZ,EAAoBke,IAApB,EAA0BoG,QAA1B,EAAoCC,QAApC,EAA8C;AAAA;;AAAA,kIACpCrG,IADoC,EAC9BoG,QAD8B,EACpB,IADoB,EACdC,QADc;;AAG1C,cAAKvkB,MAAL,GAAcA,MAAd;AACA,cAAKw5B,YAAL,GAAoB,qBAAW,gCAAX,EAA6C,UAA7C,CAApB;AACA,cAAKA,YAAL,CAAkB36B,KAAlB;AACA,cAAK26B,YAAL,CAAkB37B,OAAlB,GAA4B4hC,SAA5B,CAAsCC,MAAtC,CAA6C,qBAA7C;;AAEA,cAAKpE,UAAL,CAAgB,MAAK9B,YAAL,CAAkB37B,OAAlB,EAAhB;;AAEA,cAAK27B,YAAL,CAAkBp7B,EAAlB,CAAqB,QAArB,EAA+B,UAAUc,GAAV,EAAe;AAC1C,iBAAKb,OAAL,CAAa,QAAb,EAAuBa,GAAvB;AACH,SAFD;;AAIA,yBAAO,MAAKyqB,EAAZ,EAAgB,EAAEpI,UAAU,IAAZ,EAAkB0B,cAAc,IAAhC,EAAsCnB,UAAU,IAAhD,EAAhB,EACK1jB,EADL,CACQ,aADR,EACuB,MAAKuhC,WAD5B,SAEKvhC,EAFL,CAEQ,KAFR,EAEe,MAAKwhC,eAFpB,SAGKxhC,EAHL,CAGQ,MAHR,EAGgB,MAAK6sB,WAHrB,SAIK7sB,EAJL,CAIQ,KAJR,EAIe,MAAK4sB,YAJpB;;AAMA,cAAKhrB,MAAL,CAAY5B,EAAZ,CAAe,eAAf,EAAgC,MAAK+5B,QAArC;AApB0C;AAqB7C;;;;sCAEa;AACV,iBAAK95B,OAAL,CAAa,aAAb;AACH;;;;;;kBA1BgBmhC,a;;;;;;;;;;;;;;;;;;;;ACJrB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;IAEqBK,gB;AACjB,8BAAYjiC,KAAZ,EAAmBnC,GAAnB,EAAwB;AAAA;;AACpB,aAAKkuB,EAAL,GAAU,kBAAM7rB,aAAN,CAAoB,gCAAyBF,MAAMK,GAAN,CAAU,cAAV,CAAzB,CAApB,CAAV;;AAEA,YAAM+d,YAAY,KAAK2N,EAAL,CAAQ9tB,aAAR,CAAsB,sBAAtB,CAAlB;AACA,YAAMqC,UAAU,EAAhB;;AAEAiT,kBAAU,QAAV,EAAoB,uBAAW,QAAX,CAApB,+BAA6D6K,SAA7D,EAAwE9d,OAAxE,EAAiFN,KAAjF,EAAwFnC,GAAxF;AACA0V,kBAAU,SAAV,EAAqB,uBAAW,0BAAX,CAArB,6BAA8E6K,SAA9E,EAAyF9d,OAAzF,EAAkGN,KAAlG,EAAyGnC,GAAzG;AACA0V,kBAAU,MAAV,EAAkB,uBAAW,MAAX,CAAlB,6BAAuD6K,SAAvD,EAAkE9d,OAAlE,EAA2EN,KAA3E,EAAkFnC,GAAlF;;AAEA,aAAKugB,SAAL,GAAiBA,SAAjB;AACA,aAAK9d,OAAL,GAAeA,OAAf;AACH;;;;kCAES;AACN,mBAAO,KAAKyrB,EAAZ;AACH;;;;;;kBAjBgBkW,gB;;;AAoBrB,SAAS1uB,SAAT,CAAmB+M,IAAnB,EAAyB4hB,YAAzB,EAAuCC,WAAvC,EAAoD/jB,SAApD,EAA+D9d,OAA/D,EAAwEN,KAAxE,EAA+EnC,GAA/E,EAAoF;AAChF,QAAMg/B,gBAAgBze,UAAUngB,aAAV,uBAA4CqiB,IAA5C,CAAtB;AACA,QAAM8hB,gBAAgBhkB,UAAUngB,aAAV,eAAoCqiB,IAApC,CAAtB;AACA4hB,iBAAatkC,OAAb,CAAqB,gBAAQ;AACzBwkC,sBAAcjkC,WAAd,CAA0BynB,IAA1B;AACH,KAFD;AAGAtlB,YAAQggB,IAAR,IAAgB,IAAI6hB,WAAJ,CAAgBniC,KAAhB,EAAuBnC,GAAvB,EAA4Bg/B,aAA5B,CAAhB;AACH,C;;;;;;;;;;;;;;;;;;AClCD;;;;;;kBAEe,UAAC7E,YAAD,EAAkB;AAC7B,WACI,qIAGY,2BAAoB,QAApB,EAA8BA,aAAaiB,MAA3C,CAHZ,GAIY,2BAAoB,SAApB,EAA+BjB,aAAaqK,QAA5C,CAJZ,GAKY,2BAAoB,MAApB,EAA4BrK,aAAa9mB,IAAzC,CALZ,iCADJ;AAWH,C;;;;;;;;;;;;;;;;;;kBCdc,YAAmC;AAAA,QAAlCoxB,QAAkC,uEAAvB,EAAuB;AAAA,QAAnB3X,SAAmB,uEAAP,EAAO;;AAC9C,WACI,2DAAyD2X,QAAzD,qDACmCA,QADnC,0EACgH3X,SADhH,yBADJ;AAKH,C;;;;;;;;;;;;;;;;;;;;ACND;;;;;;;;IAEqB4X,iB;AACjB,+BAAYviC,KAAZ,EAAmBnC,GAAnB,EAAwBoC,OAAxB,EAAiC;AAAA;;AAC7B,aAAK8rB,EAAL,GAAU9rB,OAAV;;AAEA,yBAAO,KAAK8rB,EAAZ,EAAgBvrB,EAAhB,CAAmB,iBAAnB,EAAsC,YAAW;AAC7C,gBAAMg7B,kBAAkBx7B,MAAMK,GAAN,CAAU,UAAV,CAAxB;AACA,gBAAMmJ,WAAWxJ,MAAMK,GAAN,CAAU,UAAV,CAAjB;AACA,gBAAM47B,iBAAiBT,kBAAkB,EAAzC;AACA,gBAAIU,gBAAgB,CAApB;;AAEA;AACA,gBAAIl8B,MAAMK,GAAN,CAAU,YAAV,MAA4B,KAAhC,EAAuC;AACnC67B,gCAAgB1yB,QAAhB;AACH;AACD;AACA3L,gBAAIqF,IAAJ,CAASH,KAAKF,GAAL,CAASo5B,cAAT,EAAyBC,aAAzB,CAAT;AACH,SAZD;AAaH;;;;kCAES;AACN,mBAAO,KAAKnQ,EAAZ;AACH;;;;;;kBArBgBwW,iB;;;;;;;;;;;;;;;;;;;;;;ACFrB;;;;AACA;;;;;;;;IAEqBC,e;AACjB,6BAAYpgC,MAAZ,EAAoBvE,GAApB,EAAyBoC,OAAzB,EAAkC;AAAA;;AAAA;;AAC9B,iBAAc,IAAd;;AAEA,YAAM+3B,eAAe51B,OAAO/B,GAAP,CAAW,cAAX,CAArB;AACA,YAAMoiC,cAAcxiC,QAAQ+rB,sBAAR,CAA+B,iBAA/B,EAAkD,CAAlD,CAApB;AACA/rB,gBAAQ2mB,KAAR,CAAcwR,MAAd,GAAuB,SAAvB;AACA,aAAKxS,IAAL,GAAY6c,WAAZ;AACA,aAAK1W,EAAL,GAAU9rB,OAAV;;AAEA,yBAAO,KAAK8rB,EAAZ,EAAgBvrB,EAAhB,CAAmB,iBAAnB,EAAsC,UAACc,GAAD,EAAS;AAC3C,kBAAKb,OAAL,CAAaa,IAAIK,IAAjB;AACH,SAFD;;AAIAS,eAAO5B,EAAP,CAAU,cAAV,EAA0B,UAACR,KAAD,EAAQyG,QAAR,EAAqB;AAC3C,gBAAIi8B,sBAAJ;AACA,oBAAQj8B,QAAR;AACI,qBAAK,WAAL;AACIi8B,oCAAgB1K,aAAa9N,MAA7B;AACA;AACJ,qBAAK,SAAL;AACIwY,oCAAgB1K,aAAan2B,KAA7B;AACA;AACJ,qBAAK,QAAL;AACI6gC,oCAAgB1K,aAAaqK,QAA7B;AACA;AACJ,qBAAK,UAAL;AACIK,oCAAgB1K,aAAa2K,MAA7B;AACA;AACJ;AACID,oCAAgB,EAAhB;AACA;AAfR;AAiBA,gBAAIA,kBAAkB,EAAtB,EAA0B;AACtBD,4BAAY1lB,eAAZ,CAA4B,YAA5B;AACH,aAFD,MAEO;AACH0lB,4BAAYllB,YAAZ,CAAyB,YAAzB,EAAuCmlB,aAAvC;AACH;AACJ,SAxBD;AAyBH;;;;kCAES;AACN,mBAAO,KAAK3W,EAAZ;AACH;;;;;;kBA3CgByW,e;;;;;;;;;;;;;;;;;;;;ACHrB;;;;;;;;IAEqBI,e;AACjB,6BAAY5iC,KAAZ,EAAmBnC,GAAnB,EAAwBoC,OAAxB,EAAiC;AAAA;;AAE7B,yBAAOA,OAAP,EAAgBO,EAAhB,CAAmB,iBAAnB,EAAsC,YAAW;AAC7C3C,gBAAIqT,IAAJ;AACH,SAFD;;AAIAlR,cAAMa,MAAN,CAAa,QAAb,EAAuB,UAASgiC,iBAAT,EAA4Bx4B,MAA5B,EAAoC;AACvDpK,oBAAQ2mB,KAAR,CAAcxb,UAAd,GAA2Bf,SAAS,EAAT,GAAc,QAAzC;AACH,SAFD;;AAIA,aAAK0hB,EAAL,GAAU9rB,OAAV;AACH;;;;kCAES;AACN,mBAAO,KAAK8rB,EAAZ;AACH;;;;;;kBAhBgB6W,e;;;;;;;;;;;;;;;;;;;;;;ACFrB;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;IAEqBE,a;AACjB,2BAAY1gC,MAAZ,EAAoByE,IAApB,EAA0B2jB,aAA1B,EAAyC;AAAA;;AACrC,iBAAc,IAAd;AACA,aAAKpoB,MAAL,GAAcA,MAAd;AACA,aAAKyE,IAAL,GAAYA,IAAZ;AACA,aAAKk8B,cAAL,GAAsBvY,aAAtB;AACA,aAAKwY,UAAL,GAAkB5gC,OAAO/B,GAAP,CAAW,cAAX,EAA2BgK,MAA7C;AACA,aAAK44B,WAAL,GAAmB7gC,OAAO/B,GAAP,CAAW,cAAX,EAA2B4iC,WAA9C;AACA,aAAK1hC,KAAL,GAAa,SAAb;AACA,aAAKzC,OAAL,GAAe,KAAf;AACA,aAAKokC,KAAL,GAAa,KAAb;AACA,aAAKhE,KAAL;AACH;;;;8BAEK3gC,O,EAAS;AACX,iBAAK6f,SAAL,GAAiB7f,QAAQ2B,aAAR,CAAsB,KAAtB,CAAjB;AACA,iBAAKke,SAAL,CAAeje,SAAf,GAA2B,8BAA3B;AACA,gBAAMF,UAAU,kBAAMC,aAAN,CAAoB,uBAApB,CAAhB;AACAD,oBAAQhC,aAAR,CAAsB,kBAAtB,EAA0CE,WAA1C,CAAsD,sBAAU,OAAV,CAAtD;AACA,iBAAKu/B,UAAL,CAAgBz9B,OAAhB;;AAEA,iBAAKkjC,WAAL,GAAmB,KAAKlW,OAAL,CAAahvB,aAAb,CAA2B,kBAA3B,CAAnB;AACA,iBAAKklC,WAAL,CAAiB5lB,YAAjB,CAA8B,YAA9B,EAA4C,KAAK0lB,WAAjD;AACA,iBAAKxvB,OAAL,GAAe,KAAKwZ,OAAL,CAAahvB,aAAb,CAA2B,oBAA3B,CAAf;;AAEA,gBAAMkK,YAAY,KAAK/F,MAAvB;AACA,gBAAMghC,kBAAkBj7B,UAAUk7B,MAAlC;AACA;AACA,iBAAKvkC,OAAL,GAAe,KAAf;;AAEA;AACAqJ,sBAAU3H,EAAV,CAAa,eAAb,EAA8B,KAAK8iC,QAAnC,EAA6C,IAA7C;;AAEA;AACAF,4BAAgBviC,MAAhB,CAAuB,UAAvB,EAAmC,KAAK45B,UAAxC,EAAoD,IAApD;AACA;AACA2I,4BAAgBviC,MAAhB,CAAuB,UAAvB,EAAmC,KAAK65B,SAAxC,EAAmD,IAAnD;;AAEA0I,4BAAgBviC,MAAhB,CAAuB,YAAvB,EAAqC,KAAK09B,YAA1C,EAAwD,IAAxD;;AAEA6E,4BAAgBviC,MAAhB,CAAuB,OAAvB,EAAgC,UAAS0iC,gBAAT,EAA2BhiC,KAA3B,EAAkC;AAC9D,oBAAIA,UAAU,UAAd,EAA0B;AACtB,yBAAKulB,MAAL,CAAY,KAAZ;AACH;AACJ,aAJD,EAIG,IAJH;;AAMA;AACA,6BAAO,KAAKqc,WAAZ,EAAyB,EAAE9d,cAAc,IAAhB,EAAzB,EACK7kB,EADL,CACQ,iBADR,EAC2B,YAAW;AAC9B,qBAAKgjC,YAAL,GAAoB,KAApB;AACA,qBAAK1c,MAAL,CAAY,KAAZ;AACH,aAJL,EAIO,IAJP;AAKA;AACA,6BAAO,KAAKrT,OAAZ,EACKjT,EADL,CACQ,WADR,EACqB,KAAK+6B,KAD1B,EACiC,IADjC;AAEH;;;sCAEa6F,G,EAAK;AACf,iBAAKqC,WAAL,GAAmB,IAAI/B,KAAJ,EAAnB;AACA,iBAAK+B,WAAL,CAAiBpR,MAAjB,GAA2B,YAAW;AAClC,qBAAKoR,WAAL,CAAiBpR,MAAjB,GAA0B,IAA1B;AACH,aAFyB,CAEvB7G,IAFuB,CAElB,IAFkB,CAA1B;AAGA,iBAAKiY,WAAL,CAAiBlnB,GAAjB,GAAuB6kB,GAAvB;;AAEA,mBAAO;AACHhE,iCAAiB,UAAUgE,GAAV,GAAgB;AAD9B,aAAP;AAGH;;;gCAEO;AACJ,iBAAKlC,KAAL;AACA,iBAAKr4B,IAAL,CAAUqK,IAAV;AACH;;;+BAEM3O,I,EAAMlE,M,EAAQ;AACjB,gBAAI,CAAC,KAAKS,OAAV,EAAmB;AACf;AACH;AACD,kCAAY,KAAKsf,SAAjB,EAA4B,kBAA5B,EAAgD,CAAC,CAAC,KAAKolB,YAAvD;AACA,gBAAI,KAAKN,KAAL,KAAe3gC,IAAnB,EAAyB;AACrB,qBAAK2gC,KAAL,GAAa3gC,IAAb;AACA,sCAAY,KAAK6b,SAAjB,EAA4B,6BAA5B,EAA2D7b,IAA3D;AACA,sCAAY,KAAKwgC,cAAjB,EAAiC,gBAAjC,EAAmDxgC,IAAnD;AACA,oBAAM8H,SAAS,KAAKjI,MAAL,CAAY/B,GAAZ,CAAgB,QAAhB,CAAf;AACA,oBAAIkC,QAAQ8H,MAAZ,EAAoB;AAChB,yBAAK5J,OAAL,CAAa,WAAb,EAA0B;AACtB2Q,8BAAM/G,OAAO+G,IADS;AAEtBC,4BAAI,QAFkB;AAGtBC,oCAAY,CAAEjH,MAAF,CAHU;AAItBS,kCAAUT,OAAOS,QAJK;AAKtBzM,gCAAQA;AALc,qBAA1B;AAOH;AACJ;AACJ;;;sCAEaqlC,U,EAAY;AAAA;;AACtB;AACA5jC,uBAAW,YAAM;AACb;AACA,sBAAK6jC,SAAL,GAAiB,MAAK1W,OAAL,CAAahvB,aAAb,CAA2B,sBAA3B,CAAjB;AACA,sCAAY,MAAKgvB,OAAjB,EAA0B,6BAA1B,EAAyD,CAAC,CAACyW,WAAW/B,KAAtE;AACA,oBAAI+B,WAAW/B,KAAf,EAAsB;AAClB,wBAAMiC,iBAAiB,MAAKvC,aAAL,CAAmBqC,WAAW/B,KAA9B,CAAvB;AACA,sCAAM/a,KAAN,CAAY,MAAK+c,SAAjB,EAA4BC,cAA5B;AACH;;AAED;AACA,sBAAKC,MAAL,GAAc,MAAK5W,OAAL,CAAahvB,aAAb,CAA2B,mBAA3B,CAAd;AACA,sBAAK4lC,MAAL,CAAYC,SAAZ,GAAwB,MAAKd,UAA7B;;AAEA;AACA,sBAAK/H,KAAL,GAAa,MAAKhO,OAAL,CAAahvB,aAAb,CAA2B,kBAA3B,CAAb;AACA,oBAAMg9B,QAAQyI,WAAWzI,KAAzB;AACA,sBAAKA,KAAL,CAAW6I,SAAX,GAAuB7I,QAAQ,kBAAM/6B,aAAN,CAAoB+6B,KAApB,EAA2BtN,WAAnC,GAAiD,EAAxE;;AAEA;AACA,oBAAI+V,WAAWl6B,QAAf,EAAyB;AACrB,0BAAKA,QAAL,GAAgB,MAAKyjB,OAAL,CAAahvB,aAAb,CAA2B,qBAA3B,CAAhB;AACA,wBAAMuL,WAAWk6B,WAAWl6B,QAA5B;AACA,0BAAKA,QAAL,CAAcs6B,SAAd,GAA0Bt6B,WAAW,kBAAMtJ,aAAN,CAAoBsJ,QAApB,EAA8BmkB,WAAzC,GAAuD,EAAjF;AACH;AAEJ,aAzBD,EAyBG,GAzBH;AA0BH;;;iCAEQ3tB,K,EAAOqK,M,EAAQ;AACpB,iBAAK60B,KAAL;AACA,gBAAI,CAAC70B,MAAL,EAAa;AACT;AACH;;AAED,iBAAKvL,OAAL,GAAe,CAAC,EAAEuL,OAAO4wB,KAAP,IAAgB5wB,OAAOs3B,KAAzB,CAAhB;;AAEA,gBAAI,KAAK7iC,OAAT,EAAkB;AACd,oBAAI,CAACuL,OAAO05B,UAAZ,EAAwB;AACpB;AACA,yBAAKP,YAAL,GAAoB,KAApB;AACA,yBAAK1c,MAAL,CAAY,KAAZ;AACH;AACD,qBAAKkd,aAAL,CAAmB35B,MAAnB;AACH;AACJ;;;mCAEUrK,K,EAAOwJ,Q,EAAU;AACxB,gBAAI,CAACA,QAAL,EAAe;AACX;AACH;;AAED;AACA,gBAAIiP,SAAS,kBAAMyoB,OAAN,CAAclhC,MAAMK,GAAN,CAAU,cAAV,KAA6B,CAAC,EAA5C,CAAb;AACA,gBAAIoY,SAAS,CAAb,EAAgB;AACZ;AACAA,0BAAUjP,QAAV;AACH;;AAED,iBAAKiP,MAAL,GAAcA,MAAd;AACH;;;kCAESzY,K,EAAOs7B,G,EAAK;AAClB,gBAAMkI,eAAe,KAAKA,YAA1B;AACA,gBAAI,CAAC,KAAK1kC,OAAN,IAAiB0kC,iBAAiB,KAAtC,EAA6C;AACzC;AACH;AACD;AACA;AACA;AACA,gBAAMS,eAAe3I,OAAO,KAAK7iB,MAAjC;AACA,gBAAIwrB,gBAAgBT,iBAAiBx9B,SAArC,EAAgD;AAAE;AAC9C,qBAAKw9B,YAAL,GAAoBS,YAApB;AACA,qBAAKnd,MAAL,CAAYmd,YAAZ,EAA0B,MAA1B;AACH,aAHD,MAGO,IAAI,CAACA,YAAD,IAAiBT,YAArB,EAAmC;AAAE;AACxC,qBAAKtE,KAAL;AACH;AACJ;;;qCAEYl/B,K,EAAOipB,U,EAAY;AAC5B,gBAAIA,eAAe,KAAnB,EAA0B;AACtB,qBAAKua,YAAL,GAAoB,KAApB;AACA,qBAAK1c,MAAL,CAAY,KAAZ;AACH;AACJ;;;kCAES;AACN,mBAAO,KAAK1I,SAAZ;AACH;;;mCAEUsE,I,EAAM;AACb,gBAAI,KAAKuK,OAAT,EAAkB;AACd,qBAAKC,aAAL;AACH;AACD,iBAAKD,OAAL,GAAevK,IAAf;AACA,iBAAKtE,SAAL,CAAejgB,WAAf,CAA2BukB,IAA3B;AACH;;;wCAEe;AACZ,gBAAI,KAAKuK,OAAT,EAAkB;AACd,qBAAK7O,SAAL,CAAe3Y,WAAf,CAA2B,KAAKwnB,OAAhC;AACA,qBAAKA,OAAL,GAAe,IAAf;AACH;AACJ;;;gCAEO;AACJ,iBAAKuW,YAAL,GAAoBx9B,SAApB;AACA,iBAAK8gB,MAAL,CAAY,KAAZ;AACH;;;kCAES;AACN,iBAAKzhB,GAAL;AACA,iBAAKjD,MAAL,CAAYiD,GAAZ,CAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B;AACH;;;;;;kBAlNgBy9B,a;;;;;;;;;;;;;;;;;;kBCPN,YAAiE;AAAA,QAAhEe,MAAgE,uEAAvD,EAAuD;AAAA,QAAnD5I,KAAmD,uEAA3C,EAA2C;AAAA,QAAvCzxB,QAAuC,uEAA5B,EAA4B;AAAA,QAAxB06B,cAAwB,uEAAP,EAAO;;AAC5E,WACI,kPAIsDL,MAJtD,2DAKqD5I,KALrD,8DAMwDzxB,QANxD,sHASkF06B,cATlF,4BADJ;AAaH,C;;;;;;;;;;;;;;;;;;;;ACdD;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;AAC5B,QAAMnkC,UAAU,wBAAcmkC,IAAd,CAAhB;AACA,QAAMC,gBAAgBpkC,QAAQhC,aAAR,CAAsB,qBAAtB,CAAtB;AACA,QAAIomC,aAAJ,EAAmB;AACfA,sBAAclmC,WAAd,CAA0B,sBAAU,eAAV,CAA1B;AACH;AACD,WAAO8B,OAAP;AACH;;IAEoBqkC,U;;;;;;;qCAEJ;AACT,gBAAIC,cAAc,iBAAQpe,KAAR,CAAc,GAAd,CAAlB;AACA,gBAAIqe,qBAAqBD,YAAY,CAAZ,CAAzB;;AAEA,gBAAIE,OAAO;AACPC,uBAAO,CAAC;AACJzJ,2BAAO,iDAAiDuJ,kBAAjD,GAAsE,SADzE;AAEJG,8BAAU,IAFN;AAGJC,8BAAU,IAHN;AAIJxI,0BAAM;AAJF,iBAAD;AADA,aAAX;;AASA,gBAAIjT,WAAW,KAAKnpB,KAAL,CAAWK,GAAX,CAAe,UAAf,CAAf;AACA,gBAAI8oB,YAAYA,SAAS7I,IAAT,CAAcgF,OAAd,CAAsB,OAAtB,KAAkC,CAAlD,EAAqD;AACjD,oBAAIoC,OAAO,mBAAmB,4BAA9B;AACA+c,qBAAKC,KAAL,CAAWxwB,IAAX,CAAgB;AACZ+mB,2BAAOvT,IADK;AAEZ0U,0BAAM;AAFM,iBAAhB;AAIH;;AAED,mBAAOqI,IAAP;AACH;;;mCAEUnjC,G,EAAK;AACZ,iBAAKujC,SAAL;;AAEA,gBAAI,KAAKC,gBAAT,EAA2B;AACvB;AACA,uBAAO,KAAP;AACH;;AAED,iBAAKC,QAAL;AACA,iBAAKC,QAAL,CAAc1jC,GAAd;;AAEA,mBAAO,KAAP;AACH;;;kCAESA,G,EAAK;AACX,gBAAI2jC,eAAe,iBAAO,KAAKza,aAAZ,CAAnB;AACA,gBAAI3L,IAAIvd,IAAIghB,KAAJ,GAAY2iB,aAAa7lB,IAAjC;AACA,gBAAIL,IAAIzd,IAAIihB,KAAJ,GAAY0iB,aAAa9lB,GAAjC;;AAEA,mBAAO,EAAEN,GAAGA,CAAL,EAAQE,GAAGA,CAAX,EAAP;AACH;;;iCAEQzd,G,EAAK;AAAA;;AACV;AACA,gBAAI+D,MAAM,KAAK6/B,SAAL,CAAe5jC,GAAf,CAAV;;AAEA,iBAAKyqB,EAAL,CAAQnF,KAAR,CAAcxH,IAAd,GAAqB/Z,IAAIwZ,CAAJ,GAAQ,IAA7B;AACA,iBAAKkN,EAAL,CAAQnF,KAAR,CAAczH,GAAd,GAAoB9Z,IAAI0Z,CAAJ,GAAQ,IAA5B;;AAEA,+BAAS,KAAKyL,aAAd,EAA6B,yBAA7B;AACA,+BAAS,KAAKuB,EAAd,EAAkB,SAAlB;AACAzmB,yBAAa,KAAK6/B,YAAlB;AACA,iBAAKA,YAAL,GAAoBrlC,WAAW;AAAA,uBAAM,MAAKilC,QAAL,EAAN;AAAA,aAAX,EAAkC,IAAlC,CAApB;AACA,mBAAO,KAAP;AACH;;;mCAEU;AACP,iBAAKvG,SAAL,CAAen5B,GAAf,CAAmB,KAAnB,EAA0B,KAAK0/B,QAA/B,EAAyC,IAAzC;AACA,gBAAI,KAAKD,gBAAT,EAA2B;AACvB;AACA,qBAAKtG,SAAL,CAAeh+B,EAAf,CAAkB,KAAlB,EAAyB,KAAKukC,QAA9B,EAAwC,IAAxC;AACA;AACH;AACD,kCAAY,KAAKva,aAAjB,EAAgC,yBAAhC;AACA,kCAAY,KAAKuB,EAAjB,EAAqB,SAArB;AACH;;;oCAEW;AACR,gBAAMqY,OAAO,0BAAmB,KAAKgB,UAAL,EAAnB,CAAb;AACA,gBAAI,KAAKrZ,EAAT,EAAa;AACT,oBAAI,KAAKqY,IAAL,KAAcA,IAAlB,EAAwB;AACpB,yBAAKA,IAAL,GAAYA,IAAZ;AACA,wBAAMiB,QAAQlB,iBAAiBC,IAAjB,CAAd;AACA,2CAAa,KAAKrY,EAAlB;AACA,yBAAK,IAAIhQ,IAAIspB,MAAMC,UAAN,CAAiBnhC,MAA9B,EAAsC4X,GAAtC,GAA4C;AACxC,6BAAKgQ,EAAL,CAAQ5tB,WAAR,CAAoBknC,MAAMzS,UAA1B;AACH;AACJ;AACD;AACH;;AAED,iBAAKwR,IAAL,GAAYA,IAAZ;AACA,iBAAKrY,EAAL,GAAUoY,iBAAiB,KAAKC,IAAtB,CAAV;;AAEA,iBAAKmB,KAAL,CAAWpnC,WAAX,CAAuB,KAAK4tB,EAA5B;;AAEA,iBAAKyZ,eAAL,GAAuB,KAAKT,QAAL,CAAcvZ,IAAd,CAAmB,IAAnB,CAAvB;AACA,iBAAKia,cAAL,CAAoB,KAAKjb,aAAzB;AACA,iBAAKib,cAAL,CAAoBtgC,QAApB;;AAEA;AACA,iBAAKq5B,SAAL,GAAiB,iBAAO,KAAKzS,EAAZ,EAAgB,EAAEpI,UAAU,IAAZ,EAAhB,EACZnjB,EADY,CACT,MADS,EACD,YAAW;AACnB,qBAAKskC,gBAAL,GAAwB,IAAxB;AACH,aAHY,EAGV,IAHU,EAIZtkC,EAJY,CAIT,KAJS,EAIF,YAAW;AAClB,qBAAKskC,gBAAL,GAAwB,KAAxB;AACH,aANY,EAMV,IANU,CAAjB;AAOH;;;8BAEK1iC,M,EAAQ2gC,c,EAAgBwC,K,EAAO;AACjC,iBAAK/a,aAAL,GAAqBuY,cAArB;AACA,iBAAK/iC,KAAL,GAAaoC,MAAb;AACA,iBAAK0iC,gBAAL,GAAwB,KAAxB;AACA,iBAAKS,KAAL,GAAaA,KAAb;;AAEA;AACAxC,2BAAe2C,aAAf,GAA+B,KAAKC,UAAL,CAAgBna,IAAhB,CAAqB,IAArB,CAA/B;AACH;;;uCAEcvrB,O,EAAS;AACpBA,oBAAQ0E,gBAAR,CAAyB,WAAzB,EAAsC,KAAK6gC,eAA3C;AACAvlC,oBAAQ0E,gBAAR,CAAyB,YAAzB,EAAuC,KAAK6gC,eAA5C;AACAvlC,oBAAQ0E,gBAAR,CAAyB,aAAzB,EAAwC,KAAK6gC,eAA7C;AACH;;;0CAEiBvlC,O,EAAS;AACvBA,oBAAQyF,mBAAR,CAA4B,WAA5B,EAAyC,KAAK8/B,eAA9C;AACAvlC,oBAAQyF,mBAAR,CAA4B,YAA5B,EAA0C,KAAK8/B,eAA/C;AACAvlC,oBAAQyF,mBAAR,CAA4B,aAA5B,EAA2C,KAAK8/B,eAAhD;AACH;;;kCAES;AACNlgC,yBAAa,KAAK6/B,YAAlB;AACA,gBAAI,KAAKpZ,EAAT,EAAa;AACT,qBAAKgZ,QAAL;AACA,qBAAKvG,SAAL,CAAen5B,GAAf;AACA,qBAAKugC,iBAAL,CAAuB,KAAKpb,aAA5B;AACA,qBAAKob,iBAAL,CAAuBzgC,QAAvB;AACA,qBAAKqgC,eAAL,GAAuB,IAAvB;AACA,qBAAKzZ,EAAL,GAAU,IAAV;AACH;;AAED,gBAAI,KAAKvB,aAAT,EAAwB;AACpB,qBAAKA,aAAL,CAAmBkb,aAAnB,GAAmC,IAAnC;AACA,qBAAKlb,aAAL,GAAqB,IAArB;AACH;;AAED,gBAAI,KAAKxqB,KAAT,EAAgB;AACZ,qBAAKA,KAAL,GAAa,IAAb;AACH;AACJ;;;;;;kBApJgBskC,U;;;;;;;;;;;;;;;;;;kBChBN,UAACG,IAAD,EAAU;AAAA,sBACEA,IADF,CACbC,KADa;AAAA,QACbA,KADa,+BACL,EADK;;AAErB,QAAMmB,YAAYnB,MACb5oB,GADa,CACT,gBAAQ;AACT,eAAOgqB,eAAeh8B,KAAKsyB,IAApB,EAA0BtyB,KAAKmxB,KAA/B,EAAsCnxB,KAAK66B,QAA3C,EAAqD76B,KAAK86B,QAA1D,CAAP;AACH,KAHa,EAIbxe,IAJa,CAIR,EAJQ,CAAlB;;AAMA,WACI,uFAC+Cyf,SAD/C,sBADJ;AAKH,C;;AAED,IAAMC,iBAAiB,SAAjBA,cAAiB,GAA+C;AAAA,QAA9C1J,IAA8C,uEAAvC,EAAuC;AAAA,QAAnCnB,KAAmC,uEAA3B,EAA2B;AAAA,QAAvB0J,QAAuB;AAAA,QAAbC,QAAa;;AAClE,QAAMnlC,OAAOmlC,iEAAiE,EAA9E;AACA,WACI,6CAA0CD,WAAW,aAAX,GAA2B,EAArE,0BACgBvI,IADhB,8DAC6E38B,IAD7E,GACoFw7B,KADpF,oBADJ;AAKH,CAPD,C;;;;;;;;;;;;;;;;;QCHgB8K,kB,GAAAA,kB;QA4CAC,qB,GAAAA,qB;;AAxDhB;;AACA;;AAWO,SAASD,kBAAT,CAA4BpnC,UAA5B,EAAwCsnC,YAAxC,EAAsD;AACzD,QAAMlkC,iBAAiBpD,WAAWqD,QAAX,CAAoBD,cAA3C;AACA,QAAMmkC,iBAAiB,SAAjBA,cAAiB,GAAM;AACzBnkC,uBAAeQ,IAAf;AACH,KAFD;AAGA,QAAM4jC,cAAc,SAAdA,WAAc,GAAM;AACtBpkC,uBAAekE,IAAf;AACH,KAFD;;AAIA,QAAM3G,eAAe,wBAAa2mC,YAAb,EAA2BC,cAA3B,EAA2CC,WAA3C,CAArB;;AAEAxnC,eAAW6B,EAAX,CAAc,qBAAd,EAAqC,UAAC4lC,WAAD,EAAcC,SAAd,EAAyBngC,KAAzB,EAAmC;AACpE,YAAMogC,UAAUhnC,aAAainC,UAAb,CAAwBH,WAAxB,CAAhB;AACA,YAAI,CAACE,OAAD,IAAY,CAACD,SAAjB,EAA4B;AACxB;AACA;AACA;AACA;AACH;;AAED,YAAI/mC,aAAa+B,OAAjB,EAA0B;AACtB,gBAAIglC,aAAaC,QAAQxJ,MAAzB,EAAiC;AAC7B;AACAx9B,6BAAaqE,KAAb;AACH,aAHD,MAGO;AACH;AACArE,6BAAaknC,eAAb,CAA6BJ,WAA7B;AACH;AACJ,SARD,MAQO;AACH,gBAAIE,OAAJ,EAAa;AACT;AACAhnC,6BAAaknC,eAAb,CAA6BJ,WAA7B;AACH,aAHD,MAGO;AACH;AACA9mC,6BAAamnC,oBAAb;AACH;AACDnnC,yBAAauuB,IAAb,CAAkBwY,SAAlB,EAA6BngC,KAA7B;AACH;AACJ,KA3BD;;AA6BA,WAAO5G,YAAP;AACH;;AAGM,SAAS0mC,qBAAT,CAA+B1mC,YAA/B,EAA6CX,UAA7C,EAAyDwJ,SAAzD,EAAoEtK,GAApE,EAAyE;AAC5E,QAAMmC,QAAQmI,UAAUk7B,MAAxB;;AAEA,QAAMqD,sBAAsB,SAAtBA,mBAAsB,CAACN,WAAD,EAAcO,SAAd,EAA4B;AACpD,YAAML,UAAUhnC,aAAainC,UAAb,CAAwBH,WAAxB,CAAhB;AACA,YAAIE,OAAJ,EAAa;AACTA,oBAAQM,YAAR,CAAqBD,SAArB;AACH;AACJ,KALD;;AAOA,QAAME,uBAAuB,SAAvBA,oBAAuB,CAAChW,YAAD,EAAe1gB,WAAf,EAA+B;AACxD,YAAI,CAACA,WAAD,IAAgBA,YAAYhM,MAAZ,IAAsB,CAA1C,EAA6C;AACzC,0DAAyB7E,YAAzB;AACA;AACH;;AAED,mDACIA,YADJ,EAEI6Q,WAFJ,EAGI,UAACxG,KAAD;AAAA,mBAAW9L,IAAIqU,oBAAJ,CAAyBvI,KAAzB,CAAX;AAAA,SAHJ,EAII3J,MAAMK,GAAN,CAAU,mBAAV,CAJJ,EAKIL,MAAMK,GAAN,CAAU,cAAV,EAA0B8P,WAL9B;AAOH,KAbD;;AAeA,QAAM22B,qBAAqB,SAArBA,kBAAqB,CAACjW,YAAD,EAAelV,MAAf,EAA0B;AACjD,YAAI,CAACA,MAAD,IAAWA,OAAOxX,MAAP,IAAiB,CAAhC,EAAmC;AAC/B,wDAAuB7E,YAAvB;AACA;AACH;;AAED,iDACIA,YADJ,EAEIqc,MAFJ,EAGI,UAAChS,KAAD;AAAA,mBAAW9L,IAAIgU,iBAAJ,CAAsBlI,KAAtB,CAAX;AAAA,SAHJ,EAII3J,MAAMK,GAAN,CAAU,cAAV,CAJJ,EAKIL,MAAMK,GAAN,CAAU,cAAV,EAA0B0mC,EAL9B;AAOH,KAbD;;AAeA,QAAM/M,oBAAoB,SAApBA,iBAAoB,CAACnJ,YAAD,EAAe7sB,YAAf,EAAgC;AACtD,YAAMgjC,mBAAmBroC,WAAWqD,QAAX,CAAoBo3B,cAA7C;AACA,YAAI,CAACp1B,YAAD,IAAiBA,aAAaG,MAAb,IAAuB,CAA5C,EAA+C;AAC3C,uDAAsB7E,YAAtB;AACA0nC,6BAAiB/gC,IAAjB;AACA;AACH;;AAED,gDAAmB3G,YAAnB,EACI0E,YADJ,EAEI,UAAC2F,KAAD;AAAA,mBAAW9L,IAAIyG,kBAAJ,CAAuBqF,KAAvB,CAAX;AAAA,SAFJ,EAGI3J,MAAMK,GAAN,CAAU,eAAV,CAHJ,EAIIL,MAAMK,GAAN,CAAU,cAAV,EAA0Bg5B,EAJ9B;AAMA16B,mBAAWsoC,yBAAX,CAAqC,CAAC,CAACjnC,MAAMK,GAAN,CAAU,eAAV,CAAvC;AACA2mC,yBAAiBzkC,IAAjB;AACH,KAhBD;;AAkBA,QAAM2kC,yBAAyB,SAAzBA,sBAAyB,CAACrW,YAAD,EAAesW,aAAf,EAAiC;AAC5D,YAAMC,2BACFpnC,MAAMK,GAAN,CAAU,sBAAV,KACAL,MAAMK,GAAN,CAAU,YAAV,MAA4B,MAD5B,IAEAL,MAAMK,GAAN,CAAU,sBAAV,CAFA,IAGA8mC,cAAchjC,MAAd,GAAuB,CAJ3B;;AAMA,YAAI,CAACijC,wBAAL,EAA+B;AAC3B,4DAA2B9nC,YAA3B;AACA;AACH;;AAED,qDACIA,YADJ,EAEI6nC,aAFJ,EAGI,UAACl+B,YAAD;AAAA,mBAAkBpL,IAAIoV,eAAJ,CAAoBhK,YAApB,CAAlB;AAAA,SAHJ,EAIIjJ,MAAMK,GAAN,CAAU,cAAV,CAJJ,EAKIL,MAAMK,GAAN,CAAU,cAAV,EAA0B8mC,aAL9B;AAOH,KAnBD;;AAqBA;AACAnnC,UAAMa,MAAN,CAAa,QAAb,EAAuBimC,kBAAvB,EAA2CxnC,YAA3C;AACAU,UAAMQ,EAAN,CAAS,qBAAT,EAAgC,UAACqwB,YAAD,EAAe3U,cAAf,EAAkC;AAC9DwqB,4BAAoB,SAApB,EAA+BxqB,cAA/B;AACH,KAFD,EAEG5c,YAFH;;AAIA;AACAU,UAAMa,MAAN,CAAa,aAAb,EAA4BgmC,oBAA5B,EAAkDvnC,YAAlD;AACAU,UAAMQ,EAAN,CAAS,0BAAT,EAAqC,UAACqwB,YAAD,EAAewW,iBAAf,EAAqC;AACtEX,4BAAoB,aAApB,EAAmCW,iBAAnC;AACH,KAFD,EAEG/nC,YAFH;;AAIA;AACAU,UAAMa,MAAN,CAAa,cAAb,EAA6Bm5B,iBAA7B,EAAgD16B,YAAhD;AACAU,UAAMa,MAAN,CAAa,eAAb,EAA8B,UAACgwB,YAAD,EAAelnB,KAAf,EAAyB;AACnD,YAAM29B,kBAAkBhoC,aAAainC,UAAb,CAAwB,UAAxB,CAAxB;AACA,YAAIe,eAAJ,EAAqB;AACjBA,4BAAgBV,YAAhB,CAA6Bj9B,KAA7B;AACAhL,uBAAWsoC,yBAAX,CAAqC,CAAC,CAACt9B,KAAvC;AACH;AACJ,KAND,EAMGrK,YANH;;AAQA;AACAU,UAAMa,MAAN,CAAa,eAAb,EAA8BqmC,sBAA9B,EAAsD5nC,YAAtD;AACAU,UAAMa,MAAN,CAAa,cAAb,EAA6B,UAACgwB,YAAD,EAAe5nB,YAAf,EAAgC;AACzD,YAAMs+B,QAAQvnC,MAAMK,GAAN,CAAU,eAAV,CAAd;AACA,YAAIknC,KAAJ,EAAW;AACPb,gCAAoB,eAApB,EAAqCa,MAAMjiB,OAAN,CAAcrc,YAAd,CAArC;AACH;AACJ,KALD,EAKG3J,YALH;;AAOA;AACAU,UAAMQ,EAAN,CAAS,mBAAT,EAA8B,UAACqwB,YAAD,EAAeiM,MAAf,EAAuB3L,aAAvB,EAAyC;AACnE,YAAI2L,WAAW3L,aAAf,EAA8B;AAC1B;AACH;;AAED,YAAI2L,MAAJ,EAAY;AACR,0DAAyBx9B,YAAzB;AACA,wDAAuBA,YAAvB;AACA,4DAA2BA,YAA3B;AACH,SAJD,MAIO;AACHunC,iCAAqB7mC,KAArB,EAA4BA,MAAMK,GAAN,CAAU,aAAV,CAA5B;AACAymC,+BAAmB9mC,KAAnB,EAA0BA,MAAMK,GAAN,CAAU,QAAV,CAA1B;AACA6mC,mCAAuBlnC,KAAvB,EAA8BA,MAAMK,GAAN,CAAU,eAAV,CAA9B;AACH;AACJ,KAdD,EAcGf,YAdH;;AAgBAU,UAAMQ,EAAN,CAAS,mBAAT,EAA8B,YAAM;AAChC0mC,+BAAuBlnC,KAAvB,EAA8BA,MAAMK,GAAN,CAAU,eAAV,CAA9B;AACH,KAFD,EAEGf,YAFH;AAIH,C;;;;;;;;;;;;;;;;;QCtLekoC,Y,GAAAA,Y;;AALhB;;AACA;;;;AACA;;;;AACA;;;;AAEO,SAASA,YAAT,CAAsBvB,YAAtB,EAAoCC,cAApC,EAAoDC,WAApD,EAAiE;AACpE,QAAMsB,uBAAuB,SAAvBA,oBAAuB,CAACl2B,CAAD,EAAO;AAChC;AACA;AACA;AACA,YAAMm2B,cAAcn2B,EAAEvM,MAAF,CAAS7E,SAA7B;AACA,YAAI,CAACunC,YAAYC,KAAZ,CAAkB,+CAAlB,CAAL,EAAyE;AACrE/Z,qBAASjqB,KAAT;AACH;AACJ,KARD;;AAUA,QAAItC,gBAAJ;AACA,QAAIy7B,SAAS,IAAb;AACA,QAAM8K,WAAW,EAAjB;;AAEA,QAAMC,sBAAsB,wBAAc,qBAAd,CAA5B;;AAEA,QAAMC,eAAe,SAAfA,YAAe,CAASxmC,GAAT,EAAc;AAC/B,YAAIA,OAAOA,IAAIyC,OAAJ,KAAgB,EAA3B,EAA+B;AAC3B6pB,qBAASjqB,KAAT,CAAerC,GAAf;AACAA,gBAAI2gB,eAAJ;AACH;AACJ,KALD;AAMA4lB,wBAAoBljC,gBAApB,CAAqC,SAArC,EAAgDmjC,YAAhD;;AAEA,QAAM3E,cAAc,sBAAO,mBAAP,EAA4B,YAAM;AAClDvV,iBAASjqB,KAAT;AACH,KAFmB,EAEjB,gBAFiB,EAEC,CAAC,sBAAU,OAAV,CAAD,CAFD,CAApB;;AAIA,QAAMokC,gBAAgB,SAAhBA,aAAgB,CAASzmC,GAAT,EAAc;AAChC;AACA;AACA,YAAIA,IAAIyC,OAAJ,KAAgB,EAAhB,IAAuBzC,IAAIyC,OAAJ,KAAgB,CAAhB,IAAqB,CAACzC,IAAI0mC,QAArD,EAAgE;AAC5Dpa,qBAASjqB,KAAT,CAAerC,GAAf;AACH;AACJ,KAND;AAOA6hC,gBAAY5gC,IAAZ;AACA4gC,gBAAYljC,OAAZ,GAAsB0E,gBAAtB,CAAuC,SAAvC,EAAkDojC,aAAlD;;AAEA,QAAME,gBAAgBJ,oBAAoB5pC,aAApB,CAAkC,qBAAlC,CAAtB;AACAgqC,kBAAc9pC,WAAd,CAA0BglC,YAAYljC,OAAZ,EAA1B;;AAEA,QAAM2tB,WAAW;AACbC,YADa,gBACRwY,SADQ,EACGngC,KADH,EACU;AACnB7E,sBAAU,IAAV;AACA4kC,yBAAa5kC,OAAb,EAAsB6E,KAAtB;AACA2hC,gCAAoBtqB,YAApB,CAAiC,eAAjC,EAAkD,MAAlD;AACA2qB,iCAAqBT,oBAArB;;AAEA,gBAAIpB,SAAJ,EAAe;AACX,oBAAIngC,SAASA,MAAMvE,IAAN,KAAe,OAA5B,EAAqC;AACjCm7B,2BAAOqL,qBAAP,CAA6BlmC,KAA7B;AACH;AACJ,aAJD,MAIO;AACH66B,uBAAO78B,OAAP,GAAiB2yB,UAAjB,CAA4B3wB,KAA5B;AACH;AAEJ,SAfY;AAgBb0B,aAhBa,iBAgBPuC,KAhBO,EAgBA;AACT7E,sBAAU,KAAV;AACA4kC,yBAAa5kC,OAAb,EAAsB6E,KAAtB;;AAEA42B,qBAAS,IAAT;AACAsL,kCAAsBR,QAAtB;;AAEAC,gCAAoBtqB,YAApB,CAAiC,eAAjC,EAAkD,OAAlD;AACA8qB,oCAAwBZ,oBAAxB;AACH,SAzBY;AA0Bb3gB,cA1Ba,oBA0BJ;AACL,gBAAIzlB,OAAJ,EAAa;AACT,qBAAKsC,KAAL;AACH,aAFD,MAEO;AACH,qBAAKkqB,IAAL;AACH;AACJ,SAhCY;AAiCbya,kBAjCa,sBAiCFhC,OAjCE,EAiCO;AAChB,gBAAI,CAACA,OAAL,EAAc;AACV;AACH;AACD,gBAAMhmB,OAAOgmB,QAAQhmB,IAArB;AACAsnB,qBAAStnB,IAAT,IAAiBgmB,OAAjB;;AAEA,gBAAIA,QAAQD,SAAZ,EAAuB;AACnB,uCAAa4B,aAAb,EAA4B3B,QAAQ6B,qBAApC;AACA7B,wBAAQ6B,qBAAR,CAA8BxjC,gBAA9B,CAA+C,SAA/C,EAA0D,UAASrD,GAAT,EAAc;AACpE;AACA,wBAAIA,IAAIyC,OAAJ,KAAgB,CAAhB,IAAqBzC,IAAI0mC,QAA7B,EAAuC;AACnCpa,iCAASjqB,KAAT,CAAerC,GAAf;AACH;AACJ,iBALD;AAMH,aARD,MAQO;AACH;AACA,oBAAMinC,gBAAgBN,cAAchqC,aAAd,CAA4B,qBAA5B,CAAtB;AACAgqC,8BAAc/lC,YAAd,CACIokC,QAAQ6B,qBADZ,EAEII,iBAAiBpF,YAAYljC,OAAZ,EAFrB;AAIH;;AAED4nC,gCAAoB1pC,WAApB,CAAgCmoC,QAAQrmC,OAAR,EAAhC;;AAEAimC;AACH,SA5DY;AA6DbK,kBA7Da,sBA6DFjmB,IA7DE,EA6DI;AACb,mBAAOsnB,SAAStnB,IAAT,CAAP;AACH,SA/DY;AAgEbkoB,qBAhEa,yBAgECloB,IAhED,EAgEO;AAChB,gBAAMgmB,UAAUsB,SAAStnB,IAAT,CAAhB;AACA,gBAAI,CAACgmB,OAAD,IAAYA,QAAQrmC,OAAR,GAAkBsF,UAAlB,KAAiCsiC,mBAAjD,EAAsE;AAClE;AACH;AACDA,gCAAoBpiC,WAApB,CAAgC6gC,QAAQrmC,OAAR,EAAhC;AACAgoC,0BAAcxiC,WAAd,CAA0B6gC,QAAQ6B,qBAAlC;AACA7B,oBAAQtlC,OAAR;AACA,mBAAO4mC,SAAStnB,IAAT,CAAP;;AAEA,gBAAI,CAAChW,OAAOsL,IAAP,CAAYgyB,QAAZ,EAAsBzjC,MAA3B,EAAmC;AAC/B,qBAAKR,KAAL;AACAwiC;AACH;AACJ,SA9EY;AA+EbK,uBA/Ea,2BA+EGlmB,IA/EH,EA+ES;AAClB,gBAAMgmB,UAAUsB,SAAStnB,IAAT,CAAhB;AACA,gBAAI,CAACgmB,OAAD,IAAYA,QAAQxJ,MAAxB,EAAgC;AAC5B;AACH;;AAEDsL,kCAAsBR,QAAtB;AACAtB,oBAAQmC,QAAR;AACA3L,qBAASwJ,OAAT;;AAEA,gBAAI,CAACA,QAAQD,SAAb,EAAwB;AACpBvJ,uBAAO78B,OAAP,GAAiB2yB,UAAjB,CAA4B3wB,KAA5B;AACH;AACJ,SA5FY;AA6FbwkC,4BA7Fa,kCA6FU;AACnB,gBAAMiC,mBAAmBp+B,OAAOsL,IAAP,CAAYgyB,QAAZ,EAAsB,CAAtB,CAAzB;AACA,iBAAKpB,eAAL,CAAqBkC,gBAArB;AACH,SAhGY;AAiGbzoC,eAjGa,qBAiGH;AACN,mBAAO4nC,mBAAP;AACH,SAnGY;AAoGb7mC,eApGa,qBAoGH;AACN,iBAAK2C,KAAL;AACAkkC,gCAAoBniC,mBAApB,CAAwC,SAAxC,EAAmDoiC,YAAnD;AACA3E,wBAAYljC,OAAZ,GAAsByF,mBAAtB,CAA0C,SAA1C,EAAqDqiC,aAArD;AACA,mCAAaF,mBAAb;AACH;AAzGY,KAAjB;;AA4GAv9B,WAAOq+B,gBAAP,CAAwB/a,QAAxB,EAAkC;AAC9BvsB,iBAAS;AACLy0B,wBAAY,IADP;AAELz1B,iBAAK;AAAA,uBAAMgB,OAAN;AAAA;AAFA;AADqB,KAAlC;;AAOA,WAAOusB,QAAP;AACH;;AAED,IAAMsa,uBAAuB,SAAvBA,oBAAuB,CAACU,OAAD,EAAa;AACtCzjC,aAASR,gBAAT,CAA0B,SAA1B,EAAqCikC,OAArC;AACAzjC,aAASR,gBAAT,CAA0B,WAA1B,EAAuCikC,OAAvC;AACAzjC,aAASR,gBAAT,CAA0B,YAA1B,EAAwCikC,OAAxC;AACH,CAJD;;AAMA,IAAMP,0BAA0B,SAA1BA,uBAA0B,CAACO,OAAD,EAAa;AACzCzjC,aAASO,mBAAT,CAA6B,SAA7B,EAAwCkjC,OAAxC;AACAzjC,aAASO,mBAAT,CAA6B,WAA7B,EAA0CkjC,OAA1C;AACAzjC,aAASO,mBAAT,CAA6B,YAA7B,EAA2CkjC,OAA3C;AACH,CAJD;;AAMA,IAAMR,wBAAwB,SAAxBA,qBAAwB,CAACR,QAAD,EAAc;AACxCt9B,WAAOsL,IAAP,CAAYgyB,QAAZ,EAAsBhqC,OAAtB,CAA8B,gBAAQ;AAClCgqC,iBAAStnB,IAAT,EAAeuoB,UAAf;AACH,KAFD;AAGH,CAJD,C;;;;;;;;;;;;;;;;;;kBCjLe,YAAM;AACjB,WACI,wKADJ;AAMH,C;;;;;;;;;;;;;;;;;;QC8BeC,kB,GAAAA,kB;QAcAC,qB,GAAAA,qB;QAIAC,qB,GAAAA,qB;QAaAC,wB,GAAAA,wB;QAIAC,mB,GAAAA,mB;QAYAC,sB,GAAAA,sB;QAIAC,uB,GAAAA,uB;QAYAC,0B,GAAAA,0B;;AApGhB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAMC,uBAAuB,aAA7B;AACA,IAAMC,mBAAmB,UAAzB;AACA,IAAMC,oBAAoB,SAA1B;AACA,IAAMC,wBAAwB,eAA9B;AACA,IAAMC,kBAAkBF,iBAAxB;;AAEO,IAAMG,oCAAc,SAAdA,WAAc,CAACrqC,YAAD,EAAeghB,IAAf,EAAqBspB,YAArB,EAAmChkB,IAAnC,EAAyCikB,WAAzC,EAAyD;AAChF,QAAIvD,UAAUhnC,aAAainC,UAAb,CAAwBjmB,IAAxB,CAAd;AACA,QAAIgmB,OAAJ,EAAa;AACTA,gBAAQwD,cAAR,CAAuBF,YAAvB;AACH,KAFD,MAEO;AACH,YAAMG,iBAAiB,uCAAsBzpB,IAAtB,EAA8B,YAAM;AACvDhhB,yBAAaknC,eAAb,CAA6BlmB,IAA7B;AACAgmB,oBAAQrmC,OAAR,GAAkB+pC,QAAlB,CAA2B,CAA3B,EAA8B/nC,KAA9B;AACH,SAHsB,EAGpBqe,IAHoB,EAGd,CAACsF,IAAD,CAHc,CAAvB;AAIA,YAAMuiB,wBAAwB4B,eAAe9pC,OAAf,EAA9B;AACAkoC,8BAAsB5qB,YAAtB,CAAmC,MAAnC,EAA2C,eAA3C;AACA4qB,8BAAsB5qB,YAAtB,CAAmC,cAAnC,EAAmD,OAAnD;;AAEA;AACA+oB,kBAAU,uBAAgBhmB,IAAhB,EAAsBypB,cAAtB,EAAsCzpB,SAASopB,eAA/C,CAAV;AACApD,gBAAQ5I,UAAR,CAAmBkM,YAAnB;AACA,YAAI,EAAE,kBAAkB19B,MAApB,CAAJ,EAAiC;AAC7B,8CAAci8B,qBAAd,EAAqC7nB,IAArC,EAA2CupB,WAA3C;AACH;AACDvqC,qBAAagpC,UAAb,CAAwBhC,OAAxB;AACH;;AAED,WAAOA,OAAP;AACH,CAvBM;;AAyBA,SAASwC,kBAAT,CAA4BxpC,YAA5B,EAA0C0E,YAA1C,EAAwDimC,MAAxD,EAAgEC,qBAAhE,EAAuFL,WAAvF,EAAoG;AACvG,QAAMM,uBAAuBnmC,aAAa8X,GAAb,CAAiB,UAACzS,KAAD,EAAQM,KAAR,EAAkB;AAC5D,YAAMygC,qBAAqB,2BAAoB/gC,MAAMsK,EAA1B,EAA8BtK,MAAM8R,KAApC,EAA2C,UAAC7Z,GAAD,EAAS;AAC3E2oC,mBAAOtgC,KAAP;AACArK,yBAAaqE,KAAb,CAAmBrC,GAAnB;AACH,SAH0B,CAA3B;;AAKA,eAAO8oC,kBAAP;AACH,KAP4B,CAA7B;;AASA,QAAM9C,kBAAkBqC,YAAYrqC,YAAZ,EAA0BiqC,gBAA1B,EAA4CY,oBAA5C,EAAkE,sBAAU,QAAV,CAAlE,EAAuFN,WAAvF,CAAxB;AACAvC,oBAAgBV,YAAhB,CAA6BsD,qBAA7B;AACH;;AAEM,SAASnB,qBAAT,CAA+BzpC,YAA/B,EAA6C;AAChDA,iBAAakpC,aAAb,CAA2Be,gBAA3B;AACH;;AAEM,SAASP,qBAAT,CAA+B1pC,YAA/B,EAA6C+qC,eAA7C,EAA8DJ,MAA9D,EAAsEC,qBAAtE,EAA6FL,WAA7F,EAA0G;AAC7G,QAAMS,mBAAmBD,gBAAgBvuB,GAAhB,CAAoB,UAACzS,KAAD,EAAQM,KAAR,EAAkB;AAC3D,eAAO,2BAAoBN,MAAMiX,IAA1B,EAAgCjX,MAAMiX,IAAtC,EAA4C,UAAChf,GAAD,EAAS;AACxD2oC,mBAAOtgC,KAAP;AACArK,yBAAaqE,KAAb,CAAmBrC,GAAnB;AACH,SAHM,CAAP;AAIH,KALwB,CAAzB;;AAOA,QAAMipC,qBAAqBZ,YAAYrqC,YAAZ,EAA0BgqC,oBAA1B,EAAgDgB,gBAAhD,EACvB,sBAAU,cAAV,CADuB,EACIT,WADJ,CAA3B;AAEAU,uBAAmB3D,YAAnB,CAAgCsD,qBAAhC;AACH;;AAEM,SAASjB,wBAAT,CAAkC3pC,YAAlC,EAAgD;AACnDA,iBAAakpC,aAAb,CAA2Bc,oBAA3B;AACH;;AAEM,SAASJ,mBAAT,CAA6B5pC,YAA7B,EAA2CkrC,aAA3C,EAA0DP,MAA1D,EAAkEC,qBAAlE,EAAyFL,WAAzF,EAAsG;AACzG,QAAMY,iBAAiBD,cAAc1uB,GAAd,CAAkB,UAACzS,KAAD,EAAQM,KAAR,EAAkB;AACvD,eAAO,2BAAoBN,MAAM8R,KAA1B,EAAiC9R,MAAM8R,KAAvC,EAA8C,UAAC7Z,GAAD,EAAS;AAC1D2oC,mBAAOtgC,KAAP;AACArK,yBAAaqE,KAAb,CAAmBrC,GAAnB;AACH,SAHM,CAAP;AAIH,KALsB,CAAvB;;AAOA,QAAMopC,mBAAmBf,YAAYrqC,YAAZ,EAA0BkqC,iBAA1B,EAA6CiB,cAA7C,EAA6D,sBAAU,aAAV,CAA7D,EAAuFZ,WAAvF,CAAzB;AACAa,qBAAiB9D,YAAjB,CAA8BsD,qBAA9B;AACH;;AAEM,SAASf,sBAAT,CAAgC7pC,YAAhC,EAA8C;AACjDA,iBAAakpC,aAAb,CAA2BgB,iBAA3B;AACH;;AAEM,SAASJ,uBAAT,CAAiC9pC,YAAjC,EAA+CqrC,QAA/C,EAAyDV,MAAzD,EAAiEC,qBAAjE,EAAwFL,WAAxF,EAAqG;AACxG,QAAMe,YAAYD,SAAS7uB,GAAT,CAAa,UAAC7S,YAAD,EAAkB;AAC7C,eAAO,2BAAoBA,YAApB,EAAkCA,eAAe,GAAjD,EAAsD,UAAC3H,GAAD,EAAS;AAClE2oC,mBAAOhhC,YAAP;AACA3J,yBAAaqE,KAAb,CAAmBrC,GAAnB;AACH,SAHM,CAAP;AAIH,KALiB,CAAlB;;AAOA,QAAMupC,uBAAuBlB,YAAYrqC,YAAZ,EAA0BmqC,qBAA1B,EAAiDmB,SAAjD,EAA4D,sBAAU,eAAV,CAA5D,EAAwFf,WAAxF,CAA7B;AACAgB,yBAAqBjE,YAArB,CAAkCsD,qBAAlC;AACH;;AAEM,SAASb,0BAAT,CAAoC/pC,YAApC,EAAkD;AACrDA,iBAAakpC,aAAb,CAA2BiB,qBAA3B;AACH,C;;;;;;;;;;;;;;;;;kBCnGuBqB,e;;AAHxB;;;;AACA;;;;AAEe,SAASA,eAAT,CAAyBxqB,IAAzB,EAA+BypB,cAA/B,EAA+C1D,SAA/C,EAA0D;;AAErE,QAAIvJ,eAAJ;AACA,QAAI8M,eAAe,EAAnB;AACA,QAAMmB,iBAAiB,wBAAc,uBAAgBzqB,IAAhB,CAAd,CAAvB;AACA,QAAM6nB,wBAAwB4B,eAAe9pC,OAAf,EAA9B;;AAEAkoC,0BAAsB5qB,YAAtB,CAAmC,MAAnC,EAA2C+C,IAA3C;AACA6nB,0BAAsBhoC,SAAtB,IAAmC,iBAAiBmgB,IAApD;AACAypB,mBAAexnC,IAAf;;AAEA;AACA,QAAMyoC,UAAU,SAAVA,OAAU,CAAS1pC,GAAT,EAAc;AAC1B,YAAMW,QACFkmC,yBACA7mC,IAAIyC,OAAJ,KAAgB,CADhB,KAEIzC,IAAI2pC,UAAJ,KAAmBrB,aAAa,CAAb,EAAgB3pC,OAAhB,EAAnB,IAAgDqB,IAAI0mC,QAApD,IACA1mC,IAAI2pC,UAAJ,KAAmBrB,aAAaA,aAAazlC,MAAb,GAAsB,CAAnC,EAAsClE,OAAtC,EAAnB,IAAsE,CAACqB,IAAI0mC,QAH/E,CADJ;;AAOA,YAAI/lC,KAAJ,EAAW;AACPkmC,kCAAsBlmC,KAAtB;AACH;AACJ,KAXD;;AAaA,QAAM2rB,WAAW;AACb8P,kBADa,sBACFgH,KADE,EACK;AACd,gBAAI,CAACA,KAAL,EAAY;AACR;AACH;AACDA,kBAAM9mC,OAAN,CAAc,gBAAQ;AAClBmtC,+BAAe5sC,WAAf,CAA2B2L,KAAK7J,OAAL,EAA3B;AACH,aAFD;;AAIA2pC,2BAAelF,KAAf;;AAEAkF,yBAAa,CAAb,EAAgB3pC,OAAhB,GAA0B0E,gBAA1B,CAA2C,SAA3C,EAAsDqmC,OAAtD;AACApB,yBAAaA,aAAazlC,MAAb,GAAsB,CAAnC,EAAsClE,OAAtC,GAAgD0E,gBAAhD,CAAiE,SAAjE,EAA4EqmC,OAA5E;AACH,SAbY;AAcblB,sBAda,0BAcEpF,KAdF,EAcS;AAClB9W,qBAASV,aAAT;AACA,iBAAKwQ,UAAL,CAAgBgH,KAAhB;AACH,SAjBY;AAkBbxX,qBAlBa,2BAkBG;AACZ0c,yBAAa,CAAb,EAAgB3pC,OAAhB,GAA0ByF,mBAA1B,CAA8C,SAA9C,EAAyDslC,OAAzD;AACApB,yBAAaA,aAAazlC,MAAb,GAAsB,CAAnC,EAAsClE,OAAtC,GAAgDyF,mBAAhD,CAAoE,SAApE,EAA+EslC,OAA/E;;AAEA,mCAAaD,cAAb;AACAnB,2BAAe,EAAf;AACH,SAxBY;AAyBbnB,gBAzBa,sBAyBF;AACP,kCAAYsC,cAAZ,EAA4B,4BAA5B,EAA0D,IAA1D;AACAA,2BAAextB,YAAf,CAA4B,eAA5B,EAA6C,MAA7C;AACA4qB,kCAAsB5qB,YAAtB,CAAmC,cAAnC,EAAmD,MAAnD;AACAuf,qBAAS,IAAT;AACH,SA9BY;AA+Bb+L,kBA/Ba,wBA+BA;AACT,kCAAYkC,cAAZ,EAA4B,4BAA5B,EAA0D,KAA1D;AACAA,2BAAextB,YAAf,CAA4B,eAA5B,EAA6C,OAA7C;AACA4qB,kCAAsB5qB,YAAtB,CAAmC,cAAnC,EAAmD,OAAnD;AACAuf,qBAAS,KAAT;AACH,SApCY;AAqCb8J,oBArCa,0BAqCiB;AAAA,gBAAjBsE,WAAiB,uEAAH,CAAG;;AAC1B,gBAAMphC,OAAO8/B,aAAasB,WAAb,CAAb;AACA,gBAAI,CAACphC,IAAD,IAASA,KAAKgzB,MAAlB,EAA0B;AACtB;AACH;AACDqO,+BAAmBvB,YAAnB;AACA9/B,iBAAK2+B,QAAL;AACH,SA5CY;AA6CbxoC,eA7Ca,qBA6CH;AACN,mBAAO8qC,cAAP;AACH,SA/CY;AAgDb/pC,eAhDa,qBAgDH;AACN,gBAAI,CAAC4oC,YAAL,EAAmB;AACf;AACH;AACDA,yBAAahsC,OAAb,CAAqB,gBAAQ;AACzBkM,qBAAK9I,OAAL;AACH,aAFD;AAGA,iBAAKksB,aAAL;AACH;AAxDY,KAAjB;;AA2DA5iB,WAAOq+B,gBAAP,CAAwB/a,QAAxB,EACI;AACItN,cAAM;AACFwV,wBAAY,IADV;AAEFz1B,iBAAK;AAAA,uBAAMigB,IAAN;AAAA;AAFH,SADV;AAKIwc,gBAAQ;AACJhH,wBAAY,IADR;AAEJz1B,iBAAK;AAAA,uBAAMy8B,MAAN;AAAA;AAFD,SALZ;AASIqL,+BAAuB;AACnBrS,wBAAY,IADO;AAEnBz1B,iBAAK;AAAA,uBAAM8nC,qBAAN;AAAA;AAFc,SAT3B;AAaI9B,mBAAW;AACPvQ,wBAAY,IADL;AAEPz1B,iBAAK;AAAA,uBAAMgmC,SAAN;AAAA;AAFE;AAbf,KADJ;;AAqBA,WAAOzY,QAAP;AACH;;AAED,IAAMud,qBAAqB,SAArBA,kBAAqB,CAACzG,KAAD,EAAW;AAClCA,UAAM9mC,OAAN,CAAc,gBAAQ;AAClBkM,aAAK++B,UAAL;AACH,KAFD;AAGH,CAJD,C;;;;;;;;;;;;;;;;;;kBC/Ge,YAAM;AACjB,WACI,+FADJ;AAIH,C;;;;;;;;;;;;;;;;;kBCDuBuC,mB;;AAJxB;;;;AACA;;AACA;;;;;;AAEe,SAASA,mBAAT,CAA6B9qB,IAA7B,EAAmC2M,OAAnC,EAA4Cgd,MAA5C,EAAoD;AAC/D,QAAInN,eAAJ;AACA,QAAMsN,qBAAqB,wBAAc,2BAAoBnd,OAApB,CAAd,CAA3B;AACA,QAAMoe,gBAAgB,iBAAOjB,kBAAP,CAAtB;AACAiB,kBAAc7qC,EAAd,CAAiB,iBAAjB,EAAoC,UAACc,GAAD,EAAS;AACzC2oC,eAAO3oC,GAAP;AACH,KAFD;;AAIA,QAAMssB,WAAW;AACb6a,gBADa,sBACF;AACP,kCAAY2B,kBAAZ,EAAgC,yBAAhC,EAA2D,IAA3D;AACAA,+BAAmB7sB,YAAnB,CAAgC,cAAhC,EAAgD,MAAhD;AACAuf,qBAAS,IAAT;AACH,SALY;AAMb+L,kBANa,wBAMA;AACT,kCAAYuB,kBAAZ,EAAgC,yBAAhC,EAA2D,KAA3D;AACAA,+BAAmB7sB,YAAnB,CAAgC,cAAhC,EAAgD,OAAhD;AACAuf,qBAAS,KAAT;AACH,SAVY;AAWb78B,eAXa,qBAWH;AACN,mBAAOmqC,kBAAP;AACH,SAbY;AAcbkB,iBAda,uBAcD;AACR,mBAAOD,aAAP;AACH,SAhBY;AAiBbrqC,eAjBa,qBAiBH;AACN,iBAAK6nC,UAAL;AACAwC,0BAAcrqC,OAAd;AACH;AApBY,KAAjB;;AAuBAsJ,WAAOurB,cAAP,CAAsBjI,QAAtB,EAAgC,QAAhC,EAA0C;AACtCkI,oBAAY,IAD0B;AAEtCz1B,aAAK;AAAA,mBAAMy8B,MAAN;AAAA;AAFiC,KAA1C;;AAKA,WAAOlP,QAAP;AACH,C;;;;;;;;;;;;;;;;;;kBCzCc,UAACX,OAAD,EAAa;AACxB,WACI,6HACOA,OADP,eADJ;AAKH,C;;;;;;;;;;;ACND;;AAEA;AACA;AACA;AACA;AACA;AACA,mD;;;;;;;;;;;ACPA;AACA;;;AAGA;AACA,8FAA+F,YAAY,WAAW,oIAAoI,kBAAkB,QAAQ,gDAAgD,MAAM,kBAAkB,OAAO,oIAAoI,kBAAkB,SAAS,OAAO,iBAAiB,kBAAkB,MAAM,QAAQ,0BAA0B,kBAAkB,SAAS,QAAQ,qPAAqP,aAAa,cAAc,aAAa,YAAY,WAAW,kBAAkB,oBAAoB,SAAS,YAAY,WAAW,6BAA6B,0CAA0C,aAAa,iDAAiD,cAAc,yCAAyC,cAAc,gDAAgD,aAAa,gCAAgC,aAAa,uCAAuC,cAAc,+BAA+B,cAAc,sCAAsC,aAAa,gDAAgD,aAAa,uDAAuD,cAAc,+CAA+C,cAAc,sDAAsD,aAAa,sCAAsC,aAAa,6CAA6C,cAAc,wCAAwC,aAAa,gDAAgD,cAAc,uCAAuC,cAAc,6FAA6F,aAAa,kFAAkF,YAAY,WAAW,4CAA4C,YAAY,UAAU,wDAAwD,mIAAmI,UAAU,0BAA0B,oBAAoB,sBAAsB,cAAc,2IAA2I,6GAA6G,oBAAoB,aAAa,YAAY,aAAa,gBAAgB,mCAAmC,kBAAkB,SAAS,WAAW,uCAAuC,gBAAgB,kBAAkB,mBAAmB,WAAW,kBAAkB,oBAAoB,oBAAoB,uJAAuJ,mBAAmB,0EAA0E,WAAW,YAAY,uBAAuB,YAAY,cAAc,YAAY,eAAe,kBAAkB,WAAW,8BAA8B,aAAa,wDAAwD,UAAU,sBAAsB,mBAAmB,YAAY,kBAAkB,sBAAsB,qBAAqB,qBAAqB,qCAAqC,WAAW,2BAA2B,qBAAqB,oCAAoC,YAAY,WAAW,eAAe,aAAa,uBAAuB,mBAAmB,iDAAiD,YAAY,WAAW,UAAU,kBAAkB,wDAAwD,mBAAmB,gFAAgF,aAAa,gFAAgF,WAAW,YAAY,iBAAiB,8FAA8F,WAAW,YAAY,4CAA4C,cAAc,cAAc,gFAAgF,WAAW,YAAY,iBAAiB,8FAA8F,WAAW,YAAY,4DAA4D,WAAW,YAAY,gKAAgK,WAAW,YAAY,iBAAiB,4LAA4L,aAAa,cAAc,gUAAgU,WAAW,YAAY,iBAAiB,wXAAwX,WAAW,YAAY,eAAe,aAAa,mBAAmB,mBAAmB,uBAAuB,kBAAkB,OAAO,SAAS,WAAW,YAAY,gBAAgB,qBAAqB,gBAAgB,gBAAgB,gDAAgD,uCAAuC,oBAAoB,gCAAgC,6BAA6B,wBAAwB,gBAAgB,0BAA0B,cAAc,mBAAmB,8CAA8C,WAAW,qBAAqB,aAAa,qBAAqB,cAAc,mBAAmB,uBAAuB,WAAW,eAAe,sBAAsB,6BAA6B,gBAAgB,kBAAkB,iCAAiC,YAAY,WAAW,mBAAmB,aAAa,uBAAuB,qEAAqE,eAAe,mCAAmC,2BAA2B,0BAA0B,uBAAuB,kBAAkB,iBAAiB,kBAAkB,2GAA2G,WAAW,sEAAsE,oBAAoB,cAAc,aAAa,SAAS,UAAU,qBAAqB,6BAA6B,YAAY,UAAU,WAAW,YAAY,eAAe,+BAA+B,aAAa,6BAA6B,aAAa,kCAAkC,iBAAiB,oBAAoB,qWAAqW,aAAa,sdAAsd,kBAAkB,oBAAoB,UAAU,0BAA0B,2eAA2e,UAAU,kFAAkF,aAAa,iKAAiK,aAAa,yDAAyD,cAAc,kBAAkB,iBAAiB,qDAAqD,sBAAsB,8DAA8D,oCAAoC,4BAA4B,qBAAqB,aAAa,mBAAmB,kBAAkB,kBAAkB,iCAAiC,kBAAkB,eAAe,aAAa,yBAAyB,SAAS,uCAAuC,WAAW,uCAAuC,SAAS,YAAY,WAAW,sBAAsB,kBAAkB,oCAAoC,UAAU,oBAAoB,kBAAkB,iDAAiD,yCAAyC,gDAAgD,8CAA8C,sCAAsC,wDAAwD,6FAA6F,6FAA6F,0CAA0C,aAAa,2CAA2C,WAAW,WAAW,gKAAgK,QAAQ,iIAAiI,qCAAqC,6BAA6B,mGAAmG,WAAW,+BAA+B,WAAW,oBAAoB,mBAAmB,sBAAsB,yCAAyC,YAAY,UAAU,0HAA0H,SAAS,6FAA6F,YAAY,UAAU,mCAAmC,2BAA2B,qCAAqC,6BAA6B,+CAA+C,uCAAuC,4EAA4E,SAAS,6BAA6B,uCAAuC,+BAA+B,gBAAgB,YAAY,WAAW,mBAAmB,4BAA4B,eAAe,UAAU,yGAAyG,mCAAmC,2BAA2B,YAAY,kDAAkD,0CAA0C,+CAA+C,uCAAuC,4EAA4E,wBAAwB,oCAAoC,eAAe,kBAAkB,UAAU,udAAud,iDAAiD,yCAAyC,kHAAkH,iDAAiD,yCAAyC,yBAAyB,uCAAuC,2BAA2B,uCAAuC,uCAAuC,YAAY,WAAW,aAAa,kBAAkB,cAAc,yBAAyB,OAAO,yBAAyB,aAAa,kBAAkB,mBAAmB,iCAAiC,cAAc,6CAA6C,kBAAkB,gBAAgB,SAAS,UAAU,iEAAiE,iCAAiC,6BAA6B,SAAS,qFAAqF,WAAW,oBAAoB,mBAAmB,sBAAsB,kGAAkG,YAAY,WAAW,qFAAqF,YAAY,WAAW,cAAc,eAAe,gBAAgB,kBAAkB,qBAAqB,4EAA4E,mBAAmB,uEAAuE,eAAe,0DAA0D,sBAAsB,8EAA8E,cAAc,mFAAmF,WAAW,qCAAqC,UAAU,oBAAoB,mBAAmB,mCAAmC,WAAW,SAAS,eAAe,oBAAoB,sEAAsE,YAAY,WAAW,oCAAoC,WAAW,cAAc,gBAAgB,oBAAoB,kBAAkB,UAAU,2FAA2F,SAAS,kBAAkB,SAAS,YAAY,WAAW,kBAAkB,8BAA8B,iCAAiC,yBAAyB,sDAAsD,8CAA8C,WAAW,iGAAiG,sBAAsB,kBAAkB,WAAW,eAAe,YAAY,cAAc,iBAAiB,qBAAqB,eAAe,sBAAsB,2BAA2B,kBAAkB,YAAY,SAAS,SAAS,gBAAgB,eAAe,UAAU,gDAAgD,uCAAuC,0BAA0B,qCAAqC,6BAA6B,kBAAkB,WAAW,UAAU,wCAAwC,kBAAkB,0BAA0B,kBAAkB,mBAAmB,eAAe,gBAAgB,aAAa,oBAAoB,kBAAkB,eAAe,eAAe,SAAS,kCAAkC,qBAAqB,yDAAyD,kBAAkB,YAAY,SAAS,UAAU,qCAAqC,6BAA6B,mDAAmD,yDAAyD,iDAAiD,mEAAmE,kBAAkB,mBAAmB,WAAW,UAAU,gKAAgK,UAAU,yCAAyC,iCAAiC,0BAA0B,gCAAgC,mBAAmB,qGAAqG,UAAU,QAAQ,kCAAkC,0BAA0B,qHAAqH,sCAAsC,8BAA8B,mHAAmH,UAAU,UAAU,iBAAiB,YAAY,QAAQ,YAAY,mBAAmB,UAAU,oBAAoB,yBAAyB,sBAAsB,qBAAqB,iBAAiB,6BAA6B,SAAS,aAAa,WAAW,YAAY,YAAY,aAAa,kBAAkB,qBAAqB,YAAY,mBAAmB,uBAAuB,gBAAgB,gBAAgB,kCAAkC,aAAa,qCAAqC,aAAa,SAAS,4BAA4B,eAAe,kBAAkB,aAAa,YAAY,YAAY,aAAa,sBAAsB,sBAAsB,mBAAmB,WAAW,sBAAsB,eAAe,oBAAoB,4BAA4B,eAAe,WAAW,oCAAoC,eAAe,YAAY,WAAW,SAAS,uBAAuB,aAAa,oBAAoB,eAAe,yCAAyC,cAAc,UAAU,yCAAyC,sBAAsB,eAAe,kBAAkB,iBAAiB,SAAS,sBAAsB,aAAa,YAAY,kBAAkB,WAAW,mBAAmB,+FAA+F,OAAO,uBAAuB,kBAAkB,MAAM,WAAW,cAAc,WAAW,gBAAgB,+BAA+B,iBAAiB,6FAA6F,gBAAgB,qBAAqB,kBAAkB,YAAY,OAAO,6BAA6B,eAAe,cAAc,aAAa,oBAAoB,QAAQ,iBAAiB,kBAAkB,WAAW,kFAAkF,aAAa,WAAW,gBAAgB,gBAAgB,oCAAoC,4BAA4B,qBAAqB,gBAAgB,gBAAgB,UAAU,kBAAkB,UAAU,mBAAmB,qCAAqC,6BAA6B,gDAAgD,8CAA8C,sCAAsC,wDAAwD,oBAAoB,oCAAoC,WAAW,uCAAuC,gBAAgB,4DAA4D,cAAc,6BAA6B,mBAAmB,wCAAwC,UAAU,kCAAkC,0BAA0B,6BAA6B,mBAAmB,aAAa,YAAY,qBAAqB,YAAY,2BAA2B,sBAAsB,cAAc,aAAa,gBAAgB,cAAc,gBAAgB,qBAAqB,aAAa,sBAAsB,8BAA8B,mCAAmC,eAAe,iBAAiB,kBAAkB,iBAAiB,iBAAiB,gBAAgB,uBAAuB,mBAAmB,WAAW,oBAAoB,oBAAoB,iBAAiB,eAAe,iBAAiB,YAAY,WAAW,YAAY,4BAA4B,eAAe,WAAW,kBAAkB,uBAAuB,WAAW,mCAAmC,mBAAmB,mBAAmB,kBAAkB,SAAS,WAAW,YAAY,WAAW,oCAAoC,wBAAwB,aAAa,iEAAiE,aAAa,kBAAkB,aAAa,kBAAkB,wBAAwB,uBAAuB,WAAW,YAAY,gBAAgB,sBAAsB,oBAAoB,oCAAoC,aAAa,yGAAyG,aAAa,YAAY,iBAAiB,sEAAsE,aAAa,YAAY,iBAAiB,mCAAmC,aAAa,YAAY,iBAAiB,wCAAwC,SAAS,QAAQ,YAAY,WAAW,eAAe,kDAAkD,YAAY,WAAW,4CAA4C,YAAY,UAAU,wDAAwD,yEAAyE,UAAU,oBAAoB,aAAa,cAAc,mBAAmB,WAAW,iCAAiC,kBAAkB,uCAAuC,iBAAiB,qBAAqB,aAAa,cAAc,gBAAgB,uBAAuB,gDAAgD,cAAc,wCAAwC,6BAA6B,UAAU,8CAA8C,sBAAsB,sBAAsB,kBAAkB,oCAAoC,kBAAkB,iCAAiC,0BAA0B,4BAA4B,WAAW,eAAe,cAAc,uBAAuB,eAAe,kDAAkD,WAAW,iBAAiB,gEAAgE,WAAW,gCAAgC,aAAa,gDAAgD,iBAAiB,8KAA8K,aAAa,gJAAgJ,UAAU,uDAAuD,aAAa,2CAA2C,UAAU,uCAAuC,aAAa,iBAAiB,eAAe,wDAAwD,UAAU,4BAA4B,2BAA2B,wcAAwc,aAAa,+DAA+D,0CAA0C,kCAAkC,mFAAmF,cAAc,wBAAwB,KAAK,iCAAiC,0BAA0B,gBAAgB,KAAK,iCAAiC,0BAA0B,iEAAiE,aAAa,iEAAiE,aAAa,yIAAyI,aAAa,2IAA2I,cAAc,kJAAkJ,UAAU,2TAA2T,SAAS,mLAAmL,aAAa,2LAA2L,aAAa,uDAAuD,aAAa,sDAAsD,aAAa,kDAAkD,aAAa,6EAA6E,cAAc,iDAAiD,aAAa,yCAAyC,2BAA2B,YAAY,iPAAiP,aAAa,gdAAgd,aAAa,+EAA+E,eAAe,qHAAqH,cAAc,kCAAkC,kBAAkB,WAAW,YAAY,MAAM,OAAO,SAAS,QAAQ,+DAA+D,aAAa,6DAA6D,gBAAgB,qEAAqE,WAAW,qBAAqB,mBAAmB,uEAAuE,WAAW,qBAAqB,eAAe,8KAA8K,aAAa,oLAAoL,YAAY,MAAM,SAAS,wKAAwK,UAAU,sXAAsX,SAAS,6DAA6D,kBAAkB,oBAAoB,UAAU,mPAAmP,aAAa,wRAAwR,aAAa,gHAAgH,aAAa,8DAA8D,cAAc,6EAA6E,aAAa,2KAA2K,aAAa,kEAAkE,aAAa,mEAAmE,WAAW,iJAAiJ,cAAc,iGAAiG,aAAa,yDAAyD,aAAa,+CAA+C,kBAAkB,8NAA8N,aAAa,mDAAmD,aAAa,wDAAwD,aAAa,4CAA4C,YAAY,iFAAiF,aAAa,cAAc,YAAY,WAAW,mBAAmB,kBAAkB,4BAA4B,aAAa,eAAe,iBAAiB,kBAAkB,cAAc,kCAAkC,yBAAyB,gDAAgD,qCAAqC,sBAAsB,WAAW,UAAU,8BAA8B,kBAAkB,iBAAiB,UAAU,wDAAwD,0BAA0B,wCAAwC,kCAAkC,WAAW,gCAAgC,WAAW,mDAAmD,kBAAkB,oBAAoB,UAAU,2EAA2E,MAAM,6CAA6C,YAAY,uDAAuD,SAAS,6EAA6E,kBAAkB,oBAAoB,UAAU,0BAA0B,+CAA+C,UAAU,kCAAkC,mBAAmB,4FAA4F,kBAAkB,oBAAoB,UAAU,oHAAoH,MAAM,sFAAsF,YAAY,gGAAgG,SAAS,wFAAwF,gBAAgB,qHAAqH,gBAAgB,qFAAqF,YAAY,oCAAoC,uGAAuG,cAAc,gHAAgH,aAAa,+FAA+F,YAAY,6GAA6G,aAAa,iCAAiC,cAAc,kPAAkP,aAAa,gEAAgE,aAAa,wMAAwM,aAAa,uFAAuF,qBAAqB,qCAAqC,uBAAuB,qDAAqD,YAAY,UAAU,oBAAoB,0EAA0E,WAAW,gUAAgU,aAAa,kEAAkE,uBAAuB,eAAe,SAAS,sPAAsP,aAAa,oDAAoD,eAAe,kDAAkD,aAAa,4PAA4P,aAAa,mBAAmB,mBAAmB,UAAU,4RAA4R,UAAU,0BAA0B,2CAA2C,YAAY,2EAA2E,mBAAmB,0MAA0M,aAAa,8DAA8D,gBAAgB,qEAAqE,aAAa,2GAA2G,wBAAwB,0HAA0H,aAAa,kCAAkC,iBAAiB,iDAAiD,iBAAiB,gNAAgN,aAAa,gYAAgY,cAAc,oSAAoS,6BAA6B,8CAA8C,aAAa,oGAAoG,oBAAoB,kTAAkT,aAAa,4DAA4D,aAAa,sBAAsB,sBAAsB,4DAA4D,kBAAkB,gCAAgC,gBAAgB,6BAA6B,gBAAgB,+IAA+I,aAAa,qCAAqC,kBAAkB,0DAA0D,kBAAkB,eAAe,2GAA2G,aAAa,wiBAAwiB,aAAa,cAAc,+GAA+G,mBAAmB,qDAAqD,aAAa,cAAc,mBAAmB,yHAAyH,aAAa,kDAAkD,aAAa,WAAW,aAAa;;AAEphvC;;;;;;;;;;;;;;;;;;;ACPA;;;;;;AAEA,IAAMse,kBAAkB,CACpB,QADoB,EAEpB,QAFoB,EAGpB,MAHoB,EAIpB,WAJoB,CAAxB;;AAOA,SAASjjB,YAAT,CAAsBtoB,KAAtB,EAA6BwrC,UAA7B,EAAyC9hB,SAAzC,EAAoD;AAChD1pB,UAAMsoB,YAAN,CAAmBoB,SAAnB;;AAEA,QAAI1pB,MAAMK,GAAN,CAAU,OAAV,MAAuB,MAAvB,IAAiCqpB,cAAc,IAAnD,EAAyD;AACrD8hB,mBAAW1pC,IAAX,CAAgB,EAAEzD,QAAQ,WAAV,EAAhB;AACH;AACJ;;kBAEc,UAACmtC,UAAD,EAAah5B,SAAb,EAA2B;AACtC,QAAMxS,QAAQwrC,WAAWppC,MAAzB;;AAEA,QAAI,CAAC,qBAAEqpC,IAAF,CAAOj5B,SAAP,CAAL,EAAwB;AACpB;AACH;;AAED+4B,oBAAgB3tC,OAAhB,CAAwB,iBAAS;AAC7B,YAAM8tC,WAAWl5B,UAAUm5B,KAAV,CAAjB;;AAEA,YAAI,qBAAEtgC,WAAF,CAAcqgC,QAAd,CAAJ,EAA6B;AACzB;AACH;;AAED,gBAAQC,KAAR;AACI,iBAAK,MAAL;AACIH,2BAAWjnC,OAAX,CAAmBmnC,QAAnB;AACA;AACJ,iBAAK,QAAL;AACIF,2BAAWnoC,SAAX,CAAqBqoC,QAArB;AACA;AACJ,iBAAK,WAAL;AACIpjB,6BAAatoB,KAAb,EAAoBwrC,UAApB,EAAgCE,QAAhC;AACA;AACJ;AACI1rC,sBAAM+F,GAAN,CAAU4lC,KAAV,EAAiBD,QAAjB;AAXR;AAaH,KApBD;AAqBH,C;;;;;;;;;;;;;;;;;;;;AC7CD;;AAIA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIE,kBAAkB;AAClBC,gBAAY,IADM;AAElBC,SAAK;AAFa,CAAtB;;AAKA,IAAIC,kBAAkB,SAAlBA,eAAkB,CAASC,WAAT,EAAsB5pC,MAAtB,EAA8B+E,KAA9B,EAAqC8kC,UAArC,EAAiD;AAAA;;AACnE,QAAM/kC,QAAQ,IAAd;;AAEA,QAAIglC,aAAa,kCAAwB9pC,MAAxB,EAAgC6pC,UAAhC,CAAjB;AACA,QAAIE,eAAJ;AACA,QAAIC,sBAAJ;AACA,QAAIC,cAAc,CAAlB;AACA,QAAIC,WAAW,EAAf;AACA,QAAIC,UAAUC,iBAAd;AACA,QAAIC,2BAA2B,KAA/B;AACA,QAAIC,gBAAJ;AACA,QAAIC,oBAAJ;AACA,QAAIC,6BAAJ;AACA,QAAI9jB,aAAa,KAAjB;AACA,QAAI+jB,UAAU,KAAd;;AAEA,QAAMC,gBAAgB,SAAhBA,aAAgB,CAACxrC,GAAD,EAAS;AAC3B,YAAIwnB,UAAJ,EAAgB;AACZ;AACH;AACDxnB,cAAMA,OAAO,EAAb;AACAA,YAAIyrC,WAAJ,GAAkB,CAAC,CAAC3qC,OAAO/B,GAAP,CAAW,UAAX,CAApB;;AAEA,eAAKI,OAAL,yBAA6Ba,GAA7B;;AAEA;AACA,YAAI4qC,WAAWlsC,KAAX,CAAiBK,GAAjB,CAAqB,OAArB,0BAAJ,EAAoD;AAChD,gBAAIiB,IAAIyrC,WAAR,EAAqB;AACjBb,2BAAWr+B,SAAX;AACH;AACJ,SAJD,MAIO;AACHq+B,uBAAWrqC,KAAX;AACH;AACJ,KAjBD;;AAmBA,QAAMmrC,sBAAsB,SAAtBA,mBAAsB,GAAM;AAC9B,YAAIlkB,UAAJ,EAAgB;AACZ;AACH;;AAED,YAAIojB,WAAWlsC,KAAX,CAAiBK,GAAjB,CAAqB,OAArB,0BAAJ,EAAoD;AAChD,gBAAI+B,OAAO/B,GAAP,CAAW,UAAX,CAAJ,EAA4B;AACxB2rC,4BAAYzoC,aAAZ;AACAyoC,4BAAYlqC,IAAZ;AACH;AACJ;AACJ,KAXD;;AAaA,SAAKH,IAAL,GAAY,UAAZ;;AAEA,SAAKsrC,wBAAL,GAAgC,YAAW;AACvC,YAAIJ,WAAW/jB,UAAf,EAA2B;AACvB;AACH;;AAEDojB,mBAAW1rC,EAAX,qBAA0B0sC,aAA1B,EAAyC,IAAzC;;AAEA;AACA9qC,eAAO2D,GAAP,CAAW,UAAX,EAAuBmmC,UAAvB;;AAEA;AACA,YAAMiB,eAAehmC,MAAMgmC,YAAN,EAArB;AACA,YAAIA,YAAJ,EAAkB;AACdA,yBAAaC,yBAAb,CAAuC,YAAM,CAAE,CAA/C,EAAiD,IAAjD;AACH;;AAED,eAAO,IAAP;AACH,KAjBD;;AAmBA,SAAK3iC,IAAL,GAAY,YAAW;AACnB,YAAIoiC,WAAW/jB,UAAf,EAA2B;AACvB;AACH;AACD+jB,kBAAU,IAAV;;AAEA;AACAX,mBAAWjrC,KAAX;;AAEAyrC,kBAAUV,YAAY3rC,GAAZ,CAAgB,UAAhB,CAAV;AACA6rC,mBAAW1rC,EAAX,CAAc,KAAd,EAAqB6sC,gBAArB,EAAuC,IAAvC;AACAnB,mBAAW1rC,EAAX,oCAAyC8sC,mBAAzC,EAA8D,IAA9D;AACApB,mBAAW1rC,EAAX,qBAA0B0sC,aAA1B,EAAyC,IAAzC;AACAhB,mBAAW1rC,EAAX,yBAA8B+sC,qBAA9B,EAAqD,IAArD;AACArB,mBAAW1rC,EAAX,qBAA0BgtC,aAA1B,EAAyC,IAAzC;;AAEA;AACAxB,oBAAYl6B,WAAZ;;AAEA,YAAMoE,eAAeg2B,WAAW7b,aAAhC;AACA,YAAMod,iBAAiBrrC,OAAO/B,GAAP,CAAW,gBAAX,CAAvB;AACAotC,uBAAetvC,WAAf,CAA2B+X,YAA3B;;AAEA,YAAI81B,YAAYv3B,eAAZ,MAAkCi4B,YAAY,CAAZ,IAAiB,CAACV,YAAYj5B,gBAAZ,EAAxD,EAAyF;AACrF;AACA25B,sBAAU,CAAV;AACH,SAHD,MAGO,IAAIV,YAAYj5B,gBAAZ,MAAkC3Q,OAAO/B,GAAP,CAAW,OAAX,4BAAtC,EAA8E;AACjFqsC,sBAAU,IAAV;AACH;;AAED;AACAtqC,eAAO2D,GAAP,CAAW,UAAX,EAAuBmmC,UAAvB;AACAA,mBAAWlsC,KAAX,CAAiB+F,GAAjB,CAAqB,OAArB;;AAEA;AACA,YAAMonC,eAAehmC,MAAMgmC,YAAN,EAArB;AACA,YAAIA,YAAJ,EAAkB;AACdA,yBAAaC,yBAAb,CAAuC,YAAM,CAAE,CAA/C,EAAiD,IAAjD;AACH;;AAED,aAAKrf,OAAL,CAAa3rB,OAAO/B,GAAP,CAAW,cAAX,EAA2BqtC,SAAxC;AACA,eAAO,IAAP;AACH,KA1CD;;AA4CA,aAASJ,mBAAT,GAA+B;AAC3BpB,mBAAWlsC,KAAX,CAAiB+F,GAAjB,CAAqB,cAArB,EAAqC,IAArC;AACH;;AAED,aAAS4nC,aAAT,GAAyB;AACrBtB;AACAnlC,cAAM0mC,QAAN,CAAezB,MAAf;AACH;;AAED,aAASkB,gBAAT,CAA0B1rC,IAA1B,EAAgCT,IAAhC,EAAsC;AAClC,YAAIS,SAAS,UAAb,EAAyB;AACrB;AACH;AACDT,eAAOA,QAAQ,EAAf;;AAEA,YAAIorC,SAASR,GAAT,IAAgB,CAAC5qC,KAAK4qC,GAA1B,EAA+B;AAC3B5qC,iBAAK4qC,GAAL,GAAWQ,SAASR,GAApB;AACH;;AAED,aAAKrrC,OAAL,CAAakB,IAAb,EAAmBT,IAAnB;;AAEA,YAAIS,SAAS,YAAT,IAAyBA,SAAS,OAAtC,EAA+C;AAC3C,gBAAIwqC,UAAUE,cAAc,CAAd,GAAkBF,OAAOhoC,MAAvC,EAA+C;AAC3CwpC;AACH;AACJ;AACJ;;AAED,aAAST,aAAT,CAAuB5rC,GAAvB,EAA4B;AAAA,YAChBkI,QADgB,GACOlI,GADP,CAChBkI,QADgB;AAAA,YACN1G,QADM,GACOxB,GADP,CACNwB,QADM;;AAExB,YAAMwG,aAAa4iC,WAAWlsC,KAAX,CAAiBsJ,UAAjB,IAA+B4iC,WAAWlsC,KAA7D;AACAsJ,mBAAWvD,GAAX,CAAe,UAAf,EAA2ByD,QAA3B;AACAF,mBAAWvD,GAAX,CAAe,UAAf,EAA2BjD,QAA3B;;AAEA;AACA;AACA,YAAI,CAAC8pC,oBAAL,EAA2B;AACvB;AACAA,mCAAuB,CAAC,8BAAgBD,WAAhB,EAA6BnjC,QAA7B,KAA0CA,QAA3C,4CAAvB;AACH;AACD,YAAI,CAACijC,wBAAD,IAA6B3pC,YAAYC,KAAKF,GAAL,CAAS+pC,oBAAT,+CAA7C,EAAyG;AACrGZ,wBAAYn5B,eAAZ;AACA45B,uCAA2B,IAA3B;AACH;AACJ;;AAED,aAASc,qBAAT,CAA+Bh8B,CAA/B,EAAkC;AAC9B,YAAIrQ,OAAO,EAAX;AACA,YAAIorC,SAASR,GAAb,EAAkB;AACd5qC,iBAAK4qC,GAAL,GAAWQ,SAASR,GAApB;AACH;AACD,aAAKrrC,OAAL,yBAA6BS,IAA7B;AACAsrC,0BAAkBxkC,IAAlB,CAAuB,IAAvB,EAA6BuJ,CAA7B;AACH;;AAED,aAASi7B,iBAAT,CAA2Bj7B,CAA3B,EAA8B;AAC1B,YAAI46B,UAAUE,cAAc,CAAd,GAAkBF,OAAOhoC,MAAvC,EAA+C;AAC3CwpC;AACH,SAFD,MAEO;AACH,gBAAIp8B,EAAE5P,IAAF,2BAAJ,EAA+B;AAC3B;AACA,qBAAKlB,OAAL,4BAAgC,EAAhC;AACH;AACD,iBAAKO,OAAL;AACH;AACJ;;AAED,SAAK4sC,QAAL,GAAgB,UAAS9jC,IAAT,EAAe6Y,OAAf,EAAwB;AACpC,YAAImG,cAAc,CAAC+jB,OAAnB,EAA4B;AACxB,mBAAO,kBAAQ5/B,MAAR,CAAe,IAAI2S,KAAJ,CAAU,oBAAV,CAAf,CAAP;AACH;AACD;AACA,YAAIhV,WAAWd,IAAf;AACA,YAAI,qBAAE02B,OAAF,CAAU12B,IAAV,CAAJ,EAAqB;AACjBqiC,qBAASriC,IAAT;AACAsiC,4BAAgBzpB,WAAWypB,aAA3B;AACAtiC,mBAAOqiC,OAAOE,WAAP,CAAP;AACA,gBAAID,aAAJ,EAAmB;AACfzpB,0BAAUypB,cAAcC,WAAd,CAAV;AACH;AACJ,SAPD,MAOO;AACHzhC,uBAAW,CAACd,IAAD,CAAX;AACH;;AAED,YAAM+jC,UAAU3B,WAAWlsC,KAA3B;AACA6tC,gBAAQ9nC,GAAR,CAAY,UAAZ,EAAwB6E,QAAxB;;AAEAxI,eAAO2D,GAAP,CAAW,iBAAX,EAA8B,KAA9B;;AAEA;AACAmB,cAAMzG,OAAN,wBAA6B;AACzBkJ,mBAAO0iC,WADkB;AAEzBviC,kBAAMA;AAFmB,SAA7B;;AAKAwiC,mBAAW,SAAc,EAAd,EAAkBV,eAAlB,EAAmCjpB,OAAnC,CAAX;;AAEAzb,cAAM4mC,eAAN;;AAEAD,gBAAQ9nC,GAAR,CAAY,YAAZ,EAA0B,KAA1B;;AAEA,YAAMqpB,cAAc8c,WAAWn9B,aAAX,CAAyBs9B,WAAzB,CAApB;;AAEAI,mCAA2B,KAA3B;AACAE,sBAAc7iC,KAAK+hC,UAAL,IAAmBS,SAAST,UAA1C;AACA,YAAIc,WAAJ,EAAiB;AACbzlC,kBAAM6mC,eAAN,CAAsBpB,WAAtB,EAAmCL,QAAnC;AACH;AACD,eAAOld,WAAP;AACH,KA1CD;;AA4CA,SAAK2e,eAAL,GAAuB,UAASlC,UAAT,EAAqBlpB,OAArB,EAA8BqrB,UAA9B,EAA0C;AAC7D,YAAMH,UAAU3B,WAAWlsC,KAA3B;AACA,YAAIguC,UAAJ,EAAgB;AACZzB,sBAAUyB,UAAV;AACH,SAFD,MAEO;AACHzB,sBAAUC,iBAAV;AACH;AACDqB,gBAAQ9nC,GAAR,CAAY,aAAZ,EAA2B4c,QAAQsrB,WAAnC;AACAJ,gBAAQ9nC,GAAR,CAAY,UAAZ,EAAwB4c,QAAQurB,QAAhC;AACAL,gBAAQ9nC,GAAR,CAAY,YAAZ,EAA0B8lC,UAA1B;AACAgC,gBAAQxhC,UAAR,CAAmB8hC,UAAnB,GAAgC,KAAhC;AACAN,gBAAQ9nC,GAAR,CAAY,YAAZ,EAA0B,IAA1B;AACH,KAZD;;AAcA,SAAKqoC,sBAAL,GAA8B,UAASjlB,QAAT,EAAmB;AAC7C+iB,mBAAWmC,iBAAX,CAA6BllB,QAA7B;;AAEA,aAAK2kB,eAAL;AACH,KAJD;;AAMA,SAAKhsC,IAAL,GAAY,YAAW;AACnBoqC,mBAAWr+B,SAAX;AACH,KAFD;;AAIA,SAAKhM,KAAL,GAAa,YAAW;AACpBqqC,mBAAWrqC,KAAX;AACH,KAFD;;AAIA,SAAKisC,eAAL,GAAuB,YAAW;AAC9B,YAAIhlB,UAAJ,EAAgB;AACZ;AACH;AACD;AACA,YAAI3hB,MAAMgmC,YAAN,EAAJ,EAA0B;AACtBhmC,kBAAMgmC,YAAN,GAAqBC,yBAArB,CAA+CN,aAA/C,EAA8DE,mBAA9D;AACH;AACJ,KARD;;AAUA,SAAK73B,MAAL,GAAc,UAAS7T,GAAT,EAAc;AACxB,YAAIgtC,+BAAJ;AACA,aAAK7tC,OAAL,CAAa6tC,UAAb,EAAyBhtC,GAAzB;AACAirC,gBAAQvkC,IAAR,CAAa,IAAb,EAAmB;AACfrG,kBAAM2sC;AADS,SAAnB;AAGH,KAND;;AAQA,aAASd,aAAT,CAAuBlsC,GAAvB,EAA4B;AACxB;AACA,YAAIA,IAAIsW,KAAJ,IAAatW,IAAIoW,MAArB,EAA6B;AACzBvQ,kBAAMonC,WAAN;AACH;AACJ;;AAED,SAAKC,mBAAL,GAA2B,UAAS1kC,IAAT,EAAe;AACtC,YAAIgf,UAAJ,EAAgB;AACZ;AACH;AACD1mB,eAAO2D,GAAP,CAAW,cAAX,EAA2B+D,IAA3B;AACAoiC,mBAAWniB,QAAX;AACH,KAND;;AAQA,SAAK/oB,OAAL,GAAe,YAAW;AACtB,YAAI8nB,UAAJ,EAAgB;AACZ;AACH;AACDA,qBAAa,IAAb;AACA,aAAKroB,OAAL,CAAa,WAAb;AACA,aAAK4E,GAAL;;AAEA,YAAI8B,MAAMgmC,YAAN,EAAJ,EAA0B;AACtBhmC,kBAAMgmC,YAAN,GAAqBsB,4BAArB;AACH;;AAEDrsC,eAAOiD,GAAP,CAAW,IAAX,EAAiB,IAAjB,EAAuB6mC,UAAvB;AACAA,mBAAW7mC,GAAX,CAAe,IAAf,EAAqB,IAArB,EAA2B6B,KAA3B;AACAglC,mBAAWlrC,OAAX;;AAEA;AACA,YAAI6rC,WAAWX,WAAWlsC,KAA1B,EAAiC;AAC7BoC,mBAAOiK,UAAP,CAAkB9K,KAAlB;AACH;;AAEDa,eAAO2D,GAAP,CAAW,UAAX,EAAuB,IAAvB;;AAEAmmC,qBAAa,IAAb;;AAEA,YAAI,CAACW,OAAD,IAAYzqC,OAAOiK,UAAP,CAAkByc,UAAlC,EAA8C;AAC1C;AACH;;AAED;AACA;AACAkjB,oBAAYj6B,WAAZ,CAAwB26B,OAAxB;;AAEA,YAAI,KAAK5gC,QAAT,EAAmB;AACf;AACH;;AAED,YAAI4gC,YAAY,IAAhB,EAAsB;AAClBV,wBAAYx9B,SAAZ;AACH,SAFD,MAEO;AACHw9B,wBAAYn+B,SAAZ;AACH;AACJ,KA1CD;;AA4CA,SAAK/P,QAAL,GAAgB,YAAW;AACvB,YAAIgrB,UAAJ,EAAgB;AACZ;AACA,mBAAO,KAAP;AACH;AACD,eAAOojB,WAAWlsC,KAAX,CAAiBK,GAAjB,CAAqB,OAArB,CAAP;AACH,KAND;;AAQA,SAAK0tB,OAAL,GAAe,UAASrG,IAAT,EAAe;AAC1B,YAAIoB,UAAJ,EAAgB;AACZ;AACH;AACD3hB,cAAM2zB,UAAN,CAAiBpT,QAAQ,EAAzB;AACH,KALD;;AAOA;AACA,SAAKzhB,IAAL,GAAY,YAAW;AACnB,YAAI6iB,UAAJ,EAAgB;AACZ;AACH;AACD1mB,eAAO2D,GAAP,CAAW,iBAAX,EAA8B,IAA9B;AACH,KALD;;AAOA;;;;AAIA,SAAK2oC,eAAL,GAAuB,YAAY;AAC/B,YAAI5lB,UAAJ,EAAgB;AACZ,mBAAO,IAAP;AACH;AACD,eAAOojB,WAAW7b,aAAlB;AACH,KALD;;AAOA;;;;;AAKA,SAAKse,aAAL,GAAqB,UAASC,UAAT,EAAqB;AACtC;AACAjC,sBAAciC,aAAa,CAAb,GAAiBA,UAAjB,GAA8B,IAA5C;AACA,YAAI1C,UAAJ,EAAgB;AACZA,uBAAWlsC,KAAX,CAAiB+F,GAAjB,CAAqB,YAArB,EAAmC4mC,WAAnC;AACH;AACJ,KAND;AAOH,CAvXD;;AAyXA,SAAcZ,gBAAgBplC,SAA9B;;kBAEeolC,e;;;;;;;;;;;;;;;;;;;;;;;;;;AC3Yf;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqB8C,mB;;;AACjB,iCAAY7uC,KAAZ,EAAmBiH,SAAnB,EAA8B;AAAA;;AAAA,8IACpBjH,KADoB,EACbiH,SADa;;AAE1B,YAAM4mC,UAAU,MAAK7tC,KAAL,GAAa,qBAA7B;AACA,cAAK8uC,WAAL,GAAmB9uC,KAAnB;AACA,cAAKmpB,QAAL,GAAgB,IAAhB;;AAEA0kB,gBAAQvkC,UAAR,CAAmB+C,UAAnB,CAA8BqU,SAA9B,GAA0C,OAA1C;;AAEA;AACA;AACA,YAAIxK,qBAAJ;AACA,YAAI,sBAASnM,iBAAb,EAAgC;AAC5B;AACAmM,2BAAejP,UAAU8nC,YAAV,EAAf;AACH,SAHD,MAGO;AACH;AACA74B,2BAAelW,MAAMK,GAAN,CAAU,cAAV,CAAf;;AAEAwtC,oBAAQxhC,UAAR,CAAmB6J,YAAnB,GAAkCA,YAAlC;AACA23B,oBAAQxhC,UAAR,CAAmB2iC,QAAnB,GAA8B94B,aAAaqG,GAA3C;;AAEA;AACA,gBAAM0yB,mBAAmB,MAAKA,gBAAL,GAAwB,YAAM;AACnD,sBAAKllB,QAAL;AACH,aAFD;AAGA7T,yBAAavR,gBAAb,CAA8B,SAA9B,EAAyCsqC,gBAAzC;AACA/4B,yBAAajN,YAAb,GAA4BiN,aAAaiK,mBAAb,GAAmC,CAA/D;AACH;;AAED,cAAKlZ,SAAL,GAAiB,+BAAgBiP,YAAhB,EAA8BjP,SAA9B,CAAjB;AA7B0B;AA8B7B;;;;gCAEO;AAAA,gBACIjH,KADJ,GAC0C,IAD1C,CACIA,KADJ;AAAA,gBACW8uC,WADX,GAC0C,IAD1C,CACWA,WADX;AAAA,gBACwBze,aADxB,GAC0C,IAD1C,CACwBA,aADxB;;AAEJ,gBAAM6e,mBAAmBJ,YAAYziC,UAArC;AACA,gBAAM2iB,oBAAoB8f,YAAYxlC,UAAtC;AACAtJ,kBAAMiB,KAAN,CAAY;AACR0S,oBAAIu7B,iBAAiBv7B,EADb;AAER7K,wBAAQomC,iBAAiBpmC,MAFjB;AAGR+gB,8BAAc,IAHN;AAIRslB,yBAASD,iBAAiBC,OAJlB;AAKRC,8BAAcpgB,iBALN;AAMR7vB,sBAAM+vC,iBAAiB/vC,IANf;AAOR8pB,4BAAY,KAPJ;AAQRomB,gCAAgBH,iBAAiBG,cARzB;AASRC,2BAAWJ,iBAAiBI,SATpB;AAURC,6BAAaL,iBAAiBK,WAVtB;AAWRv0B,6BAAak0B,iBAAiBl0B,WAXtB;AAYRmzB,4BAAY;AAZJ,aAAZ;;AAeAnuC,kBAAMQ,EAAN,CAAS,kBAAT,EAA6B,KAAKgvC,wBAAlC;AACAxvC,kBAAMQ,EAAN,CAAS,cAAT,8BAA2C,IAA3C;AACAR,kBAAMQ,EAAN,gBAAgB,UAASU,IAAT,EAAe;AAC3B,qBAAKT,OAAL,gBAAoBS,IAApB;AACH,aAFD,EAEG,IAFH;;AAIA,gBAAI,CAACmvB,cAAc1S,MAAnB,EAA2B;AACvB0S,8BAAcxuB,KAAd;AACH;AACJ;;;sCAEa8H,K,EAAO;AAAA;;AACjB,iBAAK6E,SAAL;AACA,iBAAK2a,QAAL,GAAgB,IAAhB;AACA,oJAAoBxf,KAApB,EACKiD,IADL,CACU,UAACwhB,eAAD,EAAqB;AACvB,uBAAKqhB,YAAL,CAAkBrhB,gBAAgBjF,QAAlC;AACH,aAHL;AAIA,mBAAO,KAAKtb,SAAL,EAAP;AACH;;;0CAEiBsb,Q,EAAU;AACxB,iBAAKA,QAAL,GAAgBA,QAAhB;AACA,gBAAI,CAACA,QAAL,EAAe;AACX;AACH;AACD,iBAAKsmB,YAAL,CAAkBtmB,QAAlB;;AAEA;AACAA,qBAAS9jB,GAAT;AACA8jB,qBAAS3oB,EAAT,gBAAmB,UAASU,IAAT,EAAe;AAC9B,qBAAKT,OAAL,gBAAoBS,IAApB;AACH,aAFD,EAEG,IAFH;AAGH;;;qCAEYioB,Q,EAAU;AAAA;;AACnB;AACA,gBAAI,CAACA,QAAD,IAAa,CAAC,KAAKliB,SAAvB,EAAkC;AAC9B;AACH;;AAJkB,gBAMXjH,KANW,GAMY,IANZ,CAMXA,KANW;AAAA,gBAMJ8uC,WANI,GAMY,IANZ,CAMJA,WANI;;AAOnB,gBAAMY,kBAAkBvmB,SAASxnB,IAAT,KAAkB,OAA1C;;AAEAwnB,qBAAS9jB,GAAT;AACA8jB,qBAAS3oB,EAAT,CAAY,KAAZ,EAAmB,UAASmB,IAAT,EAAeT,IAAf,EAAqB;AACpC,oBAAIwuC,mBAAoB/tC,+BAAxB,EAAkD;AAC9C;AACH;AACD,qBAAKlB,OAAL,CAAakB,IAAb,EAAmB,SAAc,EAAd,EAAkBT,IAAlB,EAAwB,EAAES,MAAMA,IAAR,EAAxB,CAAnB;AACH,aALD,EAKG,IALH;;AAOA,gBAAMguC,sBAAsB3vC,MAAMsJ,UAAlC;AACA6f,qBAAS3oB,EAAT,uBAA0B,UAAC0F,KAAD,EAAW;AACjCypC,oCAAoB5pC,GAApB,CAAwB,YAAxB,EAAsCG,MAAMO,QAA5C;AACH,aAFD;AAGAkpC,gCAAoBnvC,EAApB,CAAuB,mBAAvB,EAA4C,UAACovC,aAAD,EAAgBruC,KAAhB,EAA0B;AAClE,uBAAKsuC,aAAL,CAAmBtuC,KAAnB;AACH,aAFD;AAGA4nB,qBAASpX,WAAT;AACAoX,qBAASrgB,MAAT,CAAgBgmC,YAAYzuC,GAAZ,CAAgB,QAAhB,CAAhB;AACA8oB,qBAAShqB,IAAT,CAAc2vC,YAAY/lC,OAAZ,EAAd;AACA,gBAAIogB,SAASlW,eAAb,EAA8B;AAC1BkW,yBAASlW,eAAT,CAAyB,CAAzB;AACH;AACD67B,wBAAYtuC,EAAZ,CAAe,eAAf,EAAgC,UAASU,IAAT,EAAemzB,KAAf,EAAsB;AAClD,qBAAKvrB,MAAL,GAAcurB,KAAd;AACH,aAFD,EAEG,IAFH;AAGAya,wBAAYtuC,EAAZ,CAAe,aAAf,EAA8B,UAASU,IAAT,EAAe/B,IAAf,EAAqB;AAC/C,qBAAKA,IAAL,GAAYA,IAAZ;AACA,oBAAI,CAACA,IAAL,EAAW;AACP,yBAAK2J,MAAL,GAAcgmC,YAAYzuC,GAAZ,CAAgB,QAAhB,CAAd;AACH;AACJ,aALD,EAKG,IALH;AAMAyuC,wBAAYtuC,EAAZ,CAAe,uBAAf,EAAwC,UAASU,IAAT,EAAemzB,KAAf,EAAsB;AAC1D,oBAAI,CAACA,KAAL,EAAY;AACRr0B,0BAAM+F,GAAN,CAAU,gBAAV,EAA4BsuB,KAA5B;AACA,yBAAKl1B,IAAL,GAAY2vC,YAAYzuC,GAAZ,CAAgB,MAAhB,CAAZ;AACH;AACJ,aALD,EAKG,IALH;AAMH;;;kCAES;AAAA,gBACEL,KADF,GACoC,IADpC,CACEA,KADF;AAAA,gBACSiH,SADT,GACoC,IADpC,CACSA,SADT;AAAA,gBACoB6nC,WADpB,GACoC,IADpC,CACoBA,WADpB;;AAEN9uC,kBAAMqF,GAAN;;AAEA;AACA,gBAAM6Q,eAAejP,UAAUqnB,gBAAV,EAArB;AACA,gBAAI,CAAC,sBAASvkB,iBAAd,EAAiC;AAC7B,oBAAImM,YAAJ,EAAkB;AACdA,iCAAaxQ,mBAAb,CAAiC,SAAjC,EAA4C,KAAKupC,gBAAjD;AACA;AACA,wBAAI/4B,aAAaqG,GAAb,KAAqBvc,MAAMK,GAAN,CAAU,UAAV,CAAzB,EAAgD;AAC5C,6BAAK0pB,QAAL;AACH;AACJ;AACJ,aARD,MAQO;AACH9iB,0BAAU6oC,KAAV;AACA,oBAAMrC,iBAAiBqB,YAAYzuC,GAAZ,CAAgB,gBAAhB,CAAvB;AACA,oBAAI6V,aAAa3Q,UAAb,KAA4BkoC,cAAhC,EAAgD;AAC5CA,mCAAehoC,WAAf,CAA2ByQ,YAA3B;AACH;AACJ;AACJ;;;mCAEU;AAAA,gBACC44B,WADD,GACiB,IADjB,CACCA,WADD;;AAEP,gBAAMxlC,aAAawlC,YAAYzuC,GAAZ,CAAgB,YAAhB,CAAnB;AACA,gBAAM8oB,WAAW2lB,YAAY/lB,QAAZ,EAAjB;;AAEAzf,uBAAWygB,QAAX;;AAEA;AACA,gBAAIZ,QAAJ,EAAc;AACVA,yBAAS5M,GAAT,GAAe,IAAf;AACH;AACJ;;;iDAEwBjb,G,EAAK;AAAA,gBAClBtB,KADkB,GACR,IADQ,CAClBA,KADkB;;AAE1BA,kBAAMS,OAAN,CAAca,IAAIK,IAAlB,EAAwBL,GAAxB;AACA,iBAAKb,OAAL,qBAAyB;AACrBmI,4BAAYtH,IAAI2c;AADK,aAAzB;AAGH;;;sCAEa1c,K,EAAO;AAAA,gBACTvB,KADS,GACC,IADD,CACTA,KADS;;AAEjB,oBAAQuB,KAAR;AACI;AACA;AACIvB,0BAAM+F,GAAN,uBAAwBxE,KAAxB;AACA;AACJ;AACI;AANR;AAQH;;;0BAEQpC,I,EAAM;AAAA,gBACHivB,eADG,GACkC,IADlC,CACHA,eADG;AAAA,gBACcpuB,KADd,GACkC,IADlC,CACcA,KADd;AAAA,gBACqBmpB,QADrB,GACkC,IADlC,CACqBA,QADrB;;AAEXnpB,kBAAM+F,GAAN,CAAU,MAAV,EAAkB5G,IAAlB;AACA,0HAAaA,IAAb;AACA,gBAAI,CAACivB,eAAL,EAAsB;AAClBjF,yBAAShqB,IAAT,CAAcA,IAAd;AACH;AACJ;;;0BAEU2J,M,EAAQ;AAAA,gBACPslB,eADO,GAC8B,IAD9B,CACPA,eADO;AAAA,gBACUpuB,KADV,GAC8B,IAD9B,CACUA,KADV;AAAA,gBACiBmpB,QADjB,GAC8B,IAD9B,CACiBA,QADjB;;AAEfnpB,kBAAM+F,GAAN,CAAU,QAAV,EAAoB+C,MAApB;AACA,4HAAeA,MAAf;AACA,gBAAI,CAACslB,eAAL,EAAsB;AAClBjF,yBAASrgB,MAAT,CAAgBA,MAAhB;AACH;AACJ;;;;;;kBA9MgB+lC,mB;;;;;;;;;;;;;;;;;;;;ACPrB;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;IAMqBkB,e;;;AACjB,6BAAY5mB,QAAZ,EAAsBnpB,KAAtB,EAA6B;AAAA;;AAAA;;AAEzB,cAAK4Q,QAAL,GAAgB,IAAhB;AACA,cAAKoC,cAAL,GAAsB,KAAtB;AACA,cAAKlJ,IAAL,GAAY,IAAZ;AACA,cAAKR,UAAL,GAAkB,uBAAlB;AACA,cAAKtJ,KAAL,GAAaA,KAAb;AACA,cAAKmpB,QAAL,GAAgBA,QAAhB;AACA,cAAK6mB,gBAAL,GAAwB,6CAAxB;AACA,cAAK3gB,eAAL,GAAuB,0BAAW,YAAM,CAAE,CAAnB,CAAvB;AACA4gB;AACA,cAAKC,UAAL,GAAkB,8BAA4B,CAAC,SAAD,CAA5B,EACd;AAAA,mBAAM,CAAC,MAAKt/B,QAAN,IAAkB,MAAKud,UAA7B;AAAA,SADc,CAAlB;AAXyB;AAa5B;;;;6BAEI1gB,U,EAAY;AAAA,gBACL3D,IADK,GACiC,IADjC,CACLA,IADK;AAAA,gBACC9J,KADD,GACiC,IADjC,CACCA,KADD;AAAA,gBACQsJ,UADR,GACiC,IADjC,CACQA,UADR;AAAA,gBACoB6f,QADpB,GACiC,IADjC,CACoBA,QADpB;;;AAGb,gBAAI,CAAC1b,UAAL,EAAiB;AACbA,6BAAazN,MAAMK,GAAN,CAAU,YAAV,CAAb;AACH;;AAEDL,kBAAM+F,GAAN,CAAU,cAAV,EAA0B,KAA1B;AACA,gBAAIqpB,+BAAJ;AACA,gBAAI9lB,WAAWjJ,GAAX,CAAe,OAAf,CAAJ,EAA6B;AACzB+uB,8BAAcjG,SAASrnB,IAAT,EAAd;AACH,aAFD,MAEO;AACHwH,2BAAWvD,GAAX,CAAe,OAAf,EAAwB,IAAxB;AACAqpB,8BAAc,KAAK+gB,YAAL,CAAkBrmC,IAAlB,EAAwBqf,QAAxB,CAAd;AACA,oBAAI,CAAC7f,WAAWjJ,GAAX,CAAe,SAAf,CAAL,EAAgC;AAC5B,yBAAK+vC,YAAL,CAAkBhhB,WAAlB,EAA+B3hB,UAA/B;AACH;AACJ;AACD,mBAAO2hB,WAAP;AACH;;;+BAEM;AAAA,gBACKjG,QADL,GACkB,IADlB,CACKA,QADL;;AAEHA,qBAASzX,IAAT;AACH;;;gCAEO;AAAA,gBACIyX,QADJ,GACiB,IADjB,CACIA,QADJ;;AAEJA,qBAAStnB,KAAT;AACH;;;kCAES;AAAA,gBACEiI,IADF,GACiC,IADjC,CACEA,IADF;AAAA,gBACQR,UADR,GACiC,IADjC,CACQA,UADR;AAAA,gBACoB6f,QADpB,GACiC,IADjC,CACoBA,QADpB;;AAEN,gBAAI,CAACrf,IAAD,IAAUA,QAAQA,KAAKwT,OAAL,KAAiB,MAAvC,EAAgD;AAC5C;AACH;AACD;AACA,gBAAI,KAAK1M,QAAL,IAAiB,CAAC,KAAK3P,KAAvB,IAAgC,CAAC,KAAKgpB,SAA1C,EAAqD;AACjD3gB,2BAAWvD,GAAX,CAAe,WAAf,EAA4B,IAA5B;AACAojB,yBAAS7L,OAAT,CAAiBxT,IAAjB;AACH;AACJ;;;kCAES;AAAA,gBACEqf,QADF,GAC2B,IAD3B,CACEA,QADF;AAAA,gBACY7f,UADZ,GAC2B,IAD3B,CACYA,UADZ;;AAEN,iBAAKjE,GAAL;AACAiE,uBAAWjE,GAAX;AACA8jB,qBAAS9jB,GAAT;AACA,iBAAK6qC,UAAL,CAAgBlvC,OAAhB;AACA,iBAAKgvB,MAAL;AACA,gBAAI7G,SAASnrB,YAAT,EAAJ,EAA6B;AACzBmrB,yBAAS2Y,MAAT;AACH;AACD,mBAAO3Y,SAASU,YAAhB;AACA,iBAAKV,QAAL,GAAgB,IAAhB;AACA,iBAAKrf,IAAL,GAAY,IAAZ;AACH;;;iCAEQ;AAAA,gBACG9J,KADH,GACuB,IADvB,CACGA,KADH;AAAA,gBACUmpB,QADV,GACuB,IADvB,CACUA,QADV;;AAGL;;AACAnpB,kBAAMiT,eAAN,CAAsBjT,MAAMK,GAAN,CAAU,qBAAV,CAAtB;AACA8oB,qBAASpX,WAAT;AACA,iBAAKnB,QAAL,GAAgB,IAAhB;AACA5Q,kBAAM+F,GAAN,CAAU,UAAV,EAAsB,IAAtB;AACA,iBAAKmqC,UAAL,CAAgBjlC,KAAhB;;AAEA,gBAAI,KAAK+H,cAAT,EAAyB;AACrB,qBAAKoe,iBAAL;AACH;AACJ;;;iCAEQ;AAAA,gBACGpxB,KADH,GACuB,IADvB,CACGA,KADH;AAAA,gBACUmpB,QADV,GACuB,IADvB,CACUA,QADV;;AAEL,iBAAKkG,eAAL,CAAqBrjB,MAArB;AACAmd,qBAASrX,WAAT;AACA,iBAAKlB,QAAL,GAAgB,KAAhB;AACA5Q,kBAAM+F,GAAN,CAAU,UAAV,EAAsB,KAAtB;AACH;;AAED;;;;qCACaqpB,W,EAAa3hB,U,EAAY;AAAA;;AAAA,gBAC1B3D,IAD0B,GACY,IADZ,CAC1BA,IAD0B;AAAA,gBACpBR,UADoB,GACY,IADZ,CACpBA,UADoB;AAAA,gBACRtJ,KADQ,GACY,IADZ,CACRA,KADQ;AAAA,gBACDmpB,QADC,GACY,IADZ,CACDA,QADC;;;AAGlC,iBAAK1oB,OAAL,6BAAiC;AAC7BqJ,0BAD6B;AAE7B2D;AAF6B,aAAjC;AAIA;AACA,gBAAI0b,YAAYA,SAASnP,KAArB,IAA8B,CAACmP,SAASnP,KAAT,CAAe2D,MAAlD,EAA0D;AACtD3d,sBAAM+F,GAAN;AACH;;AAEDqpB,wBAAYxiB,IAAZ,CAAiB,YAAM;AACnB,oBAAI,CAACtD,WAAWjJ,GAAX,CAAe,OAAf,CAAL,EAA8B;AAC1B;AACA;AACH;AACD,uBAAOyJ,KAAK0T,SAAZ;AACAlU,2BAAWvD,GAAX,CAAe,SAAf,EAA0B,IAA1B;AACA,oBAAIuD,eAAetJ,MAAMsJ,UAAzB,EAAqC;AACjC;AACAA,+BAAWjE,GAAX,+BAAqC,IAArC;AACAiE,+BAAWzI,MAAX,+BAAwC,UAAC0I,iBAAD,EAAoBsB,SAApB,EAAkC;AACtE,+BAAKpK,OAAL,+BAAmCoK,SAAnC;AACH,qBAFD;AAGAge,6CAAyBvf,UAAzB;AACH;AACJ,aAfD,EAeGmD,KAfH,CAeS,iBAAS;AACdzM,sBAAM+F,GAAN,CAAU,cAAV,EAA0B,IAA1B;AACA,oBAAMsqC,iBAAiBlnB,YAAYA,SAASnP,KAArB,IAA8BmP,SAASnP,KAAT,CAAe2D,MAApE;AACA,oBAAI0yB,cAAJ,EAAoB;AAChB/mC,+BAAWvD,GAAX,CAAe,YAAf;AACH;AACD,uBAAKtF,OAAL,oCAAwC;AACpCiM,gCADoC;AAEpC5C,8BAFoC;AAGpC2D;AAHoC,iBAAxC;AAKH,aA1BD;AA2BH;;;4CAEmB;AAAA,gBACR0b,QADQ,GACK,IADL,CACRA,QADQ;;AAEhB,iBAAKnW,cAAL,GAAsB,KAAtB;AACAmW,qBAASpQ,QAAT;AACA,iBAAKtY,OAAL,yBAA6B,EAA7B;AACH;;;uCAEc;AAAA,gBACHqJ,IADG,GACgB,IADhB,CACHA,IADG;AAAA,gBACGqf,QADH,GACgB,IADhB,CACGA,QADH;AAEX;;AACA,gBAAMmnB,uBAAuBnnB,SAAShc,IAAT,CAAcrD,IAAd,CAA7B;AACA,gBAAIwmC,oBAAJ,EAA0B;AACtB,oBAAMjhB,kBAAkB,0BAAW,YAAM;AACrC,2BAAOlG,SAASrnB,IAAT,uBAAP;AACH,iBAFuB,CAAxB;AAGA,qBAAKutB,eAAL,GAAuBA,eAAvB;AACA,uBAAOihB,qBAAqB1jC,IAArB,CAA0ByiB,gBAAgBxiB,KAA1C,CAAP;AACH;AACD,mBAAOsc,SAASrnB,IAAT,uBAAP;AACH;;;4BAEgB;AACb,mBAAO,KAAKqnB,QAAL,CAAchX,oBAAd,EAAP;AACH,S;0BA6DcxI,K,EAAO;AAClB,iBAAKwf,QAAL,CAAcjX,oBAAd,CAAmCvI,KAAnC;AACH;;;4BA7Da;AACV,mBAAO,KAAKwf,QAAL,CAAcnX,iBAAd,EAAP;AACH,S;0BA4GWrI,K,EAAO;AACf,iBAAKwf,QAAL,CAActX,iBAAd,CAAgClI,KAAhC;AACH;;;4BA5GiB;AACd,mBAAO,KAAKwf,QAAL,CAAc/W,cAAd,EAAP;AACH;;;4BAEgB;AAAA,gBACLgM,SADK,GACmB,IADnB,CACLA,SADK;AAAA,gBACM+K,QADN,GACmB,IADnB,CACMA,QADN;AAEb;;AACA,gBAAI,CAAC,KAAKvY,QAAV,EAAoB;AAChB,uBAAO,KAAP;AACH;AACD;AACA,gBAAI,CAACuY,SAASnP,KAAd,EAAqB;AACjB,uBAAO,KAAP;AACH;AACD;AACA,mBAAO,CAACoE,SAAD,IAAeA,aAAa,CAACA,UAAUrZ,QAAV,CAAmBokB,SAASnP,KAA5B,CAApC;AACH,S;0BA2Ccu2B,gB,EAAkB;AAAA,gBACrBnyB,SADqB,GACG,IADH,CACrBA,SADqB;AAAA,gBACV+K,QADU,GACG,IADH,CACVA,QADU;AAE7B;;AACA,gBAAI,CAACA,SAASnP,KAAd,EAAqB;AACjB,oBAAIu2B,gBAAJ,EAAsB;AAClB,yBAAKvgB,MAAL;AACH,iBAFD,MAEO;AACH,yBAAKS,MAAL;AACH;AACD;AACH;AACD,gBAAI,CAACrS,SAAL,EAAgB;AACZ;AACH;;AAED,gBAAImyB,gBAAJ,EAAsB;AAClB,oBAAI,CAAC,KAAKpiB,UAAV,EAAsB;AAClB,yBAAKkB,eAAL,CAAqBrjB,MAArB;AACA,yBAAKnK,KAAL;AACAuc,8BAAU3Y,WAAV,CAAsB0jB,SAASnP,KAA/B;AACA,yBAAKoE,SAAL,GAAiB,IAAjB;AACH;AACJ,aAPD,MAOO;AACH,qBAAK8xB,UAAL,CAAgBjlC,KAAhB;AACA,oBAAI,KAAK+H,cAAT,EAAyB;AACrB,yBAAKoe,iBAAL;AACH;AACJ;AACJ;;;4BArEe;AACZ,mBAAO,KAAKjI,QAAL,CAAcnrB,YAAd,EAAP;AACH,S;0BAqEaiC,O,EAAS;AAAA,gBACXkpB,QADW,GACE,IADF,CACXA,QADW;;AAEnBA,qBAASqnB,YAAT,CAAsBvwC,OAAtB;AACH;;;4BAtEkB;AACf,mBAAO,KAAKkpB,QAAL,CAAcnP,KAArB;AACH;;;4BAEe;AACZ,mBAAO,KAAK1Q,UAAL,CAAgBjJ,GAAhB,CAAoB,WAApB,CAAP;AACH;;;4BAEe;AACZ,mBAAO,KAAK8oB,QAAL,CAAclX,gBAAd,EAAP;AACH;;;4BAEW;AACR,mBAAO,KAAK3I,UAAL,CAAgBjJ,GAAhB,CAAoB,OAApB,CAAP;AACH;;;4BAEa;AACV,mBAAO,KAAKiJ,UAAL,CAAgBjJ,GAAhB,CAAoB,SAApB,CAAP;AACH;;;0BAEcyJ,I,EAAM;AACjB,gBAAMR,aAAa,KAAKA,UAAL,GAAkB,uBAArC;AACA,gBAAMxG,WAAWgH,OAAO,sBAAQA,KAAK0T,SAAb,CAAP,GAAiC,CAAlD;AACA,gBAAMhU,WAAWM,OAAO,sBAAQA,KAAKN,QAAb,CAAP,GAAgC,CAAjD;AACA,gBAAMinC,kBAAkBnnC,WAAW+C,UAAnC;AACA/C,uBAAWygB,QAAX;AACA0mB,4BAAgB3tC,QAAhB,GAA2BA,QAA3B;AACA2tC,4BAAgBjnC,QAAhB,GAA2BA,QAA3B;;AAEA,iBAAKM,IAAL,GAAYA,IAAZ;AACA,iBAAKqf,QAAL,CAAc1e,IAAd,CAAmBX,IAAnB;AACH;;;0BAyCYsH,I,EAAM;AACf,iBAAK+X,QAAL,CAAczU,WAAd,CAA0BtD,IAA1B;AACH;;;0BAEQjS,I,EAAM;AACX,iBAAKgqB,QAAL,CAAchqB,IAAd,CAAmBA,IAAnB;AACH;;;0BAEYyP,G,EAAK;AACd,iBAAKua,QAAL,CAAcjmB,IAAd,CAAmB0L,GAAnB;AACH;;;0BAMajF,K,EAAO;AACjB,gBAAI,KAAKwf,QAAL,CAAcunB,iBAAlB,EAAqC;AACjC,qBAAKvnB,QAAL,CAAcunB,iBAAd,CAAgC/mC,KAAhC;AACH;AACJ;;;0BAEUb,M,EAAQ;AACf,iBAAKqgB,QAAL,CAAcrgB,MAAd,CAAqBA,MAArB;AACH;;;;;;kBA9RgBinC,e;;;AAiSrB,SAASlnB,wBAAT,CAAkCvf,UAAlC,EAA8C;AAC1C;AACA,QAAMwgB,aAAaxgB,WAAWjJ,GAAX,CAAe,YAAf,CAAnB;AACAiJ,eAAW7I,OAAX,CAAmB,mBAAnB,EAAwC6I,UAAxC,EAAoDwgB,UAApD,EAAgEA,UAAhE;AACH;;AAED,SAASmmB,oBAAT,CAA8B7hB,eAA9B,EAA+C;AAC3CA,oBAAgBjF,QAAhB,CAAyB3oB,EAAzB,CAA4B,KAA5B,EAAmC4tB,gBAAgB4hB,gBAAnD,EAAqE5hB,eAArE;AACH,C;;;;;;;;;;;;;;;;;kBCxSuBuiB,e;AAdxB;;;;;;;AAOA;;;;;;;AAOe,SAASA,eAAT,GAA2B;AACtC,QAAIphB,eAAe,IAAnB;AACA,QAAIqhB,YAAY,IAAhB;;AAEA,WAAOtmC,OAAOq+B,gBAAP,CAAwB;AAC3BhZ,eAD2B,mBACnB7lB,IADmB,EACbsC,WADa,EACA;AACvBwkC,wBAAY,EAAE9mC,UAAF,EAAQsC,wBAAR,EAAZ;AACH,SAH0B;AAI3BoiB,cAJ2B,kBAIpB1kB,IAJoB,EAId;AACT,mBAAO,CAAC,EAAE8mC,aAAaC,KAAKC,SAAL,CAAeF,UAAU9mC,IAAV,CAAeS,OAAf,CAAuB,CAAvB,CAAf,MAA8CsmC,KAAKC,SAAL,CAAehnC,KAAKS,OAAL,CAAa,CAAb,CAAf,CAA7D,CAAR;AACH,SAN0B;AAO3BqlB,iBAP2B,uBAOf;AACRghB,wBAAY,IAAZ;AACH;AAT0B,KAAxB,EAUJ;AACCrgB,yBAAiB;AACblwB,eADa,iBACP;AACF,uBAAOuwC,YAAYA,UAAUxkC,WAAtB,GAAoC,IAA3C;AACH;AAHY,SADlB;AAMCmjB,sBAAc;AACVlvB,eADU,iBACJ;AACF,uBAAOkvB,YAAP;AACH,aAHS;AAIVxpB,eAJU,eAINqoB,eAJM,EAIW;AACjBmB,+BAAenB,eAAf;AACH;AANS;AANf,KAVI,CAAP;AAyBH,C;;;;;;;;;;;;;;;;;;;;AC3CD;;AACA;;AACA;;;;AACA;;;;AAEA;AACA,IAAM2iB,WAAW,SAAXA,QAAW,CAAS3uC,MAAT,EAAiB;AAAA;;AAE9B,QAAI4uC,UAAU,EAAd;AACA,QAAIC,cAAc,EAAlB;AACA,QAAIC,gBAAgB,CAApB;;AAEA;AACA9uC,WAAO5B,EAAP,CAAU,qBAAV,EAAiC,UAACR,KAAD,EAAW;AACxCgxC,kBAAU,EAAV;AACAC,sBAAc,EAAd;AACAC,wBAAgB,CAAhB;;AAEA;AACA,YAAM7kC,aAAarM,MAAMqM,UAAzB;AACAA,mBAAW8kC,aAAX,GAA2B,CAA3B;AACA9kC,mBAAWrI,YAAX,GAA0BotC,eAA1B;AACApxC,cAAM+F,GAAN,CAAU,eAAV,EAA2B,IAA3B;AACH,KAVD,EAUG,IAVH;;AAYA;AACA3D,WAAO5B,EAAP,CAAU,kBAAV,EAA8B,YAAM;AAChC;AACA,YAAMsJ,OAAO1H,OAAO/B,GAAP,CAAW,cAAX,CAAb;AACA,YAAM+I,SAASU,KAAKV,MAApB;AACA,YAAMioC,MAAMjoC,UAAUA,OAAOjF,MAA7B;AACA,YAAIktC,OAAO,CAACjvC,OAAO/B,GAAP,CAAW,wBAAX,CAAZ,EAAkD;AAAA,uCACrC0b,CADqC;AAE1C;AACA,oBAAM1S,QAAQD,OAAO2S,CAAP,CAAd;AACA,oBAAIu1B,eAAejoC,MAAMuqB,IAArB,KAA8B,CAACqd,YAAY5nC,MAAMyqB,GAAlB,CAAnC,EAA2D;AACvDyd,8BAAUloC,KAAV;AACA,gDAASA,KAAT,EAAgB,UAACwpB,OAAD,EAAa;AACzB2e,2CAAmBnoC,KAAnB,EAA0BwpB,OAA1B;AACH,qBAFD,EAEG,UAACnmB,KAAD,EAAW;AACV,8BAAKjM,OAAL,gBAAoB;AAChBiI,qCAAS,yBADO;AAEhBrK,oCAAQqO;AAFQ,yBAApB;AAIH,qBAPD;AAQH;AAdyC;;AAC9C,iBAAK,IAAIqP,IAAI,CAAb,EAAgBA,IAAIs1B,GAApB,EAAyBt1B,GAAzB,EAA8B;AAAA,sBAArBA,CAAqB;AAc7B;AACJ;AACD01B;AACH,KAvBD,EAuBG,IAvBH;;AAyBA;AACArvC,WAAO5B,EAAP,CAAU,sBAAV,EAAkC,UAACR,KAAD,EAAQ0xC,iBAAR,EAA8B;AAC5D,YAAIroC,QAAQ,IAAZ;AACA,YAAIqoC,sBAAsB,CAA1B,EAA6B;AACzBroC,oBAAQ2nC,QAAQU,oBAAoB,CAA5B,CAAR;AACH;AACD1xC,cAAM+F,GAAN,CAAU,eAAV,EAA2BsD,KAA3B;AACH,KAND,EAMG,IANH;;AAQA,aAASsoC,mBAAT,CAA6BvoC,MAA7B,EAAqC;AACjC,YAAI,CAACA,OAAOjF,MAAZ,EAAoB;AAChB;AACH;;AAED,aAAK,IAAI4X,IAAI,CAAb,EAAgBA,IAAI3S,OAAOjF,MAA3B,EAAmC4X,GAAnC,EAAwC;AACpCw1B,sBAAUnoC,OAAO2S,CAAP,CAAV;AACH;;AAED;AACAi1B,kBAAU1mC,OAAOsL,IAAP,CAAYq7B,WAAZ,EAAyBn1B,GAAzB,CAA6B;AAAA,mBAAMm1B,YAAYt9B,EAAZ,CAAN;AAAA,SAA7B,CAAV;;AAEA89B;AACH;;AAED,aAASH,cAAT,CAAwB1d,IAAxB,EAA8B;AAC1B,eAAOA,SAAS,WAAT,IAAwBA,SAAS,UAAxC;AACH;;AAED,aAAS4d,kBAAT,CAA4BnoC,KAA5B,EAAmCwpB,OAAnC,EAA4C;AACxCxpB,cAAMnI,IAAN,GAAa2xB,OAAb;AACH;;AAED,aAAS0e,SAAT,CAAmBloC,KAAnB,EAA0B;AACtBA,cAAMnI,IAAN,GAAamI,MAAMnI,IAAN,IAAc,EAA3B;AACAmI,cAAMiX,IAAN,GAAajX,MAAM8R,KAAN,IAAe9R,MAAMiX,IAArB,IAA6BjX,MAAMmX,QAAhD;AACAnX,cAAMyqB,GAAN,GAAY,4BAASzqB,KAAT,EAAgB2nC,QAAQ7sC,MAAxB,CAAZ;;AAEA,YAAI,CAACkF,MAAMiX,IAAX,EAAiB;AACb,gBAAMsxB,YAAY,+BAAYvoC,KAAZ,EAAmB6nC,aAAnB,CAAlB;AACA7nC,kBAAMiX,IAAN,GAAasxB,UAAUz2B,KAAvB;AACA+1B,4BAAgBU,UAAU7d,YAA1B;AACH;;AAED;AACAkd,oBAAY5nC,MAAMyqB,GAAlB,IAAyBzqB,KAAzB;AACA2nC,gBAAQ98B,IAAR,CAAa7K,KAAb;AACH;;AAED,aAAS+nC,aAAT,GAAyB;AACrB,YAAM7pB,OAAO,CAAC;AACV5T,gBAAI,KADM;AAEVwH,mBAAO;AAFG,SAAD,CAAb;AAIA,aAAK,IAAIY,IAAI,CAAb,EAAgBA,IAAIi1B,QAAQ7sC,MAA5B,EAAoC4X,GAApC,EAAyC;AACrCwL,iBAAKrT,IAAL,CAAU;AACNP,oBAAIq9B,QAAQj1B,CAAR,EAAW+X,GADT;AAEN3Y,uBAAO61B,QAAQj1B,CAAR,EAAWuE,IAAX,IAAmB;AAFpB,aAAV;AAIH;AACD,eAAOiH,IAAP;AACH;;AAED,aAASsqB,mBAAT,GAA+B;AAC3B,YAAIH,oBAAoB,CAAxB;AACA,YAAMv2B,QAAQ/Y,OAAO/B,GAAP,CAAW,cAAX,CAAd;;AAEA;AACA;AACA,YAAI8a,UAAU,KAAd,EAAqB;AACjB/Y,mBAAO2D,GAAP,CAAW,eAAX,EAA4B,CAA5B;AACA;AACH;;AAED,aAAK,IAAIgW,IAAI,CAAb,EAAgBA,IAAIi1B,QAAQ7sC,MAA5B,EAAoC4X,GAApC,EAAyC;AACrC,gBAAM1S,SAAQ2nC,QAAQj1B,CAAR,CAAd;AACA,gBAAIZ,SAASA,UAAU9R,OAAMiX,IAA7B,EAAmC;AAC/BoxB,oCAAoB31B,IAAI,CAAxB;AACA;AACH,aAHD,MAGO,IAAI1S,OAAM+S,OAAN,IAAiB/S,OAAMwqB,YAAvB,IAAuCxqB,OAAMyqB,GAAN,KAAc,SAAzD,EAAoE;AACvE4d,oCAAoB31B,IAAI,CAAxB;AACH,aAFM,MAEA,IAAI1S,OAAMyoC,UAAV,EAAsB;AACzB;AACH;AACJ;AACD;AACAC,yBAAiBL,iBAAjB;AACH;;AAED,aAASK,gBAAT,CAA0BpoC,KAA1B,EAAiC;AAC7B,YAAIqnC,QAAQ7sC,MAAZ,EAAoB;AAChB/B,mBAAOonB,qBAAP,CAA6B7f,KAA7B,EAAoCqnC,OAApC;AACH,SAFD,MAEO;AACH5uC,mBAAO2D,GAAP,CAAW,eAAX,EAA4B4D,KAA5B;AACH;AACJ;;AAED,aAAS8nC,gBAAT,GAA4B;AACxB,YAAMztC,eAAeotC,eAArB;AACA,YAAIY,aAAahuC,YAAb,MAA+BguC,aAAa5vC,OAAO/B,GAAP,CAAW,cAAX,CAAb,CAAnC,EAA6E;AACzEwxC;AACAzvC,mBAAO2D,GAAP,CAAW,cAAX,EAA2B/B,YAA3B;AACH;AACJ;;AAED,aAASguC,YAAT,CAAsBzqB,IAAtB,EAA4B;AACxB,eAAOA,KAAKzL,GAAL,CAAS;AAAA,mBAAWhS,KAAK6J,EAAhB,SAAsB7J,KAAKqR,KAA3B;AAAA,SAAT,EAA6CiL,IAA7C,CAAkD,GAAlD,CAAP;AACH;;AAED,SAAK5U,kBAAL,GAA0BmgC,mBAA1B;;AAEA,SAAKlhC,eAAL,GAAuB,YAAW;AAC9B,eAAOrO,OAAO/B,GAAP,CAAW,eAAX,CAAP;AACH,KAFD;;AAIA,SAAK4D,eAAL,GAAuB,YAAW;AAC9B,eAAO7B,OAAO/B,GAAP,CAAW,cAAX,CAAP;AACH,KAFD;;AAIA,SAAKW,OAAL,GAAe,YAAW;AACtB,aAAKqE,GAAL,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB;AACH,KAFD;AAGH,CAtKD;;AAwKA,SAAc0rC,SAASpqC,SAAvB;;kBAEeoqC,Q;;;;;;;;;;;;;;;;;;;;AChLf;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;IAAYkB,c;;AACZ;;AAGA;;;;AACA;;AASA;;AAIA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,mBAAAz0C,CAAQ,4BAAR;;AAEA,IAAI00C,uBAAJ;;AAEA,IAAMrZ,YAAY,gBAAGn7B,MAArB;AACA,IAAMy0C,QAAQ,qBAAQn7B,EAAtB;;AAEA,SAASo7B,IAAT,CAAcvrC,IAAd,EAAoBzE,MAApB,EAA4B;AACxB,QAAM8E,QAAQ,SAAc,IAAd,sBAA4B;AACtCmrC,iBAAS,KAD6B;AAEtCx0C,aAAKgJ,IAFiC;AAGtC7G,eAAOoC;AAH+B,KAA5B,CAAd;;AAMA,QAAM2gC,iBAAiB,wBAAc,sBAAe3gC,OAAO/B,GAAP,CAAW,IAAX,CAAf,EAAiC+B,OAAO/B,GAAP,CAAW,cAAX,EAA2BgjC,MAA5D,CAAd,CAAvB;AACA,QAAMiP,cAAcvP,eAAe9kC,aAAf,CAA6B,WAA7B,CAApB;;AAEA,QAAMs0C,WAAW,sBAAYnwC,MAAZ,CAAjB;AACA,QAAMowC,SAAS,oBAAUpwC,MAAV,CAAf;;AAEA,QAAMqwC,oBAAoB,+BAAqBrwC,MAArB,CAA1B;AACAqwC,sBAAkBjyC,EAAlB,CAAqB,KAArB,EAA4B0G,MAAMzG,OAAlC,EAA2CyG,KAA3C;;AAEA,QAAIwrC,cAAJ;;AAEA,QAAIC,mBAAJ;AACA,QAAIC,oBAAJ;;AAEA,QAAIC,sBAAsB,CAAC,CAA3B;AACA,QAAIC,4BAA4B,CAAC,CAAjC;AACA,QAAIC,uBAAuB,CAAC,CAA5B;;AAEA,QAAIC,4BAAJ;AACA,QAAIC,0BAAJ;AACA,QAAIC,oBAAJ;;AAEA,QAAIC,cAAc,IAAlB;AACA,QAAIC,kBAAJ;;AAEA,aAASh1C,iBAAT,GAA6B;AACzB,eAAO,EAAEC,QAAQ,aAAV,EAAP;AACH;;AAED,SAAKg1C,YAAL,GAAoB,YAAY;AAC5B,yDAAqBP,yBAArB;AACA,YAAMQ,QAAQnuC,SAAS6lB,IAAT,CAAcjmB,QAAd,CAAuBg+B,cAAvB,CAAd;AACA,YAAMwQ,OAAO,iBAAOxQ,cAAP,CAAb;AACA,YAAMzF,iBAAiBv6B,KAAKuI,KAAL,CAAWioC,KAAK37B,KAAhB,CAAvB;AACA,YAAM47B,kBAAkBzwC,KAAKuI,KAAL,CAAWioC,KAAK77B,MAAhB,CAAxB;;AAEA;AACA,YAAI4lB,mBAAmBqV,UAAnB,IAAiCa,oBAAoBZ,WAAzD,EAAsE;AAClE;AACA,gBAAI,CAACD,UAAD,IAAe,CAACC,WAApB,EAAiC;AAC7Ba;AACH;AACDrxC,mBAAO2D,GAAP,CAAW,OAAX,EAAoButC,KAApB;AACA;AACH;AACD;AACA,YAAI,CAAChW,cAAD,IAAmB,CAACkW,eAAxB,EAAyC;AACrC;AACA,gBAAI,CAACb,UAAD,IAAe,CAACC,WAApB,EAAiC;AAC7Ba;AACH;AACJ;;AAED;AACA,YAAInW,kBAAkBkW,eAAlB,IAAqCF,KAAzC,EAAgD;AAC5ClxC,mBAAO2D,GAAP,CAAW,gBAAX,EAA6Bu3B,cAA7B;AACAl7B,mBAAO2D,GAAP,CAAW,iBAAX,EAA8BytC,eAA9B;AACH;AACDpxC,eAAO2D,GAAP,CAAW,OAAX,EAAoButC,KAApB;;AAEA,YAAIA,KAAJ,EAAW;AACP,mCAAaI,OAAb,CAAqB3Q,cAArB;AACH;AACJ,KAlCD;;AAoCA,SAAK4Q,YAAL,GAAoB,YAAW;AAC3B,YAAMrW,iBAAiBl7B,OAAO/B,GAAP,CAAW,gBAAX,CAAvB;AACA,YAAMmzC,kBAAkBpxC,OAAO/B,GAAP,CAAW,iBAAX,CAAxB;;AAEA,YAAI+B,OAAO/B,GAAP,CAAW,UAAX,CAAJ,EAA4B;AACxBuzC,kCAAsBtW,cAAtB,EAAsCkW,eAAtC;AACH;;AAED,YAAIJ,SAAJ,EAAe;AACXA,sBAAU9+B,MAAV,CAAiBgpB,cAAjB,EAAiCkW,eAAjC;AACH;;AAEDK,qBAAavW,cAAb,EAA6BkW,eAA7B;AACAf,0BAAkBn+B,MAAlB;AACH,KAdD;;AAgBA,SAAKw/B,YAAL,GAAoB,YAAW;AAC3B,YAAMxW,iBAAiBl7B,OAAO/B,GAAP,CAAW,gBAAX,CAAvB;AACA,YAAMmzC,kBAAkBpxC,OAAO/B,GAAP,CAAW,iBAAX,CAAxB;AACA,YAAIi9B,mBAAmBqV,UAAnB,IAAiCa,oBAAoBZ,WAAzD,EAAsE;AAClED,yBAAarV,cAAb;AACAsV,0BAAcY,eAAd;AACAtsC,kBAAMzG,OAAN,iBAAsB;AAClBmX,uBAAO0lB,cADW;AAElB5lB,wBAAQ87B;AAFU,aAAtB;AAIA,gBAAMjpB,aAAa,gCAAc+S,cAAd,CAAnB;AACA,gBAAI6V,gBAAgB5oB,UAApB,EAAgC;AAC5B4oB,8BAAc5oB,UAAd;AACArjB,sBAAMzG,OAAN,qBAA0B;AACtB8pB,gCAAY4oB;AADU,iBAA1B;AAGH;AACJ;AACJ,KAlBD;;AAoBA,aAASM,mBAAT,GAA+B;AAC3B,yDAAqBX,yBAArB;AACAA,oCAA4B,kDAAsBiB,iBAAtB,CAA5B;AACH;;AAED,aAASA,iBAAT,GAA6B;AACzB,YAAI,CAAC7sC,MAAMmrC,OAAX,EAAoB;AAChB;AACH;AACDnrC,cAAMmsC,YAAN;AACAnsC,cAAMysC,YAAN;AACAzsC,cAAM4sC,YAAN;AACH;;AAED,aAASF,qBAAT,CAA+Bh8B,KAA/B,EAAsCF,MAAtC,EAA8C;AAC1C,YAAMs8B,YAAY,4BAAY5xC,MAAZ,CAAlB;AACA;AACA,YAAI,qBAAEknB,QAAF,CAAW1R,KAAX,KAAqB,qBAAE0R,QAAF,CAAW5R,MAAX,CAAzB,EAA6C;AACzC,gBAAM6S,aAAa,gCAAc3S,KAAd,CAAnB;AACA,4CAAcmrB,cAAd,EAA8BxY,UAA9B;;AAEA,gBAAM0pB,cAAc1pB,aAAa,CAAjC;AACA,kCAAYwY,cAAZ,EAA4B,sBAA5B,EAAoDkR,WAApD;AACA,kCAAYlR,cAAZ,EAA4B,yBAA5B,EAAwDrrB,SAASE,KAAjE;AACH;AACD,8BAAYmrB,cAAZ,EAA4B,sBAA5B,EAAoDiR,SAApD;AACA5xC,eAAO2D,GAAP,CAAW,WAAX,EAAwBiuC,SAAxB;AACH;;AAED,SAAK/yC,KAAL,GAAa,YAAY;AACrBsxC,iBAAStxC,KAAT,CAAe8hC,eAAe9kC,aAAf,CAA6B,aAA7B,CAAf;AACAu0C,eAAOvxC,KAAP,CAAa8hC,eAAe9kC,aAAf,CAA6B,WAA7B,CAAb;;AAEAy0C,gBAAQ,mBAAStwC,MAAT,CAAR;AACAswC,cAAMzxC,KAAN;AACAyxC,cAAMlC,YAAN,CAAmBzN,cAAnB;AACA2P,cAAMlyC,EAAN,qBAAqB0zC,iBAArB;;AAEA;AACAzB,0BAAkBxxC,KAAlB,CAAwB8hC,eAAepvB,EAAvC,EAA2CvR,OAAO/B,GAAP,CAAW,UAAX,CAA3C;;AAEA;AACA0iC,uBAAe7gC,YAAf,CAA4BuwC,kBAAkBxyC,OAAlB,EAA5B,EAAyDuyC,OAAOvyC,OAAP,EAAzD;;AAEA;AACA+yC,8BAAsBmB,mBAAmBttC,IAAnB,EAAyBzE,MAAzB,EAAiCkwC,WAAjC,CAAtB;;AAEAY,sBAAc,2BAAYnQ,cAAZ,CAAd;AACAkQ,4BAAoB,uCAAwBlQ,cAAxB,EAAwC59B,QAAxC,EAAkDivC,wBAAlD,CAApB;;AAEAhyC,eAAO5B,EAAP,CAAU,wBAAV,EAAoC,UAAUR,KAAV,EAAiBs7B,GAAjB,EAAsB;AACtD,kCAAYyH,cAAZ,EAA4B,2BAA5B,EAAyDzH,GAAzD;AACH,SAFD;AAGAl5B,eAAO5B,EAAP,CAAU,kBAAV,EAA8B,UAAUR,KAAV,EAAiBs7B,GAAjB,EAAsB;AAChD,kCAAYyH,cAAZ,EAA4B,kBAA5B,EAAgDzH,GAAhD;AACH,SAFD;AAGAl5B,eAAO5B,EAAP,CAAU,qBAAV,EAAiC,UAAUR,KAAV,EAAiBs7B,GAAjB,EAAsB;AACnD,kCAAYyH,cAAZ,EAA4B,uBAA5B,EAAqDzH,GAArD;AACH,SAFD;;AAIA;AACAl5B,eAAO5B,EAAP,4BAA6B4zC,wBAA7B;;AAEAhyC,eAAO5B,EAAP,2CAA4C,YAAM;AAC9CqzC;AACH,SAFD;;AAIA,YAAMzQ,kBAAkBhhC,OAAOihC,MAA/B;AACAD,wBAAgB5iC,EAAhB,CAAmB,mBAAnB,EAAwC6zC,aAAxC;;AAEAjyC,eAAOvB,MAAP,CAAc,YAAd,EAA4ByzC,eAA5B;AACAlyC,eAAOvB,MAAP,CAAc,cAAd,EAA8B0zC,oBAA9B;;AAEA,YAAM38B,QAAQxV,OAAO/B,GAAP,CAAW,OAAX,CAAd;AACA,YAAMqX,SAAStV,OAAO/B,GAAP,CAAW,QAAX,CAAf;AACAm0C,sBAAc58B,KAAd,EAAqBF,MAArB;AACAtV,eAAOvB,MAAP,CAAc,aAAd,EAA6B4zC,mBAA7B;AACA,YAAIryC,OAAO/B,GAAP,CAAW,UAAX,CAAJ,EAA4B;AACxBuzC,kCAAsBh8B,KAAtB,EAA6BF,MAA7B;AACH,SAFD,MAEO;AACH,+BAASqrB,cAAT,EAAyB,yBAAzB;AACH;;AAED,YAAIoP,KAAJ,EAAW;AACP,+BAASpP,cAAT,EAAyB,OAAzB;AACH;;AAED,YAAM2R,OAAOtyC,OAAO/B,GAAP,CAAW,MAAX,KAAsB,EAAnC;;AAEA,YAAIq0C,KAAKp0B,IAAT,EAAe;AACX,mCAAayiB,cAAb,EAA6B,aAA7B,EAA4C,aAAa2R,KAAKp0B,IAA9D;AACH;;AAED,YAAMq0B,aAAa,yBAAcD,IAAd,CAAnB;AACA,wCAAqBtyC,OAAO/B,GAAP,CAAW,IAAX,CAArB,EAAuCs0C,UAAvC;;AAEA;AACAvyC,eAAO2D,GAAP,CAAW,gBAAX,EAA6BusC,WAA7B;AACAlwC,eAAO2D,GAAP,CAAW,QAAX,EAAqB,sBAAS6uC,MAA9B;AACAxyC,eAAO2D,GAAP,CAAW,WAAX,EAAwB,0BAAxB;AACA3D,eAAO2D,GAAP,CAAW,WAAX,EAAwB8yB,cAAc,OAAOnhB,MAAP,KAAkB,QAAlB,IAA8BA,2CAA5C,CAAxB;;AAEA,+BAAam9B,GAAb,CAAiB,IAAjB;;AAEA,aAAKxC,OAAL,GAAe,IAAf;AACAjwC,eAAO3B,OAAP,CAAe,WAAf,EAA4BsiC,cAA5B;;AAEA,YAAMuQ,QAAQnuC,SAAS6lB,IAAT,CAAcjmB,QAAd,CAAuBg+B,cAAvB,CAAd;AACA,YAAIuQ,KAAJ,EAAW;AACP,mCAAaI,OAAb,CAAqB3Q,cAArB;AACH;AACD3gC,eAAO2D,GAAP,CAAW,OAAX,EAAoButC,KAApB;AACH,KAnFD;;AAqFA,aAASwB,gBAAT,GAA4B;AACxB1yC,eAAO2D,GAAP,CAAW,YAAX,EAAyB,0BAAc3D,MAAd,EAAsB2gC,cAAtB,CAAzB;AACH;;AAED,SAAKt4B,IAAL,GAAY,YAAW;AACnB,aAAK4oC,YAAL;;AAEAjxC,eAAO5B,EAAP,CAAU,mBAAV,EAA+Bu0C,WAA/B;AACA3yC,eAAO5B,EAAP,CAAU,kBAAV,EAA8Bs0C,gBAA9B;AACA1yC,eAAO5B,EAAP,CAAU,mBAAV,EAA+Bs0C,gBAA/B;AACA1yC,eAAO5B,EAAP,CAAU,0BAAV,EAAsCs0C,gBAAtC;AACA1yC,eAAO5B,EAAP,CAAU,mBAAV,EAA+Bw0C,MAA/B;AACA5yC,eAAO5B,EAAP,CAAU,cAAV,EAA0B,UAACqpB,YAAD,EAAkB;AACxC,gBAAIA,YAAJ,EAAkB;AACdorB;AACH,aAFD,MAEO;AACHC;AACH;AACJ,SAND;;AAQAJ;;AAEA;AACA,YAAI,uBAAarJ,IAAb,OAAwB,CAAxB,IAA6B,CAACrpC,OAAO/B,GAAP,CAAW,YAAX,CAAlC,EAA4D;AACxD20C,mBAAO5yC,MAAP,EAAe,CAAf,EAAkB,CAAlB;AACH;;AAED,YAAMghC,kBAAkBhhC,OAAOihC,MAA/B;;AAEAjhC,eAAOvB,MAAP,CAAc,OAAd,EAAuBgvC,aAAvB;AACAzM,wBAAgBviC,MAAhB,CAAuB,UAAvB,EAAmCs0C,cAAnC;AACA/R,wBAAgBviC,MAAhB,CAAuB,YAAvB,EAAqCu0C,YAArC;AACAhzC,eAAOvB,MAAP,CAAc,WAAd,EAA2Bw0C,kBAA3B;AACAjS,wBAAgBviC,MAAhB,CAAuB,cAAvB,EAAuCw9B,cAAvC;AACA;AACAsU,qBAAaC,cAAc,IAA3B;AACA,aAAKkB,YAAL;AACH,KAjCD;;AAmCA,aAASqB,cAAT,CAAwBn1C,KAAxB,EAA+Bs1C,MAA/B,EAAuC;AACnC,YAAMC,gBAAgB;AAClB5gC,sBAAU2gC;AADQ,SAAtB;AAGA,YAAIA,MAAJ,EAAY;AACRpD,6BAAiBD,eAAeuD,MAAf,CAAsB7gC,QAAvC;AACA,gBAAI,CAACu9B,cAAL,EAAqB;AACjBqD,8BAAcnpC,WAAd,GAA4B6lC,eAAe9kC,IAAf,GACvBP,IADuB,CAClB,UAAUtO,QAAV,EAAoB;AACtB4zC,qCAAiB5zC,QAAjB;AACA;AACA,wBAAMm3C,eAAez1C,MAAMK,GAAN,CAAU,UAAV,CAArB;AACA,wBAAIo1C,YAAJ,EAAkB;AACdC;AACH;AACD,2BAAOD,YAAP;AACH,iBATuB,CAA5B;AAUAF,8BAAcnpC,WAAd,CAA0BK,KAA1B,CAAgC,UAAUpO,MAAV,EAAkB;AAC9C6I,0BAAMzG,OAAN,gBAAqB;AACjBiI,iCAAS,yBADQ;AAEjBrK,gCAAQA;AAFS,qBAArB;AAIH,iBALD;AAMH,aAjBD,MAiBO;AACHq3C;AACH;AACJ,SAtBD,MAsBO;AACHxuC,kBAAMyuC,cAAN;AACH;AACD;AACA,YAAIhD,cAAcC,WAAlB,EAA+B;AAC3B1rC,kBAAMzG,OAAN,mBAAwB80C,aAAxB;AACH;AACJ;;AAED,aAASG,WAAT,GAAuB;AACnB,YAAM/gC,WAAW,IAAIu9B,cAAJ,CAAmB/sC,QAAnB,EAA6B+B,MAAMjH,OAAN,EAA7B,CAAjB;AACAiH,cAAMwuC,WAAN,CAAkB/gC,QAAlB;AACH;;AAED,aAASqgC,MAAT,CAAgBh1C,KAAhB,EAAuBoL,UAAvB,EAAmCwqC,cAAnC,EAAmD;AAC/C,YAAIxqC,cAAc,CAACwqC,cAAnB,EAAmC;AAC/B/F,0BAAc7vC,KAAd,EAAqBA,MAAMK,GAAN,CAAU,OAAV,CAArB;AACA6G,kBAAMysC,YAAN;AACH;AACJ;;AAED,aAASQ,kBAAT,CAA4Bt2C,GAA5B,EAAiCmC,KAAjC,EAAwC61C,UAAxC,EAAoD;AAChD,YAAM1I,eAAe,2BAAiBntC,KAAjB,EAAwB61C,UAAxB,CAArB;AACA,YAAMlhC,WAAW3U,MAAMK,GAAN,CAAU,UAAV,CAAjB;AACA8sC,qBAAa3sC,EAAb,CAAgB;AACZ+6B,mBAAO,iBAAM;AACTr0B,sBAAMzG,OAAN;;AAEA,oBAAI2yC,SAAJ,EAAe;AACX,wBAAI0C,qBAAJ,EAA2B;AACvB1C,kCAAU9zC,YAAV,CAAuBqE,KAAvB;AACH,qBAFD,MAEO;AACH9F,4BAAI8C,UAAJ,CAAevC,mBAAf;AACH;AACJ;AACJ,aAXW;AAYZ0tB,iBAAK,eAAM;AACPiX,+BAAer9B,mBAAf,CAAmC,WAAnC,EAAgDqe,WAAhD;AACAgf,+BAAer9B,mBAAf,CAAmC,UAAnC,EAA+Cse,UAA/C;AACA+e,+BAAer9B,mBAAf,CAAmC,WAAnC,EAAgDke,WAAhD;AACA1c,sBAAMzG,OAAN;AACA,oBAAIq1C,qBAAJ,EAA2B;AACvB1C,8BAAU9zC,YAAV,CAAuBqE,KAAvB;AACH;AACD,oBAAMpC,QAAQvB,MAAMK,GAAN,CAAU,OAAV,CAAd;;AAEA,oBAAIsU,aACEpT,gCAAwBA,gCAAzB,IACAvB,MAAMK,GAAN,CAAU,UAAV,KAAyBkB,8BAF1B,CAAJ,EAEwD;AACpD1D,wBAAI8C,UAAJ,CAAevC,mBAAf;AACH;;AAED,oBAAIuW,YAAYpT,8BAAhB,EAAwC;AACpC;AACA;AACA,wBAAIvB,MAAMK,GAAN,CAAU,UAAV,KAAyBL,MAAMK,GAAN,CAAU,YAAV,CAAzB,IAAqDL,MAAMK,GAAN,CAAU,WAAV,MAA2B,OAApF,EAA8F;AAC1F;AACH;AACD,0CAAY0iC,cAAZ,EAA4B,yBAA5B;AACA0P,sCAAkBsD,UAAlB,CAA6B,IAA7B;AACH,iBARD,MAQO,IAAI3C,SAAJ,EAAe;AAClB,wBAAI,CAACA,UAAU7zC,OAAf,EAAwB;AACpB6zC,kCAAU1yC,UAAV;AACH,qBAFD,MAEO;AACH0yC,kCAAUrzC,YAAV;AACH;AACJ;AACJ,aA3CW;AA4CZi2C,yBAAa;AAAA,uBAAM5C,aAAav1C,IAAI0F,aAAJ,EAAnB;AAAA;AA5CD,SAAhB;;AA+CAw/B,uBAAep+B,gBAAf,CAAgC,WAAhC,EAA6Cof,WAA7C;AACAgf,uBAAep+B,gBAAf,CAAgC,WAAhC,EAA6Cif,WAA7C;AACAmf,uBAAep+B,gBAAf,CAAgC,UAAhC,EAA4Cqf,UAA5C;;AAEA,eAAOmpB,YAAP;AACH;;AAED,aAASppB,WAAT,CAAqB7d,KAArB,EAA4B;AACxB,YAAIktC,SAAJ,EAAe;AACXA,sBAAU6C,SAAV,CAAoB/vC,KAApB;AACH;AACJ;;AAED,aAAS0d,WAAT,CAAqB1d,KAArB,EAA4B;AACxB,YAAIktC,aAAa,CAACA,UAAU7zC,OAAxB,IAAmC2G,MAAMlB,MAAN,CAAa4f,QAAb,KAA0B,QAAjE,EAA2E;AACvEwuB,sBAAU1yC,UAAV;AACH;AACJ;;AAED,aAASsjB,UAAT,CAAoB9d,KAApB,EAA2B;AACvB,YAAIktC,aAAaA,UAAU7zC,OAAvB,IAAkC2G,MAAMhB,aAAxC,IAAyD,CAAC69B,eAAeh+B,QAAf,CAAwBmB,MAAMhB,aAA9B,CAA9D,EAA4G;AACxGkuC,sBAAU1yC,UAAV;AACH;AACJ;;AAED,aAAS4zC,eAAT,CAAyBt0C,KAAzB,EAAgCk2C,MAAhC,EAAwC;AACpC,+BAAanT,cAAb,EAA6B,gBAA7B,EAA+C,gBAAgBmT,MAA/D;AACH;;AAED,aAASzB,mBAAT,CAA6Bz0C,KAA7B,EAAoCm2C,WAApC,EAAiD;AAC7C,8BAAYpT,cAAZ,EAA4B,qBAA5B,EAAmD,CAAC,CAACoT,WAArD;AACA,YAAMC,uBAAuBrT,eAAe9kC,aAAf,CAA6B,YAA7B,CAA7B;AACA,wBAAMm4C,oBAAN,EAA4B;AACxBC,wBAAYF,eAAe;AADH,SAA5B;AAGH;;AAED,aAAS5B,oBAAT,CAA8Bv0C,KAA9B,EAAqCe,SAArC,EAAgD;AAC5C,8BAAYgiC,cAAZ,EAA4B,uBAA5B,EAAqDhiC,SAArD;AACH;;AAED,aAASmzC,iBAAT,CAA2B5yC,GAA3B,EAAgC;AAC5B,YAAI,CAACA,IAAI86B,IAAT,EAAe;AACX,gBAAIh6B,OAAO/B,GAAP,CAAW,UAAX,CAAJ,EAA4B;AACxBwG,qBAAKlG,UAAL,CAAgBvC,mBAAhB;AACH;AACJ,SAJD,MAIO;AACHyI,iBAAKhF,KAAL,CAAWzD,mBAAX;AACAyI,iBAAKtD,aAAL,CAAmB,KAAnB;AACA2I,mBAAO2hB,IAAP,CAAYvsB,IAAI86B,IAAhB,EAAsB96B,IAAIg1C,UAA1B;AACH;AACJ;;AAED,SAAKZ,WAAL,GAAmB,UAAU/gC,QAAV,EAAoB;AACnCy+B,oBAAYz+B,QAAZ;;AAEA,8BAAYouB,cAAZ,EAA4B,yBAA5B;;AAEApuB,iBAAS2gC,MAAT,CAAgBzuC,IAAhB,EAAsBzE,MAAtB;;AAEA;AACA,YAAIwwC,WAAJ,EAAiB;AACbgB,kCAAsBjB,UAAtB,EAAkCC,WAAlC;AACAj+B,qBAASL,MAAT,CAAgBq+B,UAAhB,EAA4BC,WAA5B;AACAH,8BAAkBsD,UAAlB,CAA6B,IAA7B;AACH;;AAEDphC,iBAASnU,EAAT,CAAY,yBAAZ,EAAuC,YAAW;AAC9C,gBAAMe,QAAQa,OAAO/B,GAAP,CAAW,OAAX,CAAd;AACA,gBAAIkB,mCAA2BA,iCAA/B,EAA0D;AACtDkxC,kCAAkBsD,UAAlB,CAA6B,IAA7B;AACH;AACJ,SALD;;AAOAphC,iBAASnU,EAAT,CAAY,KAAZ,EAAmB0G,MAAMzG,OAAzB,EAAkCyG,KAAlC;;AAEA,YAAI9E,OAAO/B,GAAP,CAAW,UAAX,CAAJ,EAA4B;AACxB+yC,sBAAU6B,aAAV;AACH;AACJ,KA1BD;;AA4BA,SAAKU,cAAL,GAAsB,YAAY;AAC9B,YAAIvC,SAAJ,EAAe;AACXA,sBAAUmD,OAAV,CAAkBn0C,MAAlB;AACAgxC,wBAAY,IAAZ;AACH;;AAED,2BAASrQ,cAAT,EAAyB,yBAAzB;AACH,KAPD;;AASA;AACA,QAAMgS,cAAc,SAAdA,WAAc,CAAU/0C,KAAV,EAAiBuB,KAAjB,EAAwB;;AAExC;AACA,YAAIA,SAAS6xC,SAAT,IAAsBpzC,MAAMK,GAAN,CAAU,gBAAV,CAA1B,EAAuD;AACnD+yC,sBAAU/wC,cAAV,CAAyBwE,IAAzB,EAA+B7G,KAA/B;AACH;;AAED,YAAIizC,kBAAkBuD,qBAAlB,EAAJ,EAA+C;AAC3C,gBAAIj1C,KAAJ,EAAW;AACP0xC,kCAAkBwD,iBAAlB;AACH,aAFD,MAEO;AACHxD,kCAAkBnzB,cAAlB;AACH;AACD42B,iCAAqB3T,cAArB,EAAqCxhC,KAArC;AACH,SAPD,MAOO,IAAI4wC,KAAJ,EAAW;AACduE,iCAAqB3T,cAArB,EAAqCxhC,KAArC;AACH,SAFM,MAEA;AACH;AACA,gBAAM4nB,WAAWnpB,MAAM+oB,QAAN,EAAjB;AACAI,qBAAS5lB,aAAT,CAAuBhC,KAAvB;AACH;AACJ,KArBD;;AAuBA,aAASizC,aAAT,CAAuBnV,WAAvB,EAAoCsX,YAApC,EAAkDC,eAAlD,EAAmE;AAC/D,YAAMC,WAAWxX,gBAAgBr5B,SAAjC;AACA,YAAM8wC,YAAYH,iBAAiB3wC,SAAnC;AACA,YAAM+wC,cAAc;AAChBn/B,mBAAOynB;AADS,SAApB;;AAIA;AACA,YAAIyX,aAAaF,eAAjB,EAAkC;AAC9Bx0C,mBAAO2D,GAAP,CAAW,aAAX,EAA0B,IAA1B;AACH;AACD,YAAI,CAAC3D,OAAO/B,GAAP,CAAW,aAAX,CAAL,EAAgC;AAC5B;AACA;AACA,gBAAIqX,SAASi/B,YAAb;AACA,gBAAI,qBAAErtB,QAAF,CAAW5R,MAAX,KAAsBA,WAAW,CAArC,EAAwC;AACpCA,yBAAS3U,KAAKF,GAAL,CAAS6U,MAAT,oCAAT;AACH;AACDq/B,wBAAYr/B,MAAZ,GAAqBA,MAArB;AACH;;AAED,YAAIm/B,YAAYC,SAAhB,EAA2B;AACvB10C,mBAAO2D,GAAP,CAAW,OAAX,EAAoBs5B,WAApB;AACAj9B,mBAAO2D,GAAP,CAAW,QAAX,EAAqB4wC,YAArB;AACH;;AAED,wBAAM5T,cAAN,EAAsBgU,WAAtB;AACH;;AAED,aAASlD,YAAT,CAAsBvW,cAAtB,EAAsCkW,eAAtC,EAAuD;AACnD,YAAI,CAAClW,cAAD,IAAmBhiB,MAAM,IAAIgiB,cAAV,CAAvB,EAAkD;AAC9CA,6BAAiBl7B,OAAO/B,GAAP,CAAW,gBAAX,CAAjB;AACA,gBAAI,CAACi9B,cAAL,EAAqB;AACjB;AACH;AACJ;AACD,YAAI,CAACkW,eAAD,IAAoBl4B,MAAM,IAAIk4B,eAAV,CAAxB,EAAoD;AAChDA,8BAAkBpxC,OAAO/B,GAAP,CAAW,iBAAX,CAAlB;AACA,gBAAI,CAACmzC,eAAL,EAAsB;AAClB;AACH;AACJ;;AAED,YAAIjB,QAAJ,EAAc;AACVA,qBAASj+B,MAAT,CAAgBgpB,cAAhB,EAAgCkW,eAAhC,EAAiDpxC,OAAO/B,GAAP,CAAW,YAAX,CAAjD;AACH;;AAED,YAAM8oB,WAAW/mB,OAAO2mB,QAAP,EAAjB;AACA,YAAI,CAACI,QAAL,EAAe;AACX;AACH;AACDA,iBAAS7U,MAAT,CAAgBgpB,cAAhB,EAAgCkW,eAAhC,EAAiDpxC,OAAO/B,GAAP,CAAW,YAAX,CAAjD;AACH;;AAED,SAAKiU,MAAL,GAAc,UAAU+qB,WAAV,EAAuBsX,YAAvB,EAAqC;AAC/C,YAAMC,kBAAkB,IAAxB;AACApC,sBAAcnV,WAAd,EAA2BsX,YAA3B,EAAyCC,eAAzC;AACA7C;AACH,KAJD;AAKA,SAAKxF,WAAL,GAAmBsF,YAAnB;;AAEA,aAASmD,mBAAT,GAA+B;AAC3B;AACA,YAAI/D,kBAAkBuD,qBAAlB,EAAJ,EAA+C;AAC3C,gBAAMS,YAAYhE,kBAAkBiE,iBAAlB,EAAlB;AACA,mBAAO,CAAC,EAAED,aAAaA,cAAclU,cAA7B,CAAR;AACH;AACD;AACA,YAAM5Z,WAAW/mB,OAAO2mB,QAAP,EAAjB;AACA,eAAOI,SAAStJ,aAAT,EAAP;AACH;;AAGD,aAASu0B,wBAAT,CAAkCluC,KAAlC,EAAyC;AACrC,YAAMixC,aAAa/0C,OAAO/B,GAAP,CAAW,YAAX,CAAnB;AACA,YAAM+2C,WAAYlxC,MAAM+X,OAAN,KAAkBjY,SAAnB,GAAgCE,MAAM+X,OAAtC,GAAgD+4B,qBAAjE;;AAEA;AACA;AACA,YAAIG,eAAeC,QAAnB,EAA6B;AACzBh1C,mBAAO2D,GAAP,CAAW,YAAX,EAAyBqxC,QAAzB;AACH;;AAED3D;AACAnuC,qBAAautC,mBAAb;AACAA,8BAAsB/yC,WAAW+zC,YAAX,EAAyB,GAAzB,CAAtB;AACH;;AAED,aAAS6C,oBAAT,CAA8BlsB,aAA9B,EAA6C6sB,eAA7C,EAA8D;AAC1D,8BAAY7sB,aAAZ,EAA2B,oBAA3B,EAAiD6sB,eAAjD;AACA,wBAAMlyC,SAAS6lB,IAAf,EAAqB,EAAEssB,WAAYD,eAAD,GAAoB,QAApB,GAA+B,EAA5C,EAArB;;AAEA,YAAIA,mBAAmBjE,SAAvB,EAAkC;AAC9B;AACAA,sBAAU1yC,UAAV;AACH;;AAEDmzC;AACAJ;AACH;;AAED,aAAS2B,YAAT,CAAsBp1C,KAAtB,EAA6BipB,UAA7B,EAAyC;AACrC,YAAMnI,OAAQmI,eAAe,MAA7B;AACA,8BAAY8Z,cAAZ,EAA4B,cAA5B,EAA4CjiB,IAA5C;AACH;;AAED,aAASu0B,kBAAT,CAA4Br1C,KAA5B,EAAmCs7B,GAAnC,EAAwC;AACpC,YAAMic,cAAejc,QAAQ,OAA7B;AACA,YAAMnS,WAAWnpB,MAAMK,GAAN,CAAU,UAAV,CAAjB;;AAEA,8BAAY0iC,cAAZ,EAA4B,qBAA5B,EAAmDwU,WAAnD;;AAEA,YAAMC,UAAWruB,YAAYA,SAAS7I,IAAT,CAAcgF,OAAd,CAAsB,OAAtB,MAAmC,CAAhE;AACA,YAAMrlB,UAAWs3C,eAAe,CAACC,OAAjB,GAA4BlF,WAA5B,GAA0CA,YAAYxf,WAAtE;AACA;AACA;AACAiQ,uBAAe7gC,YAAf,CAA4BqwC,SAASxmB,EAArC,EAAyC9rB,OAAzC;AACH;;AAED,aAASo0C,aAAT,CAAuBr0C,KAAvB,EAA8BsB,GAA9B,EAAmC;AAC/B,YAAI,CAACA,GAAL,EAAU;AACNkxC,mBAAOxnC,YAAP,CAAoBhL,KAApB,EAA2BA,MAAMK,GAAN,CAAU,cAAV,CAA3B;AACA;AACH;AACD,YAAMo3C,iBAAiB,8BAAez3C,KAAf,EAAsBsB,IAAIoH,OAA1B,CAAvB;AACA,YAAI,yBAAe/K,SAAnB,EAA8B;AAC1B85C,2BAAex5C,aAAf,CAA6B,UAA7B,EAAyCE,WAAzC,CAAqD,yBAAeR,SAAf,CAAyB,OAAzB,CAArD;AACH;AACD60C,eAAOvsC,IAAP;AACA88B,uBAAe5kC,WAAf,CAA2Bs5C,eAAe7kB,UAA1C;AACA,8BAAYmQ,cAAZ,EAA4B,sBAA5B,EAAoD,CAAC,CAAC/iC,MAAMK,GAAN,CAAU,WAAV,CAAtD;AACH;;AAED,aAASwvC,aAAT,CAAuB7vC,KAAvB,EAA8Bo3C,QAA9B,EAAwCM,QAAxC,EAAkD;AAC9C,YAAI,CAACxwC,MAAMmrC,OAAX,EAAoB;AAChB;AACH;;AAED,YAAIqF,gCAAJ,EAA8B;AAC1B,gBAAMD,iBAAiB1U,eAAe9kC,aAAf,CAA6B,eAA7B,CAAvB;AACA,gBAAIw5C,cAAJ,EAAoB;AAChBA,+BAAelyC,UAAf,CAA0BE,WAA1B,CAAsCgyC,cAAtC;AACH;AACJ;;AAED,yDAAqB1E,oBAArB;AACA,YAAIqE,kCAAJ,EAAgC;AAC5BO,yBAAaP,QAAb;AACH,SAFD,MAEO;AACHrE,mCAAuB,kDAAsB;AAAA,uBAAM4E,aAAaP,QAAb,CAAN;AAAA,aAAtB,CAAvB;AACH;AACJ;;AAED,aAASO,YAAT,CAAsBp2C,KAAtB,EAA6B;AACzB,YAAIa,OAAO/B,GAAP,CAAW,UAAX,KAA0BkB,8BAA1B,IAAoD,mBAASwhC,cAAT,EAAyB,yBAAzB,CAAxD,EAA6G;AACzG,kCAAYA,cAAZ,EAA4B,yBAA5B;AACH;AACD,+BAAaA,cAAb,EAA6B,cAA7B,EAA6C,cAAcxhC,KAA3D;;AAEA,gBAAQA,KAAR;AACI;AACA;AACA;AACI,oBAAIkxC,iBAAJ,EAAuB;AACnBA,sCAAkBxsC,IAAlB;AACH;AACD;AACJ;AACI,oBAAIwsC,iBAAJ,EAAuB;AACnBA,sCAAkBlwC,IAAlB;AACA,wBAAIhB,kCAA0B6xC,SAA1B,IAAuC,CAACA,UAAU7zC,OAAtD,EAA+D;AAC3DkzC,0CAAkBsD,UAAlB,CAA6B,IAA7B;AACH;AACJ;AACD;AAfR;AAiBH;;AAED,aAAS6B,sBAAT,CAAgC53C,KAAhC,EAAuCgL,YAAvC,EAAqD;AACjD,YAAM6sC,WAAW73C,MAAMK,GAAN,CAAU,cAAV,CAAjB;AACA;AACA,YAAI,CAACw3C,QAAL,EAAe;AACX;AACH;;AAED;AACA,YAAMC,WAAW3yC,SAASjF,aAAT,CAAuB,KAAvB,CAAjB;AACA43C,iBAASvgB,SAAT,GAAqBvsB,aAAaiwB,KAAb,IAAsB,EAA3C;AACA4c,iBAASt6B,YAAT,CAAsB,OAAtB,EAA+Bu6B,SAASnqB,WAAxC;AACH;;AAED,aAASoqB,cAAT,CAAwBjuC,IAAxB,EAA8B;AAC1ByoC,iBAASyF,QAAT,CAAkBluC,QAAQA,KAAK63B,KAA/B;AACH;;AAED,aAAStD,cAAT,CAAwBr+B,KAAxB,EAA+B8J,IAA/B,EAAqC;AACjCiuC,uBAAejuC,IAAf;AACA;AACA,YAAI+uB,SAAJ,EAAe;AACX+e,mCAAuB53C,KAAvB,EAA8B8J,IAA9B;AACH;AACJ;;AAED,QAAMgsC,sBAAsB,SAAtBA,mBAAsB,GAAM;AAC9B,YAAMx2C,eAAe8zC,aAAaA,UAAU9zC,YAA5C;AACA,eAAO,CAAC,EAAEA,gBAAgBA,aAAa+B,OAA/B,CAAR;AACH,KAHD;;AAKA,QAAM4zC,gBAAgB,SAAhBA,aAAgB,GAAW;AAC7B,2BAASlS,cAAT,EAAyB,aAAzB;;AAEA,YAAIqQ,SAAJ,EAAe;AACXA,sBAAU6B,aAAV;AACH;AACJ,KAND;;AAQA,QAAMC,kBAAkB,SAAlBA,eAAkB,GAAW;AAC/B,YAAI,CAAClC,mBAAL,EAA0B;AACtB;AACA;AACH;AACD,YAAII,SAAJ,EAAe;AACXA,sBAAU8B,eAAV,CAA0B9yC,MAA1B;AACH;;AAED8E,cAAM4zB,UAAN,CAAiB,EAAjB;AACA,8BAAYiI,cAAZ,EAA4B,CAAC,aAAD,EAAgB,2BAAhB,CAA5B;AACA3gC,eAAO2D,GAAP,CAAW,iBAAX,EAA8B,KAA9B;;AAEA;AACA,YAAMojB,WAAW/mB,OAAO2mB,QAAP,EAAjB;AACA,YAAII,QAAJ,EAAc;AACVA,qBAASqnB,YAAT,CAAsB8B,WAAtB;AACH;;AAED;AACAU,4BAAoBvE,4BAApB;AACH,KArBD;;AAuBA,SAAK3T,UAAL,GAAkB,UAAUpT,IAAV,EAAgB;AAC9BtlB,eAAO2D,GAAP,CAAW,SAAX,EAAsB2hB,IAAtB;AACH,KAFD;;AAIA,SAAKylB,YAAL,GAAoB,YAAY;AAC5B,eAAO6F,mBAAP;AACH,KAFD;;AAIA,SAAKh1C,YAAL,GAAoB,KAAKiC,OAAL,GAAe,YAAY;AAC3C,eAAO8iC,cAAP;AACH,KAFD;;AAIA,SAAKkV,iBAAL,GAAyB,YAAW;AAChC,YAAI7E,SAAJ,EAAe;AACX,mBAAOA,UAAUnzC,OAAV,EAAP;AACH;AACD,eAAO,IAAP;AACH,KALD;;AAOA,SAAKsU,aAAL,GAAqB,YAAoC;AAAA,YAA1B2jC,iBAA0B,uEAAN,IAAM;;AACrD,YAAMC,aAAa;AACft5B,eAAG,CADY;AAEfE,eAAG,CAFY;AAGfnH,mBAAO+6B,cAAc,CAHN;AAIfj7B,oBAAQk7B,eAAe;AAJR,SAAnB;AAMA,YAAIQ,SAAJ,EAAe;AACX;AACA,gBAAI8E,iBAAJ,EAAuB;AACnBC,2BAAWzgC,MAAX,IAAqB07B,UAAUgF,gBAAV,EAArB;AACH;AACJ;AACD,eAAOD,UAAP;AACH,KAdD;;AAgBA,SAAK3jC,WAAL,GAAmB,UAAU6jC,aAAV,EAAyB;AACxC5F,0BAAkB6F,KAAlB;AACA7F,0BAAkBxxC,KAAlB,CAAwBmB,OAAO/B,GAAP,CAAW,IAAX,CAAxB,EAA0Cg4C,aAA1C;AACA5F,0BAAkBn+B,MAAlB;AACH,KAJD;;AAMA,SAAKtT,OAAL,GAAe,YAAY;AACvBoB,eAAOpB,OAAP;AACA,+BAAau3C,SAAb,CAAuBxV,cAAvB;AACA,+BAAajB,MAAb,CAAoB,IAApB;AACA,aAAKuQ,OAAL,GAAe,KAAf;AACA,aAAKhtC,GAAL;AACA,yDAAqBytC,yBAArB;AACAxtC,qBAAautC,mBAAb;AACA,YAAIK,WAAJ,EAAiB;AACbA,wBAAYlyC,OAAZ;AACAkyC,0BAAc,IAAd;AACH;AACD,YAAID,iBAAJ,EAAuB;AACnBA,8BAAkBjyC,OAAlB;AACAiyC,gCAAoB,IAApB;AACH;AACD,YAAIG,SAAJ,EAAe;AACXA,sBAAUmD,OAAV,CAAkBn0C,MAAlB;AACH;AACD,YAAI4wC,mBAAJ,EAAyB;AACrBA,gCAAoBhyC,OAApB;AACA+hC,2BAAer9B,mBAAf,CAAmC,WAAnC,EAAgDqe,WAAhD;AACAgf,2BAAer9B,mBAAf,CAAmC,UAAnC,EAA+Cse,UAA/C;AACA+e,2BAAer9B,mBAAf,CAAmC,WAAnC,EAAgDke,WAAhD;AACAovB,kCAAsB,IAAtB;AACH;AACDP,0BAAkBzxC,OAAlB;AACA,YAAI0xC,KAAJ,EAAW;AACPA,kBAAM1xC,OAAN;AACA0xC,oBAAQ,IAAR;AACH;AACD,2BAAStwC,OAAO/B,GAAP,CAAW,IAAX,CAAT;AACH,KAhCD;AAiCH;;kBAEc+xC,I;;;;;;;;;;;;;;;;;;kBC/zBA,UAACz+B,EAAD,EAAwB;AAAA,QAAnBgX,SAAmB,uEAAP,EAAO;;AACnC,WACI,cAAYhX,EAAZ,4EAAqFgX,SAArF,qVADJ;AAYH,C;;;;;;;;;;;;;;;;;ACbM,IAAM6tB,0DAAyB,EAA/B;;AAEA,IAAMC,oCAAc,SAAdA,WAAc,CAASz4C,KAAT,EAAgB;AACvC,QAAM22C,eAAe32C,MAAMK,GAAN,CAAU,QAAV,CAArB;AACA,QAAIL,MAAMK,GAAN,CAAU,aAAV,CAAJ,EAA8B;AAC1B,eAAO,KAAP;AACH;AACD,QAAI,OAAOs2C,YAAP,KAAwB,QAAxB,IAAoCA,aAAarxB,OAAb,CAAqB,GAArB,IAA4B,CAAC,CAArE,EAAwE;AACpE,eAAO,KAAP;AACH;;AAED;AACA,QAAIozB,iBAAkB/B,eAAe,CAAhB,IAAsBgC,GAA3C;AACAD,qBAAkB,CAACp9B,MAAMo9B,cAAN,CAAD,GAAyBA,cAAzB,GAA0C14C,MAAMK,GAAN,CAAU,iBAAV,CAA5D;AACA,QAAI,CAACq4C,cAAL,EAAqB;AACjB,eAAO,KAAP;AACH;;AAED,WAAOA,kBAAkBA,kBAAkBF,sBAA3C;AACH,CAjBM,C;;;;;;;;;;;;;;;;;;ACFP;;;;AACA;;;;AAEA,IAAMI,QAAQ,EAAd;AACA,IAAMC,WAAW,EAAjB;;AAEA,IAAIC,6BAAJ;AACA,IAAIC,6BAA6B,CAAC,CAAlC;;AAEA,SAASC,4BAAT,GAAwC;AACpC,QAAMC,uBAAuB/sC,OAAO+sC,oBAApC;AACA,QAAI,CAACH,oBAAL,EAA2B;AACvB;AACAA,+BAAuB,IAAIG,oBAAJ,CAAyB,UAACC,OAAD,EAAa;AACzD,gBAAIA,WAAWA,QAAQ/0C,MAAvB,EAA+B;AAC3B,qBAAK,IAAI4X,IAAIm9B,QAAQ/0C,MAArB,EAA6B4X,GAA7B,GAAmC;AAC/B,wBAAMyL,QAAQ0xB,QAAQn9B,CAAR,CAAd;AACA,yBAAK,IAAImb,IAAI0hB,MAAMz0C,MAAnB,EAA2B+yB,GAA3B,GAAiC;AAC7B,4BAAIiiB,OAAOP,MAAM1hB,CAAN,CAAX;AACA,4BAAI1P,MAAMxiB,MAAN,KAAiBm0C,KAAKn7C,YAAL,EAArB,EAA0C;AACtCm7C,iCAAKn5C,KAAL,CAAW+F,GAAX,CAAe,mBAAf,EAAoCyhB,MAAM4xB,iBAA1C;AACA;AACH;AACJ;AACJ;AACJ;AACJ,SAbsB,EAapB,EAAEC,WAAW,CAAC,CAAD,EAAI,IAAJ,EAAU,GAAV,EAAe,IAAf,EAAqB,CAArB,CAAb,EAboB,CAAvB;AAcH;AACJ;;AAED,SAASC,wBAAT,GAAoC;AAChC,qDAAqBP,0BAArB;AACAA,iCAA6B,kDAAsB,SAASQ,iBAAT,GAA6B;AAC5EX,cAAMh7C,OAAN,CAAc,gBAAQ;AAClBu7C,iBAAK9F,YAAL;AACH,SAFD;AAGAuF,cAAMh7C,OAAN,CAAc,gBAAQ;AAClB,gBAAIu7C,KAAKn5C,KAAL,CAAWK,GAAX,CAAe,YAAf,CAAJ,EAAkC;AAC9B84C,qBAAKxF,YAAL;AACH;AACJ,SAJD;AAKAiF,cAAMh7C,OAAN,CAAc,gBAAQ;AAClBu7C,iBAAKrF,YAAL;AACH,SAFD;AAGH,KAZ4B,CAA7B;AAaH;;AAED,SAAS0F,kBAAT,GAA8B;AAC1BZ,UAAMh7C,OAAN,CAAc,gBAAQ;AAClBu7C,aAAKn5C,KAAL,CAAW+F,GAAX,CAAe,WAAf,EAA4B,0BAA5B;AACH,KAFD;AAGH;;AAEDZ,SAASR,gBAAT,CAA0B,kBAA1B,EAA8C60C,kBAA9C;AACAr0C,SAASR,gBAAT,CAA0B,wBAA1B,EAAoD60C,kBAApD;AACAttC,OAAOvH,gBAAP,CAAwB,QAAxB,EAAkC20C,wBAAlC;AACAptC,OAAOvH,gBAAP,CAAwB,mBAAxB,EAA6C20C,wBAA7C;;AAEAptC,OAAOvH,gBAAP,CAAwB,cAAxB,EAAwC,YAAM;AAC1CQ,aAASO,mBAAT,CAA6B,kBAA7B,EAAiD8zC,kBAAjD;AACAr0C,aAASO,mBAAT,CAA6B,wBAA7B,EAAuD8zC,kBAAvD;AACAttC,WAAOxG,mBAAP,CAA2B,QAA3B,EAAqC4zC,wBAArC;AACAptC,WAAOxG,mBAAP,CAA2B,mBAA3B,EAAgD4zC,wBAAhD;AACH,CALD;;kBAOe;AACXzE,SAAK,aAASsE,IAAT,EAAe;AAChBP,cAAM1kC,IAAN,CAAWilC,IAAX;AACH,KAHU;AAIXrX,YAAQ,gBAASqX,IAAT,EAAe;AACnB,YAAMxvC,QAAQivC,MAAMtzB,OAAN,CAAc6zB,IAAd,CAAd;AACA,YAAIxvC,UAAU,CAAC,CAAf,EAAkB;AACdivC,kBAAMa,MAAN,CAAa9vC,KAAb,EAAoB,CAApB;AACH;AACJ,KATU;AAUX8hC,UAAM,gBAAW;AACb,eAAOmN,MAAMz0C,MAAb;AACH,KAZU;AAaXuvC,WAbW,mBAaHt1B,SAbG,EAaQ;AACf46B;;AAEA,YAAIH,SAASz6B,UAAUzK,EAAnB,CAAJ,EAA4B;AACxB;AACH;;AAEDklC,iBAASz6B,UAAUzK,EAAnB,IAAyB,IAAzB;AACAmlC,6BAAqBpF,OAArB,CAA6Bt1B,SAA7B;AACH,KAtBU;AAuBXm6B,aAvBW,qBAuBDn6B,SAvBC,EAuBU;AACjB,YAAI06B,wBAAwBD,SAASz6B,UAAUzK,EAAnB,CAA5B,EAAoD;AAChD,mBAAOklC,SAASz6B,UAAUzK,EAAnB,CAAP;AACAmlC,iCAAqBP,SAArB,CAA+Bn6B,SAA/B;AACH;AACJ;AA5BU,C;;;;;;;;;;;;;;;;;kBCjESs7B,a;AAAT,SAASA,aAAT,CAAuB15C,KAAvB,EAA8BC,OAA9B,EAAuC;AAClD;AACA,QAAID,MAAMK,GAAN,CAAU,YAAV,CAAJ,EAA6B;AACzB,eAAO,CAAP;AACH;;AAED;AACA,QAAI,CAACL,MAAMK,GAAN,CAAU,WAAV,CAAL,EAA6B;AACzB,eAAO,CAAP;AACH;AACD;AACA,QAAI+4C,oBAAoBp5C,MAAMK,GAAN,CAAU,mBAAV,CAAxB;;AAEA,QAAI+4C,sBAAsBpzC,SAA1B,EAAqC;AACjC;AACAozC,4BAAoBO,kBAAkB15C,OAAlB,CAApB;AACH;;AAED,WAAOm5C,iBAAP;AACH;;AAED,SAASO,iBAAT,CAA2B30C,MAA3B,EAAmC;AAC/B,QAAMo/B,OAAOj/B,SAASkiB,eAAtB;AACA,QAAM2D,OAAO7lB,SAAS6lB,IAAtB;AACA,QAAM4uB,WAAW;AACbz6B,aAAK,CADQ;AAEbC,cAAM,CAFO;AAGb+L,eAAOiZ,KAAKyV,WAAL,IAAoB7uB,KAAK6uB,WAHnB;AAIbjiC,eAAOwsB,KAAKyV,WAAL,IAAoB7uB,KAAK6uB,WAJnB;AAKbrtB,gBAAQ4X,KAAKv+B,YAAL,IAAqBmlB,KAAKnlB,YALrB;AAMb6R,gBAAQ0sB,KAAKv+B,YAAL,IAAqBmlB,KAAKnlB;AANrB,KAAjB;;AASA,QAAI,CAACmlB,KAAKjmB,QAAL,CAAcC,MAAd,CAAL,EAA4B;AACxB,eAAO,CAAP;AACH;AACD;AACA,QAAIkH,OAAO4tC,gBAAP,CAAwB90C,MAAxB,EAAgCzE,OAAhC,KAA4C,MAAhD,EAAwD;AACpD,eAAO,CAAP;AACH;;AAED,QAAMw5C,aAAa7uB,sBAAsBlmB,MAAtB,CAAnB;AACA,QAAI,CAAC+0C,UAAL,EAAiB;AACb,eAAO,CAAP;AACH;;AAED,QAAIC,mBAAmBD,UAAvB;AACA,QAAIxzC,SAASvB,OAAOO,UAApB;AACA,QAAI00C,SAAS,KAAb;;AAEA,WAAO,CAACA,MAAR,EAAgB;AACZ,YAAIC,aAAa,IAAjB;AACA,YAAI3zC,WAAWykB,IAAX,IAAmBzkB,WAAW69B,IAA9B,IAAsC79B,OAAOwsB,QAAP,KAAoB,CAA9D,EAAiE;AAC7DknB,qBAAS,IAAT;AACAC,yBAAaN,QAAb;AACH,SAHD,MAGO,IAAI1tC,OAAO4tC,gBAAP,CAAwBvzC,MAAxB,EAAgC4zC,QAAhC,KAA6C,SAAjD,EAA4D;AAC/DD,yBAAahvB,sBAAsB3kB,MAAtB,CAAb;AACH;AACD,YAAI2zC,UAAJ,EAAgB;AACZF,+BAAmBI,wBAAwBF,UAAxB,EAAoCF,gBAApC,CAAnB;AACA,gBAAI,CAACA,gBAAL,EAAuB;AACnB,uBAAO,CAAP;AACH;AACJ;AACDzzC,iBAASA,OAAOhB,UAAhB;AACH;AACD,QAAM80C,aAAaN,WAAWniC,KAAX,GAAmBmiC,WAAWriC,MAAjD;AACA,QAAM4iC,mBAAmBN,iBAAiBpiC,KAAjB,GAAyBoiC,iBAAiBtiC,MAAnE;AACA,WAAO2iC,aAAcC,mBAAmBD,UAAjC,GAA+C,CAAtD;AACH;;AAED,SAASnvB,qBAAT,CAA+Ba,EAA/B,EAAmC;AAC/B,QAAI;AACA,eAAOA,GAAGb,qBAAH,EAAP;AACH,KAFD,CAEE,OAAO3Z,CAAP,EAAU,CAAC,+CAAgD;AAChE;;AAED,SAAS6oC,uBAAT,CAAiCG,KAAjC,EAAwCC,KAAxC,EAA+C;AAC3C,QAAMr7B,MAAMpc,KAAKF,GAAL,CAAS03C,MAAMp7B,GAAf,EAAoBq7B,MAAMr7B,GAA1B,CAAZ;AACA,QAAMqN,SAASzpB,KAAKH,GAAL,CAAS23C,MAAM/tB,MAAf,EAAuBguB,MAAMhuB,MAA7B,CAAf;AACA,QAAMpN,OAAOrc,KAAKF,GAAL,CAAS03C,MAAMn7B,IAAf,EAAqBo7B,MAAMp7B,IAA3B,CAAb;AACA,QAAM+L,QAAQpoB,KAAKH,GAAL,CAAS23C,MAAMpvB,KAAf,EAAsBqvB,MAAMrvB,KAA5B,CAAd;AACA,QAAMvT,QAAQuT,QAAQ/L,IAAtB;AACA,QAAM1H,SAAS8U,SAASrN,GAAxB;AACA,WAAQvH,SAAS,CAAT,IAAcF,UAAU,CAAzB,IAA+B;AAClCyH,aAAKA,GAD6B;AAElCqN,gBAAQA,MAF0B;AAGlCpN,cAAMA,IAH4B;AAIlC+L,eAAOA,KAJ2B;AAKlCvT,eAAOA,KAL2B;AAMlCF,gBAAQA;AAN0B,KAAtC;AAQH,C;;;;;;;;;;;;;;;;;QCzFe+iC,a,GAAAA,a;QAyEAC,oB,GAAAA,oB;;AA5EhB;;AACA;;AAEO,SAASD,aAAT,CAAuBE,UAAvB,EAAmC;AACtC,QAAI,CAACA,UAAL,EAAiB;AACbA,qBAAa,EAAb;AACH;;AAED,QAAM7d,SAAS6d,WAAW7d,MAA1B;AACA,QAAM8d,WAAWD,WAAWC,QAA5B;AACA,QAAMzsB,aAAawsB,WAAWxsB,UAA9B;;AAEA,QAAM0sB,SAAS,EAAf;;AAEAA,WAAOl8C,UAAP,GAAoBm8C,cAAcH,WAAWh8C,UAAzB,CAApB;;AAEAk8C,WAAOE,UAAP,GAAoBC,cAAcL,WAAWI,UAAzB,CAApB;;AAEAF,WAAOxgB,KAAP,GAAe4gB,SAASN,WAAWtgB,KAApB,CAAf;;AAEAwgB,WAAOK,QAAP,GAAkBC,YAAYR,WAAWO,QAAvB,CAAlB;;AAEA,aAASJ,aAAT,CAAuBM,gBAAvB,EAAyC;AACrC,YAAIA,oBAAoBte,MAApB,IAA8B8d,QAA9B,IAA0CzsB,UAA9C,EAA0D;AACtD,gBAAMvnB,SAAS,EAAf;;AAEAw0C,+BAAmBA,oBAAoB,EAAvC;AACAx0C,mBAAOy0C,WAAP,GAAqBD,iBAAiBC,WAAjB,IAAgCve,MAArD;AACAl2B,mBAAOqf,KAAP,GAAem1B,iBAAiBn1B,KAAjB,IAA0B20B,QAAzC;AACAh0C,mBAAO8gB,IAAP,GAAc0zB,iBAAiB1zB,IAAjB,IAAyBkzB,QAAvC;AACAh0C,mBAAOunB,UAAP,GAAoBitB,iBAAiBjtB,UAAjB,IAA+BA,UAAnD;;AAEA,mBAAOvnB,MAAP;AACH;AACJ;;AAED,aAASo0C,aAAT,CAAuBM,gBAAvB,EAAyC;AACrC,YAAIA,oBAAoBxe,MAAxB,EAAgC;AAC5B,gBAAMl2B,SAAS,EAAf;;AAEA00C,+BAAmBA,oBAAoB,EAAvC;AACA10C,mBAAO6P,QAAP,GAAkB6kC,iBAAiB7kC,QAAjB,IAA6BqmB,MAA/C;AACAl2B,mBAAO20C,IAAP,GAAcD,iBAAiBC,IAA/B;;AAEA,mBAAO30C,MAAP;AACH;AACJ;;AAED,aAASq0C,QAAT,CAAkBO,WAAlB,EAA+B;AAC3B,YAAIA,eAAe1e,MAAf,IAAyB8d,QAAzB,IAAqCzsB,UAAzC,EAAqD;AACjD,gBAAMvnB,SAAS,EAAf;;AAEA40C,0BAAcA,eAAe,EAA7B;AACA50C,mBAAO8gB,IAAP,GAAc8zB,YAAY9zB,IAAZ,IAAoBkzB,QAAlC;AACAh0C,mBAAO60C,UAAP,GAAoBD,YAAYC,UAAZ,IAA0B3e,MAA9C;AACAl2B,mBAAOunB,UAAP,GAAoBqtB,YAAYrtB,UAAZ,IAA0BA,UAA9C;;AAEA,mBAAOvnB,MAAP;AACH;AACJ;;AAED,aAASu0C,WAAT,CAAqBO,cAArB,EAAqC;AACjC,YAAIA,kBAAkBd,QAAlB,IAA8BzsB,UAAlC,EAA8C;AAC1C,gBAAMvnB,SAAS,EAAf;;AAEA80C,6BAAiBA,kBAAkB,EAAnC;AACA90C,mBAAO8gB,IAAP,GAAcg0B,eAAeh0B,IAAf,IAAuBkzB,QAArC;AACAh0C,mBAAOunB,UAAP,GAAoButB,eAAevtB,UAAf,IAA6BA,UAAjD;;AAEA,mBAAOvnB,MAAP;AACH;AACJ;;AAED,WAAOi0C,MAAP;AACH;;AAEM,SAASH,oBAAT,CAA8BiB,QAA9B,EAAwCjH,IAAxC,EAA8C;AACjD,QAAI,CAACA,IAAL,EAAW;AACP;AACH;;AAED,aAASkH,QAAT,CAAkB55C,QAAlB,EAA4B65C,IAA5B,EAAkCxnB,KAAlC,EAAyCynB,YAAzC,EAAuD;AACnD,YAAI,CAACznB,KAAL,EAAY;AACR;AACH;AACD;;;AAGAryB,mBAAW,qBAAOA,QAAP,EAAiB,MAAM25C,QAAN,IAAkBG,eAAe,EAAf,GAAoB,GAAtC,CAAjB,CAAX;;AAEA,YAAMC,IAAI,EAAV;AACAA,UAAEF,IAAF,IAAUxnB,KAAV;AACA,sBAAIryB,SAASokB,IAAT,CAAc,IAAd,CAAJ,EAAyB21B,CAAzB,EAA4BJ,QAA5B;AACH;;AAED;AACA;;AAEA,QAAIjH,KAAK/1C,UAAT,EAAqB;AACjBq9C,wBAAgBtH,KAAK/1C,UAArB;AACH;AACD,QAAI+1C,KAAKqG,UAAT,EAAqB;AACjBkB,wBAAgBvH,KAAKqG,UAArB;AACH;AACD,QAAIrG,KAAKra,KAAT,EAAgB;AACZ6hB,mBAAWxH,KAAKra,KAAhB;AACH;AACD,QAAIqa,KAAKwG,QAAT,EAAmB;AACfiB,sBAAczH,KAAKwG,QAAnB;AACH;AACD,QAAIxG,KAAKra,KAAT,EAAgB;AACZ+hB,iCAAyB1H,KAAKra,KAA9B;AACH;;AAED,aAAS2hB,eAAT,CAAyBp1C,MAAzB,EAAiC;;AAE7Bg1C,iBAAS;AACL;AACA,gDAFK,EAGL,mBAHK,EAIL,qBAJK,CAAT,EAKG,OALH,EAKYh1C,OAAO8gB,IALnB;;AAOA,YAAI9gB,OAAOqf,KAAX,EAAkB;AACd21B,qBAAS;AACL;AACA,iDAFK,EAGL,sDAHK,CAAT,EAIG,OAJH,EAIYh1C,OAAOqf,KAJnB;;AAMA21B,qBAAS,CACL,6CADK,CAAT,EAEG,OAFH,EAEYh1C,OAAOqf,KAFnB;;AAIA;AACA;AACA,gCAAQ01B,QAAR,+DAA0E/0C,OAAOqf,KAAjF,QAA2F01B,QAA3F;AACH;AACD,YAAI/0C,OAAOy0C,WAAX,EAAwB;AACpBO,qBAAS,CACL,mDADK,EAEL,mDAFK,CAAT,EAGG,OAHH,EAGYh1C,OAAOy0C,WAHnB;;AAKA;AACAO,qBAAS;AACL;AACA,2DAFK,EAGL,2CAHK,EAIL,2CAJK,EAKL,4DALK,CAAT,EAMG,OANH,EAMYh1C,OAAOy0C,WANnB;;AAQAO,qBAAS,CACL,qBADK,CAAT,EAEG,MAFH,EAEWh1C,OAAOqf,KAFlB;;AAIA;AACA;AACA,gCAAQ01B,QAAR,qEAAgF/0C,OAAOy0C,WAAvF,QAAuGM,QAAvG;AACA,gCAAQA,QAAR,qEAAgF/0C,OAAOy0C,WAAvF,QAAuGM,QAAvG;AACA,gCAAQA,QAAR,qEAAgF/0C,OAAOy0C,WAAvF,QAAuGM,QAAvG;;AAEA,gCAAQA,QAAR,qDAAgE/0C,OAAOy0C,WAAvE,QAAuFM,QAAvF;AACA,gCAAQA,QAAR,2DAAsE/0C,OAAOy0C,WAA7E,QAA6FM,QAA7F;AACA,gCAAQA,QAAR,2DAAsE/0C,OAAOy0C,WAA7E,QAA6FM,QAA7F;AACA,gCAAQA,QAAR,2DAAsE/0C,OAAOy0C,WAA7E,QAA6FM,QAA7F;AACH;;AAED;AACAC,iBAAS,CACL,sBADK,EAEL,qCAFK,EAGL,sCAHK,CAAT,EAIG,YAJH,EAIiBh1C,OAAOunB,UAJxB,EAIoC,IAJpC;AAKH;;AAED,aAAS8tB,eAAT,CAAyBr1C,MAAzB,EAAiC;;AAE7Bg1C,iBAAS,CACL,cADK,EAEL,UAFK,CAAT,EAGG,kBAHH,EAGuBh1C,OAAO6P,QAH9B;;AAKAmlC,iBAAS,CACL,YADK,CAAT,EAEG,kBAFH,EAEuB,kBAAQh1C,OAAO6P,QAAf,EAAyB,EAAzB,CAFvB;;AAIAmlC,iBAAS,CACL,UADK,CAAT,EAEG,kBAFH,EAEuBh1C,OAAO20C,IAF9B;;AAIAK,iBAAS,CACL,qCADK,EAEL,yBAFK,CAAT,EAGG,kBAHH,EAGuBh1C,OAAOunB,UAH9B;AAIH;;AAED,aAAS+tB,UAAT,CAAoBt1C,MAApB,EAA4B;;AAExBg1C,iBAAS,CACL,YADK,EAEL,mBAFK,EAGL,wBAHK,EAIL,oBAJK,EAKL,kBALK,EAML,2BANK,EAOL,mBAPK,CAAT,EAQG,OARH,EAQYh1C,OAAO8gB,IARnB;;AAUAk0B,iBAAS,CACL,6BADK,EAEL,yCAFK,EAGL,yCAHK,EAIL,0BAJK,EAKL,iCALK,EAML,iCANK,EAOL,0BAPK,EAQL,0BARK,EASL,wBATK,CAAT,EAUG,OAVH,EAUYh1C,OAAO60C,UAVnB;;AAYAG,iBAAS,CACL,YADK,EAEL,mBAFK,CAAT,EAGG,YAHH,EAGiBh1C,OAAOunB,UAHxB;AAIH;;AAED,aAASguB,aAAT,CAAuBv1C,MAAvB,EAA+B;;AAE3Bg1C,iBAAS,CACL,UADK,EAEL,sBAFK,EAGL,uBAHK,CAAT,EAIG,kBAJH,EAIuBh1C,OAAOunB,UAJ9B;;AAMAytB,iBAAS,CACL,cADK,EAEL,aAFK,CAAT,EAGG,OAHH,EAGYh1C,OAAOunB,UAHnB;;AAKAytB,iBAAS,CACL,UADK,CAAT,EAEG,QAFH,EAEa,MAFb;;AAIAA,iBAAS,CACL,mBADK,EAEL,mBAFK,EAGL,uBAHK,EAIL,sBAJK,CAAT,EAKG,OALH,EAKYh1C,OAAO8gB,IALnB;AAMH;;AAED;AACA;AACA,aAAS00B,wBAAT,CAAkCx1C,MAAlC,EAA0C;AACtC,YAAIA,OAAO60C,UAAX,EAAuB;AACnB,gBAAMY,iBAAiB;AACnBC,uBAAO11C,OAAO60C,UADK;AAEnBc,6BAAa31C,OAAO60C,UAFD;AAGnBe,wBAAQ51C,OAAO60C;AAHI,aAAvB;AAKA,gCAAQE,QAAR,wBAAqCU,cAArC,EAAqDV,QAArD;AACA,gCAAQA,QAAR,oCAAiDU,cAAjD,EAAiEV,QAAjE;AACH;AACD,YAAI/0C,OAAO8gB,IAAX,EAAiB;AACb,gBAAM+0B,mBAAmB;AACrBH,uBAAO11C,OAAO8gB,IADO;AAErB60B,6BAAa31C,OAAO8gB,IAFC;AAGrB80B,wBAAQ51C,OAAO8gB;AAHM,aAAzB;AAKA,gCAAQi0B,QAAR,0BAAuCc,gBAAvC,EAAyDd,QAAzD;AACA,gCAAQA,QAAR,sCAAmDc,gBAAnD,EAAqEd,QAArE;AACH;AACJ;AACJ,C;;;;;;;;;;;;;;;;;;kBC5Qc,UAASe,cAAT,EAAyBC,eAAzB,EAA0CC,cAA1C,EAA0D;AACrE,QAAMnG,qBAAoBiG,eAAejG,iBAAf,IACtBiG,eAAeG,uBADO,IAEtBH,eAAeI,uBAFO,IAGtBJ,eAAeK,oBAHO,IAItBL,eAAeM,mBAJnB;;AAMA,QAAMl9B,kBAAiB68B,gBAAgB78B,cAAhB,IACnB68B,gBAAgB58B,oBADG,IAEnB48B,gBAAgBM,sBAFG,IAGnBN,gBAAgBO,mBAHG,IAInBP,gBAAgBQ,gBAJpB;;AAMA,QAAM3G,yBAAwB,CAAC,EAAEC,sBAAqB32B,eAAvB,CAA/B;;AAEA,SAAK,IAAI/D,IAAIqhC,2BAA2Bj5C,MAAxC,EAAgD4X,GAAhD,GAAsD;AAClD4gC,wBAAgBh4C,gBAAhB,CAAiCy4C,2BAA2BrhC,CAA3B,CAAjC,EAAgE6gC,cAAhE;AACH;;AAED,WAAO;AACHS,gBAAQD,0BADL;AAEH5G,+BAAuB,iCAAW;AAC9B,mBAAOA,sBAAP;AACH,SAJE;AAKHC,2BAAmB,6BAAW;AAC1BA,+BAAkBphC,KAAlB,CAAwBqnC,cAAxB;AACH,SAPE;AAQH58B,wBAAgB,0BAAW;AACvBA,4BAAezK,KAAf,CAAqBsnC,eAArB;AACH,SAVE;AAWHzF,2BAAmB,6BAAW;AAC1B,mBAAOyF,gBAAgBzF,iBAAhB,IACHyF,gBAAgBW,8BADb,IAEHX,gBAAgBY,oBAFb,IAGHZ,gBAAgBa,mBAHpB;AAIH,SAhBE;AAiBHx8C,iBAAS,mBAAW;AAChB,iBAAK,IAAI+a,KAAIqhC,2BAA2Bj5C,MAAxC,EAAgD4X,IAAhD,GAAsD;AAClD4gC,gCAAgBj3C,mBAAhB,CAAoC03C,2BAA2BrhC,EAA3B,CAApC,EAAmE6gC,cAAnE;AACH;AACJ;AArBE,KAAP;AAuBH,C;;AAjDD,IAAMQ,6BAA6B,CAC/B,kBAD+B,EAE/B,wBAF+B,EAG/B,qBAH+B,EAI/B,oBAJ+B,CAAnC,C;;;;;;;;;;;;;;;;;;kBCGe,UAAUV,cAAV,EAA0B;AACrC,QAAIe,kBAAkB,KAAtB;;AAEA,QAAMC,SAAS,SAATA,MAAS,GAAY;AACvBD,0BAAkB,KAAlB;AACA,8BAAYf,cAAZ,EAA4B,aAA5B;AACH,KAHD;;AAKA,QAAMiB,cAAc,SAAdA,WAAc,GAAY;AAC5BF,0BAAkB,IAAlB;AACA,2BAASf,cAAT,EAAyB,aAAzB;AACH,KAHD;;AAKA,QAAM1R,UAAU,SAAVA,OAAU,GAAY;AACxB,YAAI,CAACyS,eAAL,EAAsB;AAClBC;AACH;AACJ,KAJD;;AAMAhB,mBAAe/3C,gBAAf,CAAgC,OAAhC,EAAyCqmC,OAAzC;AACA0R,mBAAe/3C,gBAAf,CAAgC,MAAhC,EAAwC+4C,MAAxC;AACAhB,mBAAe/3C,gBAAf,CAAgC,WAAhC,EAA6Cg5C,WAA7C;;AAEA,WAAO;AACH38C,iBAAS,mBAAW;AAChB07C,2BAAeh3C,mBAAf,CAAmC,OAAnC,EAA4CslC,OAA5C;AACA0R,2BAAeh3C,mBAAf,CAAmC,MAAnC,EAA2Cg4C,MAA3C;AACAhB,2BAAeh3C,mBAAf,CAAmC,WAAnC,EAAgDi4C,WAAhD;AACH;AALE,KAAP;AAOH,C;;AAjCD,oD;;;;;;;;;;;;;;;;;;;;;;ACAA;;AACA;;;;AACA;;;;;;;;IAEqBC,Y;AACjB,0BAAY59C,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AACxB,iBAAc,IAAd;;AAEA,aAAKwuC,4BAAL;AACA,aAAKoP,UAAL,GAAkB59C,OAAlB;AACA,aAAKD,KAAL,GAAaA,KAAb;;AAEA,aAAKqR,EAAL,GAAU,iBAAOpR,OAAP,EAAgB,EAAEulB,iBAAiB,IAAnB,EAAyB1B,SAAS,IAAlC,EAAhB,EAA0DtjB,EAA1D,CAA6D;AACnE,yBAAa,KAAK2sC,YADiD;AAEnE,qCAAyB,gCAAW;AAChC,oBAAI,KAAK2Q,2BAAT,EAAsC;AAClC,yBAAKA,2BAAL;AACA;AACH;AACD,qBAAKr9C,OAAL,CAAa,aAAb;AACH;AARkE,SAA7D,EASP,IATO,CAAV;AAUH;;;;kCAES;AACN,gBAAI,KAAK4Q,EAAT,EAAa;AACT,qBAAKA,EAAL,CAAQrQ,OAAR;AACA,qBAAKqQ,EAAL,GAAU,KAAKwsC,UAAL,GAAkB,KAAK79C,KAAL,GAAa,IAAzC;AACA,qBAAKyuC,4BAAL;AACH;AACJ;;;qCAEYntC,G,EAAK;AACd,gBAAI,KAAKtB,KAAL,CAAWK,GAAX,CAAe,cAAf,CAAJ,EAAoC;AAChC;AACH;AACD,gBAAI,KAAK09C,qBAAT,EAAgC;AAC5B,qBAAKA,qBAAL,CAA2Bz8C,GAA3B;AACA;AACH;AACD,iBAAKb,OAAL,CAAca,IAAIK,IAAJ,kBAAD,GAAuB,OAAvB,GAAiC,KAA9C;AACH;;;kCAES;AACN,mBAAO,KAAKk8C,UAAZ;AACH;;;kDAEyB1Q,Y,EAAc6Q,kB,EAAoB;AACxD,iBAAKD,qBAAL,GAA6B5Q,YAA7B;AACA,iBAAK2Q,2BAAL,GAAmCE,sBAAsB,IAAzD;AACH;;;uDAE8B;AAC3B,iBAAKD,qBAAL,GAA6B,IAA7B;AACA,iBAAKD,2BAAL,GAAmC,IAAnC;AACH;;;;;;kBAnDgBF,Y;;;;;;;;;;;;;;;;;;;;ACJrB;;AACA;;AACA;;;;AACA;;AACA;;AACA;;AACA;;;;;;AAGA,IAAIK,gBAAJ;;AAEA,IAAMC,YAAY;AACdC,UAAM,IADQ;AAEdC,uBAAmB,EAFL;AAGdC,eAAW,IAHG;AAIdC,cAAU,EAJI;AAKdC,iBAAa,GALC;AAMdC,eAAW,IANG,EAMG;AACjBC,kBAAc,qBAAEC,QAPF;AAQdC,mBAAe;AARD,CAAlB;;AAWA;;;;;AAKA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAAUz2C,SAAV,EAAqB;AAAA;;AAE1C,QAAM/F,SAAS+F,UAAUk7B,MAAzB;;AAEA,QAAIiJ,iBAAJ;AACA,QAAIuS,uBAAJ;AACA,QAAIC,qBAAJ;AACA,QAAIC,mBAAJ;AACA,QAAIC,iBAAJ;AACA,QAAIC,wBAAJ;AACA,QAAIC,uBAAJ;AACA,QAAIC,mBAAJ;AACA,QAAIC,qBAAJ;;AAEAJ,eAAW75C,SAASjF,aAAT,CAAuB,KAAvB,CAAX;AACA8+C,aAAS7+C,SAAT,GAAqB,sBAArB;;AAEA,SAAKoC,IAAL,GAAY,YAAY;AACpB,2BAASy8C,QAAT,EAAmB,qBAAnB;AACH,KAFD;;AAIA,SAAK/4C,IAAL,GAAY,YAAY;AACpB,8BAAY+4C,QAAZ,EAAsB,qBAAtB;AACH,KAFD;;AAIA;AACA,SAAKK,QAAL,GAAgB,UAAUC,QAAV,EAAoB;AAChC,YAAIl9C,OAAO/B,GAAP,CAAW,wBAAX,CAAJ,EAA0C;AACtC;AACH;;AAEDy+C,uBAAe,EAAf;AACAD,yBAAiBS,QAAjB;AACA,YAAI,CAACA,QAAL,EAAe;AACX,iBAAKvJ,UAAL;AACA;AACH;AACD,aAAKwJ,UAAL,CAAgBD,QAAhB,EAA0BP,UAA1B;AACH,KAZD;;AAcA,SAAKzqC,MAAL,GAAc,YAAY;AACtBkrC;AACA,aAAKzJ,UAAL,CAAgB,IAAhB;AACH,KAHD;;AAKA,SAAKA,UAAL,GAAkB,UAAU0J,iBAAV,EAA6B;AAC3CA,4BAAoB,CAAC,CAACA,iBAAtB;AACA,YAAIxB,OAAJ,EAAa;AACTA,oBAAQyB,WAAR,CAAoBxzC,MAApB,EAA4B4yC,YAA5B,EAA0CE,QAA1C,EAAoDS,iBAApD;AACH;AACJ,KALD;;AAOA,SAAKF,UAAL,GAAkB,UAAUl2C,KAAV,EAAiBs2C,SAAjB,EAA4B;AAC1C,YAAI,CAACt2C,KAAD,IAAU,CAACA,MAAMnI,IAAjB,IAAyB,CAACy+C,SAA1B,IAAuCv9C,OAAO/B,GAAP,CAAW,wBAAX,CAA3C,EAAiF;AAC7E;AACH;;AAED,YAAMuO,MAAM,KAAKgxC,oBAAL,CAA0Bv2C,KAA1B,EAAiCs2C,SAAjC,CAAZ;AACA,YAAI/wC,QAAQ,KAAZ,EAAmB;AACf;AACH;;AAED,YAAMiG,OAAO,KAAKgrC,cAAL,CAAoBx2C,MAAMnI,IAA1B,EAAgC0N,GAAhC,CAAb;;AAEA,aAAKkxC,iBAAL,CAAuBjrC,IAAvB;AACA,aAAKkhC,UAAL,CAAgB,IAAhB;AACH,KAdD;;AAgBA,SAAK8J,cAAL,GAAsB,UAAUE,OAAV,EAAmBnxC,GAAnB,EAAwB;AAC1C,eAAO,qBAAEyF,MAAF,CAAS0rC,OAAT,EAAkB,UAAUttB,GAAV,EAAe;AACpC,mBAAO7jB,OAAQ6jB,IAAI9kB,SAAZ,KAA2B,CAAC8kB,IAAIsC,OAAL,IAAgBnmB,OAAO6jB,IAAIsC,OAAtD,CAAP;AACH,SAFM,CAAP;AAGH,KAJD;;AAMA,SAAK+qB,iBAAL,GAAyB,UAAUjrC,IAAV,EAAgB;AACrC;AACA,YAAI,CAACA,KAAK1Q,MAAV,EAAkB;AACd26C,2BAAe,EAAf;AACH,SAFD,MAEO,IAAI,qBAAEkB,UAAF,CAAanrC,IAAb,EAAmBiqC,YAAnB,EAAiC36C,MAArC,EAA6C;AAChD,+BAAS86C,eAAT,EAA0B,2BAA1B;AACAH,2BAAejqC,IAAf;AACH;;AAED,eAAOiqC,YAAP;AACH,KAVD;;AAYA,SAAKc,oBAAL,GAA4B,UAAUv2C,KAAV,EAAiBs2C,SAAjB,EAA4B;AACpD,YAAM9iC,SAASxT,MAAMwT,MAArB;AACA,YAAMpF,WAAWkoC,UAAUloC,QAA3B;;AAEA;AACA,YAAIoF,MAAJ,EAAY;AACR,gBAAIpF,YAAY,qBAAE6R,QAAF,CAAW7R,SAASoF,MAAT,CAAX,CAAhB,EAA8C;AAC1C,uBAAOpF,SAASoF,MAAT,CAAP;AACH;AACD;AACH,SALD,MAKO,IAAI8iC,UAAUn2C,QAAV,GAAqB,CAAzB,EAA4B;AAC/B;AACA,mBAAOm2C,UAAU78C,QAAV,GAAqB68C,UAAUn2C,QAAtC;AACH;;AAED;AACA,eAAOm2C,UAAU78C,QAAjB;AACH,KAjBD;;AAmBA,SAAKw1C,KAAL,GAAa,YAAY;AACrB,wBAAM0G,QAAN;AACH,KAFD;;AAIA;;;;;;AAMA,SAAK/9C,KAAL,GAAa,UAAUg/C,eAAV,EAA2Bt9B,OAA3B,EAAoC;AAC7Cs8B,0BAAkB95C,SAASjF,aAAT,CAAuB,KAAvB,CAAlB;AACAg/C,yBAAiB/5C,SAASjF,aAAT,CAAuB,MAAvB,CAAjB;AACA++C,wBAAgB9+C,SAAhB,GAA4B,6BAA5B;AACA++C,uBAAe/+C,SAAf,GAA2B,2BAA3B;;AAEAmsC,mBAAW,SAAc,EAAd,EAAkB4R,SAAlB,EAA6Bv7B,OAA7B,CAAX;;AAEAw8B,qBAAajB,UAAUM,SAAvB;AACA0B,sBAAc5T,SAASgS,QAAvB;;AAEA,YAAM6B,cAAc7T,SAAS6T,WAA7B;AACA,YAAMxB,gBAAgBrS,SAASqS,aAA/B;AACA,YAAMN,YAAY/R,SAAS+R,SAA3B;AACAe,uBAAe,EAAf;AACA,YAAMgB,YAAY,EAAlB;;AAEAC,sBAAcD,SAAd,EAAyB9T,QAAzB;;AAEA,YAAI6T,eAAexB,kBAAkBT,UAAUS,aAA/C,EAA8D;AAC1DS,yBAAakB,eAAb,GAA+B,kBAAQH,eAAe,SAAvB,EAAkCxB,aAAlC,CAA/B;AACH;;AAED4B,sBAAclC,SAAd,EAAyB+B,SAAzB,EAAoC9T,SAASiS,WAA7C;;AAEA,YAAI,CAACjS,SAAS6R,IAAV,IAAkBE,cAAc,IAApC,EAA0C;AACtCkC,0BAAc,SAAd,EAAyBH,SAAzB;AACH;;AAED,wBAAMnB,eAAN,EAAuBG,YAAvB;AACA,wBAAMF,cAAN,EAAsBkB,SAAtB;AACAI,4BAAoBP,eAApB,EAAqCG,SAArC;;AAEAnB,wBAAgB9gD,WAAhB,CAA4B+gD,cAA5B;AACAF,iBAAS7gD,WAAT,CAAqB8gD,eAArB;;AAEA78C,eAAOvB,MAAP,CAAc,eAAd,EAA+B,UAAUb,KAAV,EAAiBygD,aAAjB,EAAgC;AAC3D,iBAAKpB,QAAL,CAAcoB,aAAd;AACH,SAFD,EAEG,IAFH;;AAIAr+C,eAAO2D,GAAP,CAAW,UAAX,EAAuBumC,QAAvB;AACH,KAzCD;;AA2CA,SAAKrsC,OAAL,GAAe,YAAY;AACvB,eAAO++C,QAAP;AACH,KAFD;;AAIA,SAAKh+C,OAAL,GAAe,YAAW;AACtBoB,eAAOiD,GAAP,CAAW,IAAX,EAAiB,IAAjB,EAAuB,IAAvB;AACA,aAAKA,GAAL;AACH,KAHD;;AAKA,aAAS66C,aAAT,GAAyB;AACrB,YAAI,CAAC,qBAAEQ,QAAF,CAAWpU,SAASgS,QAApB,CAAL,EAAoC;AAChC;AACH;;AAED,YAAM5mC,SAAStV,OAAO/B,GAAP,CAAW,iBAAX,CAAf;;AAEA,YAAI,CAACqX,MAAL,EAAa;AACTtV,mBAAOK,IAAP,CAAY,wBAAZ,EAAsCy9C,aAAtC,EAAqD,IAArD;AACA;AACH;;AAED;AACAf,qBAAajB,UAAUM,SAAV,GAAsBlS,SAASgS,QAA/B,GAA0CJ,UAAUI,QAAjE;AACH;;AAED,aAASkB,YAAT,GAAwB;AACpB,YAAM9nC,SAAStV,OAAO/B,GAAP,CAAW,iBAAX,CAAf;;AAEA,YAAI,CAACqX,MAAL,EAAa;AACT;AACH;;AAED,YAAM4mC,WAAWv7C,KAAKuI,KAAL,CAAWoM,SAASynC,UAApB,CAAjB;;AAEA,YAAI/8C,OAAO/B,GAAP,CAAW,wBAAX,CAAJ,EAA0C;AACtCsgD,kCAAsBv+C,OAAO/B,GAAP,CAAW,IAAX,CAAtB,EAAwCi+C,QAAxC;AACH,SAFD,MAEO;AACH,4BAAMU,QAAN,EAAgB;AACZV,0BAAUA,WAAW;AADT,aAAhB;AAGH;AACJ;;AAED,aAASkC,mBAAT,CAA6B7E,QAA7B,EAAuCyE,SAAvC,EAAkD;AAC9CZ;AACAoB,6BAAqBjF,QAArB,EAA+ByE,SAA/B;AACAS,6BAAqBlF,QAArB,EAA+ByE,SAA/B;AACH;;AAED,aAASS,oBAAT,CAA8BlF,QAA9B,EAAwCyE,SAAxC,EAAmD;AAC/C;AACA,sBAAI,MAAMzE,QAAN,GAAiB,yBAArB,EAAgDyD,YAAhD,EAA8DzD,QAA9D;AACA,sBAAI,MAAMA,QAAN,GAAiB,qBAArB,EAA4CyE,SAA5C,EAAuDzE,QAAvD;AACH;;AAED,aAASiF,oBAAT,CAA8BjF,QAA9B,EAAwCyE,SAAxC,EAAmD;AAC/C,YAAI,qBAAQ9pC,MAAZ,EAAoB;AAChB;AACA,0BAAI,MAAMqlC,QAAN,GAAiB,uDAArB,EAA8E;AAC1E2E,iCAAiBF,UAAUE;AAD+C,aAA9E,EAEG3E,QAFH,EAEa,IAFb;AAGH;;AAED,sBAAI,MAAMA,QAAN,GAAiB,8CAArB,EAAqEyD,YAArE,EAAmFzD,QAAnF,EAA6F,IAA7F;AACA,sBAAI,MAAMA,QAAN,GAAiB,iBAArB,EAAwCyE,SAAxC,EAAmDzE,QAAnD,EAA6D,IAA7D;AACH;;AAED,aAASgF,qBAAT,CAA+BhF,QAA/B,EAAyC2C,QAAzC,EAAmD;AAC/C;AACAc,qBAAad,QAAb,GAAwBA,WAAW,IAAnC;AACA,sBAAI,MAAM3C,QAAN,GAAiB,8CAArB,EAAqEyD,YAArE,EAAmFzD,QAAnF,EAA6F,IAA7F;AACH;;AAED,aAAS0E,aAAT,CAAuBD,SAAvB,EAAkCz9B,OAAlC,EAA2C;AACvC,YAAM25B,QAAQ35B,QAAQ25B,KAAtB;AACA,YAAMiC,cAAc57B,QAAQ47B,WAA5B;AACA,YAAIjC,SAASiC,gBAAgBL,UAAUK,WAAvC,EAAoD;AAChD6B,sBAAU9D,KAAV,GAAkB,kBAAQA,SAAS,SAAjB,EAA4BiC,WAA5B,CAAlB;AACH;;AAED,YAAI57B,QAAQw7B,IAAZ,EAAkB;AACd,gBAAM2C,UAAUn+B,QAAQ29B,eAAxB;AACA,gBAAMS,YAAYp+B,QAAQy7B,iBAA1B;AACA,gBAAI0C,YAAY5C,UAAUoC,eAAtB,IAAyCS,cAAc7C,UAAUE,iBAArE,EAAwF;AACpFgC,0BAAUE,eAAV,GAA4B,kBAAQQ,OAAR,EAAiBC,SAAjB,CAA5B;AACH;AACJ,SAND,MAMO;AACHX,sBAAUjyB,UAAV,GAAuB,aAAvB;AACH;;AAED,YAAIxL,QAAQq+B,UAAZ,EAAwB;AACpBZ,sBAAUY,UAAV,GAAuBr+B,QAAQq+B,UAA/B;AACH;;AAED,YAAIr+B,QAAQs+B,SAAZ,EAAuB;AACnBb,sBAAUa,SAAV,GAAsBt+B,QAAQs+B,SAA9B;AACH;;AAED,YAAIt+B,QAAQu+B,UAAZ,EAAwB;AACpBd,sBAAUc,UAAV,GAAuBv+B,QAAQu+B,UAA/B;AACH;;AAED,YAAIv+B,QAAQw+B,cAAZ,EAA4B;AACxBf,sBAAUe,cAAV,GAA2Bx+B,QAAQw+B,cAAnC;AACH;AACJ;;AAED,aAASZ,aAAT,CAAuBa,MAAvB,EAA+B7iC,MAA/B,EAAuCggC,WAAvC,EAAoD;AAChD,YAAMjC,QAAQ,kBAAQ,SAAR,EAAmBiC,WAAnB,CAAd;AACA,YAAI6C,WAAW,YAAf,EAA6B;AAAE;AAC3B7iC,mBAAO8iC,UAAP,GAAoB,eAAe/E,KAAnC;AACH,SAFD,MAEO,IAAI8E,WAAW,QAAf,EAAyB;AAAE;AAC9B7iC,mBAAO8iC,UAAP,GAAoB,aAAa/E,KAAb,GAAqB,cAArB,GAAsCA,KAAtC,GAA8C,cAA9C,GAA+DA,KAAnF;AACH,SAFM,MAEA,IAAI8E,WAAW,WAAf,EAA4B;AAAE;AACjC7iC,mBAAO8iC,UAAP,GAAoB,gBAAgB/E,KAApC;AACH,SAFM,MAEA,IAAI8E,WAAW,SAAf,EAA0B;AAAE;AAC/B7iC,mBAAO8iC,UAAP,GAAoB,gBAAgB/E,KAAhB,GAAwB,aAAxB,GAAwCA,KAAxC,GAChB,cADgB,GACCA,KADD,GACS,aADT,GACyBA,KADzB,GACiC,gBADjC,GAEhBA,KAFgB,GAER,eAFQ,GAEUA,KAFV,GAEkB,gBAFlB,GAEqCA,KAFrC,GAGhB,eAHgB,GAGEA,KAHtB;AAIH;AACJ;;AAED,QAAMgF,cAAc,SAAdA,WAAc,CAAC/vC,CAAD,EAAO;AACvBwtC,qBAAaxtC,CAAb;AACA,cAAKguC,UAAL,CAAgBV,cAAhB,EAAgCE,UAAhC;AACH,KAHD;;AAKA,aAASwC,oBAAT,CAA8BvhD,KAA9B,EAAqCgE,YAArC,EAAmD;AAAA;;AAC/C,YAAIA,aAAaG,MAAb,KAAwB,CAA5B,EAA+B;AAC3B;AACA;AACH;;AAED;AACA,YAAI,CAACnE,MAAMK,GAAN,CAAU,wBAAV,CAAD,IAAwC,CAAC49C,OAA7C,EAAsD;AAClDuD,iCAAqB/0C,KAArB,CAA2B,UAACC,KAAD,EAAW;AAClC,uBAAKjM,OAAL,gBAAoB;AAChBiI,6BAAS,kCADO;AAEhBrK,4BAAQqO;AAFQ,iBAApB;AAIH,aALD;AAMA1M,kBAAMqF,GAAN,CAAU,qBAAV,EAAiCk8C,oBAAjC,EAAuD,IAAvD;AACH;AACJ;;AAED,aAASC,kBAAT,GAA8B;AAC1B,eAAO,0EAAqC,UAAUhkD,OAAV,EAAmB;AAC3DygD,sBAAU,mBAAAzgD,CAAQ,0BAAR,EAA4B4e,OAAtC;AACH,SAFM,2EAAP;AAGH;;AAEDha,WAAO5B,EAAP,CAAU,qBAAV,EAAiC,YAAY;AACzCu+C,qBAAa,IAAb;AACAD,uBAAe,EAAf;AACH,KAHD,EAGG,IAHH;;AAKA18C,WAAO5B,EAAP,qBAAsB,UAAU+Q,CAAV,EAAa;AAC/ButC,uBAAe,EAAf;AACAwC,oBAAY/vC,CAAZ;AACH,KAHD,EAGG,IAHH;;AAKAnP,WAAO5B,EAAP,qBAAsB8gD,WAAtB,EAAmC,IAAnC;;AAEAl/C,WAAO5B,EAAP,CAAU,oBAAV,EAAgC,YAAY;AACxC;AACA,aAAK++C,UAAL,CAAgBV,cAAhB,EAAgCE,UAAhC;AACH,KAHD,EAGG,IAHH;;AAKA38C,WAAO5B,EAAP,CAAU,qBAAV,EAAiC+gD,oBAAjC,EAAuD,IAAvD;AACH,CAxUD;;AA0UA,SAAc3C,iBAAiBj4C,SAA/B;;kBAEei4C,gB;;;;;;;;;;;;;;;;;;;;kBCzVS6C,I;;AAdxB;;;;AACA;;AACA;;;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMC,eAAe;AACjBpL,gBAAY,QADK;AAEjBj3B,YAAQ,CAFS;AAGjBpZ,UAAM,KAHW;AAIjBnD,cAAU;AAJO,CAArB;;AAOe,SAAS2+C,IAAT,CAAcr/C,MAAd,EAAsB;AACjC,aAAc,IAAd;;AAEA,QAAIswC,KAAJ;AACA,QAAIiP,SAAJ;AACA,QAAMC,OAAO,IAAIlgB,KAAJ,EAAb;;AAEA,SAAKzgC,KAAL,GAAa,YAAW;AACpB0gD,oBAAY,SAAc,EAAd,EAAkBD,YAAlB,EAAgCt/C,OAAO/B,GAAP,CAAW,MAAX,CAAhC,CAAZ;AACAshD,kBAAU7+C,QAAV,GAAqB6+C,UAAU7+C,QAAV,IAAsB4+C,aAAa5+C,QAAxD;AACA6+C,kBAAU17C,IAAV,GAAkB07C,UAAU17C,IAAV,CAAek6B,QAAf,OAA8B,MAAhD;;AAEA;AACA;AACA;AACA,YAAI,CAACwhB,UAAUllC,IAAX,IAAmBklC,UAAU7+C,QAAV,KAAuB,aAA9C,EAA6D;AACzD;AACH;;AAED,YAAI,CAAC4vC,KAAL,EAAY;AACRA,oBAAQ,wBAAc,oBAAaiP,UAAU7+C,QAAvB,EAAiC6+C,UAAU17C,IAA3C,CAAd,CAAR;AACH;;AAED7D,eAAO2D,GAAP,CAAW,MAAX,EAAmB47C,SAAnB;;AAEA;AACAC,aAAKvvB,MAAL,GAAc,YAAY;AACtB;AACA,gBAAI3a,SAAS,KAAKA,MAAlB;AACA,gBAAIE,QAAQ,KAAKA,KAAjB;AACA,gBAAM2G,SAAS;AACX6e,iCAAiB,UAAU,KAAK7gB,GAAf,GAAqB;AAD3B,aAAf;AAGA,gBAAIolC,UAAUtiC,MAAV,KAAqBqiC,aAAariC,MAAtC,EAA8C;AAC1C,oBAAMwiC,YAAa,aAAD,CAAgBpgB,IAAhB,CAAqBkgB,UAAU7+C,QAA/B,CAAlB;AACA,oBAAI++C,UAAU19C,MAAV,KAAqB,CAAzB,EAA4B;AACxBoa,2BAAO,YAAYsjC,UAAU,CAAV,CAAnB,IAAmCF,UAAUtiC,MAA7C;AACAd,2BAAO,YAAYsjC,UAAU,CAAV,CAAnB,IAAmCF,UAAUtiC,MAA7C;AACH;AACJ;;AAED;AACA,gBAAMyiC,YAAY1/C,OAAO/B,GAAP,CAAW,iBAAX,IAAgC,IAAlD;AACA,gBAAM0hD,WAAW3/C,OAAO/B,GAAP,CAAW,gBAAX,IAA+B,IAAhD;;AAEA,gBAAIqX,SAASoqC,SAAT,IAAsBlqC,QAAQmqC,QAAlC,EAA4C;AACxC,oBAAMC,SAASpqC,QAAQF,MAAvB;AACA,oBAAMuqC,UAAUF,WAAWD,SAA3B;;AAEA,oBAAIG,UAAUD,MAAd,EAAsB;AAClB;AACAtqC,6BAASoqC,SAAT;AACAlqC,4BAAQkqC,YAAYE,MAApB;AACH,iBAJD,MAIO;AACH;AACApqC,4BAAQmqC,QAAR;AACArqC,6BAASqqC,WAAWC,MAApB;AACH;AACJ;;AAEDzjC,mBAAO3G,KAAP,GAAe7U,KAAKuI,KAAL,CAAWsM,KAAX,CAAf;AACA2G,mBAAO7G,MAAP,GAAgB3U,KAAKuI,KAAL,CAAWoM,MAAX,CAAhB;;AAEA,4BAAMg7B,KAAN,EAAan0B,MAAb;;AAEA;AACAnc,mBAAO2D,GAAP,CAAW,WAAX,EAAwBwY,OAAO3G,KAA/B;AACH,SAzCD;;AA2CAgqC,aAAKrlC,GAAL,GAAWolC,UAAUllC,IAArB;;AAEA,YAAMylC,sBAAsB,iBAAOxP,KAAP,CAA5B;;AAEA,YAAIiP,UAAUvlB,IAAd,EAAoB;AAChBsW,kBAAMn1B,YAAN,CAAmB,UAAnB,EAA+B,GAA/B;AACAm1B,kBAAMn1B,YAAN,CAAmB,YAAnB,EAAiC,MAAjC;AACH;;AAED2kC,4BAAoB1hD,EAApB,CAAuB,iBAAvB,EAA0C,UAAUc,GAAV,EAAe;AACrD,gBAAIA,OAAOA,IAAI2gB,eAAf,EAAgC;AAC5B3gB,oBAAI2gB,eAAJ;AACH;;AAED,iBAAKxhB,OAAL,qBAAyB;AACrB27B,sBAAMulB,UAAUvlB,IADK;AAErBka,4BAAYqL,UAAUrL;AAFD,aAAzB;AAKH,SAVD,EAUG,IAVH;AAWH,KAlFD;;AAoFA,SAAK9F,YAAL,GAAoB,UAASpyB,SAAT,EAAoB;AACpC,YAAIs0B,KAAJ,EAAW;AACPt0B,sBAAUjgB,WAAV,CAAsBu0C,KAAtB;AACH;AACJ,KAJD;;AAMA,SAAKzyC,OAAL,GAAe,YAAW;AACtB,eAAOyyC,KAAP;AACH,KAFD;;AAIA,SAAK5vC,QAAL,GAAgB,YAAW;AACvB,eAAO6+C,UAAU7+C,QAAjB;AACH,KAFD;;AAIA,SAAK9B,OAAL,GAAe,YAAW;AACtB4gD,aAAKvvB,MAAL,GAAc,IAAd;AACH,KAFD;AAGH,C;;;;;;;;;;;;;;;;;;kBC1Hc,UAACvvB,QAAD,EAAWmD,IAAX,EAAoB;AAC/B,QAAMk8C,SAASl8C,OAAO,UAAP,GAAoB,EAAnC;AACA,4CAAsCnD,QAAtC,GAAiDq/C,MAAjD;AACH,C;;;;;;;;;;;;;;;;;;;;ACHD;;AAEA,IAAMC,UAAU,SAAVA,OAAU,CAAShgD,MAAT,EAAiB;AAC7B,SAAKpC,KAAL,GAAaoC,MAAb;AACA,SAAKu/B,KAAL,GAAa,IAAb;AACH,CAHD;;AAKA,SAAS0gB,UAAT,CAAoB9gD,KAApB,EAA2B;AACvB,WAAOA,UAAU,UAAV,IAAwBA,UAAU,MAAlC,IAA4CA,UAAU,OAAtD,IAAiEA,UAAU,WAAlF;AACH;;AAED,SAAc6gD,QAAQz7C,SAAtB,EAAiC;AAC7B1F,WAAO,eAAShB,OAAT,EAAkB;AACrB,aAAK8rB,EAAL,GAAU9rB,OAAV;AACH,KAH4B;AAI7B+3C,cAAU,kBAASxkC,GAAT,EAAc;AACpB;AACA,YAAImuB,QAAQ,KAAKA,KAAjB;AACA,YAAIA,KAAJ,EAAW;AACPA,kBAAMtP,MAAN,GAAe,IAAf;AACH;AACD,aAAKsP,KAAL,GAAa,IAAb;AACA,YAAIvE,kBAAkB,EAAtB;AACA,YAAI,OAAO5pB,GAAP,KAAe,QAAnB,EAA6B;AACzB4pB,8BAAkB,UAAU5pB,GAAV,GAAgB,IAAlC;AACAmuB,oBAAQ,KAAKA,KAAL,GAAa,IAAID,KAAJ,EAArB;AACAC,kBAAMplB,GAAN,GAAY/I,GAAZ;AACH;AACD,wBAAM,KAAKuY,EAAX,EAAe;AACXqR,6BAAiBA;AADN,SAAf;AAGH,KApB4B;AAqB7B9oB,YAAQ,gBAASsD,KAAT,EAAgBF,MAAhB,EAAwB4G,UAAxB,EAAoC;AACxC,YAAIA,eAAe,SAAnB,EAA8B;AAC1B,gBAAI1G,KAAJ,EAAW;AACP,qBAAK4G,iBAAL,GAAyB5G,QAAQF,MAAjC;AACH;AACD,gBAAI,CAAC,KAAK8G,iBAAN,IACA,CAAC,KAAKmjB,KADN,IAEA,CAAC0gB,WAAW,KAAKriD,KAAL,CAAWK,GAAX,CAAe,OAAf,CAAX,CAFL,EAE0C;AACtC;AACH;AACD;AACA,gBAAIshC,QAAQ,KAAKA,KAAjB;AACA,gBAAI2gB,iBAAiB,IAArB;AACA,gBAAI3gB,KAAJ,EAAW;AACP,oBAAIA,MAAM/pB,KAAN,KAAgB,CAApB,EAAuB;AACnB,wBAAI1Q,QAAQ,IAAZ;AACAy6B,0BAAMtP,MAAN,GAAe,YAAW;AACtBnrB,8BAAMoN,MAAN,CAAasD,KAAb,EAAoBF,MAApB,EAA4B4G,UAA5B;AACH,qBAFD;AAGA;AACH;AACD,oBAAIikC,mBAAmB5gB,MAAM/pB,KAAN,GAAc+pB,MAAMjqB,MAA3C;AACA,oBAAI3U,KAAK2b,GAAL,CAAS,KAAKF,iBAAL,GAAyB+jC,gBAAlC,IAAsD,IAA1D,EAAgE;AAC5DD,qCAAiB,OAAjB;AACH;AACJ;AACD,4BAAM,KAAKv2B,EAAX,EAAe;AACXu2B,gCAAgBA;AADL,aAAf;AAGH;AACJ,KAnD4B;AAoD7BriD,aAAS,mBAAW;AAChB,eAAO,KAAK8rB,EAAZ;AACH;AAtD4B,CAAjC;;kBAyDeq2B,O;;;;;;;;;;;;;;;;;;;;ACpEf;;AAEA,IAAMI,QAAQ,SAARA,KAAQ,CAASpgD,MAAT,EAAiB;AAC3B,SAAKpC,KAAL,GAAaoC,OAAOihC,MAApB;AACH,CAFD;;AAIA,SAAcmf,MAAM77C,SAApB,EAA+B;AAC3B;AACA;AACAV,UAAM,gBAAW;AACb,wBAAM,KAAK8lB,EAAX,EAAe,EAAExrB,SAAS,MAAX,EAAf;AACH,KAL0B;AAM3BgC,UAAM,gBAAW;AACb,wBAAM,KAAKwpB,EAAX,EAAe,EAAExrB,SAAS,EAAX,EAAf;AACH,KAR0B;;AAU3BU,WAAO,eAASwhD,OAAT,EAAkB;AACrB,aAAK12B,EAAL,GAAU02B,OAAV;;AAEA;AACA,YAAIC,MAAM,KAAK32B,EAAL,CAAQ2K,oBAAR,CAA6B,KAA7B,CAAV;AACA,aAAKuE,KAAL,GAAaynB,IAAI,CAAJ,CAAb;AACA,aAAKC,WAAL,GAAmBD,IAAI,CAAJ,CAAnB;;AAEA,aAAK1iD,KAAL,CAAWQ,EAAX,CAAc,kBAAd,EAAkC,KAAKosB,MAAvC,EAA+C,IAA/C;AACA,aAAK5sB,KAAL,CAAWa,MAAX,CAAkB,cAAlB,EAAkC,KAAKmK,YAAvC,EAAqD,IAArD;AACH,KApB0B;;AAsB3B4hB,YAAQ,gBAAS5sB,KAAT,EAAgB;AACpB,YAAI4iD,aAAa,EAAjB;AACA,YAAInjD,OAAOO,MAAMK,GAAN,CAAU,MAAV,CAAX;AACA,YAAIZ,IAAJ,EAAU;AACN;AACA,gBAAI4f,SAAS,IAAI,CAAC,KAAK5f,KAAK4f,MAAX,EAAmBqS,OAAnB,CAA2B,IAA3B,EAAiC,EAAjC,CAAjB;AACA,gBAAImxB,UAAU7iD,MAAMK,GAAN,CAAU,WAAV,KAA0Bib,MAAM+D,MAAN,IAAgB,CAAhB,GAAoBA,SAAS,EAAvD,CAAd;AACA,gBAAI5f,KAAKqD,QAAL,KAAkB,UAAtB,EAAkC;AAC9B8/C,2BAAWE,WAAX,GAAyBD,OAAzB;AACH,aAFD,MAEO,IAAIpjD,KAAKqD,QAAL,KAAkB,WAAtB,EAAmC;AACtC8/C,2BAAWG,YAAX,GAA0BF,OAA1B;AACH;AACJ;AACD,wBAAM,KAAK92B,EAAX,EAAe62B,UAAf;AACH,KApC0B;;AAsC3B53C,kBAAc,sBAAShL,KAAT,EAAgB8J,IAAhB,EAAsB;AAChC,YAAI,CAACA,IAAL,EAAW;AACP;AACH;AACD,YAAI9J,MAAMK,GAAN,CAAU,cAAV,KAA6BL,MAAMK,GAAN,CAAU,oBAAV,CAAjC,EAAkE;AAC9D,gBAAI46B,QAAQ,EAAZ;AACA,gBAAI0nB,cAAc,EAAlB;;AAEA,gBAAI74C,KAAKmxB,KAAL,IAAcj7B,MAAMK,GAAN,CAAU,cAAV,CAAlB,EAA6C;AACzC46B,wBAAQnxB,KAAKmxB,KAAb;AACH;AACD,gBAAInxB,KAAK64C,WAAL,IAAoB3iD,MAAMK,GAAN,CAAU,oBAAV,CAAxB,EAAyD;AACrDsiD,8BAAc74C,KAAK64C,WAAnB;AACH;;AAED,iBAAKK,UAAL,CAAgB/nB,KAAhB,EAAuB0nB,WAAvB;AACH,SAZD,MAYO;AACH,iBAAK18C,IAAL;AACH;AACJ,KAzD0B;;AA2D3B+8C,gBAAY,oBAAS/nB,KAAT,EAAgB0nB,WAAhB,EAA6B;AACrC,aAAK1nB,KAAL,CAAW1D,SAAX,GAAuB0D,KAAvB;AACA,aAAK0nB,WAAL,CAAiBprB,SAAjB,GAA6BorB,WAA7B;;AAEA,YAAI,KAAK1nB,KAAL,CAAWrI,UAAX,IAAyB,KAAK+vB,WAAL,CAAiB/vB,UAA9C,EAA0D;AACtD,iBAAKrwB,IAAL;AACH,SAFD,MAEO;AACH,iBAAK0D,IAAL;AACH;AACJ,KApE0B;;AAsE3BhG,aAAS,mBAAW;AAChB,eAAO,KAAK8rB,EAAZ;AACH;AAxE0B,CAA/B;;kBA2Eey2B,K;;;;;;;;;;;ACjFf;;AAEA;AACA;AACA;AACA;AACA;AACA,mD;;;;;;;;;;;ACPA;AACA;;;AAGA;AACA,mCAAoC,cAAc,6BAA6B,UAAU,SAAS,WAAW,uCAAuC,cAAc,gBAAgB,gBAAgB,gBAAgB,oBAAoB,wBAAwB,SAAS,cAAc,qBAAqB,qBAAqB,gDAAgD,6CAA6C,YAAY,WAAW,UAAU,kBAAkB,MAAM,qBAAqB,2BAA2B,SAAS,4BAA4B,SAAS,4BAA4B,sBAAsB,iBAAiB,4BAA4B,kIAAkI,aAAa,WAAW,WAAW,WAAW,kBAAkB,4BAA4B,wBAAwB,WAAW,iBAAiB,aAAa,6CAA6C,WAAW,SAAS,iCAAiC,WAAW,iCAAiC,aAAa,mBAAmB,4BAA4B,SAAS,uEAAuE,gBAAgB,SAAS,aAAa,aAAa,6CAA6C,4BAA4B,oFAAoF,WAAW,qBAAqB,uBAAuB,2CAA2C,2BAA2B,aAAa,4BAA4B,wCAAwC,2BAA2B,uBAAuB,0BAA0B,2BAA2B,uBAAuB,0BAA0B,qBAAqB,aAAa,iBAAiB,WAAW,gBAAgB,iBAAiB,WAAW,YAAY,kBAAkB,oGAAoG,WAAW,YAAY,kBAAkB,mBAAmB,4BAA4B,6BAA6B,mCAAmC,oDAAoD,4BAA4B,6BAA6B,mCAAmC,WAAW,4BAA4B,4BAA4B,WAAW,uCAAuC,sCAAsC,WAAW,UAAU,WAAW,eAAe,kBAAkB,cAAc,aAAa,gBAAgB,sBAAsB,uCAAuC,sBAAsB,2BAA2B,yBAAyB,sBAAsB,qBAAqB,iBAAiB,YAAY,mBAAmB,8BAA8B,uBAAuB,yCAAyC,cAAc,qBAAqB,aAAa,8CAA8C,aAAa,sBAAsB,2BAA2B,sBAAsB,kBAAkB,WAAW,YAAY,MAAM,OAAO,SAAS,QAAQ,UAAU,gBAAgB,eAAe,WAAW,kBAAkB,YAAY,sBAAsB,eAAe,UAAU,eAAe,kBAAkB,mBAAmB,OAAO,QAAQ,SAAS,cAAc,mCAAmC,oBAAoB,mBAAmB,mBAAmB,gBAAgB,kBAAkB,MAAM,QAAQ,SAAS,OAAO,WAAW,YAAY,YAAY,uBAAuB,8DAA8D,aAAa,mCAAmC,mBAAmB,gCAAgC,gBAAgB,gCAAgC,iBAAiB,oCAAoC,gBAAgB,YAAY,kBAAkB,aAAa,UAAU,mBAAmB,WAAW,YAAY,kCAAkC,4CAA4C,wBAAwB,6BAA6B,0BAA0B,6BAA6B,sBAAsB,iCAAiC,0BAA0B,UAAU,aAAa,iBAAiB,WAAW,UAAU,sCAAsC,WAAW,kBAAkB,mBAAmB,oBAAoB,gBAAgB,uBAAuB,mBAAmB,WAAW,kBAAkB,kBAAkB,sEAAsE,gBAAgB,wCAAwC,iBAAiB,oEAAoE,aAAa,aAAa,kBAAkB,WAAW,YAAY,kBAAkB,aAAa,6BAA6B,sBAAsB,oBAAoB,oBAAoB,cAAc,qBAAqB,oBAAoB,gBAAgB,MAAM,iCAAiC,cAAc,oBAAoB,aAAa,cAAc,oBAAoB,8CAA8C,qBAAqB,kBAAkB,qBAAqB,WAAW,sBAAsB,iBAAiB,kBAAkB,qBAAqB,kBAAkB,mBAAmB,kBAAkB,qBAAqB,uBAAuB,kBAAkB,gBAAgB,mBAAmB,iCAAiC,WAAW,kBAAkB,wCAAwC,aAAa,2BAA2B,oDAAoD,6BAA6B,mBAAmB,kDAAkD,8BAA8B,qBAAqB,iCAAiC,wDAAwD,aAAa,SAAS,kBAAkB,YAAY,eAAe,mBAAmB,4BAA4B,wBAAwB,SAAS,WAAW,UAAU,YAAY,+BAA+B,aAAa,mBAAmB,MAAM,QAAQ,kBAAkB,MAAM,OAAO,qBAAqB,OAAO,sBAAsB,QAAQ,2CAA2C,YAAY,uDAAuD,wBAAwB,UAAU,gBAAgB,6BAA6B,4FAA4F,kBAAkB,6CAA6C,sBAAsB,WAAW,eAAe,cAAc,UAAU,gBAAgB,kBAAkB,qEAAqE,aAAa,iEAAiE,eAAe,qEAAqE,sBAAsB,yEAAyE,QAAQ,kBAAkB,SAAS,mBAAmB,sBAAsB,kBAAkB,aAAa,aAAa,wCAAwC,gCAAgC,2FAA2F,YAAY,WAAW,kBAAkB,cAAc,uGAAuG,aAAa,6FAA6F,cAAc,gBAAgB,2TAA2T,eAAe,iBAAiB,UAAU,6GAA6G,gBAAgB,mBAAmB,4DAA4D,YAAY,WAAW,MAAM,kBAAkB,OAAO,gBAAgB,uBAAuB,eAAe,eAAe,UAAU,oNAAoN,cAAc,4NAA4N,cAAc,gHAAgH,aAAa,uMAAuM,aAAa,6BAA6B,sBAAsB,uBAAuB,MAAM,QAAQ,SAAS,OAAO,aAAa,SAAS,eAAe,+CAA+C,cAAc,+CAA+C,gBAAgB,4EAA4E,gBAAgB,4CAA4C,eAAe,4DAA4D,kBAAkB,gCAAgC,gBAAgB,6BAA6B,gBAAgB;;AAEl7S;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;;;;;;;;;;;;IAEMS,qB;;;;AACNA,sBAAsBt8C,SAAtB,GAAkC,SAAc,EAAd,wBAAlC;;AAEA,IAAMu8C,mBAAmB,eAAzB;;AAEA,SAASC,wBAAT,CAAkCh7C,SAAlC,EAA6Ci7C,aAA7C,EAA4DC,aAA5D,EAA2E;AACvE/4C,WAAOsL,IAAP,CAAYwtC,aAAZ,EAA2BxlD,OAA3B,CAAmC,UAACi+C,IAAD,EAAU;AACzC,YAAIA,QAAQuH,aAAR,IAAyBA,cAAcvH,IAAd,MAAwBwH,cAAcxH,IAAd,CAArD,EAA0E;AACtE1zC,sBAAU1H,OAAV,aAA4Bo7C,IAA5B,EAAoC1zC,SAApC,EAA+Ci7C,cAAcvH,IAAd,CAA/C,EAAoEwH,cAAcxH,IAAd,CAApE;AACH;AACJ,KAJD;AAKH;;AAED,SAASyH,eAAT,CAAyB11B,QAAzB,EAAmCzlB,SAAnC,EAA8C;AAC1C,QAAIylB,QAAJ,EAAc;AACVA,iBAASvoB,GAAT,CAAa,IAAb,EAAmB,IAAnB,EAAyB8C,SAAzB;AACH;AACJ;;IAEKo7C,e;;;AAEF,6BAAYzU,WAAZ,EAAyB0U,WAAzB,EAAsC;AAAA;;AAAA;;AAGlC,cAAKphD,MAAL,GAAc0sC,WAAd;AACA,cAAK2U,WAAL,GAAmB,IAAnB;;AAEA,iBAAc3U,YAAYziC,UAA1B,EAAsC;AAClC2vB,qBAAS,EADyB;AAElCpzB,wBAAY,KAFsB;AAGlC86C,uBAAW,CAHuB;AAIlCC,uBAAW;AAJuB,SAAtC;;AAOA7U,oBAAYtuC,EAAZ,CAAe,KAAf,EAAsB,UAACmB,IAAD,EAAOiiD,aAAP,EAAsBvvB,KAAtB,EAA6BwvB,aAA7B,EAA+C;AACjE,gBAAID,kBAAkB9U,WAAtB,EAAmC;AAC/B8U;AACH;AACD,gBAAI,CAACJ,WAAD,IAAgBA,YAAY7hD,IAAZ,EAAkBiiD,aAAlB,EAAiCvvB,KAAjC,EAAwCwvB,aAAxC,CAApB,EAA4E;AACxE,sBAAKpjD,OAAL,CAAakB,IAAb,EAAmBiiD,aAAnB,EAAkCvvB,KAAlC,EAAyCwvB,aAAzC;AACH;AACJ,SAPD;;AASA/U,oBAAYtuC,EAAZ,CAAe,mBAAf,EAAoC,UAACR,KAAD,EAAQsJ,UAAR,EAAuB;AACvD,kBAAKA,UAAL,GAAkBA,UAAlB;AACH,SAFD;AAtBkC;AAyBrC;;;;4BAoBGuyC,I,EAAM;AACN,gBAAMvyC,aAAa,KAAKm6C,WAAxB;AACA,gBAAIn6C,cAAcuyC,QAAQvyC,WAAW+C,UAArC,EAAiD;AAC7C,uBAAO/C,WAAWjJ,GAAX,CAAew7C,IAAf,CAAP;AACH;AACD,mBAAO,KAAKz5C,MAAL,CAAY/B,GAAZ,CAAgBw7C,IAAhB,CAAP;AACH;;;4BAEGA,I,EAAMvgB,G,EAAK;AACX,mBAAO,KAAKl5B,MAAL,CAAY2D,GAAZ,CAAgB81C,IAAhB,EAAsBvgB,GAAtB,CAAP;AACH;;;mCAEU;AACP,mBAAO,KAAKl5B,MAAL,CAAY2mB,QAAZ,EAAP;AACH;;;kCAES;AACNu6B,4BAAgB,KAAKlhD,MAArB,EAA6B,IAA7B;AACAkhD,4BAAgB,KAAKG,WAArB,EAAkC,IAAlC;AACA,iBAAKp+C,GAAL;AACH;;;0BAtCciE,U,EAAY;AAAA;;AACvB,gBAAMw6C,qBAAqB,KAAKL,WAAhC;AACAH,4BAAgBQ,kBAAhB,EAAoC,IAApC;;AAEA,iBAAKL,WAAL,GAAmBn6C,UAAnB;;AAEAA,uBAAW9I,EAAX,CAAc,KAAd,EAAqB,UAACmB,IAAD,EAAOiiD,aAAP,EAAsBvvB,KAAtB,EAA6BwvB,aAA7B,EAA+C;AAChE,oBAAID,kBAAkBt6C,UAAtB,EAAkC;AAC9Bs6C;AACH;AACD,uBAAKnjD,OAAL,CAAakB,IAAb,EAAmBiiD,aAAnB,EAAkCvvB,KAAlC,EAAyCwvB,aAAzC;AACH,aALD,EAKG,IALH;;AAOA,gBAAIC,kBAAJ,EAAwB;AACpBX,yCAAyB,IAAzB,EAA+B75C,WAAW+C,UAA1C,EAAsDy3C,mBAAmBz3C,UAAzE;AACH;AACJ;;;;EA7CyB42C,qB;;IAsETc,S;;;AACjB,uBAAYjV,WAAZ,EAAyB;AAAA;;AAAA,2HACfA,WADe,EACF,UAACntC,IAAD,EAAU;AACzB;AACA,gBAAMqiD,gBAAgB,OAAKC,cAA3B;AACA,gBAAID,aAAJ,EAAmB;AACf,oBAAMrc,QAAQub,iBAAiBzhB,IAAjB,CAAsB9/B,IAAtB,CAAd;AACA,oBAAIgmC,KAAJ,EAAW;AACP,wBAAMkU,OAAOlU,MAAM,CAAN,CAAb;AACA,wBAAIkU,QAAQmI,cAAc33C,UAA1B,EAAsC;AAClC,+BAAO,KAAP;AACH;AACJ;AACJ;AACD,mBAAO,IAAP;AACH,SAdoB;;AAgBrB,eAAK43C,cAAL,GAAsB,IAAtB;AACA,eAAKC,gBAAL,GAAwB,IAAIX,eAAJ,CAAoB,OAAKnhD,MAAzB,CAAxB;;AAEA0sC,oBAAYtuC,EAAZ,CAAe,iBAAf,EAAkC,UAACR,KAAD,EAAQ4L,QAAR,EAAqB;AACnD,mBAAKo4C,aAAL,GAAqBp4C,WAAWA,SAAS5L,KAApB,GAA4B,IAAjD;AACH,SAFD;AAnBqB;AAsBxB;;;;4BAuCG67C,I,EAAM;AACN,gBAAMvyC,aAAa,KAAKm6C,WAAxB;AACA,gBAAIn6C,cAAcuyC,QAAQvyC,WAAW+C,UAArC,EAAiD;AAC7C,uBAAO/C,WAAWjJ,GAAX,CAAew7C,IAAf,CAAP;AACH;AACD,gBAAMmI,gBAAgB,KAAKC,cAA3B;AACA,gBAAID,iBAAiBnI,QAAQmI,cAAc33C,UAA3C,EAAuD;AACnD,uBAAO23C,cAAc3jD,GAAd,CAAkBw7C,IAAlB,CAAP;AACH;AACD,mBAAO,KAAKz5C,MAAL,CAAY/B,GAAZ,CAAgBw7C,IAAhB,CAAP;AACH;;;mCAEU;AACP,gBAAMmI,gBAAgB,KAAKC,cAA3B;AACA,gBAAID,iBAAiBA,cAAcj7B,QAAd,EAArB,EAA+C;AAC3C,uBAAOi7B,cAAcj7B,QAAd,EAAP;AACH;AACD;AACH;;;kCAES;AACN;AACAu6B,4BAAgB,KAAKW,cAArB,EAAqC,IAArC;AACH;;;4BA5DY;AACT,mBAAO,KAAKC,gBAAZ;AACH;;;0BAEiBF,a,EAAe;AAAA;;AAC7B,gBAAMG,mBAAmB,KAAKF,cAA9B;AACAX,4BAAgBa,gBAAhB,EAAkC,IAAlC;;AAEA,iBAAK/hD,MAAL,CAAYiD,GAAZ,CAAgB,mBAAhB,EAAqC,IAArC,EAA2C,IAA3C;;AAEA,iBAAK4+C,cAAL,GAAsBD,aAAtB;;AAEA,iBAAKvjD,OAAL,CAAa,cAAb,EAA6B,CAAC,CAACujD,aAA/B;;AAEA,gBAAIA,aAAJ,EAAmB;AACfA,8BAAcxjD,EAAd,CAAiB,KAAjB,EAAwB,UAACmB,IAAD,EAAOiiD,aAAP,EAAsBvvB,KAAtB,EAA6BwvB,aAA7B,EAA+C;AACnE,wBAAID,kBAAkBI,aAAtB,EAAqC;AACjCJ;AACH;AACD,2BAAKnjD,OAAL,CAAakB,IAAb,EAAmBiiD,aAAnB,EAAkCvvB,KAAlC,EAAyCwvB,aAAzC;AACH,iBALD,EAKG,IALH;;AAOAG,8BAAcnjD,MAAd,CAAqB,YAArB,EAAmC,UAACb,KAAD,EAAQsJ,UAAR,EAAuB;AACtD,2BAAKA,UAAL,GAAkBA,UAAlB;AACH,iBAFD,EAEG,IAFH;;AAIA65C,yCAAyB,IAAzB,EAA+Ba,cAAc33C,UAA7C,EAAyD,KAAKjK,MAAL,CAAYiK,UAArE;AACH,aAbD,MAaO,IAAI83C,gBAAJ,EAAsB;AACzB,qBAAK/hD,MAAL,CAAYvB,MAAZ,CAAmB,YAAnB,EAAiC,UAACb,KAAD,EAAQsJ,UAAR,EAAuB;AACpD,2BAAKA,UAAL,GAAkBA,UAAlB;AACH,iBAFD,EAEG,IAFH;;AAIA,oBAAM86C,mBAAmB,SAAc,EAAd,EAAkB,KAAKhiD,MAAL,CAAYiK,UAA9B,EAA0C83C,iBAAiB93C,UAA3D,CAAzB;AACA82C,yCAAyB,IAAzB,EAA+B,KAAK/gD,MAAL,CAAYiK,UAA3C,EAAuD+3C,gBAAvD;AACH;AACJ;;;;EA5DkCb,e;;kBAAlBQ,S;;;;;;;;;;;;;;;;;;;;kBC3FGM,U;AAAT,SAASA,UAAT,CAAoBrkD,KAApB,EAA2B2B,IAA3B,EAAiC2iD,YAAjC,EAA+C;AAC1D,QAAIlN,WAAWkN,YAAf;;AAEA,YAAQ3iD,IAAR;AACI,aAAK,MAAL;AACA,aAAK,YAAL;AACA,aAAK,OAAL;AACA,aAAK,MAAL;AACA,aAAK,OAAL;AAAc;AACV,oBAAM8J,WAAWzL,MAAMK,GAAN,CAAU,UAAV,CAAjB;AACA;AACA,oBAAIoL,aAAazF,SAAjB,EAA4B;AACxB;AACAoxC,+BAAW,SAAc,EAAd,EAAkBkN,YAAlB,EAAgC,EAAE74C,UAAUA,QAAZ,EAAhC,CAAX;AACH;AACD;AACH;AACD;AAAS;AACL;AACH;AAhBL;;AAmBA,WAAO2rC,QAAP;AACH,C;;;;;;;;;;;;;;;;;;QC6BemN,W,GAAAA,W;;AA5BhB;;;;AACA;;;;;;AAEA;;;;;;;;AA3BA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAaA,IAAMC,QAAQ,IAAIC,IAAJ,CAAS,CAAC,IAAIC,UAAJ,CAAe,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAc,GAAd,EAAmB,GAAnB,EAAwB,GAAxB,EAA6B,GAA7B,EAAkC,GAAlC,EAAuC,GAAvC,EAA4C,GAA5C,EAAiD,GAAjD,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,CAA5D,EAA+D,CAA/D,EAAkE,GAAlE,EAAuE,GAAvE,EAA4E,GAA5E,EAAiF,GAAjF,EAAsF,GAAtF,EAA2F,GAA3F,EAAgG,GAAhG,EAAqG,EAArG,EAAyG,GAAzG,EAA8G,GAA9G,EAAmH,EAAnH,EAAuH,EAAvH,EAA2H,CAA3H,EAA8H,CAA9H,EAAiI,CAAjI,EAAoI,CAApI,EAAuI,GAAvI,EAA4I,GAA5I,EAAiJ,GAAjJ,EAAsJ,GAAtJ,EAA2J,CAA3J,EAA8J,CAA9J,EAAiK,CAAjK,EAAoK,GAApK,EAAyK,GAAzK,EAA8K,GAA9K,EAAmL,EAAnL,EAAuL,GAAvL,EAA4L,EAA5L,EAAgM,EAAhM,EAAoM,CAApM,EAAuM,EAAvM,EAA2M,GAA3M,EAAgN,EAAhN,EAAoN,GAApN,EAAyN,GAAzN,EAA8N,CAA9N,EAAiO,CAAjO,EAAoO,CAApO,EAAuO,CAAvO,EAA0O,CAA1O,EAA6O,CAA7O,EAAgP,CAAhP,EAAmP,CAAnP,EAAsP,CAAtP,EAAyP,CAAzP,EAA4P,CAA5P,EAA+P,CAA/P,EAAkQ,CAAlQ,EAAqQ,CAArQ,EAAwQ,CAAxQ,EAA2Q,CAA3Q,EAA8Q,CAA9Q,EAAiR,CAAjR,EAAoR,CAApR,EAAuR,CAAvR,EAA0R,CAA1R,EAA6R,CAA7R,EAAgS,CAAhS,EAAmS,CAAnS,EAAsS,CAAtS,EAAyS,CAAzS,EAA4S,CAA5S,EAA+S,CAA/S,EAAkT,CAAlT,EAAqT,CAArT,EAAwT,CAAxT,EAA2T,CAA3T,EAA8T,CAA9T,EAAiU,CAAjU,EAAoU,CAApU,EAAuU,CAAvU,EAA0U,CAA1U,EAA6U,CAA7U,EAAgV,CAAhV,EAAmV,CAAnV,EAAsV,CAAtV,EAAyV,CAAzV,EAA4V,CAA5V,EAA+V,CAA/V,EAAkW,CAAlW,EAAqW,CAArW,EAAwW,CAAxW,EAA2W,CAA3W,EAA8W,CAA9W,EAAiX,CAAjX,EAAoX,CAApX,EAAuX,CAAvX,EAA0X,CAA1X,EAA6X,CAA7X,EAAgY,CAAhY,EAAmY,CAAnY,EAAsY,CAAtY,EAAyY,CAAzY,EAA4Y,CAA5Y,EAA+Y,CAA/Y,EAAkZ,CAAlZ,EAAqZ,CAArZ,EAAwZ,CAAxZ,EAA2Z,CAA3Z,EAA8Z,CAA9Z,EAAia,CAAja,EAAoa,CAApa,EAAua,CAAva,EAA0a,CAA1a,EAA6a,CAA7a,EAAgb,CAAhb,EAAmb,CAAnb,EAAsb,CAAtb,EAAyb,CAAzb,EAA4b,CAA5b,EAA+b,CAA/b,EAAkc,CAAlc,EAAqc,CAArc,EAAwc,CAAxc,EAA2c,CAA3c,EAA8c,CAA9c,EAAid,CAAjd,EAAod,CAApd,EAAud,CAAvd,EAA0d,CAA1d,EAA6d,CAA7d,EAAge,CAAhe,EAAme,CAAne,EAAse,CAAte,EAAye,CAAze,EAA4e,CAA5e,EAA+e,CAA/e,EAAkf,CAAlf,EAAqf,CAArf,EAAwf,CAAxf,EAA2f,CAA3f,EAA8f,CAA9f,EAAigB,CAAjgB,EAAogB,CAApgB,EAAugB,CAAvgB,EAA0gB,CAA1gB,EAA6gB,CAA7gB,EAAghB,CAAhhB,EAAmhB,CAAnhB,EAAshB,CAAthB,EAAyhB,CAAzhB,EAA4hB,CAA5hB,EAA+hB,CAA/hB,EAAkiB,CAAliB,EAAqiB,CAAriB,EAAwiB,CAAxiB,EAA2iB,CAA3iB,EAA8iB,CAA9iB,EAAijB,CAAjjB,EAAojB,CAApjB,EAAujB,CAAvjB,EAA0jB,CAA1jB,EAA6jB,CAA7jB,EAAgkB,CAAhkB,EAAmkB,CAAnkB,EAAskB,CAAtkB,EAAykB,CAAzkB,EAA4kB,CAA5kB,EAA+kB,CAA/kB,EAAklB,CAAllB,EAAqlB,CAArlB,EAAwlB,CAAxlB,EAA2lB,CAA3lB,EAA8lB,CAA9lB,EAAimB,CAAjmB,EAAomB,CAApmB,EAAumB,CAAvmB,EAA0mB,CAA1mB,EAA6mB,CAA7mB,EAAgnB,CAAhnB,EAAmnB,CAAnnB,EAAsnB,CAAtnB,EAAynB,CAAznB,EAA4nB,CAA5nB,EAA+nB,CAA/nB,EAAkoB,CAAloB,EAAqoB,CAAroB,EAAwoB,CAAxoB,EAA2oB,CAA3oB,EAA8oB,CAA9oB,EAAipB,CAAjpB,EAAopB,CAAppB,EAAupB,CAAvpB,EAA0pB,CAA1pB,EAA6pB,CAA7pB,EAAgqB,CAAhqB,EAAmqB,CAAnqB,EAAsqB,CAAtqB,EAAyqB,CAAzqB,EAA4qB,CAA5qB,EAA+qB,CAA/qB,EAAkrB,CAAlrB,EAAqrB,CAArrB,EAAwrB,CAAxrB,EAA2rB,CAA3rB,EAA8rB,CAA9rB,EAAisB,CAAjsB,EAAosB,CAApsB,EAAusB,CAAvsB,EAA0sB,CAA1sB,EAA6sB,CAA7sB,EAAgtB,CAAhtB,EAAmtB,CAAntB,EAAstB,CAAttB,EAAytB,CAAztB,EAA4tB,CAA5tB,EAA+tB,CAA/tB,EAAkuB,CAAluB,EAAquB,CAAruB,EAAwuB,CAAxuB,EAA2uB,CAA3uB,EAA8uB,CAA9uB,EAAivB,CAAjvB,EAAovB,CAApvB,EAAuvB,CAAvvB,EAA0vB,CAA1vB,EAA6vB,CAA7vB,EAAgwB,CAAhwB,EAAmwB,CAAnwB,EAAswB,CAAtwB,EAAywB,CAAzwB,EAA4wB,CAA5wB,EAA+wB,CAA/wB,EAAkxB,CAAlxB,EAAqxB,CAArxB,EAAwxB,CAAxxB,EAA2xB,CAA3xB,EAA8xB,CAA9xB,EAAiyB,CAAjyB,EAAoyB,CAApyB,EAAuyB,CAAvyB,EAA0yB,CAA1yB,EAA6yB,CAA7yB,EAAgzB,CAAhzB,EAAmzB,CAAnzB,EAAszB,CAAtzB,EAAyzB,CAAzzB,EAA4zB,CAA5zB,EAA+zB,CAA/zB,EAAk0B,CAAl0B,EAAq0B,CAAr0B,EAAw0B,CAAx0B,EAA20B,CAA30B,EAA80B,CAA90B,EAAi1B,CAAj1B,EAAo1B,CAAp1B,EAAu1B,CAAv1B,EAA01B,CAA11B,EAA61B,CAA71B,EAAg2B,CAAh2B,EAAm2B,CAAn2B,EAAs2B,CAAt2B,EAAy2B,CAAz2B,EAA42B,CAA52B,EAA+2B,CAA/2B,EAAk3B,CAAl3B,EAAq3B,CAAr3B,EAAw3B,CAAx3B,EAA23B,CAA33B,EAA83B,CAA93B,EAAi4B,CAAj4B,EAAo4B,CAAp4B,EAAu4B,CAAv4B,EAA04B,CAA14B,EAA64B,CAA74B,EAAg5B,CAAh5B,EAAm5B,CAAn5B,EAAs5B,CAAt5B,EAAy5B,CAAz5B,EAA45B,CAA55B,EAA+5B,CAA/5B,EAAk6B,CAAl6B,EAAq6B,CAAr6B,EAAw6B,CAAx6B,EAA26B,CAA36B,EAA86B,CAA96B,EAAi7B,CAAj7B,EAAo7B,CAAp7B,EAAu7B,CAAv7B,EAA07B,CAA17B,EAA67B,CAA77B,EAAg8B,CAAh8B,EAAm8B,CAAn8B,EAAs8B,CAAt8B,EAAy8B,CAAz8B,EAA48B,CAA58B,EAA+8B,CAA/8B,EAAk9B,CAAl9B,EAAq9B,CAAr9B,EAAw9B,CAAx9B,EAA29B,CAA39B,EAA89B,CAA99B,EAAi+B,CAAj+B,EAAo+B,CAAp+B,EAAu+B,CAAv+B,EAA0+B,CAA1+B,EAA6+B,CAA7+B,EAAg/B,CAAh/B,EAAm/B,CAAn/B,EAAs/B,CAAt/B,EAAy/B,CAAz/B,EAA4/B,CAA5/B,EAA+/B,CAA//B,EAAkgC,EAAlgC,EAAsgC,GAAtgC,EAA2gC,CAA3gC,EAA8gC,CAA9gC,EAAihC,CAAjhC,EAAohC,CAAphC,EAAuhC,CAAvhC,EAA0hC,CAA1hC,EAA6hC,CAA7hC,EAAgiC,CAAhiC,EAAmiC,CAAniC,EAAsiC,CAAtiC,EAAyiC,CAAziC,EAA4iC,CAA5iC,EAA+iC,CAA/iC,EAAkjC,CAAljC,EAAqjC,CAArjC,EAAwjC,CAAxjC,EAA2jC,CAA3jC,EAA8jC,CAA9jC,EAAikC,CAAjkC,EAAokC,CAApkC,EAAukC,CAAvkC,EAA0kC,CAA1kC,EAA6kC,CAA7kC,EAAglC,CAAhlC,EAAmlC,CAAnlC,EAAslC,CAAtlC,EAAylC,CAAzlC,EAA4lC,CAA5lC,EAA+lC,CAA/lC,EAAkmC,CAAlmC,EAAqmC,CAArmC,EAAwmC,CAAxmC,EAA2mC,CAA3mC,EAA8mC,CAA9mC,EAAinC,CAAjnC,EAAonC,CAApnC,EAAunC,CAAvnC,EAA0nC,CAA1nC,EAA6nC,CAA7nC,EAAgoC,CAAhoC,EAAmoC,CAAnoC,EAAsoC,CAAtoC,EAAyoC,CAAzoC,EAA4oC,CAA5oC,EAA+oC,CAA/oC,EAAkpC,CAAlpC,EAAqpC,CAArpC,EAAwpC,CAAxpC,EAA2pC,CAA3pC,EAA8pC,CAA9pC,EAAiqC,CAAjqC,EAAoqC,CAApqC,EAAuqC,CAAvqC,EAA0qC,CAA1qC,EAA6qC,CAA7qC,EAAgrC,CAAhrC,EAAmrC,CAAnrC,EAAsrC,CAAtrC,EAAyrC,CAAzrC,EAA4rC,CAA5rC,EAA+rC,CAA/rC,EAAksC,CAAlsC,EAAqsC,CAArsC,EAAwsC,CAAxsC,EAA2sC,CAA3sC,EAA8sC,CAA9sC,EAAitC,CAAjtC,EAAotC,CAAptC,EAAutC,CAAvtC,EAA0tC,CAA1tC,EAA6tC,CAA7tC,EAAguC,CAAhuC,EAAmuC,CAAnuC,EAAsuC,CAAtuC,EAAyuC,CAAzuC,EAA4uC,CAA5uC,EAA+uC,CAA/uC,EAAkvC,CAAlvC,EAAqvC,CAArvC,EAAwvC,CAAxvC,EAA2vC,CAA3vC,EAA8vC,CAA9vC,EAAiwC,CAAjwC,EAAowC,CAApwC,EAAuwC,CAAvwC,EAA0wC,CAA1wC,EAA6wC,CAA7wC,EAAgxC,CAAhxC,EAAmxC,CAAnxC,EAAsxC,CAAtxC,EAAyxC,CAAzxC,EAA4xC,CAA5xC,EAA+xC,GAA/xC,EAAoyC,EAApyC,EAAwyC,EAAxyC,EAA4yC,CAA5yC,EAA+yC,EAA/yC,EAAmzC,GAAnzC,EAAwzC,EAAxzC,EAA4zC,GAA5zC,EAAi0C,GAAj0C,EAAs0C,CAAt0C,EAAy0C,CAAz0C,EAA40C,CAA50C,EAA+0C,CAA/0C,EAAk1C,CAAl1C,EAAq1C,CAAr1C,EAAw1C,CAAx1C,EAA21C,CAA31C,EAA81C,CAA91C,EAAi2C,CAAj2C,EAAo2C,CAAp2C,EAAu2C,CAAv2C,EAA02C,CAA12C,EAA62C,CAA72C,EAAg3C,CAAh3C,EAAm3C,CAAn3C,EAAs3C,CAAt3C,EAAy3C,CAAz3C,EAA43C,CAA53C,EAA+3C,CAA/3C,EAAk4C,CAAl4C,EAAq4C,CAAr4C,EAAw4C,CAAx4C,EAA24C,CAA34C,EAA84C,CAA94C,EAAi5C,CAAj5C,EAAo5C,CAAp5C,EAAu5C,CAAv5C,EAA05C,CAA15C,EAA65C,CAA75C,EAAg6C,CAAh6C,EAAm6C,CAAn6C,EAAs6C,CAAt6C,EAAy6C,CAAz6C,EAA46C,CAA56C,EAA+6C,CAA/6C,EAAk7C,CAAl7C,EAAq7C,CAAr7C,EAAw7C,CAAx7C,EAA27C,CAA37C,EAA87C,CAA97C,EAAi8C,CAAj8C,EAAo8C,CAAp8C,EAAu8C,CAAv8C,EAA08C,CAA18C,EAA68C,CAA78C,EAAg9C,CAAh9C,EAAm9C,CAAn9C,EAAs9C,CAAt9C,EAAy9C,CAAz9C,EAA49C,CAA59C,EAA+9C,CAA/9C,EAAk+C,CAAl+C,EAAq+C,CAAr+C,EAAw+C,CAAx+C,EAA2+C,CAA3+C,EAA8+C,CAA9+C,EAAi/C,CAAj/C,EAAo/C,CAAp/C,EAAu/C,CAAv/C,EAA0/C,CAA1/C,EAA6/C,CAA7/C,EAAggD,CAAhgD,EAAmgD,CAAngD,EAAsgD,CAAtgD,EAAygD,CAAzgD,EAA4gD,CAA5gD,EAA+gD,CAA/gD,EAAkhD,CAAlhD,EAAqhD,CAArhD,EAAwhD,CAAxhD,EAA2hD,CAA3hD,EAA8hD,CAA9hD,EAAiiD,CAAjiD,EAAoiD,CAApiD,EAAuiD,CAAviD,EAA0iD,CAA1iD,EAA6iD,CAA7iD,EAAgjD,CAAhjD,EAAmjD,CAAnjD,EAAsjD,CAAtjD,EAAyjD,CAAzjD,EAA4jD,CAA5jD,EAA+jD,CAA/jD,EAAkkD,CAAlkD,EAAqkD,CAArkD,EAAwkD,CAAxkD,EAA2kD,CAA3kD,EAA8kD,CAA9kD,EAAilD,CAAjlD,EAAolD,CAAplD,EAAulD,CAAvlD,EAA0lD,CAA1lD,EAA6lD,CAA7lD,EAAgmD,CAAhmD,EAAmmD,CAAnmD,EAAsmD,CAAtmD,EAAymD,CAAzmD,EAA4mD,CAA5mD,EAA+mD,CAA/mD,EAAknD,CAAlnD,EAAqnD,CAArnD,EAAwnD,CAAxnD,EAA2nD,CAA3nD,EAA8nD,CAA9nD,EAAioD,CAAjoD,EAAooD,CAApoD,EAAuoD,CAAvoD,EAA0oD,CAA1oD,EAA6oD,CAA7oD,EAAgpD,CAAhpD,EAAmpD,CAAnpD,EAAspD,CAAtpD,EAAypD,CAAzpD,EAA4pD,CAA5pD,EAA+pD,CAA/pD,EAAkqD,CAAlqD,EAAqqD,CAArqD,EAAwqD,CAAxqD,EAA2qD,CAA3qD,EAA8qD,CAA9qD,EAAirD,CAAjrD,EAAorD,CAAprD,EAAurD,CAAvrD,EAA0rD,CAA1rD,EAA6rD,CAA7rD,EAAgsD,CAAhsD,EAAmsD,CAAnsD,EAAssD,CAAtsD,EAAysD,CAAzsD,EAA4sD,CAA5sD,EAA+sD,CAA/sD,EAAktD,CAAltD,EAAqtD,CAArtD,EAAwtD,CAAxtD,EAA2tD,CAA3tD,EAA8tD,CAA9tD,EAAiuD,CAAjuD,EAAouD,CAApuD,EAAuuD,CAAvuD,EAA0uD,CAA1uD,EAA6uD,CAA7uD,EAAgvD,CAAhvD,EAAmvD,CAAnvD,EAAsvD,CAAtvD,EAAyvD,CAAzvD,EAA4vD,CAA5vD,EAA+vD,CAA/vD,EAAkwD,CAAlwD,EAAqwD,CAArwD,EAAwwD,CAAxwD,EAA2wD,CAA3wD,EAA8wD,CAA9wD,EAAixD,CAAjxD,EAAoxD,CAApxD,EAAuxD,CAAvxD,EAA0xD,CAA1xD,EAA6xD,CAA7xD,EAAgyD,CAAhyD,EAAmyD,CAAnyD,EAAsyD,CAAtyD,EAAyyD,CAAzyD,EAA4yD,CAA5yD,EAA+yD,CAA/yD,EAAkzD,CAAlzD,EAAqzD,CAArzD,EAAwzD,CAAxzD,EAA2zD,CAA3zD,EAA8zD,CAA9zD,EAAi0D,CAAj0D,EAAo0D,CAAp0D,EAAu0D,CAAv0D,EAA00D,CAA10D,EAA60D,CAA70D,EAAg1D,CAAh1D,EAAm1D,CAAn1D,EAAs1D,CAAt1D,EAAy1D,CAAz1D,EAA41D,CAA51D,EAA+1D,CAA/1D,EAAk2D,CAAl2D,EAAq2D,CAAr2D,EAAw2D,CAAx2D,EAA22D,CAA32D,EAA82D,CAA92D,EAAi3D,CAAj3D,EAAo3D,CAAp3D,EAAu3D,CAAv3D,EAA03D,CAA13D,EAA63D,CAA73D,EAAg4D,CAAh4D,EAAm4D,CAAn4D,EAAs4D,CAAt4D,EAAy4D,CAAz4D,EAA44D,CAA54D,EAA+4D,CAA/4D,EAAk5D,CAAl5D,EAAq5D,CAAr5D,EAAw5D,CAAx5D,EAA25D,CAA35D,EAA85D,CAA95D,EAAi6D,CAAj6D,EAAo6D,CAAp6D,EAAu6D,CAAv6D,EAA06D,CAA16D,EAA66D,CAA76D,EAAg7D,CAAh7D,EAAm7D,CAAn7D,EAAs7D,CAAt7D,EAAy7D,CAAz7D,EAA47D,CAA57D,EAA+7D,CAA/7D,EAAk8D,CAAl8D,EAAq8D,CAAr8D,EAAw8D,CAAx8D,EAA28D,CAA38D,EAA88D,CAA98D,EAAi9D,CAAj9D,EAAo9D,CAAp9D,EAAu9D,CAAv9D,EAA09D,CAA19D,EAA69D,CAA79D,EAAg+D,CAAh+D,EAAm+D,CAAn+D,EAAs+D,CAAt+D,EAAy+D,CAAz+D,EAA4+D,CAA5+D,EAA++D,CAA/+D,EAAk/D,CAAl/D,EAAq/D,CAAr/D,EAAw/D,CAAx/D,EAA2/D,CAA3/D,EAA8/D,CAA9/D,EAAigE,CAAjgE,EAAogE,CAApgE,EAAugE,CAAvgE,EAA0gE,CAA1gE,EAA6gE,CAA7gE,EAAghE,CAAhhE,EAAmhE,CAAnhE,EAAshE,CAAthE,EAAyhE,CAAzhE,EAA4hE,CAA5hE,EAA+hE,CAA/hE,EAAkiE,CAAliE,EAAqiE,CAAriE,EAAwiE,CAAxiE,EAA2iE,CAA3iE,EAA8iE,CAA9iE,EAAijE,CAAjjE,EAAojE,CAApjE,EAAujE,CAAvjE,EAA0jE,CAA1jE,EAA6jE,CAA7jE,EAAgkE,CAAhkE,EAAmkE,CAAnkE,EAAskE,CAAtkE,EAAykE,CAAzkE,EAA4kE,CAA5kE,EAA+kE,CAA/kE,EAAklE,CAAllE,EAAqlE,CAArlE,EAAwlE,CAAxlE,EAA2lE,CAA3lE,EAA8lE,CAA9lE,EAAimE,CAAjmE,EAAomE,CAApmE,EAAumE,CAAvmE,EAA0mE,EAA1mE,EAA8mE,GAA9mE,EAAmnE,GAAnnE,EAAwnE,CAAxnE,EAA2nE,CAA3nE,EAA8nE,CAA9nE,EAAioE,CAAjoE,EAAooE,CAApoE,EAAuoE,CAAvoE,EAA0oE,CAA1oE,EAA6oE,CAA7oE,EAAgpE,CAAhpE,EAAmpE,CAAnpE,EAAspE,CAAtpE,EAAypE,CAAzpE,EAA4pE,CAA5pE,EAA+pE,CAA/pE,EAAkqE,CAAlqE,EAAqqE,CAArqE,EAAwqE,CAAxqE,EAA2qE,CAA3qE,EAA8qE,CAA9qE,EAAirE,CAAjrE,EAAorE,CAAprE,EAAurE,CAAvrE,EAA0rE,CAA1rE,EAA6rE,CAA7rE,EAAgsE,CAAhsE,EAAmsE,CAAnsE,EAAssE,CAAtsE,EAAysE,CAAzsE,EAA4sE,CAA5sE,EAA+sE,CAA/sE,EAAktE,CAAltE,EAAqtE,CAArtE,EAAwtE,CAAxtE,EAA2tE,CAA3tE,EAA8tE,CAA9tE,EAAiuE,CAAjuE,EAAouE,CAApuE,EAAuuE,CAAvuE,EAA0uE,CAA1uE,EAA6uE,CAA7uE,EAAgvE,CAAhvE,EAAmvE,CAAnvE,EAAsvE,CAAtvE,EAAyvE,CAAzvE,EAA4vE,CAA5vE,EAA+vE,CAA/vE,EAAkwE,CAAlwE,EAAqwE,CAArwE,EAAwwE,CAAxwE,EAA2wE,CAA3wE,EAA8wE,CAA9wE,EAAixE,CAAjxE,EAAoxE,CAApxE,EAAuxE,CAAvxE,EAA0xE,CAA1xE,EAA6xE,CAA7xE,EAAgyE,CAAhyE,EAAmyE,CAAnyE,EAAsyE,CAAtyE,EAAyyE,CAAzyE,EAA4yE,CAA5yE,EAA+yE,CAA/yE,EAAkzE,CAAlzE,EAAqzE,CAArzE,EAAwzE,CAAxzE,EAA2zE,CAA3zE,EAA8zE,CAA9zE,EAAi0E,CAAj0E,EAAo0E,CAAp0E,EAAu0E,CAAv0E,EAA00E,CAA10E,EAA60E,CAA70E,EAAg1E,CAAh1E,EAAm1E,CAAn1E,EAAs1E,CAAt1E,EAAy1E,CAAz1E,EAA41E,CAA51E,EAA+1E,CAA/1E,EAAk2E,CAAl2E,EAAq2E,CAAr2E,EAAw2E,CAAx2E,EAA22E,CAA32E,EAA82E,CAA92E,EAAi3E,CAAj3E,EAAo3E,CAAp3E,EAAu3E,CAAv3E,EAA03E,CAA13E,EAA63E,CAA73E,EAAg4E,CAAh4E,EAAm4E,CAAn4E,EAAs4E,CAAt4E,EAAy4E,CAAz4E,EAA44E,GAA54E,EAAi5E,CAAj5E,EAAo5E,CAAp5E,EAAu5E,CAAv5E,EAA05E,GAA15E,EAA+5E,GAA/5E,EAAo6E,GAAp6E,EAAy6E,GAAz6E,EAA86E,GAA96E,EAAm7E,CAAn7E,EAAs7E,CAAt7E,EAAy7E,CAAz7E,EAA47E,GAA57E,EAAi8E,GAAj8E,EAAs8E,GAAt8E,EAA28E,GAA38E,EAAg9E,GAAh9E,EAAq9E,CAAr9E,EAAw9E,CAAx9E,EAA29E,CAA39E,EAA89E,CAA99E,EAAi+E,CAAj+E,EAAo+E,CAAp+E,EAAu+E,CAAv+E,EAA0+E,CAA1+E,EAA6+E,CAA7+E,EAAg/E,CAAh/E,EAAm/E,CAAn/E,EAAs/E,CAAt/E,EAAy/E,CAAz/E,EAA4/E,CAA5/E,EAA+/E,CAA//E,EAAkgF,GAAlgF,EAAugF,CAAvgF,EAA0gF,CAA1gF,EAA6gF,CAA7gF,EAAghF,EAAhhF,EAAohF,CAAphF,EAAuhF,CAAvhF,EAA0hF,CAA1hF,EAA6hF,CAA7hF,EAAgiF,CAAhiF,EAAmiF,CAAniF,EAAsiF,CAAtiF,EAAyiF,CAAziF,EAA4iF,CAA5iF,EAA+iF,CAA/iF,EAAkjF,CAAljF,EAAqjF,CAArjF,EAAwjF,CAAxjF,EAA2jF,CAA3jF,EAA8jF,CAA9jF,EAAikF,CAAjkF,EAAokF,CAApkF,EAAukF,CAAvkF,EAA0kF,CAA1kF,EAA6kF,CAA7kF,EAAglF,CAAhlF,EAAmlF,CAAnlF,EAAslF,CAAtlF,EAAylF,CAAzlF,EAA4lF,CAA5lF,EAA+lF,CAA/lF,EAAkmF,CAAlmF,EAAqmF,CAArmF,EAAwmF,CAAxmF,EAA2mF,CAA3mF,EAA8mF,CAA9mF,EAAinF,CAAjnF,EAAonF,CAApnF,EAAunF,CAAvnF,EAA0nF,CAA1nF,EAA6nF,CAA7nF,EAAgoF,CAAhoF,EAAmoF,CAAnoF,EAAsoF,CAAtoF,EAAyoF,CAAzoF,EAA4oF,CAA5oF,EAA+oF,CAA/oF,EAAkpF,CAAlpF,EAAqpF,CAArpF,EAAwpF,CAAxpF,EAA2pF,CAA3pF,EAA8pF,CAA9pF,EAAiqF,CAAjqF,EAAoqF,EAApqF,EAAwqF,CAAxqF,EAA2qF,CAA3qF,EAA8qF,CAA9qF,EAAirF,CAAjrF,EAAorF,CAAprF,EAAurF,CAAvrF,EAA0rF,CAA1rF,EAA6rF,CAA7rF,EAAgsF,CAAhsF,EAAmsF,CAAnsF,EAAssF,CAAtsF,EAAysF,CAAzsF,EAA4sF,CAA5sF,EAA+sF,CAA/sF,EAAktF,CAAltF,EAAqtF,CAArtF,EAAwtF,CAAxtF,EAA2tF,CAA3tF,EAA8tF,CAA9tF,EAAiuF,CAAjuF,EAAouF,CAApuF,EAAuuF,CAAvuF,EAA0uF,CAA1uF,EAA6uF,CAA7uF,EAAgvF,CAAhvF,EAAmvF,CAAnvF,EAAsvF,CAAtvF,EAAyvF,CAAzvF,EAA4vF,CAA5vF,EAA+vF,CAA/vF,EAAkwF,CAAlwF,EAAqwF,CAArwF,EAAwwF,CAAxwF,EAA2wF,CAA3wF,EAA8wF,GAA9wF,EAAmxF,GAAnxF,EAAwxF,GAAxxF,EAA6xF,EAA7xF,EAAiyF,GAAjyF,EAAsyF,CAAtyF,EAAyyF,CAAzyF,EAA4yF,CAA5yF,EAA+yF,EAA/yF,EAAmzF,GAAnzF,EAAwzF,GAAxzF,EAA6zF,GAA7zF,EAAk0F,GAAl0F,EAAu0F,CAAv0F,EAA00F,CAA10F,EAA60F,CAA70F,EAAg1F,CAAh1F,EAAm1F,CAAn1F,EAAs1F,CAAt1F,EAAy1F,CAAz1F,EAA41F,CAA51F,EAA+1F,CAA/1F,EAAk2F,CAAl2F,EAAq2F,CAAr2F,EAAw2F,CAAx2F,EAA22F,CAA32F,EAA82F,CAA92F,EAAi3F,CAAj3F,EAAo3F,CAAp3F,EAAu3F,CAAv3F,EAA03F,CAA13F,EAA63F,CAA73F,EAAg4F,CAAh4F,EAAm4F,CAAn4F,EAAs4F,CAAt4F,EAAy4F,CAAz4F,EAA44F,EAA54F,EAAg5F,CAAh5F,EAAm5F,CAAn5F,EAAs5F,CAAt5F,EAAy5F,CAAz5F,EAA45F,CAA55F,EAA+5F,CAA/5F,EAAk6F,CAAl6F,EAAq6F,CAAr6F,EAAw6F,CAAx6F,EAA26F,CAA36F,EAA86F,CAA96F,EAAi7F,CAAj7F,EAAo7F,CAAp7F,EAAu7F,CAAv7F,EAA07F,CAA17F,EAA67F,CAA77F,EAAg8F,CAAh8F,EAAm8F,CAAn8F,EAAs8F,CAAt8F,EAAy8F,CAAz8F,EAA48F,CAA58F,EAA+8F,CAA/8F,EAAk9F,CAAl9F,EAAq9F,CAAr9F,EAAw9F,CAAx9F,EAA29F,CAA39F,EAA89F,CAA99F,EAAi+F,CAAj+F,EAAo+F,CAAp+F,EAAu+F,CAAv+F,EAA0+F,CAA1+F,EAA6+F,CAA7+F,EAAg/F,CAAh/F,EAAm/F,CAAn/F,EAAs/F,CAAt/F,EAAy/F,CAAz/F,EAA4/F,CAA5/F,EAA+/F,CAA//F,EAAkgG,CAAlgG,EAAqgG,CAArgG,EAAwgG,CAAxgG,EAA2gG,CAA3gG,EAA8gG,CAA9gG,EAAihG,CAAjhG,EAAohG,CAAphG,EAAuhG,CAAvhG,EAA0hG,CAA1hG,EAA6hG,CAA7hG,EAAgiG,EAAhiG,EAAoiG,CAApiG,EAAuiG,CAAviG,EAA0iG,CAA1iG,EAA6iG,CAA7iG,EAAgjG,CAAhjG,EAAmjG,CAAnjG,EAAsjG,CAAtjG,EAAyjG,CAAzjG,EAA4jG,CAA5jG,EAA+jG,CAA/jG,EAAkkG,CAAlkG,EAAqkG,CAArkG,EAAwkG,CAAxkG,EAA2kG,CAA3kG,EAA8kG,EAA9kG,EAAklG,GAAllG,EAAulG,GAAvlG,EAA4lG,GAA5lG,EAAimG,GAAjmG,EAAsmG,CAAtmG,EAAymG,CAAzmG,EAA4mG,CAA5mG,EAA+mG,EAA/mG,EAAmnG,GAAnnG,EAAwnG,GAAxnG,EAA6nG,GAA7nG,EAAkoG,GAAloG,EAAuoG,CAAvoG,EAA0oG,CAA1oG,EAA6oG,CAA7oG,EAAgpG,CAAhpG,EAAmpG,CAAnpG,EAAspG,CAAtpG,EAAypG,CAAzpG,EAA4pG,CAA5pG,EAA+pG,CAA/pG,EAAkqG,CAAlqG,EAAqqG,CAArqG,EAAwqG,EAAxqG,EAA4qG,CAA5qG,EAA+qG,CAA/qG,EAAkrG,CAAlrG,EAAqrG,CAArrG,EAAwrG,CAAxrG,EAA2rG,CAA3rG,EAA8rG,CAA9rG,EAAisG,CAAjsG,EAAosG,CAApsG,EAAusG,CAAvsG,EAA0sG,CAA1sG,EAA6sG,GAA7sG,EAAktG,GAAltG,EAAutG,GAAvtG,EAA4tG,GAA5tG,EAAiuG,EAAjuG,EAAquG,CAAruG,EAAwuG,CAAxuG,EAA2uG,CAA3uG,EAA8uG,EAA9uG,EAAkvG,GAAlvG,EAAuvG,GAAvvG,EAA4vG,GAA5vG,EAAiwG,GAAjwG,EAAswG,CAAtwG,EAAywG,CAAzwG,EAA4wG,CAA5wG,EAA+wG,CAA/wG,EAAkxG,CAAlxG,EAAqxG,CAArxG,EAAwxG,CAAxxG,EAA2xG,CAA3xG,EAA8xG,CAA9xG,EAAiyG,CAAjyG,EAAoyG,CAApyG,EAAuyG,CAAvyG,EAA0yG,CAA1yG,EAA6yG,CAA7yG,EAAgzG,GAAhzG,EAAqzG,EAArzG,EAAyzG,CAAzzG,EAA4zG,CAA5zG,EAA+zG,CAA/zG,EAAk0G,CAAl0G,EAAq0G,EAAr0G,EAAy0G,GAAz0G,EAA80G,CAA90G,EAAi1G,CAAj1G,EAAo1G,CAAp1G,EAAu1G,CAAv1G,EAA01G,CAA11G,EAA61G,EAA71G,EAAi2G,GAAj2G,EAAs2G,GAAt2G,EAA22G,GAA32G,EAAg3G,GAAh3G,EAAq3G,CAAr3G,EAAw3G,CAAx3G,EAA23G,CAA33G,EAA83G,CAA93G,EAAi4G,CAAj4G,EAAo4G,CAAp4G,EAAu4G,CAAv4G,EAA04G,CAA14G,EAA64G,GAA74G,EAAk5G,GAAl5G,EAAu5G,GAAv5G,EAA45G,GAA55G,EAAi6G,CAAj6G,EAAo6G,CAAp6G,EAAu6G,CAAv6G,EAA06G,CAA16G,EAA66G,CAA76G,EAAg7G,CAAh7G,EAAm7G,CAAn7G,EAAs7G,CAAt7G,EAAy7G,CAAz7G,EAA47G,CAA57G,EAA+7G,CAA/7G,EAAk8G,CAAl8G,EAAq8G,EAAr8G,EAAy8G,GAAz8G,EAA88G,GAA98G,EAAm9G,GAAn9G,EAAw9G,GAAx9G,EAA69G,EAA79G,EAAi+G,EAAj+G,EAAq+G,GAAr+G,EAA0+G,GAA1+G,EAA++G,GAA/+G,EAAo/G,GAAp/G,EAAy/G,GAAz/G,EAA8/G,CAA9/G,EAAigH,CAAjgH,EAAogH,CAApgH,EAAugH,CAAvgH,EAA0gH,EAA1gH,EAA8gH,GAA9gH,EAAmhH,GAAnhH,EAAwhH,GAAxhH,EAA6hH,GAA7hH,EAAkiH,CAAliH,EAAqiH,CAAriH,EAAwiH,CAAxiH,EAA2iH,EAA3iH,EAA+iH,GAA/iH,EAAojH,GAApjH,EAAyjH,GAAzjH,EAA8jH,GAA9jH,EAAmkH,CAAnkH,EAAskH,CAAtkH,EAAykH,CAAzkH,EAA4kH,CAA5kH,EAA+kH,CAA/kH,EAAklH,CAAllH,EAAqlH,CAArlH,EAAwlH,CAAxlH,EAA2lH,CAA3lH,EAA8lH,CAA9lH,EAAimH,CAAjmH,EAAomH,EAApmH,EAAwmH,GAAxmH,EAA6mH,GAA7mH,EAAknH,GAAlnH,EAAunH,GAAvnH,EAA4nH,CAA5nH,EAA+nH,CAA/nH,EAAkoH,CAAloH,EAAqoH,EAAroH,EAAyoH,GAAzoH,EAA8oH,GAA9oH,EAAmpH,GAAnpH,EAAwpH,GAAxpH,EAA6pH,CAA7pH,EAAgqH,CAAhqH,EAAmqH,CAAnqH,EAAsqH,CAAtqH,EAAyqH,CAAzqH,EAA4qH,CAA5qH,EAA+qH,CAA/qH,EAAkrH,CAAlrH,EAAqrH,CAArrH,EAAwrH,CAAxrH,EAA2rH,CAA3rH,EAA8rH,EAA9rH,EAAksH,GAAlsH,EAAusH,GAAvsH,EAA4sH,GAA5sH,EAAitH,EAAjtH,EAAqtH,CAArtH,EAAwtH,CAAxtH,EAA2tH,CAA3tH,EAA8tH,CAA9tH,EAAiuH,CAAjuH,EAAouH,CAApuH,EAAuuH,CAAvuH,EAA0uH,GAA1uH,EAA+uH,GAA/uH,EAAovH,GAApvH,EAAyvH,EAAzvH,EAA6vH,GAA7vH,EAAkwH,CAAlwH,EAAqwH,CAArwH,EAAwwH,CAAxwH,EAA2wH,GAA3wH,EAAgxH,GAAhxH,EAAqxH,GAArxH,EAA0xH,GAA1xH,EAA+xH,GAA/xH,EAAoyH,CAApyH,EAAuyH,CAAvyH,EAA0yH,CAA1yH,EAA6yH,CAA7yH,EAAgzH,CAAhzH,EAAmzH,CAAnzH,EAAszH,CAAtzH,EAAyzH,CAAzzH,EAA4zH,CAA5zH,EAA+zH,CAA/zH,EAAk0H,CAAl0H,EAAq0H,EAAr0H,EAAy0H,GAAz0H,EAA80H,GAA90H,EAAm1H,EAAn1H,EAAu1H,EAAv1H,EAA21H,CAA31H,EAA81H,CAA91H,EAAi2H,CAAj2H,EAAo2H,CAAp2H,EAAu2H,CAAv2H,EAA02H,CAA12H,EAA62H,CAA72H,EAAg3H,CAAh3H,EAAm3H,CAAn3H,EAAs3H,CAAt3H,EAAy3H,CAAz3H,EAA43H,CAA53H,EAA+3H,CAA/3H,EAAk4H,CAAl4H,EAAq4H,CAAr4H,EAAw4H,CAAx4H,EAA24H,CAA34H,EAA84H,CAA94H,EAAi5H,CAAj5H,EAAo5H,EAAp5H,EAAw5H,CAAx5H,EAA25H,CAA35H,EAA85H,CAA95H,EAAi6H,CAAj6H,EAAo6H,GAAp6H,EAAy6H,EAAz6H,EAA66H,CAA76H,EAAg7H,CAAh7H,EAAm7H,CAAn7H,EAAs7H,CAAt7H,EAAy7H,CAAz7H,EAA47H,EAA57H,EAAg8H,GAAh8H,EAAq8H,GAAr8H,EAA08H,GAA18H,EAA+8H,GAA/8H,EAAo9H,CAAp9H,EAAu9H,CAAv9H,EAA09H,CAA19H,EAA69H,CAA79H,EAAg+H,CAAh+H,EAAm+H,GAAn+H,EAAw+H,GAAx+H,EAA6+H,GAA7+H,EAAk/H,EAAl/H,EAAs/H,CAAt/H,EAAy/H,CAAz/H,EAA4/H,CAA5/H,EAA+/H,CAA//H,EAAkgI,GAAlgI,EAAugI,GAAvgI,EAA4gI,GAA5gI,EAAihI,EAAjhI,EAAqhI,EAArhI,EAAyhI,EAAzhI,EAA6hI,CAA7hI,EAAgiI,CAAhiI,EAAmiI,CAAniI,EAAsiI,CAAtiI,EAAyiI,CAAziI,EAA4iI,GAA5iI,EAAijI,CAAjjI,EAAojI,CAApjI,EAAujI,CAAvjI,EAA0jI,GAA1jI,EAA+jI,GAA/jI,EAAokI,CAApkI,EAAukI,GAAvkI,EAA4kI,GAA5kI,EAAilI,GAAjlI,EAAslI,CAAtlI,EAAylI,EAAzlI,EAA6lI,EAA7lI,EAAimI,CAAjmI,EAAomI,GAApmI,EAAymI,GAAzmI,EAA8mI,GAA9mI,EAAmnI,CAAnnI,EAAsnI,CAAtnI,EAAynI,CAAznI,EAA4nI,CAA5nI,EAA+nI,CAA/nI,EAAkoI,EAAloI,EAAsoI,GAAtoI,EAA2oI,GAA3oI,EAAgpI,GAAhpI,EAAqpI,GAArpI,EAA0pI,CAA1pI,EAA6pI,CAA7pI,EAAgqI,CAAhqI,EAAmqI,CAAnqI,EAAsqI,CAAtqI,EAAyqI,CAAzqI,EAA4qI,CAA5qI,EAA+qI,CAA/qI,EAAkrI,CAAlrI,EAAqrI,CAArrI,EAAwrI,CAAxrI,EAA2rI,CAA3rI,EAA8rI,CAA9rI,EAAisI,CAAjsI,EAAosI,CAApsI,EAAusI,CAAvsI,EAA0sI,CAA1sI,EAA6sI,CAA7sI,EAAgtI,CAAhtI,EAAmtI,EAAntI,EAAutI,GAAvtI,EAA4tI,GAA5tI,EAAiuI,GAAjuI,EAAsuI,EAAtuI,EAA0uI,CAA1uI,EAA6uI,CAA7uI,EAAgvI,CAAhvI,EAAmvI,CAAnvI,EAAsvI,CAAtvI,EAAyvI,CAAzvI,EAA4vI,CAA5vI,EAA+vI,CAA/vI,EAAkwI,CAAlwI,EAAqwI,CAArwI,EAAwwI,CAAxwI,EAA2wI,CAA3wI,EAA8wI,CAA9wI,EAAixI,CAAjxI,EAAoxI,CAApxI,EAAuxI,CAAvxI,EAA0xI,CAA1xI,EAA6xI,CAA7xI,EAAgyI,CAAhyI,EAAmyI,CAAnyI,EAAsyI,CAAtyI,EAAyyI,CAAzyI,EAA4yI,CAA5yI,EAA+yI,EAA/yI,EAAmzI,GAAnzI,EAAwzI,GAAxzI,EAA6zI,GAA7zI,EAAk0I,GAAl0I,EAAu0I,CAAv0I,EAA00I,CAA10I,EAA60I,CAA70I,EAAg1I,CAAh1I,EAAm1I,CAAn1I,EAAs1I,CAAt1I,EAAy1I,CAAz1I,EAA41I,CAA51I,EAA+1I,CAA/1I,EAAk2I,CAAl2I,EAAq2I,CAAr2I,EAAw2I,CAAx2I,EAA22I,CAA32I,EAA82I,CAA92I,EAAi3I,CAAj3I,EAAo3I,GAAp3I,EAAy3I,CAAz3I,EAA43I,CAA53I,EAA+3I,CAA/3I,EAAk4I,GAAl4I,EAAu4I,CAAv4I,EAA04I,CAA14I,EAA64I,CAA74I,EAAg5I,EAAh5I,EAAo5I,GAAp5I,EAAy5I,GAAz5I,EAA85I,EAA95I,EAAk6I,GAAl6I,EAAu6I,CAAv6I,EAA06I,CAA16I,EAA66I,CAA76I,EAAg7I,CAAh7I,EAAm7I,CAAn7I,EAAs7I,CAAt7I,EAAy7I,CAAz7I,EAA47I,CAA57I,EAA+7I,CAA/7I,EAAk8I,CAAl8I,EAAq8I,CAAr8I,EAAw8I,EAAx8I,EAA48I,CAA58I,EAA+8I,CAA/8I,EAAk9I,CAAl9I,EAAq9I,EAAr9I,EAAy9I,GAAz9I,EAA89I,GAA99I,EAAm+I,GAAn+I,EAAw+I,EAAx+I,EAA4+I,CAA5+I,EAA++I,CAA/+I,EAAk/I,CAAl/I,EAAq/I,EAAr/I,EAAy/I,GAAz/I,EAA8/I,GAA9/I,EAAmgJ,GAAngJ,EAAwgJ,EAAxgJ,EAA4gJ,CAA5gJ,EAA+gJ,CAA/gJ,EAAkhJ,CAAlhJ,EAAqhJ,CAArhJ,EAAwhJ,CAAxhJ,EAA2hJ,CAA3hJ,EAA8hJ,CAA9hJ,EAAiiJ,EAAjiJ,EAAqiJ,GAAriJ,EAA0iJ,GAA1iJ,EAA+iJ,GAA/iJ,EAAojJ,GAApjJ,EAAyjJ,CAAzjJ,EAA4jJ,CAA5jJ,EAA+jJ,CAA/jJ,EAAkkJ,CAAlkJ,EAAqkJ,CAArkJ,EAAwkJ,CAAxkJ,EAA2kJ,CAA3kJ,EAA8kJ,CAA9kJ,EAAilJ,GAAjlJ,EAAslJ,GAAtlJ,EAA2lJ,GAA3lJ,EAAgmJ,GAAhmJ,EAAqmJ,EAArmJ,EAAymJ,GAAzmJ,EAA8mJ,GAA9mJ,EAAmnJ,GAAnnJ,EAAwnJ,CAAxnJ,EAA2nJ,CAA3nJ,EAA8nJ,CAA9nJ,EAAioJ,CAAjoJ,EAAooJ,CAApoJ,EAAuoJ,CAAvoJ,EAA0oJ,CAA1oJ,EAA6oJ,CAA7oJ,EAAgpJ,CAAhpJ,EAAmpJ,CAAnpJ,EAAspJ,CAAtpJ,EAAypJ,CAAzpJ,EAA4pJ,EAA5pJ,EAAgqJ,GAAhqJ,EAAqqJ,GAArqJ,EAA0qJ,GAA1qJ,EAA+qJ,GAA/qJ,EAAorJ,CAAprJ,EAAurJ,CAAvrJ,EAA0rJ,CAA1rJ,EAA6rJ,EAA7rJ,EAAisJ,GAAjsJ,EAAssJ,GAAtsJ,EAA2sJ,GAA3sJ,EAAgtJ,GAAhtJ,EAAqtJ,CAArtJ,EAAwtJ,CAAxtJ,EAA2tJ,CAA3tJ,EAA8tJ,EAA9tJ,EAAkuJ,GAAluJ,EAAuuJ,EAAvuJ,EAA2uJ,GAA3uJ,EAAgvJ,EAAhvJ,EAAovJ,CAApvJ,EAAuvJ,CAAvvJ,EAA0vJ,CAA1vJ,EAA6vJ,CAA7vJ,EAAgwJ,CAAhwJ,EAAmwJ,CAAnwJ,EAAswJ,CAAtwJ,EAAywJ,CAAzwJ,EAA4wJ,EAA5wJ,EAAgxJ,EAAhxJ,EAAoxJ,GAApxJ,EAAyxJ,GAAzxJ,EAA8xJ,EAA9xJ,EAAkyJ,EAAlyJ,EAAsyJ,EAAtyJ,EAA0yJ,EAA1yJ,EAA8yJ,EAA9yJ,EAAkzJ,EAAlzJ,EAAszJ,EAAtzJ,EAA0zJ,EAA1zJ,EAA8zJ,EAA9zJ,CAAf,CAAD,CAAT,EAA81J,EAAE/iD,MAAM,WAAR,EAA91J,CAAd;;AAEA,SAASgjD,aAAT,CAAwB1kD,OAAxB,QAA4C;AAAA,QAAT+N,KAAS,QAATA,KAAS;;AACxC;AACA/N,YAAQ+N,KAAR,GAAgBA,KAAhB;AACA/N,YAAQsc,GAAR,GAAcqoC,IAAIC,eAAJ,CAAoBL,KAApB,CAAd;;AAEA;AACA,WAAOvkD,QAAQ6B,IAAR,MAAkB,2BAAkB7B,OAAlB,CAAzB;AACH;;AAEM,IAAM6kD,8CAAmB,iBAAzB;AACA,IAAMC,0CAAiB,eAAvB;AACA,IAAMC,gDAAoB,kBAA1B;;AAEP,IAAMC,uBAAuB,EAA7B;;AAEO,SAASV,WAAT,CAAqBt9C,SAArB,SAAoG;AAAA,QAAlE8G,UAAkE,SAAlEA,UAAkE;AAAA,4BAAtDC,KAAsD;AAAA,QAAtDA,KAAsD,+BAA9C,KAA8C;AAAA,iCAAvCC,UAAuC;AAAA,QAAvCA,UAAuC,oCAA1B,KAA0B;AAAA,8BAAnB3H,OAAmB;AAAA,QAAnBA,OAAmB,iCAAT,KAAS;;AACvG,QAAMrG,UAAUgH,UAAUi+C,cAAV,EAAhB;AACA,QAAM18B,MAAMxa,QAAQ,OAAR,QAAqBC,UAAjC;;AAEA;AACA,QAAI,CAACg3C,qBAAqBz8B,GAArB,CAAL,EAAgC;AAC5B;AACAy8B,6BAAqBz8B,GAArB,IAA4Bm8B,cAAc1kD,OAAd,EAAuB,EAAE+N,YAAF,EAAvB,EAAkCvB,KAAlC,CAAwC,UAAC8E,CAAD,EAAO;AACvE;AACA,gBAAI,CAACxD,WAAWK,SAAX,EAAD,IAA2BJ,UAAU,KAArC,IAA8CC,UAAlD,EAA8D;AAC1DD,wBAAQ,IAAR;AACA,uBAAO22C,cAAc1kD,OAAd,EAAuB,EAAE+N,YAAF,EAAvB,CAAP;AACH;AACD,kBAAMuD,CAAN;AACH,SAP2B,EAOzB3E,IAPyB,CAOpB,YAAM;AACV,gBAAIoB,KAAJ,EAAW;AACPi3C,qCAAqBz8B,GAArB,IAA4B,IAA5B,CADO,CAC2B;AAClC,uBAAOu8B,cAAP;AACH;AACD,mBAAOD,gBAAP;AACH,SAb2B,EAazBr4C,KAbyB,CAanB,iBAAS;AACdnH,yBAAa6/C,SAAb;AACAF,iCAAqBz8B,GAArB,IAA4B,IAA5B,CAFc,CAEoB;AAClC9b,kBAAMrO,MAAN,GAAe2mD,iBAAf;AACA,kBAAMt4C,KAAN;AACH,SAlB2B,CAA5B;AAmBH;;AAED;AACA,QAAM04C,UAAUH,qBAAqBz8B,GAArB,EAA0B5b,IAA1B,CAA+B,kBAAU;AACrDtH,qBAAa6/C,SAAb;AACA,YAAIp3C,WAAWK,SAAX,EAAJ,EAA4B;AACxB,gBAAM1B,QAAQ,IAAIkT,KAAJ,CAAU,6BAAV,CAAd;AACAlT,kBAAMrO,MAAN,GAAe,WAAf;AACA,kBAAMqO,KAAN;AACH;AACD,eAAOyB,MAAP;AACH,KARe,CAAhB;;AAUA;AACA,QAAIg3C,kBAAJ;AACA,QAAME,QAAQ,sBAAY,UAACr4C,OAAD,EAAUC,MAAV,EAAqB;AAC3Ck4C,oBAAYrlD,WAAW,YAAM;AACzBmlD,iCAAqBz8B,GAArB,IAA4B,IAA5B,CADyB,CACS;AAClC,gBAAM9b,QAAQ,IAAIkT,KAAJ,CAAU,yBAAV,CAAd;AACAlT,kBAAMrO,MAAN,GAAe,SAAf;AACA4O,mBAAOP,KAAP;AACH,SALW,EAKTpG,OALS,CAAZ;AAMH,KAPa,CAAd;AAQA,WAAO,kBAAQg/C,IAAR,CAAa,CAAEF,OAAF,EAAWC,KAAX,CAAb,CAAP;AACH,C;;;;;;;;;;;;;;;;;QCpGeE,K,GAAAA,K;QAMAt8B,U,GAAAA,U;;AAPhB;AACO,SAASs8B,KAAT,CAAe/7C,QAAf,EAAyBC,YAAzB,EAAuC;AAC1C,WAAO1G,KAAK2b,GAAL,CAASlV,QAAT,KAAsBzG,KAAKF,GAAL,CAAS4G,YAAT,EAAuB,CAAvB,CAA7B;AACH;;AAED;AACA;AACO,SAASwf,UAAT,CAAoBzf,QAApB,EAA8BC,YAA9B,EAA4C;AAC/C,QAAM+7C,gBAAiB/7C,iBAAiBzD,SAAlB,GAA+B,GAA/B,GAAqCyD,YAA3D;AACA,QAAI9H,OAAO,KAAX;;AAEA,QAAI6H,aAAagO,QAAjB,EAA2B;AACvB;AACA7V,eAAO,MAAP;AACH,KAHD,MAGO,IAAI6H,WAAW,CAAf,EAAkB;AACrB7H,eAAO4jD,MAAM/7C,QAAN,EAAgBg8C,aAAhB,IAAiC,KAAjC,GAAyC,MAAhD;AACH;;AAED;AACA,WAAO7jD,IAAP;AACH,C;;;;;;;;;;;;;;;;;;ACrBD;;AACA;;;;;;AAEA,IAAM8jD,aAAa,WAAnB;AACA,IAAMC,cAAc,YAApB;;AAEA;AACA;AACA,IAAMC,2BAA4B,SAA5BA,wBAA4B,CAASjyC,QAAT,EAAmB;AACjD,QAAIkyC,UAAU,CAAd;AACA,WAAO,UAAUtkD,GAAV,EAAe;AAClB,YAAMsN,MAAMtN,IAAIwB,QAAhB;AACA,YAAI8L,MAAMg3C,OAAV,EAAmB;AACflyC;AACH;AACD;AACA;AACAkyC,kBAAUh3C,GAAV;AACH,KARD;AASH,CAXD;;AAaA,SAASi3C,sBAAT,CAAgC7lD,KAAhC,EAAuC+wB,iBAAvC,EAA0D;AACtDA,sBAAkB1rB,GAAlB,6BAA0CrF,MAAM8lD,cAAhD;AACA/0B,sBAAkB1rB,GAAlB,+BAA4CrF,MAAM+lD,kBAAlD;AACAh1B,sBAAkB1rB,GAAlB,qBAAkCrF,MAAMgmD,OAAxC;AACAhmD,UAAMqF,GAAN,CAAU,kBAAV,EAA8BrF,MAAMimD,aAApC;AACH;;AAED,SAASC,eAAT,CAAyBlmD,KAAzB,EAAgC+wB,iBAAhC,EAAmD;AAC/C,QAAI/wB,MAAMimD,aAAV,EAAyB;AACrBJ,+BAAuB7lD,KAAvB,EAA8B+wB,iBAA9B;AACH;;AAED;AACA,QAAItuB,OAAO,KAAX;AACAzC,UAAM+lD,kBAAN,GAA2B,YAAW;AAClC,YAAItjD,IAAJ,EAAU;AACN;AACH;AACDA,eAAO,IAAP;AACA,YAAM0jD,UAAUnmD,MAAMsT,QAAtB;AACA6yC,gBAAQC,IAAR;;AAEA,YAAMlmC,OAAOimC,QAAQE,aAAR,EAAb;AACAt1B,0BAAkBtwB,OAAlB,4BAA6C,EAAE6lD,UAAUpmC,IAAZ,EAA7C;AACA2lC,+BAAuB7lD,KAAvB,EAA8B+wB,iBAA9B;AACH,KAXD;;AAaA/wB,UAAMgmD,OAAN,GAAgBL,yBAAyB3lD,MAAM+lD,kBAA/B,CAAhB;;AAEA/lD,UAAM8lD,cAAN,GAAuB,YAAW;AAC9B9lD,cAAMsT,QAAN,CAAe8yC,IAAf;AACH,KAFD;;AAIA;AACApmD,UAAMimD,aAAN,GAAsB,UAASnlD,YAAT,EAAuBylD,SAAvB,EAAkC;AACpD,YAAIA,SAAJ,EAAe;AACXvmD,kBAAMsT,QAAN,CAAe8yC,IAAf,CAAoBV,WAApB;AACH,SAFD,MAEO;AACH1lD,kBAAMsT,QAAN,CAAe8yC,IAAf,CAAoBX,UAApB;AACH;AACJ,KAND;;AAQAzlD,UAAMQ,EAAN,CAAS,kBAAT,EAA6BR,MAAMimD,aAAnC;AACAl1B,sBAAkBvwB,EAAlB,6BAAyCR,MAAM8lD,cAA/C;AACA/0B,sBAAkBtuB,IAAlB,+BAA6CzC,MAAM+lD,kBAAnD;AACAh1B,sBAAkBvwB,EAAlB,qBAAiCR,MAAMgmD,OAAvC;AACH;;AAED,IAAMQ,UAAU,SAAVA,OAAU,CAASC,YAAT,EAAuB11B,iBAAvB,EAA0C;AACtD,aAAS21B,YAAT,CAAsB1mD,KAAtB,EAA6BsJ,UAA7B,EAAyCq9C,aAAzC,EAAwD;AACpD;AACA,YAAI3mD,MAAMsT,QAAN,IAAkBqzC,aAAtB,EAAqC;AACjC3mD,kBAAMsT,QAAN,CAAeiI,GAAf,CAAmBorC,cAActmD,GAAd,CAAkB,YAAlB,CAAnB;AACH;AACD;AACAL,cAAMsT,QAAN,GAAiB,qBAAjB;AACAtT,cAAMsT,QAAN,CAAe+yC,aAAf,GAA+B,YAAW;AACtC,gBAAMnmC,OAAO,KAAKjd,OAAL,uDAAb;AACA;AACA;AACA,gBAAM2jD,aAAa,KAAK3jD,OAAL,CAAayiD,WAAb,4BAAnB;AACA,gBAAIkB,aAAa,CAAb,IAAkBA,aAAa1mC,IAAnC,EAAyC;AACrC,uBAAO0mC,UAAP;AACH;AACD,mBAAO1mC,IAAP;AACH,SATD;AAUAlgB,cAAMsT,QAAN,CAAe8yC,IAAf;AACApmD,cAAMsT,QAAN,CAAe6J,KAAf,CAAqB7T,WAAWjJ,GAAX,CAAe,YAAf,CAArB;;AAEA6lD,wBAAgBlmD,KAAhB,EAAuB+wB,iBAAvB;;AAEAznB,mBAAW9I,EAAX,CAAc,mBAAd,EAAmC,UAAUqmD,gBAAV,EAA4BpgD,QAA5B,EAAsC+qB,QAAtC,EAAgD;AAC/E,gBAAI/qB,aAAa+qB,QAAjB,EAA2B;AACvBxxB,sBAAMsT,QAAN,CAAeiI,GAAf,CAAmBiW,QAAnB;AACAxxB,sBAAMsT,QAAN,CAAe6J,KAAf,CAAqB1W,QAArB;AACH;AACJ,SALD;AAMH;;AAEDggD,iBAAa5lD,MAAb,CAAoB,YAApB,EAAkC6lD,YAAlC;AACH,CAhCD;;kBAkCeF,O;;;;;;;;;;;;;;;;;kBCvGSM,U;AAAT,SAASA,UAAT,CAAoBC,UAApB,EAAgC;AAC3C,QAAI,CAACA,UAAD,IAAe,CAACA,WAAW5iD,MAA/B,EAAuC;AACnC,eAAO,CAAP;AACH;;AAED,WAAO4iD,WAAWxrC,GAAX,CAAewrC,WAAW5iD,MAAX,GAAoB,CAAnC,CAAP;AACH,C;;;;;;;;;;;;;;;;;QCNe6iD,Y,GAAAA,Y;AAAT,SAASA,YAAT,CAAsB5sC,KAAtB,EAA6B;AAChC,WAAO;AACHc,iBAASd,MAAMc,OADZ;AAEHC,eAAOf,MAAMe,KAFV;AAGHvD,eAAOwC,MAAMxC,KAHV;AAIHF,gBAAQ0C,MAAM1C;AAJX,KAAP;AAMH,C;;;;;;;;;;;;;;;;;;ACPD;;AAIA;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMuvC,qBAAqB;AACvB/uC,WADuB,qBACb;AACN,aAAKzX,OAAL;AACH,KAHsB;AAKvBqB,QALuB,kBAKhB;AACH,aAAKmX,SAAL,GAAiB,CAAC,CAAlB;AACA,YAAI,CAAC,KAAKe,KAAL,CAAW2D,MAAZ,IAAsB,KAAKpc,KAAL,0BAA1B,EAAwD;AACpD,iBAAKwX,QAAL;AACH;AACJ,KAVsB;AAYvB1B,kBAZuB,4BAYN;AACb,YAAII,WAAW;AACXjO,sBAAU,KAAK8N,WAAL,EADC;AAEXI,oBAAQ,KAAKsC,KAAL,CAAWrC,WAFR;AAGXC,mBAAO,KAAKoC,KAAL,CAAWnC;AAHP,SAAf;AAKA,YAAIqvC,UAAU,KAAKA,OAAnB;AACA,YAAIA,OAAJ,EAAa;AACTzvC,qBAAS0vC,GAAT,GAAeD,OAAf;AACH;AACD,aAAKzmD,OAAL,qBAAyBgX,QAAzB;AACH,KAvBsB;AAyBvBd,cAzBuB,wBAyBV;AACT,YAAIe,SAAS,KAAKsC,KAAL,CAAWrC,WAAxB;AACA,YAAID,WAAW,KAAK0vC,sBAApB,EAA4C;AACxC,gBAAI,KAAKC,UAAT,EAAqB;AACjB,qBAAKA,UAAL,CAAgB;AACZ5b,0BAAM;AACF7zB,+BAAO,KAAKoC,KAAL,CAAWnC,UADhB;AAEFH,gCAAQA;AAFN;AADM,iBAAhB;AAMH;AACJ;AACD,aAAK0vC,sBAAL,GAA8B1vC,MAA9B;;AAEA,YAAM5U,WAAW,KAAK6V,cAAL,EAAjB;AACA,YAAMnP,WAAW,KAAK8N,WAAL,EAAjB;AACA,YAAIgE,MAAM9R,QAAN,CAAJ,EAAqB;AACjB;AACH;;AAED,YAAI,CAAC,KAAK2M,OAAN,IAAiB,CAAC,KAAK6D,KAAL,CAAW2D,MAA7B,KACC,KAAKpc,KAAL,8BAAgC,KAAKA,KAAL,0BADjC,KAEA,KAAK0X,SAAL,KAAmB,KAAKN,cAAL,EAFvB,EAE8C;AAC1C,iBAAKM,SAAL,GAAiB,CAAC,CAAlB;AACA,iBAAKF,QAAL;AACH;;AAED,YAAIuuC,kBAAkB;AAClBxkD,8BADkB;AAElB0G,8BAFkB;AAGlBsN,yBAAa,KAAKkD,KAAL,CAAWlD,WAHN;AAIlBW,sBAAU;AACNX,6BAAa,KAAKkD,KAAL,CAAWlD;AADlB;AAJQ,SAAtB;AAQA,YAAI,KAAKywC,YAAT,EAAuB;AACnB,gBAAIC,YAAY,KAAKD,YAAL,EAAhB;AACA,gBAAIC,aAAa,CAAjB,EAAoB;AAChBF,gCAAgB7vC,QAAhB,CAAyBgwC,MAAzB,GAAkCD,YAAY1kD,QAA9C;AACH;AACJ;;AAED;AACA,YAAI,KAAKvB,KAAL,8BAAgC,KAAK4U,OAAzC,EAAkD;AAC9C,iBAAK1V,OAAL,qBAAyB6mD,eAAzB;AACH;AACJ,KAvEsB;AAyEvB/rB,SAzEuB,iBAyEjBj6B,GAzEiB,EAyEZ;AACP,aAAKb,OAAL,gBAAoBa,GAApB;AACH,KA3EsB;AA6EvBomD,gBA7EuB,0BA6ER;AACX,YAAI1tC,QAAQ,KAAKA,KAAjB;;AAEA,aAAKvZ,OAAL,uBAA2B;AACvBqI,oBAAQ/F,KAAKuI,KAAL,CAAW0O,MAAMlR,MAAN,GAAe,GAA1B;AADe,SAA3B;;AAIA,aAAKrI,OAAL,qBAAyB;AACrBtB,kBAAM6a,MAAMhM;AADS,SAAzB;AAGH,KAvFsB;AAyFvB6K,UAzFuB,oBAyFd;AACL,YAAI,CAAC,KAAK1C,OAAV,EAAmB;AACf;AACH;AACD,aAAKA,OAAL,GAAe,KAAf;AACA,aAAK1V,OAAL;AACH,KA/FsB;AAiGvBknD,WAjGuB,qBAiGb;AACN;AACA;AACA,YAAI,KAAK1uC,SAAL,KAAmB,CAAC,CAAxB,EAA2B;AACvB;AACA,iBAAKF,QAAL;AACH;AACD,aAAKtY,OAAL;AACH,KAzGsB;AA2GvBoB,SA3GuB,mBA2Gf;AACJ;AACA,YAAI,KAAKN,KAAL,2BAAJ,EAAmC;AAC/B;AACH;AACD,YAAI,KAAKyY,KAAL,CAAW9C,KAAf,EAAsB;AAClB;AACH;AACD,YAAI,KAAK8C,KAAL,CAAWtN,KAAf,EAAsB;AAClB;AACH;AACD;AACA,YAAI,KAAKsN,KAAL,CAAWlD,WAAX,KAA2B,KAAKkD,KAAL,CAAWxQ,QAA1C,EAAoD;AAChD;AACH;AACD,aAAKuP,QAAL;AACH,KA3HsB;AA6HvBtC,YA7HuB,sBA6HZ;AACP,YAAI+gB,MAAM,KAAKlgB,WAAL,EAAV;AACA,YAAIkgB,OAAO,CAAP,IAAYA,QAAQhgB,QAAxB,EAAkC;AAC9B;AACH;AACD,YAAIowC,MAAM,KAAK5tC,KAAL,CAAW6G,QAArB;AACA,YAAI,CAAC+mC,GAAD,IAAQA,IAAIzjD,MAAJ,KAAe,CAA3B,EAA8B;AAC1B;AACH;;AAED,YAAI0c,WAAW,kBAAM5d,OAAN,CAAc2kD,IAAIrsC,GAAJ,CAAQqsC,IAAIzjD,MAAJ,GAAa,CAArB,IAA0BqzB,GAAxC,EAA6C,CAA7C,EAAgD,CAAhD,CAAf;AACA,aAAK/2B,OAAL,uBAA2B;AACvB4wB,2BAAexQ,WAAW,GADH;AAEvB/d,sBAAU,KAAK6V,cAAL,EAFa;AAGvBnP,sBAAUguB;AAHa,SAA3B;AAKH,KA7IsB;AA+IvBqwB,cA/IuB,wBA+IV;AACT,aAAKpnD,OAAL,4BAAgC,EAAEwI,cAAc,KAAK+Q,KAAL,CAAW/Q,YAA3B,EAAhC;AACH,KAjJsB;AAmJvBiO,SAnJuB,mBAmJf;AACJ,aAAKkwC,sBAAL,GAA8B,CAA9B;AACA,YAAI,KAAK7lD,KAAL,2BAA6B,KAAKA,KAAL,2BAAjC,EAAgE;AAC5D,iBAAKd,OAAL;AACH;AACJ,KAxJsB;AAyJvBsX,cAzJuB,wBAyJT;AACV;AACA,YAAI,KAAK3B,cAAT,EAAyB;AACrB,iBAAKmC,aAAL,CAAmB,KAAKyB,KAAL,CAAWL,UAA9B;AACH;AACJ,KA9JsB;AA+JvBjN,SA/JuB,mBA+Jf;AACJ,YAAIo7C,OAAQ,KAAK9tC,KAAL,CAAWtN,KAAX,IAAoB,KAAKsN,KAAL,CAAWtN,KAAX,CAAiBo7C,IAAtC,IAA+C,CAAC,CAA3D;AACA,YAAIp/C,UAAW;AACX,eAAG,2BADQ;AAEX,eAAG,uBAFQ;AAGX,eAAG,sBAHQ;AAIX,eAAG;AAJQ,UAKbo/C,IALa,KAKJ,SALX;AAMA,aAAKrnD,OAAL,sBAA0B;AACtBqnD,kBAAMA,IADgB;AAEtBp/C,qBAAS,0BAA0BA;AAFb,SAA1B;AAIH;AA3KsB,CAA3B;;kBA8Keu+C,kB;;;;;;;;;;;;;;;;;;AC3Lf;;AACA;;;;;;AAEA,IAAMc,oBAAoB;AACtB3pC,eAAW,IADW;;AAGtBtV,UAHsB,kBAGfD,GAHe,EAGV;AACRA,cAAM9F,KAAKF,GAAL,CAASE,KAAKH,GAAL,CAASiG,MAAM,GAAf,EAAoB,CAApB,CAAT,EAAiC,CAAjC,CAAN;AACA,aAAKmR,KAAL,CAAWlR,MAAX,GAAoBD,GAApB;AACH,KANqB;AAQtB1J,QARsB,gBAQjBoC,KARiB,EAQV;AACR,aAAKyY,KAAL,CAAWhM,KAAX,GAAmB,CAAC,CAACzM,KAArB;AACA,YAAI,CAAC,KAAKyY,KAAL,CAAWhM,KAAhB,EAAuB;AACnB;AACA;AACA,iBAAKgM,KAAL,CAAW+C,eAAX,CAA2B,OAA3B;AACH;AACJ,KAfqB;AAiBtBzI,UAjBsB,kBAiBfsD,KAjBe,EAiBRF,MAjBQ,EAiBA4G,UAjBA,EAiBY;AAC9B,YAAI,CAAC1G,KAAD,IAAU,CAACF,MAAX,IAAqB,CAAC,KAAKsC,KAAL,CAAWnC,UAAjC,IAA+C,CAAC,KAAKmC,KAAL,CAAWrC,WAA/D,EAA4E;AACxE,mBAAO,KAAP;AACH;AACD,YAAI2G,eAAe,SAAnB,EAA8B;AAC1B;AACA,gBAAIE,oBAAoB5G,QAAQF,MAAhC;AACA,gBAAI+G,mBAAmB,KAAKzE,KAAL,CAAWnC,UAAX,GAAwB,KAAKmC,KAAL,CAAWrC,WAA1D;AACA,gBAAIqF,YAAY,IAAhB;AACA,gBAAIja,KAAK2b,GAAL,CAASF,oBAAoBC,gBAA7B,IAAiD,IAArD,EAA2D;AACvDzB,4BAAY,MAAZ;AACH;AACD,4BAAM,KAAKhD,KAAX,EAAkB;AACdgD,oCADc;AAEdpF,uBAAO,IAFO;AAGdF,wBAAQ;AAHM,aAAlB;AAKH;AACD,eAAO,KAAP;AACH,KApCqB;AAsCtB1Z,gBAtCsB,0BAsCP;AACX,eAAO,KAAKogB,SAAZ;AACH,KAxCqB;AA0CtBoyB,gBA1CsB,wBA0CTvwC,OA1CS,EA0CA;AAClB,aAAKme,SAAL,GAAiBne,OAAjB;AACA,YAAI,KAAK+Z,KAAL,CAAWzU,UAAX,KAA0BtF,OAA9B,EAAuC;AACnCA,oBAAQ9B,WAAR,CAAoB,KAAK6b,KAAzB;AACH;AACJ,KA/CqB;AAiDtB8nB,UAjDsB,oBAiDb;AACL,aAAKpwB,IAAL;AACA,aAAK1Q,OAAL;AACA,YAAMod,YAAY,KAAKA,SAAvB;AACA,YAAIA,aAAaA,cAAc,KAAKpE,KAAL,CAAWzU,UAA1C,EAAsD;AAClD6Y,sBAAU3Y,WAAV,CAAsB,KAAKuU,KAA3B;AACH;AACJ,KAxDqB;AA0DtBhB,sBA1DsB,gCA0DD;AACjB,YAAI,CAAC,KAAKkB,MAAL,EAAL,EAAoB;AAChB,mBAAO,KAAP;AACH;;AAED;AACA,YAAM8tC,YAAY,CAAlB;AACA,eAAQ,0BAAW,KAAKhuC,KAAL,CAAW6G,QAAtB,IAAkC,KAAK7G,KAAL,CAAWlD,WAA9C,IAA8DkxC,SAArE;AACH;AAlEqB,CAA1B;;kBAqEeD,iB;;;;;;;;;;;;;;;;;;ACvEf,IAAME,qBAAqB;AAEvBl2C,eAFuB,yBAET;AACV,aAAKyH,SAAL;AACH,KAJsB;AAMvB1H,eANuB,yBAMT;AACV,aAAK2H,UAAL;;AAEA,eAAO,KAAKO,KAAZ;AACH;AAVsB,CAA3B;;kBAaeiuC,kB;;;;;;;;;;;;;;;;;;ACdf;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA;AACA,IAAMC,SAAS;AACXC,iBAAa,IADF;AAEX3vC,iBAAa,IAFF;AAGXy4B,iBAAa,IAHF;AAIXmX,oBAAgB,IAJL;AAKXC,oBAAgB,IALL;AAMXC,yBAAqB,IANV;AAOXC,4BAAwB,CAAC,CAPd;AAQXrX,mBAAe,CARJ;AASXsX,wBAAoB,IATT;AAUXC,qBAAiBA,eAVN;AAWXxuC,uBAAmBA,iBAXR;AAYXmD,iBAAaA,WAZF;AAaXsrC,kBAAcA,YAbH;AAcX7uC,sBAAkBA,gBAdP;AAeXE,qBAAiBA,eAfN;AAgBX4uC,uBAAmBA,iBAhBR;AAiBXjvC,0BAAsBA,oBAjBX;AAkBXkvC,mBAAeA,aAlBJ;AAmBXrwC,mBAAeA,aAnBJ;AAoBXkF,2BAAuBA,qBApBZ;AAqBXizB,uBAAmBA,iBArBR;AAsBX92B,4BAAwB,IAtBb;AAuBXivC,qBAAiB,IAvBN;AAwBXC,oBAAgBA,cAxBL;AAyBXC,oBAAgBA,cAzBL;AA0BXC,eAAWA,SA1BA;AA2BXC,uBAAmBA,iBA3BR;AA4BX7yC,oBAAgB;AA5BL,CAAf;;AA+BA,SAASmC,aAAT,CAAuBnP,MAAvB,EAA+B;AAC3B,SAAKm/C,sBAAL,GAA8B,CAAC,CAA/B;AACA,QAAI,CAACn/C,MAAL,EAAa;AACT;AACH;;AAED,QAAI,CAAC,KAAKoP,WAAV,EAAuB;AACnB,aAAKiwC,eAAL;AACH,KAFD,MAEO;AACH;AACA,aAAKvX,aAAL,GAAqB,CAArB;AACA,aAAK14B,WAAL,GAAmB,qBAAEvL,MAAF,CAAS,KAAKuL,WAAd,EAA2B,UAASnP,KAAT,EAAgB;AAC1D,gBAAMqqB,UAAUrqB,MAAMyqB,GAAtB;AACA,gBAAI,KAAK1d,cAAL,IAAuBsd,OAAvB,IAAkCA,QAAQpO,OAAR,CAAgB,gBAAhB,MAAsC,CAA5E,EAA+E;AAC3E,uBAAO,KAAK2rB,WAAL,CAAiBvd,OAAjB,CAAP;AACA,uBAAO,IAAP;AACH,aAHD,MAGO,IAAIrqB,MAAMiX,IAAN,IAAcjX,MAAMiX,IAAN,CAAWgF,OAAX,CAAmB,SAAnB,MAAkC,CAApD,EAAuD;AAC1D,qBAAK4rB,aAAL;AACH;AACJ,SARkB,EAQhB,IARgB,CAAnB;;AAUA;AACA,eAAO,KAAKD,WAAL,CAAiBiY,cAAxB;AACH;;AAED;AACA,QAAI9/C,OAAOjF,MAAX,EAAmB;AACf,YAAI4X,IAAI,CAAR;AACA,YAAIs1B,MAAMjoC,OAAOjF,MAAjB;;AAEA,aAAK4X,CAAL,EAAQA,IAAIs1B,GAAZ,EAAiBt1B,GAAjB,EAAsB;AAClB,gBAAI1S,QAAQD,OAAO2S,CAAP,CAAZ;AACA,gBAAI,CAAC1S,MAAMyqB,GAAX,EAAgB;AACZ,oBAAIzqB,MAAMuqB,IAAN,KAAe,UAAf,IAA6BvqB,MAAMuqB,IAAN,KAAe,UAAhD,EAA4D;AACxDvqB,0BAAMyqB,GAAN,GAAY,WAAWzqB,MAAMuqB,IAAjB,GAAwB7X,CAApC;AACA,wBAAI,CAAC1S,MAAM8R,KAAP,IAAgB9R,MAAMuqB,IAAN,KAAe,UAAnC,EAA+C;AAC3C;AACA;AACA,4BAAIge,YAAY,+BAAYvoC,KAAZ,EAAmB,KAAK6nC,aAAxB,CAAhB;AACA7nC,8BAAMiX,IAAN,GAAasxB,UAAUz2B,KAAvB;AACA,6BAAK+1B,aAAL,GAAqBU,UAAU7d,YAA/B;AACH;AACJ,iBATD,MASO;AACH1qB,0BAAMyqB,GAAN,GAAY,4BAASzqB,KAAT,EAAgB,KAAKmP,WAAL,CAAiBrU,MAAjC,CAAZ;AACH;AACD,oBAAI,KAAK8sC,WAAL,CAAiB5nC,MAAMyqB,GAAvB,CAAJ,EAAiC;AAC7B;AACA;AACH;AACDzqB,sBAAM8/C,KAAN,GAAc,IAAd;AACH;AACD,gBAAI,CAAC9/C,MAAM8/C,KAAP,IAAgB,KAAKlY,WAAL,CAAiB5nC,MAAMyqB,GAAvB,CAApB,EAAiD;AAC7C;AACH;AACD;AACA,gBAAIzqB,MAAMuqB,IAAN,KAAe,UAAnB,EAA+B;AAC3B;AACAvqB,sBAAM+H,IAAN,GAAa,QAAb;AACA/H,sBAAM+/C,WAAN,GAAoBC,kBAAkB79B,IAAlB,CAAuB,IAAvB,CAApB;AACA,qBAAKylB,WAAL,CAAiB5nC,MAAMyqB,GAAvB,IAA8BzqB,KAA9B;AACH,aALD,MAKO,IAAIioC,eAAejoC,MAAMuqB,IAArB,CAAJ,EAAgC;AACnC,oBAAIxiB,OAAO/H,MAAM+H,IAAjB;AACA,oBAAIqhB,GAAJ;;AAEA;AACAppB,sBAAM+H,IAAN,GAAa,QAAb;;AAEA,oBAAI,CAAC/H,MAAMwL,IAAN,CAAW1Q,MAAZ,IAAsBkF,MAAMigD,QAAhC,EAA0C;AACtC;AACA;AACA;AACH;;AAEDjgD,sBAAM+H,IAAN,GAAaA,IAAb;;AAEA;AACA,oBAAI,KAAKg3C,cAAL,CAAoB/+C,MAAMyqB,GAA1B,KAAkC,CAAC,KAAKs0B,cAAL,CAAoB/+C,MAAMyqB,GAA1B,EAA+By1B,MAAtE,EAA8E;AAC1E,wBAAI10C,OAAO,KAAKuzC,cAAL,CAAoB/+C,MAAMyqB,GAA1B,EAA+Bjf,IAA1C;AACA,2BAAQ4d,MAAM5d,KAAK20C,KAAL,EAAd,EAA6B;AACzBC,uCAAe,KAAKrzC,cAApB,EAAoC/M,KAApC,EAA2CopB,GAA3C;AACH;AACDppB,0BAAM+H,IAAN,GAAaA,IAAb;AACA,yBAAKg3C,cAAL,CAAoB/+C,MAAMyqB,GAA1B,EAA+By1B,MAA/B,GAAwC,IAAxC;AACH;;AAEDG,gCAAgB1hD,IAAhB,CAAqB,IAArB,EAA2BqB,KAA3B;AACH;AACJ;AACJ;;AAED,QAAI,KAAK+M,cAAT,EAAyB;AACrB;AACA,aAAKwD,sBAAL,GAA8B,KAAKA,sBAAL,IAA+BA,uBAAuB4R,IAAvB,CAA4B,IAA5B,CAA7D;AACA,aAAKvR,iBAAL,CAAuB,KAAKD,KAAL,CAAWL,UAAlC,EAA8C,QAA9C,EAAwD,KAAKC,sBAA7D;;AAEA,YAAI,qBAAQ+vC,IAAR,IAAgB,qBAAQ5rC,OAAxB,IAAmC,qBAAQzH,MAA/C,EAAuD;AACnD;AACA,iBAAKuyC,eAAL,GAAuB,KAAKA,eAAL,IAAwBA,gBAAgBr9B,IAAhB,CAAqB,IAArB,CAA/C;AACA,iBAAKvR,iBAAL,CAAuB,KAAKD,KAAL,CAAWL,UAAlC,EAA8C,UAA9C,EAA0D,KAAKkvC,eAA/D;AACH;AACJ;;AAED,QAAI,KAAKrwC,WAAL,CAAiBrU,MAArB,EAA6B;AACzB,aAAK1D,OAAL,CAAa,iBAAb,EAAgC,EAAE2I,QAAQ,KAAKoP,WAAf,EAAhC;AACH;AACJ;;AAED,SAASiF,qBAAT,CAA+BmsC,UAA/B,EAA2C;AACvC;;AAEA,QAAI,CAAC,KAAKxzC,cAAV,EAA0B;AACtB;AACH;AACD;AACA,QAAIyzC,gBAAgBD,eAAe,KAAKzB,WAAxC;AACA,QAAI,CAAC0B,aAAL,EAAoB;AAChB,qCAAU,KAAK1B,WAAf;AACH;AACD,SAAKA,WAAL,GAAmByB,UAAnB;AACA,QAAI,CAACA,UAAL,EAAiB;AACb;AACH;;AAED,QAAI,CAACC,aAAL,EAAoB;AAChB,aAAKhwC,gBAAL;AACAiwC,mCAA2B9hD,IAA3B,CAAgC,IAAhC;AACA,aAAK4gD,aAAL,CAAmBgB,UAAnB;AACH;AACJ;;AAED,SAASjB,iBAAT,GAA6B;AACzB,WAAO,KAAKJ,sBAAZ;AACH;;AAED,SAAS7X,iBAAT,CAA2BqZ,SAA3B,EAAsC;AAClC,QAAI,CAAC,KAAK3zC,cAAV,EAA0B;AACtB,YAAI,KAAK4zC,uBAAT,EAAkC;AAC9B,iBAAKA,uBAAL,CAA6BD,YAAY,CAAzC;AACH;AACD;AACH;;AAED,QAAI,CAAC,KAAKvxC,WAAV,EAAuB;AACnB;AACH;;AAED;AACA,QAAIuxC,cAAc,CAAlB,EAAqB;AACjB,6BAAEtuB,IAAF,CAAO,KAAKjjB,WAAZ,EAAyB,UAAUnP,KAAV,EAAiB;AACtCA,kBAAM+H,IAAN,GAAa/H,MAAMigD,QAAN,GAAiB,QAAjB,GAA4B,UAAzC;AACH,SAFD;AAGH;;AAED;AACA;AACA,QAAI,KAAKf,sBAAL,KAAgCwB,YAAY,CAAhD,EAAmD;AAC/C;AACH;;AAED;AACA,SAAKlwC,gBAAL;;AAEA;AACA,SAAK0uC,sBAAL,GAA8BwB,YAAY,CAA1C;;AAEA,QAAI,KAAKvxC,WAAL,CAAiB,KAAK+vC,sBAAtB,CAAJ,EAAmD;AAC/C,aAAK/vC,WAAL,CAAiB,KAAK+vC,sBAAtB,EAA8Cn3C,IAA9C,GAAqD,SAArD;AACH;;AAED;AACA,SAAK3Q,OAAL,CAAa,uBAAb,EAAsC;AAClCggB,sBAAc,KAAK8nC,sBAAL,GAA8B,CADV;AAElCn/C,gBAAQ,KAAKoP;AAFqB,KAAtC;AAIH;;AAED,SAASuwC,cAAT,CAAwBkB,OAAxB,EAAiC;AAC7B,QAAI,CAACA,QAAQviC,IAAT,IAAiB,CAACuiC,QAAQpiC,KAA1B,IAAmC,CAACoiC,QAAQ1uC,GAAhD,EAAqD;AACjD;AACH;AACD,QAAImY,UAAUu2B,QAAQC,OAAR,CAAgB/pB,QAAhB,EAAd;AACA,QAAI92B,QAAQ,KAAK4nC,WAAL,IAAoB,KAAKA,WAAL,CAAiBvd,OAAjB,CAAhC;AACA,QAAI,CAACrqB,KAAL,EAAY;AACRA,gBAAQ;AACJuqB,kBAAM,UADF;AAEJE,iBAAKJ,OAFD;AAGJxyB,kBAAM;AAHF,SAAR;AAKA,aAAK0nD,aAAL,CAAmB,CAACv/C,KAAD,CAAnB;AACA,aAAK5I,OAAL,CAAa,iBAAb,EAAgC,EAAE2I,QAAQ,KAAKoP,WAAf,EAAhC;AACH;;AAED,QAAI2xC,KAAJ;;AAEA,QAAIF,QAAQG,MAAZ,EAAoB;AAChB;AACA;AACA,YAAI,CAAC/gD,MAAMwT,MAAX,EAAmB;AACfxT,kBAAMwT,MAAN,GAAeotC,QAAQptC,MAAR,IAAkB,QAAjC;AACH;AAEJ;AACDstC,YAAQF,QAAQpiC,KAAR,GAAgB,GAAhB,GAAsBoiC,QAAQviC,IAAtC;;AAEA,QAAI+K,MAAM,KAAK61B,mBAAL,CAAyB6B,KAAzB,CAAV;AACA,QAAI,CAAC13B,GAAL,EAAU;AACNA,cAAM;AACF5K,mBAAOoiC,QAAQpiC,KADb;AAEFtM,iBAAK0uC,QAAQ1uC,GAFX;AAGFmM,kBAAMuiC,QAAQviC;AAHZ,SAAN;AAKA,aAAK4gC,mBAAL,CAAyB6B,KAAzB,IAAkC13B,GAAlC;AACA,YAAI43B,SAAS,oCAAiB,CAAC53B,GAAD,CAAjB,EAAwB,CAAxB,CAAb;AACAppB,cAAMnI,IAAN,CAAWgT,IAAX,CAAgBm2C,MAAhB;AACH;AACJ;;AAED,SAASrB,SAAT,CAAmBiB,OAAnB,EAA4B;AACxB,QAAI,CAAC,KAAKhZ,WAAV,EAAuB;AACnB,aAAKwX,eAAL;AACH;;AAED,QAAI/0B,UAAUu2B,QAAQ5gD,KAAR,GAAgB4gD,QAAQ5gD,KAAxB,GAAgC,WAAW4gD,QAAQtoD,IAAjE;AACA,QAAI0H,QAAQ,KAAK4nC,WAAL,CAAiBvd,OAAjB,CAAZ;AACA,QAAIvY,QAAQ8uC,QAAQtoD,IAAR,KAAiB,UAAjB,GAA8B,YAA9B,GAA6C,cAAzD;AACA,QAAI0oD,SAASJ,QAAQx3B,GAArB;;AAEA,QAAI,CAACppB,KAAL,EAAY;AACR,YAAIihD,YAAY;AACZ12B,kBAAMq2B,QAAQtoD,IADF;AAEZmyB,iBAAKJ,OAFO;AAGZvY,mBAAOA,KAHK;AAIZmuC,sBAAU;AAJE,SAAhB;;AAOAjgD,gBAAQkhD,aAAaviD,IAAb,CAAkB,IAAlB,EAAwBsiD,SAAxB,CAAR;;AAEA,YAAI,KAAKl0C,cAAL,IAAuB/M,MAAMuqB,IAAN,KAAe,UAA1C,EAAsD;AAClD,iBAAKrb,aAAL,CAAmB,KAAKyB,KAAL,CAAWL,UAA9B;AACH,SAFD,MAEO;AACHivC,0BAAc5gD,IAAd,CAAmB,IAAnB,EAAyB,CAACqB,KAAD,CAAzB;AACH;AACJ;AACD,QAAImhD,aAAaxiD,IAAb,CAAkB,IAAlB,EAAwBqB,KAAxB,EAA+BghD,MAA/B,CAAJ,EAA4C;AACxC,YAAI,KAAKj0C,cAAL,IAAuB/M,MAAMuqB,IAAN,KAAe,UAA1C,EAAsD;AAClD61B,2BAAe,KAAKrzC,cAApB,EAAoC/M,KAApC,EAA2CghD,MAA3C;AACH,SAFD,MAEO;AACHhhD,kBAAMnI,IAAN,CAAWgT,IAAX,CAAgBm2C,MAAhB;AACH;AACJ;AACJ;;AAED,SAASvB,cAAT,CAAwBmB,OAAxB,EAAiC;AAC7B;AACA,QAAI5gD,QAAQ,KAAK4nC,WAAL,CAAiBgZ,QAAQ3pC,IAAzB,CAAZ;AACA,QAAI,CAACjX,KAAL,EAAY;AACR;AACH;;AAEDA,UAAMwT,MAAN,GAAeotC,QAAQptC,MAAvB;AACA,QAAIhI,OAAOo1C,QAAQ3K,QAAR,IAAoB,EAA/B;AACA,QAAImL,gBAAgB,EAApB;AACA,QAAIC,OAAO,KAAX;;AAEA,SAAK,IAAI3uC,IAAI,CAAb,EAAgBA,IAAIlH,KAAK1Q,MAAzB,EAAiC4X,GAAjC,EAAsC;AAClC,YAAI0W,MAAM5d,KAAKkH,CAAL,CAAV;AACA,YAAIouC,QAAQF,QAAQ3pC,IAAR,GAAe,GAAf,GAAqBmS,IAAI5K,KAAzB,GAAiC,GAAjC,GAAuC4K,IAAIlX,GAAvD;AACA,YAAI,CAAC,KAAK+sC,mBAAL,CAAyB6B,KAAzB,CAAL,EAAsC;AAClC,iBAAK7B,mBAAL,CAAyB6B,KAAzB,IAAkC13B,GAAlC;AACAg4B,0BAAcv2C,IAAd,CAAmBue,GAAnB;AACAi4B,mBAAO,IAAP;AACH;AACJ;AACD,QAAIA,IAAJ,EAAU;AACND,sBAAcC,IAAd,CAAmB,UAAShyB,CAAT,EAAYvB,CAAZ,EAAe;AAC9B,mBAAOuB,EAAE7Q,KAAF,GAAUsP,EAAEtP,KAAnB;AACH,SAFD;AAGH;AACD,QAAIgL,UAAU,oCAAiB43B,aAAjB,CAAd;AACAnkC,UAAM3f,SAAN,CAAgBuN,IAAhB,CAAqBmB,KAArB,CAA2BhM,MAAMnI,IAAjC,EAAuC2xB,OAAvC;AACH;;AAED,SAAS5Y,iBAAT,CAA2B7Q,MAA3B,EAAmCqoB,SAAnC,EAA8CmX,OAA9C,EAAuD;AACnD,QAAI,CAACx/B,MAAL,EAAa;AACT;AACH;AACD;AACAsQ,yBAAqBtQ,MAArB,EAA6BqoB,SAA7B,EAAwCmX,OAAxC;;AAEA,QAAI,KAAK/e,YAAT,EAAuB;AACnB;AACH;;AAED,QAAIzgB,OAAOzE,gBAAX,EAA6B;AACzByE,eAAOzE,gBAAP,CAAwB8sB,SAAxB,EAAmCmX,OAAnC;AACH,KAFD,MAEO;AACHx/B,eAAO,OAAOqoB,SAAd,IAA2BmX,OAA3B;AACH;AACJ;;AAED,SAASlvB,oBAAT,CAA8BtQ,MAA9B,EAAsCqoB,SAAtC,EAAiDmX,OAAjD,EAA0D;AACtD,QAAI,CAACx/B,MAAL,EAAa;AACT;AACH;AACD,QAAIA,OAAO1D,mBAAX,EAAgC;AAC5B0D,eAAO1D,mBAAP,CAA2B+rB,SAA3B,EAAsCmX,OAAtC;AACH,KAFD,MAEO;AACHx/B,eAAO,OAAOqoB,SAAd,IAA2B,IAA3B;AACH;AACJ;;AAED,SAASrU,WAAT,GAAuB;AACnB,iCAAU,KAAK+qC,WAAf;AACA,QAAIwC,gBAAgB,KAAK1Z,WAAL,IAAoB,KAAKA,WAAL,CAAiBiY,cAAzD;AACA,QAAI,KAAK9yC,cAAL,IAAuBu0C,aAA3B,EAA0C;AACtCC,oBAAY,KAAKx0C,cAAjB,EAAiC,KAAK4D,KAAL,CAAWL,UAA5C;AACA,YAAIgxC,aAAJ,EAAmB;AACfA,0BAAcvB,WAAd,GAA4B,IAA5B;AACH;AACJ;;AAED,SAAKjB,WAAL,GAAmB,IAAnB;AACA,SAAK3vC,WAAL,GAAmB,IAAnB;AACA,SAAKy4B,WAAL,GAAmB,IAAnB;AACA,SAAKmX,cAAL,GAAsB,IAAtB;AACA,SAAKE,mBAAL,GAA2B,IAA3B;AACA,SAAKpX,aAAL,GAAqB,CAArB;AACA,SAAKqX,sBAAL,GAA8B,CAAC,CAA/B;AACA,SAAKC,kBAAL,GAA0B,IAA1B;AACA,QAAI,KAAKpyC,cAAT,EAAyB;AACrB;AACA,aAAKsD,oBAAL,CAA0B,KAAKM,KAAL,CAAWL,UAArC,EAAiD,QAAjD,EAA2D,KAAKC,sBAAhE;AACAgxC,oBAAY,KAAKx0C,cAAjB,EAAiC,KAAK4D,KAAL,CAAWL,UAA5C;AACH;AACJ;;AAED;AACA,SAAS+uC,YAAT,CAAsBh1B,OAAtB,EAA+B;AAC3B,QAAMm3B,gBAAgB,KAAKxC,cAA3B;AACA,QAAIwC,iBAAiBA,cAAcn3B,OAAd,CAArB,EAA6C;AACzCm3B,sBAAcn3B,OAAd,IAAyB,EAAzB;AACA,YAAI,KAAKud,WAAT,EAAsB;AAClB,iBAAKA,WAAL,CAAiBvd,OAAjB,EAA0BxyB,IAA1B,GAAiC,EAAjC;AACH;AACJ;AACJ;;AAED,SAAS2Y,gBAAT,GAA4B;AACxB,QAAI,KAAKrB,WAAT,EAAsB;AAClB,YAAInP,QAAQ,KAAKmP,WAAL,CAAiB,KAAK+vC,sBAAtB,CAAZ;AACA,YAAIl/C,KAAJ,EAAW;AACP;AACAA,kBAAM+H,IAAN,GAAa,UAAb;AACA,gBAAMsiB,UAAUrqB,MAAMyqB,GAAtB;AACA,gBAAIJ,WAAWA,QAAQpO,OAAR,CAAgB,gBAAhB,MAAsC,CAArD,EAAwD;AACpDjc,sBAAM+H,IAAN,GAAa,QAAb;AACH;AACJ;AACJ;AACJ;;AAED,SAAS2I,eAAT,GAA2B;AACvB,QAAI,KAAKvB,WAAT,EAAsB;AAClB,YAAInP,QAAQ,KAAKmP,WAAL,CAAiB,KAAK+vC,sBAAtB,CAAZ;AACA,YAAIl/C,KAAJ,EAAW;AACPA,kBAAM+H,IAAN,GAAa,SAAb;AACH;AACJ;AACJ;;AAED,SAASwI,sBAAT,GAAkC;AAC9B,QAAID,aAAa,KAAKK,KAAL,CAAWL,UAA5B;AACA,QAAImxC,cAAc,qBAAEz2C,MAAF,CAASsF,UAAT,EAAqB,UAAUtQ,KAAV,EAAiB;AACpD,eAAO,CAACA,MAAM8/C,KAAN,IAAe,CAAC9/C,MAAMyqB,GAAvB,KAA+Bwd,eAAejoC,MAAMuqB,IAArB,CAAtC;AACH,KAFiB,CAAlB;AAGA,QAAI,CAAC,KAAKpb,WAAN,IAAqBuyC,gBAAgB/iD,IAAhB,CAAqB,IAArB,EAA2B8iD,WAA3B,CAAzB,EAAkE;AAC9D,aAAKvyC,aAAL,CAAmBoB,UAAnB;AACA;AACH;AACD;AACA,QAAIqxC,yBAAyB,CAAC,CAA9B;AACA,SAAK,IAAIjvC,IAAI,CAAb,EAAgBA,IAAI,KAAKvD,WAAL,CAAiBrU,MAArC,EAA6C4X,GAA7C,EAAkD;AAC9C,YAAI,KAAKvD,WAAL,CAAiBuD,CAAjB,EAAoB3K,IAApB,KAA6B,SAAjC,EAA4C;AACxC45C,qCAAyBjvC,CAAzB;AACA;AACH;AACJ;;AAED;AACA,QAAIivC,2BAA2B,KAAKzC,sBAApC,EAA4D;AACxD,aAAK7X,iBAAL,CAAuBsa,yBAAyB,CAAhD;AACH;AACJ;;AAED;AACA,SAASnC,eAAT,GAA2B;AACvB,SAAKtwC,aAAL,CAAmB,KAAKyB,KAAL,CAAWL,UAA9B;AACH;;AAED,SAASivC,aAAT,CAAuBqC,WAAvB,EAAoC;AAAA;;AAChC,QAAI,CAACA,WAAL,EAAkB;AACd;AACH;;AAED,QAAI,CAAC,KAAKzyC,WAAV,EAAuB;AACnB,aAAKiwC,eAAL;AACH;;AAEDwC,gBAAYrtD,OAAZ,CAAoB,qBAAa;AAC7B;AACA,YAAI0sD,UAAU12B,IAAV,IAAkB,CAAC0d,eAAegZ,UAAU12B,IAAzB,CAAvB,EAAuD;AACnD;AACH;AACD,YAAIs3B,eAAeX,aAAaviD,IAAb,QAAwBsiD,SAAxB,CAAnB;AACAZ,wBAAgB1hD,IAAhB,QAA2BkjD,YAA3B;AACA,YAAIZ,UAAU7tC,IAAd,EAAoB;AAChB6tC,sBAAUppD,IAAV,GAAiB,EAAjB;AACA,wCAASopD,SAAT,EACI,UAACz3B,OAAD,EAAa;AACT,sBAAKo2B,iBAAL,CAAuBiC,YAAvB,EAAqCr4B,OAArC;AACH,aAHL,EAII,UAACnmB,KAAD,EAAW;AACP,sBAAKjM,OAAL,gBAAoB;AAChBiI,6BAAS,yBADO;AAEhBrK,4BAAQqO;AAFQ,iBAApB;AAIH,aATL;AAUH;AACJ,KApBD;;AAsBA,QAAI,KAAK8L,WAAL,IAAoB,KAAKA,WAAL,CAAiBrU,MAAzC,EAAiD;AAC7C,aAAK1D,OAAL,CAAa,iBAAb,EAAgC,EAAE2I,QAAQ,KAAKoP,WAAf,EAAhC;AACH;AACJ;;AAED,SAASywC,iBAAT,CAA2B5/C,KAA3B,EAAkCwpB,OAAlC,EAA2C;AACvC,QAAI,CAAC,KAAKzc,cAAV,EAA0B;AACtB;AACH;;AAED,QAAI+0C,YAAY,KAAKla,WAAL,CAAiB5nC,MAAMyqB,GAAvB,CAAhB;AACA;AACA,QAAI,CAACq3B,SAAL,EAAgB;;AAEZ,YAAI,CAAC,KAAK/C,cAAV,EAA0B;AACtB,iBAAKA,cAAL,GAAsB,EAAtB;AACH;AACD,aAAKA,cAAL,CAAoB/+C,MAAMyqB,GAA1B,IAAiC,EAAEjf,MAAMge,OAAR,EAAiB02B,QAAQ,KAAzB,EAAjC;AACA;AACH;AACD;AACA,QAAI,KAAKnB,cAAL,CAAoB/+C,MAAMyqB,GAA1B,KAAkC,KAAKs0B,cAAL,CAAoB/+C,MAAMyqB,GAA1B,EAA+By1B,MAArE,EAA6E;AACzE;AACH;;AAED,QAAI92B,GAAJ;AACA,SAAK21B,cAAL,CAAoB/+C,MAAMyqB,GAA1B,IAAiC,EAAEjf,MAAMge,OAAR,EAAiB02B,QAAQ,IAAzB,EAAjC;;AAEA,WAAQ92B,MAAMI,QAAQ22B,KAAR,EAAd,EAAgC;AAC5BC,uBAAe,KAAKrzC,cAApB,EAAoC+0C,SAApC,EAA+C14B,GAA/C;AACH;AACJ;;AAED;AACA;AACA;;AAEA,SAASg3B,cAAT,CAAwBrzC,cAAxB,EAAwC/M,KAAxC,EAA+CghD,MAA/C,EAAuD;AACnD,QAAI,EAAE,qBAAQrzC,EAAR,IAAcZ,cAAhB,KAAmC,CAAClK,OAAOk/C,YAA/C,EAA6D;AACzD/hD,cAAM02B,MAAN,CAAasqB,MAAb;AACA;AACH;AACD;AACA;AACA;AACA,QAAIgB,eAAe,IAAIn/C,OAAOk/C,YAAX,CAAwBf,OAAO18C,SAA/B,EAA0C08C,OAAOt1B,OAAjD,EAA0Ds1B,OAAO3iC,IAAjE,CAAnB;AACAre,UAAM02B,MAAN,CAAasrB,YAAb;AACH;;AAED,SAAST,WAAT,CAAqBx0C,cAArB,EAAqChN,MAArC,EAA6C;AACzC,QAAIA,UAAUA,OAAOjF,MAArB,EAA6B;AACzB,6BAAEs3B,IAAF,CAAOryB,MAAP,EAAe,UAASC,KAAT,EAAgB;AAC3B;AACA,gBAAI,qBAAQ2N,EAAR,IAAcZ,cAAd,IAAgC,wBAAwB3R,IAAxB,CAA6B4E,MAAMyqB,GAAnC,CAApC,EAA6E;AACzE;AACH;;AAED;AACA;AACA;AACAzqB,kBAAM+H,IAAN,GAAa,UAAb;AACA/H,kBAAM+H,IAAN,GAAa,QAAb;AACA,iBAAK,IAAI2K,IAAI1S,MAAMwL,IAAN,CAAW1Q,MAAxB,EAAgC4X,GAAhC,GAAsC;AAClC1S,sBAAMiiD,SAAN,CAAgBjiD,MAAMwL,IAAN,CAAWkH,CAAX,CAAhB;AACH;AACD,gBAAI,CAAC1S,MAAMigD,QAAX,EAAqB;AACjBjgD,sBAAM+H,IAAN,GAAa,UAAb;AACH;AACD/H,kBAAM8/C,KAAN,GAAc,KAAd;AACH,SAlBD;AAmBH;AACJ;;AAED,SAAS7X,cAAT,CAAwB1d,IAAxB,EAA8B;AAC1B,WAAOA,SAAS,WAAT,IAAwBA,SAAS,UAAxC;AACH;;AAED,SAAS60B,eAAT,GAA2B;AACvB,SAAKjwC,WAAL,GAAmB,EAAnB;AACA,SAAKy4B,WAAL,GAAmB,EAAnB;AACA,SAAKqX,mBAAL,GAA2B,EAA3B;AACA,SAAKF,cAAL,GAAsB,EAAtB;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKnX,aAAL,GAAqB,CAArB;AACH;;AAED,SAASqZ,YAAT,CAAsBD,SAAtB,EAAiC;AAC7B,QAAIjhD,KAAJ;AACA,QAAIuoC,YAAY,+BAAY0Y,SAAZ,EAAuB,KAAKpZ,aAA5B,CAAhB;AACA,QAAI/1B,QAAQy2B,UAAUz2B,KAAtB;AACA,SAAK+1B,aAAL,GAAqBU,UAAU7d,YAA/B;;AAEA,QAAI,KAAK3d,cAAL,IAAuBk0C,UAAU12B,IAAV,KAAmB,UAA9C,EAA0D;AACtD,YAAIxqB,SAAS,KAAK4Q,KAAL,CAAWL,UAAxB;AACA;AACA;AACAtQ,gBAAQ,qBAAEkiD,SAAF,CAAYniD,MAAZ,EAAoB,EAAE+R,OAAOA,KAAT,EAApB,CAAR;;AAEA,YAAI,CAAC9R,KAAL,EAAY;AACRA,oBAAQ,KAAK2Q,KAAL,CAAWwxC,YAAX,CAAwBlB,UAAU12B,IAAlC,EAAwCzY,KAAxC,EAA+CmvC,UAAU9pC,QAAV,IAAsB,EAArE,CAAR;AACH;;AAEDnX,cAAM+S,OAAN,GAAgBkuC,UAAUluC,OAA1B;AACA/S,cAAM+H,IAAN,GAAa,UAAb;AACA/H,cAAM8/C,KAAN,GAAc,IAAd;AACH,KAbD,MAaO;AACH9/C,gBAAQihD,SAAR;AACAjhD,cAAMnI,IAAN,GAAamI,MAAMnI,IAAN,IAAc,EAA3B;AACH;;AAED,QAAI,CAACmI,MAAMyqB,GAAX,EAAgB;AACZzqB,cAAMyqB,GAAN,GAAY,4BAASw2B,SAAT,EAAoB,KAAK9xC,WAAL,CAAiBrU,MAArC,CAAZ;AACH;;AAED,WAAOkF,KAAP;AACH;;AAED,SAASqgD,eAAT,CAAyBrgD,KAAzB,EAAgC;AAC5B,SAAKmP,WAAL,CAAiBtE,IAAjB,CAAsB7K,KAAtB;AACA,SAAK4nC,WAAL,CAAiB5nC,MAAMyqB,GAAvB,IAA8BzqB,KAA9B;AACH;;AAED,SAASygD,0BAAT,GAAsC;AAClC;AACA,QAAI,CAAC,KAAKtxC,WAAV,EAAuB;AACnB;AACH;AACD,QAAIizC,sBAAsB,qBAAEp3C,MAAF,CAAS,KAAKmE,WAAd,EAA2B,UAAUnP,KAAV,EAAiB;AAClE,eAAOA,MAAMigD,QAAN,IAAkBjgD,MAAMqiD,OAAN,KAAkB,MAA3C;AACH,KAFyB,CAA1B;AAGA,SAAKjD,eAAL;AACA,yBAAEhtB,IAAF,CAAOgwB,mBAAP,EAA4B,UAAUpiD,KAAV,EAAiB;AACzC,aAAK4nC,WAAL,CAAiB5nC,MAAMyqB,GAAvB,IAA8BzqB,KAA9B;AACH,KAFD;AAGA,SAAKmP,WAAL,GAAmBizC,mBAAnB;AACH;;AAED,SAASpC,iBAAT,CAA2B93C,CAA3B,EAA8B;AAC1B,QAAIo6C,aAAap6C,EAAE8Q,aAAF,CAAgBspC,UAAjC;AACA,QAAI,CAACA,UAAD,IAAe,CAACA,WAAWxnD,MAA/B,EAAuC;AACnC;AACH;;AAED;AACA,QAAIwJ,YAAYg+C,WAAWA,WAAWxnD,MAAX,GAAoB,CAA/B,EAAkCwJ,SAAlD;AACA;AACA;AACA,QAAI,KAAK66C,kBAAL,KAA4B76C,SAAhC,EAA2C;AACvC;AACH;AACD,QAAIi+C,WAAW,EAAf;;AAEA,yBAAEnwB,IAAF,CAAOkwB,UAAP,EAAmB,UAASl5B,GAAT,EAAc;AAC7B,YAAIA,IAAI9kB,SAAJ,GAAgBA,SAApB,EAA+B;AAC3B;AACH;AACD,YAAI8kB,IAAIvxB,IAAJ,IAAYuxB,IAAI4B,KAApB,EAA2B;AACvBu3B,qBAAS13C,IAAT,CAAcue,GAAd;AACH,SAFD,MAEO,IAAIA,IAAI/K,IAAR,EAAc;AACjB,iBAAKjnB,OAAL,CAAa,MAAb,EAAqB;AACjBorD,8BAAcl+C,SADG;AAEjB8J,0BAAUo5B,KAAKvd,KAAL,CAAWb,IAAI/K,IAAf;AAFO,aAArB;AAIH;AACJ,KAZD,EAYG,IAZH;;AAcA,QAAIkkC,SAASznD,MAAb,EAAqB;AACjB,YAAI2nD,UAAU,yBAASF,QAAT,CAAd;AACA,aAAKnrD,OAAL,CAAa,MAAb,EAAqB;AACjBorD,0BAAcl+C,SADG;AAEjB8J,sBAAUq0C;AAFO,SAArB;AAIH;AACD,SAAKtD,kBAAL,GAA0B76C,SAA1B;AACH;;AAED,SAAS68C,YAAT,CAAsBnhD,KAAtB,EAA6BghD,MAA7B,EAAqC;AACjC,QAAI0B,YAAY1iD,MAAMuqB,IAAtB;AACA,QAAI,CAAC,KAAKy0B,cAAL,CAAoBh/C,MAAMyqB,GAA1B,CAAL,EAAqC;AACjC,aAAKu0B,cAAL,CAAoBh/C,MAAMyqB,GAA1B,IAAiC,EAAjC;AACH;AACD,QAAIk4B,aAAa,KAAK3D,cAAL,CAAoBh/C,MAAMyqB,GAA1B,CAAjB;AACA,QAAIm4B,YAAJ;;AAEA,YAAQF,SAAR;AACI,aAAK,UAAL;AACA,aAAK,WAAL;AACI;AACA;AACA;AACA;AACAE,2BAAelpD,KAAK+b,KAAL,CAAWurC,OAAO18C,SAAP,GAAmB,EAA9B,CAAf;AACA,gBAAIu+C,YAAY,MAAM7B,OAAOziC,IAA7B;AACA,gBAAIukC,aAAappD,KAAK+b,KAAL,CAAWurC,OAAOt1B,OAAP,GAAiB,EAA5B,CAAjB;AACA,gBAAIq3B,YAAYJ,WAAWC,eAAeC,SAA1B,KAAwCF,WAAYC,eAAe,CAAhB,GAAqBC,SAAhC,CAAxC,IAAsFF,WAAYC,eAAe,CAAhB,GAAqBC,SAAhC,CAAtG;;AAEA,gBAAIE,aAAarpD,KAAK2b,GAAL,CAAS0tC,YAAYD,UAArB,KAAoC,CAArD,EAAwD;AACpD,uBAAO,KAAP;AACH;;AAEDH,uBAAWC,eAAeC,SAA1B,IAAuCC,UAAvC;AACA,mBAAO,IAAP;AACJ,aAAK,UAAL;AACI,gBAAIzkC,OAAO2iC,OAAOnpD,IAAP,GAAc,IAAIwjD,UAAJ,CAAe2F,OAAOnpD,IAAtB,EAA4BklB,IAA5B,CAAiC,EAAjC,CAAd,GAAqDikC,OAAO3iC,IAAvE;AACAukC,2BAAe5B,OAAO18C,SAAP,GAAmB+Z,IAAlC;AACA,gBAAIskC,WAAWC,YAAX,CAAJ,EAA8B;AAC1B,uBAAO,KAAP;AACH;;AAEDD,uBAAWC,YAAX,IAA2B5B,OAAOt1B,OAAlC;AACA,mBAAO,IAAP;AACJ;AACI,mBAAO,KAAP;AA5BR;AA8BH;;AAED,SAASg2B,eAAT,CAAyBD,WAAzB,EAAsC;AAClC;AACA,QAAIA,YAAY3mD,MAAZ,GAAqB,KAAKqU,WAAL,CAAiBrU,MAA1C,EAAkD;AAC9C,eAAO,IAAP;AACH;;AAED;AACA,SAAK,IAAI4X,IAAI,CAAb,EAAgBA,IAAI+uC,YAAY3mD,MAAhC,EAAwC4X,GAAxC,EAA6C;AACzC,YAAI1S,QAAQyhD,YAAY/uC,CAAZ,CAAZ;AACA,YAAI,CAAC1S,MAAMyqB,GAAP,IAAc,CAAC,KAAKmd,WAAL,CAAiB5nC,MAAMyqB,GAAvB,CAAnB,EAAgD;AAC5C,mBAAO,IAAP;AACH;AACJ;;AAED,WAAO,KAAP;AACH;;kBAEco0B,M;;;;;;;;;;;;;;;;;QCnrBCmE,c,GAAAA,c;QAuDAC,W,GAAAA,W;QAmBAC,Q,GAAAA,Q;;AApFhB,IAAMC,gBAAgB;AAClBC,UAAM,OADY;AAElBC,SAAK,OAFa;AAGlBC,UAAM,KAHY;AAIlBC,UAAM,QAJY;AAKlBC,SAAK,QALa;AAMlBC,UAAM,OANY;AAOlBC,SAAK;AAPa,CAAtB;;AAUO,SAASV,cAAT,CAAwB1kC,KAAxB,EAA+BqlC,aAA/B,EAA8C;AACjD;AACA;;AAEA,QAAM3b,MAAM1pB,MAAMxjB,MAAlB;AACA,QAAIsd,UAAJ;AACA,QAAIwrC,cAAJ;AACA,QAAIC,cAAJ;AACA,QAAIC,MAAM,EAAV;AACA,QAAIpxC,IAAIixC,iBAAiB,CAAzB;AACA,WAAOjxC,IAAIs1B,GAAX,EAAgB;AACZ5vB,YAAIkG,MAAM5L,GAAN,CAAJ;AACA;AACA,YAAI0F,MAAM,IAAN,IAAcA,MAAM,IAAxB,EAA8B;AAC1B;AACH;AACD,gBAAQA,KAAK,CAAb;AACI,iBAAK,CAAL,CAAQ,KAAK,CAAL,CAAQ,KAAK,CAAL,CAAQ,KAAK,CAAL,CAAQ,KAAK,CAAL,CAAQ,KAAK,CAAL,CAAQ,KAAK,CAAL,CAAQ,KAAK,CAAL;AACxD;AACI0rC,uBAAOC,OAAOC,YAAP,CAAoB5rC,CAApB,CAAP;AACA;AACJ,iBAAK,EAAL,CAAS,KAAK,EAAL;AACT;AACIwrC,wBAAQtlC,MAAM5L,GAAN,CAAR;AACAoxC,uBAAOC,OAAOC,YAAP,CAAqB,CAAC5rC,IAAI,IAAL,KAAc,CAAf,GAAqBwrC,QAAQ,IAAjD,CAAP;AACA;AACJ,iBAAK,EAAL;AACI;AACAA,wBAAQtlC,MAAM5L,GAAN,CAAR;AACAmxC,wBAAQvlC,MAAM5L,GAAN,CAAR;AACAoxC,uBAAOC,OAAOC,YAAP,CAAqB,CAAC5rC,IAAI,IAAL,KAAc,EAAf,GACtB,CAACwrC,QAAQ,IAAT,KAAkB,CADI,GAEtB,CAACC,QAAQ,IAAT,KAAkB,CAFhB,CAAP;AAGA;AACJ;AAlBJ;AAoBH;AACD,WAAOC,GAAP;AACH;;AAED,SAASG,wBAAT,CAAkC3lC,KAAlC,EAAyCqlC,aAAzC,EAAwD;AACpD,QAAMO,iBAAiB5lC,MAAMxjB,MAAN,GAAe,CAAtC;AACA,QAAIgpD,MAAM,EAAV;AACA,QAAIpxC,IAAIixC,iBAAiB,CAAzB;AACA,WAAOjxC,IAAIwxC,cAAX,EAA2B;AACvB,YAAI5lC,MAAM5L,CAAN,MAAa,GAAb,IAAoB4L,MAAM5L,IAAI,CAAV,MAAiB,GAAzC,EAA8C;AAC1C;AACH,SAFD,MAEO;AACHoxC,mBAAOC,OAAOC,YAAP,CAAoB,CAAC1lC,MAAM5L,CAAN,KAAY,CAAb,IAAkB4L,MAAM5L,IAAI,CAAV,CAAtC,CAAP;AACH;AACDA,aAAK,CAAL;AACH;AACD,WAAOoxC,GAAP;AACH;;AAEM,SAASb,WAAT,CAAqBkB,SAArB,EAAgC;AACnC,QAAM/hB,OAAOgiB,WAAWD,SAAX,CAAb;AACA,WAAQ/hB,OAAO,UAAR,GACF,CAACA,OAAO,UAAR,KAAuB,CADrB,GAEF,CAACA,OAAO,UAAR,KAAuB,CAFrB,GAGF,CAACA,OAAO,UAAR,KAAuB,CAH5B;AAIH;;AAED,SAASgiB,UAAT,CAAoB9lC,KAApB,EAA2B;AACvB,QAAI+lC,aAAa,IAAjB;AACA,SAAK,IAAI3xC,IAAI,CAAb,EAAgBA,IAAI4L,MAAMxjB,MAA1B,EAAkC4X,GAAlC,EAAuC;AACnC,YAAI4L,MAAM5L,CAAN,IAAW,EAAf,EAAmB;AACf2xC,0BAAc,GAAd;AACH;AACDA,sBAAc/lC,MAAM5L,CAAN,EAASokB,QAAT,CAAkB,EAAlB,CAAd;AACH;AACD,WAAOrxB,SAAS4+C,UAAT,CAAP;AACH;;AAEM,SAASnB,QAAT,GAAmC;AAAA,QAAjBZ,UAAiB,uEAAJ,EAAI;;AACtC,WAAOA,WAAW33C,MAAX,CAAkB,UAAS9S,IAAT,EAAeuxB,GAAf,EAAoB;AACzC,YAAI,EAAE,WAAWA,GAAb,CAAJ,EAAuB;AACnB;AACA,gBAAI,UAAUA,GAAV,IAAiBA,IAAIvxB,IAAJ,YAAoBysD,WAAzC,EAAsD;AAClD;;AAEA,oBAAMC,SAASn7B,GAAf;AACA,oBAAM9K,QAAQ,IAAI+8B,UAAJ,CAAekJ,OAAO1sD,IAAtB,CAAd;AACA,oBAAI2sD,cAAclmC,MAAMxjB,MAAxB;;AAEAsuB,sBAAM,EAAE4B,OAAO,EAAE7L,KAAK,EAAP,EAAWtnB,MAAM,EAAjB,EAAT,EAAN;;AAEA,oBAAI6a,IAAI,EAAR;AACA,uBAAOA,IAAI,EAAJ,IAAUA,IAAI4L,MAAMxjB,MAA3B,EAAmC;AAC/B,wBAAIwjB,MAAM5L,CAAN,MAAa,CAAjB,EAAoB;AAChB;AACH;AACD0W,wBAAI4B,KAAJ,CAAU7L,GAAV,IAAiB4kC,OAAOC,YAAP,CAAoB1lC,MAAM5L,CAAN,CAApB,CAAjB;AACAA;AACH;;AAED;AACA,oBAAI+xC,WAAW,EAAf;AACA,oBAAIC,YAAYpmC,MAAMmmC,QAAN,CAAhB;AACA,oBAAIC,cAAc,IAAd,IAAsBA,cAAc,IAAxC,EAA8C;AAC1CA,gCAAYpmC,MAAM,EAAEmmC,QAAR,CAAZ;AACAD;AACH;;AAED,oBAAIG,wBAAwB,CAA5B;AACA;AACA;AACA,oBAAID,cAAc,IAAd,IAAsBA,cAAc,IAAxC,EAA8C;AAC1C,yBAAK,IAAI72B,IAAI42B,WAAW,CAAxB,EAA2B52B,IAAI22B,WAA/B,EAA4C32B,GAA5C,EAAiD;AAC7C,4BAAIvP,MAAMuP,CAAN,MAAa,IAAjB,EAAuB;AACnB82B,oDAAwB92B,IAAI42B,QAA5B;AACA;AACH;AACJ;AACJ;;AAED,oBAAIE,wBAAwB,CAA5B,EAA+B;AAC3B,wBAAMC,OAAO5B,eAAe1kC,MAAMumC,QAAN,CAAeJ,QAAf,EAAyBA,YAAYE,qBAArC,CAAf,EAA4E,CAA5E,CAAb;AACA,wBAAIv7B,IAAI4B,KAAJ,CAAU7L,GAAV,KAAkB,MAAtB,EAA8B;AAC1B,4BAAIylC,SAAS,8CAAb,EAA6D;AACzD,gCAAME,aAAa7B,YAAY3kC,MAAMumC,QAAN,CAAeJ,QAAf,EAAyBA,YAAY,CAArC,CAAZ,IAAuD,UAA1E;AACA,gCAAMM,2BAA2B9B,YAAY3kC,MAAMumC,QAAN,CAAeJ,QAAf,EAAyBA,YAAY,CAArC,CAAZ,KAC5BK,aAAa,WAAb,GAA2B,CADC,CAAjC;AAEA17B,gCAAI4B,KAAJ,CAAUnzB,IAAV,GAAiBktD,wBAAjB;AACH,yBALD,MAKO;AACH37B,gCAAI4B,KAAJ,CAAUnzB,IAAV,GAAiBmrD,eAAe1kC,KAAf,EAAsBmmC,WAAW,CAAjC,CAAjB;AACH;AACDr7B,4BAAI4B,KAAJ,CAAU45B,IAAV,GAAiBA,IAAjB;AACH,qBAVD,MAUO;AACHx7B,4BAAI4B,KAAJ,CAAU45B,IAAV,GAAiBA,IAAjB;AACAx7B,4BAAI4B,KAAJ,CAAUnzB,IAAV,GAAiBmrD,eAAe1kC,KAAf,EAAsBmmC,WAAW,CAAjC,CAAjB;AACH;AACJ,iBAhBD,MAgBO;AACH,wBAAMO,WAAW1mC,MAAMmmC,QAAN,CAAjB;AACA,wBAAIO,aAAa,CAAb,IAAkBA,aAAa,CAAnC,EAAsC;AAClC57B,4BAAI4B,KAAJ,CAAUnzB,IAAV,GAAiBosD,yBAAyB3lC,KAAzB,EAAgCmmC,WAAW,CAA3C,CAAjB;AACH,qBAFD,MAEO;AACHr7B,4BAAI4B,KAAJ,CAAUnzB,IAAV,GAAiBmrD,eAAe1kC,KAAf,EAAsBmmC,WAAW,CAAjC,CAAjB;AACH;AACJ;AACJ;AACJ;;AAED;AACA,YAAItB,cAAc8B,cAAd,CAA6B77B,IAAI4B,KAAJ,CAAU7L,GAAvC,CAAJ,EAAiD;AAC7CtnB,iBAAKsrD,cAAc/5B,IAAI4B,KAAJ,CAAU7L,GAAxB,CAAL,IAAqCiK,IAAI4B,KAAJ,CAAUnzB,IAA/C;AACH;AACD;;;;;AAKA,YAAIuxB,IAAI4B,KAAJ,CAAU45B,IAAd,EAAoB;AAChB,gBAAItoC,aAAazkB,KAAKuxB,IAAI4B,KAAJ,CAAU7L,GAAf,CAAjB;AACA,gBAAI7C,eAAerb,OAAOqb,UAAP,CAAnB,EAAuC;AACnCA,6BAAa,EAAb;AACAzkB,qBAAKuxB,IAAI4B,KAAJ,CAAU7L,GAAf,IAAsB7C,UAAtB;AACH;AACDA,uBAAW8M,IAAI4B,KAAJ,CAAU45B,IAArB,IAA6Bx7B,IAAI4B,KAAJ,CAAUnzB,IAAvC;AACH,SAPD,MAOO;AACHA,iBAAKuxB,IAAI4B,KAAJ,CAAU7L,GAAf,IAAsBiK,IAAI4B,KAAJ,CAAUnzB,IAAhC;AACH;AACD,eAAOA,IAAP;AACH,KAxFM,EAwFJ,EAxFI,CAAP;AAyFH,C","file":"jwplayer.core.controls.polyfills.html5.js","sourcesContent":["import { OS } from 'environment/environment';\nimport { dvrSeekLimit } from 'view/constants';\nimport { DISPLAY_CLICK, USER_ACTION, STATE_PAUSED, STATE_PLAYING, STATE_ERROR } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport utils from 'utils/helpers';\nimport { now } from 'utils/date';\nimport button from 'view/controls/components/button';\nimport Controlbar from 'view/controls/controlbar';\nimport DisplayContainer from 'view/controls/display-container';\nimport NextUpToolTip from 'view/controls/nextuptooltip';\nimport RightClick from 'view/controls/rightclick';\nimport { createSettingsMenu, setupSubmenuListeners } from 'view/controls/settings-menu';\nimport { getBreakpoint } from 'view/utils/breakpoint';\nimport { cloneIcon } from 'view/controls/icons';\nimport ErrorContainer from 'view/error-container';\nimport instances from 'api/players';\n\nrequire('css/controls.less');\n\nconst ACTIVE_TIMEOUT = OS.mobile ? 4000 : 2000;\n\nErrorContainer.cloneIcon = cloneIcon;\ninstances.forEach(api => {\n    if (api.getState() === STATE_ERROR) {\n        const errorIconContainer = api.getContainer().querySelector('.jw-error-msg .jw-icon');\n        if (errorIconContainer && !errorIconContainer.hasChildNodes()) {\n            errorIconContainer.appendChild(ErrorContainer.cloneIcon('error'));\n        }\n    }\n});\n\nconst reasonInteraction = function() {\n    return { reason: 'interaction' };\n};\n\nexport default class Controls {\n    constructor(context, playerContainer) {\n        Object.assign(this, Events);\n\n        // Alphabetic order\n        // Any property on the prototype should be initialized here first\n        this.activeTimeout = -1;\n        this.inactiveTime = 0;\n        this.context = context;\n        this.controlbar = null;\n        this.displayContainer = null;\n        this.backdrop = null;\n        this.enabled = true;\n        this.instreamState = null;\n        this.keydownCallback = null;\n        this.keyupCallback = null;\n        this.blurCallback = null;\n        this.mute = null;\n        this.nextUpToolTip = null;\n        this.playerContainer = playerContainer;\n        this.rightClickMenu = null;\n        this.settingsMenu = null;\n        this.showing = false;\n        this.unmuteCallback = null;\n        this.logo = null;\n        this.div = null;\n        this.dimensions = {};\n        this.userInactiveTimeout = () => {\n            // Rerun at the scheduled time if remaining time is greater than the display refresh rate\n            const remainingTime = this.inactiveTime - now();\n            if (this.inactiveTime && remainingTime > 16) {\n                this.activeTimeout = setTimeout(this.userInactiveTimeout, remainingTime);\n                return;\n            }\n            this.userInactive();\n        };\n    }\n\n    enable(api, model) {\n        const element = this.context.createElement('div');\n        element.className = 'jw-controls jw-reset';\n        this.div = element;\n\n        const backdrop = this.context.createElement('div');\n        backdrop.className = 'jw-controls-backdrop jw-reset';\n        this.backdrop = backdrop;\n\n        this.logo = this.playerContainer.querySelector('.jw-logo');\n\n        const touchMode = model.get('touchMode');\n\n        // Display Buttons\n        if (!this.displayContainer) {\n            const displayContainer = new DisplayContainer(model, api);\n\n            displayContainer.buttons.display.on('click tap enter', () => {\n                this.trigger(DISPLAY_CLICK);\n                this.userActive(1000);\n                api.playToggle(reasonInteraction());\n            });\n\n            this.div.appendChild(displayContainer.element());\n            this.displayContainer = displayContainer;\n        }\n\n        // Touch UI mode when we're on mobile and we have a percentage height or we can fit the large UI in\n        if (touchMode) {\n            utils.addClass(this.playerContainer, 'jw-flag-touch');\n        } else {\n            this.rightClickMenu = new RightClick();\n            model.change('flashBlocked', (modelChanged, isBlocked) => {\n                if (isBlocked) {\n                    this.rightClickMenu.destroy();\n                } else {\n                    this.rightClickMenu.setup(modelChanged, this.playerContainer, this.playerContainer);\n                }\n            }, this);\n        }\n\n        // Controlbar\n        const controlbar = this.controlbar = new Controlbar(api, model);\n        controlbar.on(USER_ACTION, () => this.userActive());\n        controlbar.on('nextShown', function (data) {\n            this.trigger('nextShown', data);\n        }, this);\n\n        // Next Up Tooltip\n        if (model.get('nextUpDisplay') && !controlbar.nextUpToolTip) {\n            const nextUpToolTip = new NextUpToolTip(model, api, this.playerContainer);\n            nextUpToolTip.on('all', this.trigger, this);\n            nextUpToolTip.setup(this.context);\n            controlbar.nextUpToolTip = nextUpToolTip;\n\n            // NextUp needs to be behind the controlbar to not block other tooltips\n            this.div.appendChild(nextUpToolTip.element());\n        }\n\n        this.div.appendChild(controlbar.element());\n\n        // Settings Menu\n        let lastState = null;\n        const visibilityChangeHandler = (visible, evt) => {\n            const state = model.get('state');\n            const settingsInteraction = { reason: 'settingsInteraction' };\n            const isKeyEvent = (evt && evt.sourceEvent || evt || {}).type === 'keydown';\n\n            utils.toggleClass(this.div, 'jw-settings-open', visible);\n            if (getBreakpoint(model.get('containerWidth')) < 2) {\n                if (visible && state === STATE_PLAYING) {\n                    // Pause playback on open if we're currently playing\n                    api.pause(settingsInteraction);\n                } else if (!visible && state === STATE_PAUSED && lastState === STATE_PLAYING) {\n                    // Resume playback on close if we are paused and were playing before\n                    api.play(settingsInteraction);\n                }\n            }\n\n            // Trigger userActive so that a dismissive click outside the player can hide the controlbar\n            const activeTimeout = (visible || isKeyEvent) ? 0 : ACTIVE_TIMEOUT;\n            this.userActive(activeTimeout);\n            lastState = state;\n\n            const settingsButton = this.controlbar.elements.settingsButton;\n            if (!visible && isKeyEvent && settingsButton) {\n                settingsButton.element().focus();\n            }\n        };\n        const settingsMenu = this.settingsMenu = createSettingsMenu(controlbar, visibilityChangeHandler);\n        setupSubmenuListeners(settingsMenu, controlbar, model, api);\n\n        if (OS.mobile) {\n            this.div.appendChild(settingsMenu.element());\n        } else {\n            this.div.insertBefore(settingsMenu.element(), controlbar.element());\n        }\n\n        // Unmute Autoplay behavior.\n        const setupUnmuteAutoplay = (_model) => {\n            if (_model.get('autostartMuted')) {\n                const unmuteCallback = () => this.unmuteAutoplay(api, _model);\n\n                // Show unmute botton only on mobile.\n                if (OS.mobile) {\n                    this.mute = button('jw-autostart-mute jw-off', unmuteCallback, _model.get('localization').unmute,\n                        [cloneIcon('volume-0')]);\n                    this.mute.show();\n                    this.div.appendChild(this.mute.element());\n                }\n\n                // Set mute state in the controlbar\n                controlbar.renderVolume(true, _model.get('volume'));\n                // Hide the controlbar until the autostart flag is removed\n                utils.addClass(this.playerContainer, 'jw-flag-autostart');\n\n                _model.on('change:autostartFailed change:autostartMuted change:mute', unmuteCallback, this);\n                this.unmuteCallback = unmuteCallback;\n            }\n        };\n        model.once('change:autostartMuted', setupUnmuteAutoplay);\n        setupUnmuteAutoplay(model);\n\n        // Keyboard Commands\n        function adjustSeek(amount) {\n            let min = 0;\n            let max = model.get('duration');\n            const position = model.get('position');\n            if (model.get('streamType') === 'DVR') {\n                min = max;\n                max = Math.max(position, dvrSeekLimit);\n            }\n            const newSeek = utils.between(position + amount, min, max);\n            api.seek(newSeek, reasonInteraction());\n        }\n\n        function adjustVolume(amount) {\n            const newVol = utils.between(model.get('volume') + amount, 0, 100);\n            api.setVolume(newVol);\n        }\n\n        function onEscape() {\n            if (model.get('fullscreen')) {\n                api.setFullscreen(false);\n                this.playerContainer.blur();\n                this.userInactive();\n                return;\n            }\n\n            const related = api.getPlugin('related');\n            if (related) {\n                related.close({ type: 'escape' });\n            }\n        }\n\n        const handleKeydown = (evt) => {\n            // If Meta keys return\n            if (evt.ctrlKey || evt.metaKey) {\n                // Let event bubble upwards\n                return true;\n            }\n\n            switch (evt.keyCode) {\n                case 27: // Esc\n                    onEscape();\n                    break;\n                case 13: // enter\n                case 32: // space\n                    api.playToggle(reasonInteraction());\n                    break;\n                case 37: // left-arrow, if not adMode\n                    if (!this.instreamState) {\n                        adjustSeek(-5);\n                    }\n                    break;\n                case 39: // right-arrow, if not adMode\n                    if (!this.instreamState) {\n                        adjustSeek(5);\n                    }\n                    break;\n                case 38: // up-arrow\n                    adjustVolume(10);\n                    break;\n                case 40: // down-arrow\n                    adjustVolume(-10);\n                    break;\n                case 67: // c-key\n                    {\n                        const captionsList = api.getCaptionsList();\n                        const listLength = captionsList.length;\n                        if (listLength) {\n                            const nextIndex = (api.getCurrentCaptions() + 1) % listLength;\n                            api.setCurrentCaptions(nextIndex);\n                        }\n                    }\n                    break;\n                case 77: // m-key\n                    api.setMute();\n                    break;\n                case 70: // f-key\n                    api.setFullscreen();\n                    break;\n                default:\n                    if (evt.keyCode >= 48 && evt.keyCode <= 59) {\n                        // if 0-9 number key, move to n/10 of the percentage of the video\n                        const number = evt.keyCode - 48;\n                        const newSeek = (number / 10) * model.get('duration');\n                        api.seek(newSeek, reasonInteraction());\n                    }\n            }\n\n            if (/13|32|37|38|39|40/.test(evt.keyCode)) {\n                // Prevent keypresses from scrolling the screen\n                evt.preventDefault();\n                return false;\n            }\n        };\n        this.playerContainer.addEventListener('keydown', handleKeydown);\n        this.keydownCallback = handleKeydown;\n\n        // keep controls active when navigating inside the player\n        const handleKeyup = (evt) => {\n            if (!this.instreamState) {\n                const isTab = evt.keyCode === 9;\n                if (isTab) {\n                    const insideContainer = this.playerContainer.contains(evt.target);\n                    const activeTimeout = insideContainer ? 0 : ACTIVE_TIMEOUT;\n                    this.userActive(activeTimeout);\n                }\n            }\n        };\n        this.playerContainer.addEventListener('keyup', handleKeyup);\n        this.keyupCallback = handleKeyup;\n\n        // Hide controls when focus leaves the player\n        const blurCallback = (evt) => {\n            const focusedElement = evt.relatedTarget || document.querySelector(':focus');\n            if (!focusedElement) {\n                return;\n            }\n            const insideContainer = this.playerContainer.contains(focusedElement);\n            if (!insideContainer) {\n                this.userInactive();\n            }\n        };\n        this.playerContainer.addEventListener('blur', blurCallback, true);\n        this.blurCallback = blurCallback;\n\n        // Show controls when enabled\n        this.userActive();\n\n        this.playerContainer.appendChild(this.div);\n\n        this.addBackdrop();\n    }\n\n    disable(model) {\n        this.off();\n\n        if (model) {\n            model.off(null, null, this);\n        }\n\n        clearTimeout(this.activeTimeout);\n        this.activeTimeout = -1;\n\n        if (this.div.parentNode) {\n            utils.removeClass(this.playerContainer, 'jw-flag-touch');\n            this.playerContainer.removeChild(this.div);\n        }\n        if (this.rightClickMenu) {\n            this.rightClickMenu.destroy();\n        }\n\n        if (this.keydownCallback) {\n            this.playerContainer.removeEventListener('keydown', this.keydownCallback);\n        }\n\n        if (this.keyupCallback) {\n            this.playerContainer.removeEventListener('keyup', this.keyupCallback);\n        }\n\n        if (this.blurCallback) {\n            this.playerContainer.removeEventListener('blur', this.blurCallback);\n        }\n\n        const nextUpToolTip = this.nextUpToolTip;\n        if (nextUpToolTip) {\n            nextUpToolTip.destroy();\n        }\n\n        const settingsMenu = this.settingsMenu;\n        if (settingsMenu) {\n            settingsMenu.destroy();\n            this.div.removeChild(settingsMenu.element());\n        }\n\n        this.removeBackdrop();\n    }\n\n    controlbarHeight() {\n        if (!this.dimensions.cbHeight) {\n            this.dimensions.cbHeight = this.controlbar.element().clientHeight;\n        }\n        return this.dimensions.cbHeight;\n    }\n\n    element() {\n        return this.div;\n    }\n\n    resize() {\n        this.dimensions = {};\n    }\n\n    unmuteAutoplay(api, model) {\n        const autostartSucceeded = !model.get('autostartFailed');\n        let mute = model.get('mute');\n\n        // If autostart succeeded, it means the user has chosen to unmute the video,\n        // so we should update the model, setting mute to false\n        if (autostartSucceeded) {\n            mute = false;\n        } else {\n            // Don't try to play again when viewable since it will keep failing\n            model.set('playOnViewable', false);\n        }\n        if (this.unmuteCallback) {\n            model.off('change:autostartFailed change:autostartMuted change:mute', this.unmuteCallback);\n            this.unmuteCallback = null;\n        }\n        model.set('autostartFailed', undefined);\n        model.set('autostartMuted', undefined);\n        api.setMute(mute);\n        // the model's mute value may not have changed. ensure the controlbar's mute button is in the right state\n        this.controlbar.renderVolume(mute, model.get('volume'));\n        this.mute.hide();\n        utils.removeClass(this.playerContainer, 'jw-flag-autostart');\n        this.userActive();\n    }\n\n    mouseMove(event) {\n        const insideControlbar = this.controlbar.element().contains(event.target);\n        const insideNextUp = this.controlbar.nextUpToolTip &&\n            this.controlbar.nextUpToolTip.element().contains(event.target);\n        const insideLogo = this.logo && this.logo.contains(event.target);\n        const activeTimeout = (insideControlbar || insideNextUp || insideLogo) ? 0 : ACTIVE_TIMEOUT;\n\n        this.userActive(activeTimeout);\n    }\n\n    userActive(timeout = ACTIVE_TIMEOUT) {\n        if (timeout > 0) {\n            this.inactiveTime = now() + timeout;\n            if (this.activeTimeout === -1) {\n                this.activeTimeout = setTimeout(this.userInactiveTimeout, timeout);\n            }\n        } else {\n            clearTimeout(this.activeTimeout);\n            this.activeTimeout = -1;\n            this.inactiveTime = 0;\n        }\n        if (!this.showing) {\n            utils.removeClass(this.playerContainer, 'jw-flag-user-inactive');\n            this.showing = true;\n            this.trigger('userActive');\n        }\n    }\n\n    userInactive() {\n        clearTimeout(this.activeTimeout);\n        this.activeTimeout = -1;\n        if (this.settingsMenu.visible) {\n            return;\n        }\n        this.inactiveTime = 0;\n        this.showing = false;\n        utils.addClass(this.playerContainer, 'jw-flag-user-inactive');\n        this.trigger('userInactive');\n    }\n\n    addBackdrop() {\n        // Put the backdrop element on top of overlays during instream mode\n        // otherwise keep it behind captions and on top of preview poster\n        const element = this.instreamState ? this.div : this.playerContainer.querySelector('.jw-captions');\n        this.playerContainer.insertBefore(this.backdrop, element);\n    }\n\n    removeBackdrop() {\n        const parent = this.backdrop.parentNode;\n        if (parent) {\n            parent.removeChild(this.backdrop);\n        }\n    }\n\n    setupInstream() {\n        this.instreamState = true;\n        // Call Controls.userActivity to display the UI temporarily for the start of the ad\n        this.userActive();\n        this.addBackdrop();\n        if (this.settingsMenu) {\n            this.settingsMenu.close();\n        }\n        utils.removeClass(this.playerContainer, 'jw-flag-autostart');\n    }\n\n    destroyInstream(model) {\n        this.instreamState = null;\n        this.addBackdrop();\n        if (model.get('autostartMuted')) {\n            utils.addClass(this.playerContainer, 'jw-flag-autostart');\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/controls.js","import instances from 'api/players';\nimport { showView } from 'api/core-shim';\nimport setConfig from 'api/set-config';\nimport ApiQueueDecorator from 'api/api-queue';\nimport PlaylistLoader from 'playlist/loader';\nimport Playlist, { filterPlaylist, validatePlaylist, fixSources } from 'playlist/playlist';\nimport InstreamAdapter from 'controller/instream-adapter';\nimport Captions from 'controller/captions';\nimport Model from 'controller/model';\nimport View from 'view/view';\nimport ViewModel from 'view/view-model';\nimport changeStateEvent from 'events/change-state-event';\nimport eventsMiddleware from 'controller/events-middleware';\nimport Events from 'utils/backbone.events';\nimport { AUTOPLAY_DISABLED, AUTOPLAY_MUTED, canAutoplay } from 'utils/can-autoplay';\nimport { OS, Features } from 'environment/environment';\nimport { streamType } from 'providers/utils/stream-type';\nimport Promise, { resolved } from 'polyfills/promise';\nimport cancelable from 'utils/cancelable';\nimport _ from 'utils/underscore';\nimport { INITIAL_MEDIA_STATE } from 'model/player-model';\nimport { PLAYER_STATE, STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE, STATE_PAUSED, STATE_PLAYING, STATE_ERROR, STATE_LOADING,\n    STATE_STALLED, AUTOSTART_NOT_ALLOWED, MEDIA_BEFOREPLAY, PLAYLIST_LOADED, ERROR, PLAYLIST_COMPLETE, CAPTIONS_CHANGED, READY,\n    MEDIA_ERROR, MEDIA_COMPLETE, CAST_SESSION, FULLSCREEN, PLAYLIST_ITEM, MEDIA_VOLUME, MEDIA_MUTE, PLAYBACK_RATE_CHANGED,\n    CAPTIONS_LIST, RESIZE, MEDIA_VISUAL_QUALITY } from 'events/events';\nimport ProgramController from 'program/program-controller';\nimport initQoe from 'controller/qoe';\nimport { BACKGROUND_LOAD_OFFSET } from '../program/program-constants';\nimport Item from 'playlist/item';\n\n// The model stores a different state than the provider\nfunction normalizeState(newstate) {\n    if (newstate === STATE_LOADING || newstate === STATE_STALLED) {\n        return STATE_BUFFERING;\n    }\n    return newstate;\n}\n\nconst Controller = function() {};\n\nObject.assign(Controller.prototype, {\n    setup(config, _api, originalContainer, eventListeners, commandQueue, mediaPool) {\n        const _this = this;\n        const _model = _this._model = new Model();\n\n        let _view;\n        let _captions;\n        let _beforePlay = false;\n        let _actionOnAttach;\n        let _stopPlaylist = false;\n        let _interruptPlay;\n        let checkAutoStartCancelable = cancelable(_checkAutoStart);\n        let updatePlaylistCancelable = cancelable(function() {});\n        let primeBeforePlay = true;\n\n        _this.originalContainer = _this.currentContainer = originalContainer;\n        _this._events = eventListeners;\n\n        // Delegate trigger so we can run a middleware function before any event is bubbled through the API\n        _this.trigger = function (type, args) {\n            const data = eventsMiddleware(_model, type, args);\n            return Events.trigger.call(this, type, data);\n        };\n\n        let eventsReadyQueue = new ApiQueueDecorator(_this, [\n            'trigger',\n        ], () => true);\n\n        const _trigger = (type, event) => {\n            _this.trigger(type, event);\n        };\n\n        _model.setup(config);\n\n        const viewModel = new ViewModel(_model);\n\n        _view = this._view = new View(_api, viewModel);\n        _view.on('all', _trigger, _this);\n\n        const _programController = new ProgramController(_model, mediaPool);\n        updateProgramSoundSettings();\n        addProgramControllerListeners();\n        initQoe(_model, _programController);\n\n        _model.on(ERROR, _this.triggerError, _this);\n\n        // If we attempt to load flash, assume it is blocked if we don't hear back within a second\n        _model.on('change:flashBlocked', function(model, isBlocked) {\n            if (!isBlocked) {\n                this._model.set('errorEvent', undefined);\n                return;\n            }\n            // flashThrottle indicates whether this is a throttled event or plugin blocked event\n            const throttled = !!model.get('flashThrottle');\n            const errorEvent = {\n                message: throttled ? 'Click to run Flash' : 'Flash plugin failed to load'\n            };\n            // Only dispatch an error for Flash blocked, not throttled events\n            if (!throttled) {\n                this.trigger(ERROR, errorEvent);\n            }\n            this._model.set('errorEvent', errorEvent);\n        }, this);\n\n        _model.on('change:state', changeStateEvent, this);\n\n        _model.on('change:castState', function(model, evt) {\n            _this.trigger(CAST_SESSION, evt);\n        });\n\n        _model.on('change:fullscreen', function(model, bool) {\n            _this.trigger(FULLSCREEN, {\n                fullscreen: bool\n            });\n            if (bool) {\n                // Stop autoplay behavior when the player enters fullscreen\n                model.set('playOnViewable', false);\n            }\n        });\n\n        _model.on('change:volume', function(model, vol) {\n            _this.trigger(MEDIA_VOLUME, {\n                volume: vol\n            });\n        });\n\n        _model.on('change:mute', function(model) {\n            _this.trigger(MEDIA_MUTE, {\n                mute: model.getMute()\n            });\n        });\n\n        _model.on('change:playbackRate', function(model, rate) {\n            _this.trigger(PLAYBACK_RATE_CHANGED, {\n                playbackRate: rate,\n                position: model.get('position')\n            });\n        });\n\n        _model.on('change:scrubbing', function(model, state) {\n            if (state) {\n                _pause();\n            } else {\n                _play({ reason: 'interaction' });\n            }\n        });\n\n        // For onCaptionsList and onCaptionsChange\n        _model.on('change:captionsList', function(model, captionsList) {\n            _this.trigger(CAPTIONS_LIST, {\n                tracks: captionsList,\n                track: _model.get('captionsIndex') || 0\n            });\n        });\n\n        _model.on('change:mediaModel', function(model, mediaModel) {\n            model.set('errorEvent', undefined);\n            mediaModel.change('mediaState', function (changedMediaModel, state) {\n                if (!model.get('errorEvent')) {\n                    model.set(PLAYER_STATE, normalizeState(state));\n                }\n            }, this);\n            mediaModel.change('duration', function (changedMediaModel, duration) {\n                if (duration === 0) {\n                    return;\n                }\n                const minDvrWindow = model.get('minDvrWindow');\n                const type = streamType(duration, minDvrWindow);\n                model.setStreamType(type);\n            }, this);\n\n            const index = model.get('item') + 1;\n            const recsAuto = (model.get('related') || {}).oncomplete === 'autoplay';\n            let item = model.get('playlist')[index];\n            if ((item || recsAuto) && Features.backgroundLoading) {\n                const onPosition = (changedMediaModel, position) => {\n                    // Do not background load DAI items because that item will be dynamically replaced before play\n                    if ((item && !item.daiSetting) && position >= mediaModel.get('duration') - BACKGROUND_LOAD_OFFSET) {\n                        mediaModel.off('change:position', onPosition, this);\n                        _programController.backgroundLoad(item);\n                    } else if (recsAuto) {\n                        item = _model.get('nextUp');\n                    }\n                };\n                mediaModel.on('change:position', onPosition, this);\n            }\n        });\n\n        // Ensure captionsList event is raised after playlistItem\n        _captions = new Captions(_model);\n        _captions.on('all', _trigger, _this);\n\n        viewModel.on('viewSetup', (viewElement) => {\n            showView(this, viewElement);\n        });\n\n        this.playerReady = function() {\n            const related = _api.getPlugin('related');\n            if (related) {\n                related.on('nextUp', (nextUp) => {\n                    let item = null;\n                    if (nextUp === Object(nextUp)) {\n                        // Format the item from the nextUp feed into a valid PlaylistItem\n                        item = Item(nextUp);\n                        item.sources = fixSources(item, _model);\n                    }\n                    _model.set('nextUp', item);\n                });\n            }\n\n            // Fire 'ready' once the view has resized so that player width and height are available\n            // (requires the container to be in the DOM)\n            _view.once(RESIZE, _playerReadyNotify);\n\n            _view.init();\n        };\n\n        function _playerReadyNotify() {\n            _model.change('visibility', _updateViewable);\n            eventsReadyQueue.off();\n\n            // Tell the api that we are loaded\n            _this.trigger(READY, {\n                // this will be updated by Api\n                setupTime: 0\n            });\n\n            _model.change('playlist', function(model, playlist) {\n                if (playlist.length) {\n                    const eventData = {\n                        playlist: playlist\n                    };\n                    const feedData = _model.get('feedData');\n                    if (feedData) {\n                        const eventFeedData = Object.assign({}, feedData);\n                        delete eventFeedData.playlist;\n                        eventData.feedData = eventFeedData;\n                    }\n                    _this.trigger(PLAYLIST_LOADED, eventData);\n                }\n            });\n\n            _model.change('playlistItem', function(model, playlistItem) {\n                if (playlistItem) {\n                    _this.trigger(PLAYLIST_ITEM, {\n                        index: _model.get('item'),\n                        item: playlistItem\n                    });\n                }\n            });\n\n            eventsReadyQueue.flush();\n            eventsReadyQueue.destroy();\n            eventsReadyQueue = null;\n\n            _model.change('viewable', viewableChange);\n            _model.change('viewable', _checkPlayOnViewable);\n            _model.once('change:autostartFailed change:mute', function(model) {\n                model.off('change:viewable', _checkPlayOnViewable);\n            });\n\n            // Run _checkAutoStart() last\n            // 'viewable' changes can result in preload() being called on the initial provider instance\n            _checkAutoStart();\n        }\n\n        function _updateViewable(model, visibility) {\n            if (!_.isUndefined(visibility)) {\n                _model.set('viewable', Math.round(visibility));\n            }\n        }\n\n        function _checkAutoStart() {\n            if (!apiQueue) {\n                // this player has been destroyed\n                return;\n            }\n\n            // Autostart immediately if we're not waiting for the player to become viewable first.\n            if (_model.get('autostart') === true && !_model.get('playOnViewable')) {\n                _autoStart();\n            }\n            apiQueue.flush();\n        }\n\n        function viewableChange(model, viewable) {\n            _this.trigger('viewable', {\n                viewable: viewable\n            });\n\n            // Only attempt to preload if this is the first player on the page or viewable\n            if (instances[0] !== _api && viewable !== 1) {\n                return;\n            }\n            if (_model.get('state') === 'idle' && _model.get('autostart') === false) {\n                _programController.preloadVideo();\n            }\n        }\n\n        function _checkPlayOnViewable(model, viewable) {\n            if (model.get('playOnViewable')) {\n                if (viewable) {\n                    _autoStart();\n                } else if (OS.mobile) {\n                    _this.pause({ reason: 'autostart' });\n                }\n            }\n        }\n\n        function _load(item, feedData) {\n\n            const instream = _this._instreamAdapter;\n            if (instream) {\n                instream.noResume = true;\n            }\n            _this.trigger('destroyPlugin', {});\n            _stop(true);\n\n            checkAutoStartCancelable.cancel();\n            checkAutoStartCancelable = cancelable(_checkAutoStart);\n            updatePlaylistCancelable.cancel();\n\n            if (_inInteraction(window.event)) {\n                _programController.primeMediaElements();\n            }\n\n            let loadPromise;\n\n            switch (typeof item) {\n                case 'string': {\n                    _model.attributes.item = 0;\n                    _model.attributes.itemReady = false;\n                    const loadPlaylistPromise = _loadPlaylist(item).catch(error => {\n                        _this.triggerError({\n                            message: `Error loading playlist: ${error.message}`\n                        });\n                    });\n                    updatePlaylistCancelable = cancelable((data) => {\n                        if (data) {\n                            return _this.updatePlaylist(Playlist(data.playlist), data);\n                        }\n                    });\n                    loadPromise = loadPlaylistPromise.then(updatePlaylistCancelable.async);\n                    break;\n                }\n                case 'object':\n                    _model.attributes.item = 0;\n                    loadPromise = _this.updatePlaylist(Playlist(item), feedData || {});\n                    break;\n                case 'number':\n                    loadPromise = _setItem(item);\n                    break;\n                default:\n                    return;\n            }\n            loadPromise.catch(error => {\n                _this.triggerError({\n                    message: `Playlist error: ${error.message}`\n                });\n            });\n\n            loadPromise.then(checkAutoStartCancelable.async).catch(function() {});\n        }\n\n        function _loadPlaylist(toLoad) {\n            return new Promise((resolve, reject) => {\n                const loader = new PlaylistLoader();\n                loader.on(PLAYLIST_LOADED, function(data) {\n                    resolve(data);\n                });\n                loader.on(ERROR, function(error) {\n                    reject(error);\n                }, this);\n                loader.load(toLoad);\n            });\n        }\n\n        function _getAdState() {\n            return _this._instreamAdapter && _this._instreamAdapter.getState();\n        }\n\n        function _getState() {\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                return adState;\n            }\n            return _model.get('state');\n        }\n\n        function _play(meta) {\n            checkAutoStartCancelable.cancel();\n\n            if (_model.get('state') === STATE_ERROR) {\n                return resolved;\n            }\n\n            const playReason = _getReason(meta);\n            const startTime = meta ? meta.startTime : null;\n            _model.set('playReason', playReason);\n            // Stop autoplay behavior if the video is started by the user or an api call\n            if (playReason === 'interaction' || playReason === 'external') {\n                _model.set('playOnViewable', false);\n            }\n\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                // this will resume the ad. _api.playAd would load a new ad\n                _api.pauseAd(false);\n                return resolved;\n            }\n\n            if (_model.get('state') === STATE_COMPLETE) {\n                _stop(true);\n                _setItem(0);\n            }\n\n            if (!_beforePlay) {\n                _beforePlay = true;\n                _this.trigger(MEDIA_BEFOREPLAY, {\n                    playReason,\n                    startTime\n                });\n                _beforePlay = false;\n\n                if (_inInteraction(window.event) && primeBeforePlay) {\n                    _programController.primeMediaElements();\n                    primeBeforePlay = false;\n                }\n\n                if (_interruptPlay) {\n                    // Force tags to prime if we're about to play an ad\n                    // Resetting the source in order to prime is OK since we'll be switching it anyway\n                    if (_inInteraction(window.event) && !Features.backgroundLoading) {\n                        _model.get('mediaElement').load();\n                    }\n                    _interruptPlay = false;\n                    _actionOnAttach = null;\n                    return resolved;\n                }\n            }\n\n            return _programController.playVideo(playReason)\n                .then(() => {\n                    // If playback succeeded that means we captured a gesture (and used it to prime the pool)\n                    // Avoid priming again in beforePlay because it could cause BGL'd media to be source reset\n                    primeBeforePlay = false;\n                });\n        }\n\n        function _getReason(meta) {\n            if (meta && meta.reason) {\n                return meta.reason;\n            }\n            if (_inInteraction(window.event)) {\n                return 'interaction';\n            }\n            return 'external';\n        }\n\n        function _autoStart() {\n            const state = _model.get('state');\n            if (state !== STATE_IDLE && state !== STATE_PAUSED) {\n                return;\n            }\n\n            // Reset cancelable for new autoplay test below.\n            checkAutoStartCancelable = cancelable(_checkAutoStart);\n\n            // Detect and store browser autoplay setting in the model.\n            const adConfig = _model.get('advertising');\n            canAutoplay(mediaPool, {\n                cancelable: checkAutoStartCancelable,\n                muted: _this.getMute(),\n                allowMuted: adConfig ? adConfig.autoplayadsmuted : true\n            }).then(result => {\n                _model.set('canAutoplay', result);\n\n                // Only apply autostartMuted on un-muted autostart attempt.\n                if (result === AUTOPLAY_MUTED && !_this.getMute()) {\n                    _model.set('autostartMuted', true);\n                    updateProgramSoundSettings();\n\n                    _model.once('change:autostartMuted', function(model) {\n                        model.off('change:viewable', _checkPlayOnViewable);\n                    });\n                }\n\n                return _play({ reason: 'autostart' }).catch(() => {\n                    if (!_this._instreamAdapter) {\n                        _model.set('autostartFailed', true);\n                    }\n                    _actionOnAttach = null;\n                });\n            }).catch(error => {\n                _model.set('canAutoplay', AUTOPLAY_DISABLED);\n                _model.set('autostart', false);\n\n                // Emit event unless test was explicitly canceled.\n                if (!checkAutoStartCancelable.cancelled()) {\n                    const { reason } = error;\n                    _this.trigger(AUTOSTART_NOT_ALLOWED, {\n                        reason,\n                        error\n                    });\n                }\n            });\n        }\n\n        function _stop(internal) {\n            checkAutoStartCancelable.cancel();\n            apiQueue.empty();\n\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                return;\n            }\n\n            const fromApi = !internal;\n\n            _actionOnAttach = null;\n\n            if (fromApi) {\n                _stopPlaylist = true;\n            }\n\n            if (_beforePlay) {\n                _interruptPlay = true;\n            }\n\n            _model.set('errorEvent', undefined);\n            _programController.stopVideo();\n        }\n\n        function _pause(meta) {\n            _actionOnAttach = null;\n            checkAutoStartCancelable.cancel();\n\n            const pauseReason = _getReason(meta);\n            _model.set('pauseReason', pauseReason);\n            // Stop autoplay behavior if the video is paused by the user or an api call\n            if (pauseReason === 'interaction' || pauseReason === 'external') {\n                _model.set('playOnViewable', false);\n            }\n\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                _api.pauseAd(true);\n                return;\n            }\n\n            switch (_model.get('state')) {\n                case STATE_ERROR:\n                    return;\n                case STATE_PLAYING:\n                case STATE_BUFFERING: {\n                    _programController.pause();\n                    break;\n                }\n                default:\n                    if (_beforePlay) {\n                        _interruptPlay = true;\n                    }\n            }\n        }\n\n        function _isIdle() {\n            const state = _model.get('state');\n            return (state === STATE_IDLE || state === STATE_COMPLETE || state === STATE_ERROR);\n        }\n\n        function _seek(pos, meta) {\n            if (_model.get('state') === STATE_ERROR) {\n                return;\n            }\n            _programController.position = pos;\n            if (!_model.get('scrubbing') && _model.get('state') !== STATE_PLAYING) {\n                meta = meta || {};\n                meta.startTime = pos;\n                this.play(meta);\n            }\n        }\n\n        function _item(index, meta) {\n            _stop(true);\n            _setItem(index);\n            _play(meta).catch(() => {\n                // Suppress \"Uncaught (in promise) Error\"\n            });\n        }\n\n        function _setItem(index) {\n            _programController.stopVideo();\n\n            const playlist = _model.get('playlist');\n            const length = playlist.length;\n\n            // If looping past the end, or before the beginning\n            index = (parseInt(index, 10) || 0) % length;\n            if (index < 0) {\n                index += length;\n            }\n\n            return _programController.setActiveItem(index);\n        }\n\n        function _prev(meta) {\n            _item(_model.get('item') - 1, meta);\n        }\n\n        function _next(meta) {\n            _item(_model.get('item') + 1, meta);\n        }\n\n        function _completeHandler() {\n            if (!_isIdle()) {\n                // Something has made an API call before the complete handler has fired.\n                return;\n            } else if (_stopPlaylist) {\n                // Stop called in onComplete event listener\n                _stopPlaylist = false;\n                return;\n            }\n\n            _actionOnAttach = _completeHandler;\n\n            const idx = _model.get('item');\n            if (idx === _model.get('playlist').length - 1) {\n                // If it's the last item in the playlist\n                if (_model.get('repeat')) {\n                    _next({ reason: 'repeat' });\n                } else {\n                    // Exit fullscreen on IOS so that our overlays show to the user\n                    if (OS.iOS) {\n                        _setFullscreen(false);\n                    }\n                    // Autoplay/pause no longer needed since there's no more media to play\n                    // This prevents media from replaying when a completed video scrolls into view\n                    _model.set('playOnViewable', false);\n                    _model.set('state', STATE_COMPLETE);\n                    _this.trigger(PLAYLIST_COMPLETE, {});\n                }\n                return;\n            }\n\n            // It wasn't the last item in the playlist,\n            //  so go to the next one and trigger an autoadvance event\n            const related = _api.getPlugin('related');\n            triggerAdvanceEvent(related, 'nextAutoAdvance');\n            _next({ reason: 'playlist' });\n        }\n\n        function _setCurrentQuality(index) {\n            _programController.quality = index;\n        }\n\n        function _getCurrentQuality() {\n            return _programController.quality;\n        }\n\n        function _getConfig() {\n            return this._model ? this._model.getConfiguration() : undefined;\n        }\n\n        function _getVisualQuality() {\n            const mediaModel = this._model.get('mediaModel');\n            if (mediaModel) {\n                return mediaModel.get(MEDIA_VISUAL_QUALITY);\n            }\n            return null;\n        }\n\n        function _getQualityLevels() {\n            return _programController.qualities;\n        }\n\n        function _setCurrentAudioTrack(index) {\n            _programController.audioTrack = index;\n        }\n\n        function _getCurrentAudioTrack() {\n            return _programController.audioTrack;\n        }\n\n        function _getAudioTracks() {\n            return _programController.audioTracks;\n        }\n\n        function _setCurrentCaptions(index) {\n            index = parseInt(index, 10) || 0;\n\n            _model.persistVideoSubtitleTrack(index);\n            _programController.subtitles = index;\n\n            _this.trigger(CAPTIONS_CHANGED, {\n                tracks: _getCaptionsList(),\n                track: index\n            });\n        }\n\n        function _getCurrentCaptions() {\n            return _captions.getCurrentIndex();\n        }\n\n        function _getCaptionsList() {\n            return _captions.getCaptionsList();\n        }\n\n        /* Used for the InStream API */\n        function _detachMedia() {\n            if (_beforePlay) {\n                _interruptPlay = true;\n            }\n\n            if (Features.backgroundLoading) {\n                _programController.backgroundActiveMedia();\n            } else {\n                _programController.attached = false;\n            }\n        }\n\n        function _attachMedia(position) {\n            // Called after instream ends\n\n            if (Features.backgroundLoading) {\n                _programController.restoreBackgroundMedia();\n            } else {\n                // Set the position before attaching so that we resume at the expected time\n                _programController.position = position || 0;\n                _programController.attached = true;\n            }\n\n            if (typeof _actionOnAttach === 'function') {\n                _actionOnAttach();\n            }\n        }\n\n        function _setFullscreen(state) {\n            if (!_.isBoolean(state)) {\n                state = !_model.get('fullscreen');\n            }\n\n            _model.set('fullscreen', state);\n            if (_this._instreamAdapter && _this._instreamAdapter._adModel) {\n                _this._instreamAdapter._adModel.set('fullscreen', state);\n            }\n        }\n\n        function _nextUp() {\n            const related = _api.getPlugin('related');\n            triggerAdvanceEvent(related, 'nextClick', () => related.next());\n        }\n\n        function triggerAdvanceEvent(related, evt, cb) {\n            if (!related) {\n                return;\n            }\n            const nextUp = _model.get('nextUp');\n            if (nextUp) {\n                _this.trigger(evt, {\n                    mode: nextUp.mode,\n                    ui: 'nextup',\n                    target: nextUp,\n                    itemsShown: [ nextUp ],\n                    feedData: nextUp.feedData,\n                });\n            }\n            if (typeof cb === 'function') {\n                cb();\n            }\n        }\n\n        function addProgramControllerListeners() {\n            _programController\n                .on('all', _trigger, _this)\n                .on('subtitlesTracks', (e) => {\n                    _captions.setSubtitlesTracks(e.tracks);\n                    const defaultCaptionsIndex = _captions.getCurrentIndex();\n\n                    // set the current captions if the default index isn't 0 or \"Off\"\n                    if (defaultCaptionsIndex > 0) {\n                        _setCurrentCaptions(defaultCaptionsIndex);\n                    }\n                }, _this)\n                .on(MEDIA_COMPLETE, () => {\n                    // Insert a small delay here so that other complete handlers can execute\n                    resolved.then(_completeHandler);\n                }, _this)\n                .on(MEDIA_ERROR, _this.triggerError, _this);\n        }\n\n        function updateProgramSoundSettings() {\n            _programController.mute = _model.getMute();\n            _programController.volume = _model.get('volume');\n        }\n\n        /** Controller API / public methods **/\n        this.load = _load;\n        this.play = _play;\n        this.pause = _pause;\n        this.seek = _seek;\n        this.stop = _stop;\n        this.playlistItem = _item;\n        this.playlistNext = _next;\n        this.playlistPrev = _prev;\n        this.setCurrentCaptions = _setCurrentCaptions;\n        this.setCurrentQuality = _setCurrentQuality;\n        this.setFullscreen = _setFullscreen;\n        this.detachMedia = _detachMedia;\n        this.attachMedia = _attachMedia;\n        this.getCurrentQuality = _getCurrentQuality;\n        this.getQualityLevels = _getQualityLevels;\n        this.setCurrentAudioTrack = _setCurrentAudioTrack;\n        this.getCurrentAudioTrack = _getCurrentAudioTrack;\n        this.getAudioTracks = _getAudioTracks;\n        this.getCurrentCaptions = _getCurrentCaptions;\n        this.getCaptionsList = _getCaptionsList;\n        this.getVisualQuality = _getVisualQuality;\n        this.getConfig = _getConfig;\n        this.getState = _getState;\n        this.next = _nextUp;\n        this.setConfig = (newConfig) => {\n            setConfig(_this, newConfig);\n        };\n        this.setItemIndex = _setItem;\n\n        // Program Controller passthroughs\n        this.playVideo = (playReason) => _programController.playVideo(playReason);\n        this.stopVideo = () => _programController.stopVideo();\n        this.castVideo = (castProvider, item) => _programController.castVideo(castProvider, item);\n        this.stopCast = () => _programController.stopCast();\n        this.backgroundActiveMedia = () => _programController.backgroundActiveMedia();\n        this.restoreBackgroundMedia = () => _programController.restoreBackgroundMedia();\n        this.preloadNextItem = () => {\n            if (_programController.backgroundMedia) {\n                // Instruct the background media to preload if it's already been loaded\n                _programController.preloadVideo();\n            }\n        };\n        this.isBeforeComplete = () => _programController.beforeComplete;\n\n        // Model passthroughs\n        this.setVolume = (volume) => {\n            _model.setVolume(volume);\n            updateProgramSoundSettings();\n        };\n        this.setMute = (mute) => {\n            _model.setMute(mute);\n            updateProgramSoundSettings();\n        };\n        this.setPlaybackRate = (playbackRate) => {\n            _model.setPlaybackRate(playbackRate);\n        };\n        this.getProvider = () => _model.get('provider');\n        this.getWidth = () => _model.get('containerWidth');\n        this.getHeight = () => _model.get('containerHeight');\n        this.getItemQoe = () => _model._qoeItem;\n        this.addButton = function(img, tooltip, callback, id, btnClass) {\n            let customButtons = _model.get('customButtons') || [];\n            let replaced = false;\n            const newButton = {\n                img: img,\n                tooltip: tooltip,\n                callback: callback,\n                id: id,\n                btnClass: btnClass\n            };\n\n            customButtons = customButtons.reduce((buttons, button) => {\n                if (button.id === id) {\n                    replaced = true;\n                    buttons.push(newButton);\n                } else {\n                    buttons.push(button);\n                }\n                return buttons;\n            }, []);\n\n            if (!replaced) {\n                customButtons.unshift(newButton);\n            }\n\n            _model.set('customButtons', customButtons);\n        };\n        this.removeButton = function(id) {\n            const customButtons = _.filter(\n                _model.get('customButtons'),\n                (button) => button.id !== id\n            );\n\n            _model.set('customButtons', customButtons);\n        };\n\n        // View passthroughs\n        this.resize = _view.resize;\n        this.getSafeRegion = _view.getSafeRegion;\n        this.setCaptions = _view.setCaptions;\n\n        this.checkBeforePlay = function() {\n            return _beforePlay;\n        };\n\n        this.setControls = function (mode) {\n            if (!_.isBoolean(mode)) {\n                mode = !_model.get('controls');\n            }\n            _model.set('controls', mode);\n            _programController.controls = mode;\n        };\n\n        this.setCues = function (cues) {\n            _model.set('cues', cues);\n        };\n\n        this.updatePlaylist = function(playlist, feedData) {\n            try {\n                const filteredPlaylist = filterPlaylist(playlist, _model, feedData);\n\n                // Throw exception if playlist is empty\n                validatePlaylist(filteredPlaylist);\n\n                _model.set('feedData', feedData);\n                _model.set('playlist', filteredPlaylist);\n            } catch (error) {\n                return Promise.reject(error);\n            }\n            return _setItem(_model.get('item'));\n        };\n\n        this.playerDestroy = function () {\n            this.trigger('destroyPlugin', {});\n            this.off();\n            this.stop();\n            showView(this, this.originalContainer);\n            if (_view) {\n                _view.destroy();\n            }\n            if (_model) {\n                _model.destroy();\n            }\n            if (apiQueue) {\n                apiQueue.destroy();\n            }\n            if (_captions) {\n                _captions.destroy();\n            }\n            if (_programController) {\n                _programController.destroy();\n            }\n            this.instreamDestroy();\n        };\n\n        this.isBeforePlay = this.checkBeforePlay;\n\n        this.createInstream = function() {\n            this.instreamDestroy();\n            this._instreamAdapter = new InstreamAdapter(this, _model, _view, mediaPool);\n            return this._instreamAdapter;\n        };\n\n        this.skipAd = function() {\n            if (this._instreamAdapter) {\n                this._instreamAdapter.skipAd();\n            }\n        };\n\n        this.instreamDestroy = function() {\n            if (_this._instreamAdapter) {\n                _this._instreamAdapter.destroy();\n                _this._instreamAdapter = null;\n            }\n        };\n\n        // Setup ApiQueueDecorator after instance methods have been assigned\n        const apiQueue = new ApiQueueDecorator(this, [\n            'play',\n            'pause',\n            'setCurrentAudioTrack',\n            'setCurrentCaptions',\n            'setCurrentQuality',\n            'setFullscreen',\n        ], () => !this._model.get('itemReady') || eventsReadyQueue);\n        // Add commands from CoreLoader to queue\n        apiQueue.queue.push.apply(apiQueue.queue, commandQueue);\n\n        _view.setup();\n    },\n    get(property) {\n        if (property in INITIAL_MEDIA_STATE) {\n            const mediaModel = this._model.get('mediaModel');\n            if (mediaModel) {\n                return mediaModel.get(property);\n            }\n            return INITIAL_MEDIA_STATE[property];\n        }\n        return this._model.get(property);\n    },\n    getContainer() {\n        return this.currentContainer || this.originalContainer;\n    },\n    getMute() {\n        return this._model.getMute();\n    },\n    triggerError(evt) {\n        this._model.set('errorEvent', evt);\n        this._model.set('state', STATE_ERROR);\n        this._model.once('change:state', function() {\n            this._model.set('errorEvent', undefined);\n        }, this);\n\n        this.trigger(ERROR, evt);\n    }\n});\n\n\nfunction _inInteraction(event) {\n    return event && /^(?:mouse|pointer|touch|gesture|click|key)/.test(event.type);\n}\n\nexport default Controller;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/controller.js","import { qualityLevel } from 'providers/data-normalizer';\nimport { Browser, OS } from 'environment/environment';\nimport { isAndroidHls } from 'providers/html5-android-hls';\nimport { STATE_IDLE, STATE_PLAYING, STATE_STALLED, MEDIA_META, MEDIA_ERROR, MEDIA_VISUAL_QUALITY, MEDIA_TYPE,\n    MEDIA_LEVELS, MEDIA_LEVEL_CHANGED, MEDIA_SEEK, STATE_LOADING } from 'events/events';\nimport VideoEvents from 'providers/video-listener-mixin';\nimport VideoAction from 'providers/video-actions-mixin';\nimport VideoAttached from 'providers/video-attached-mixin';\nimport { style, transform } from 'utils/css';\nimport utils from 'utils/helpers';\nimport { emptyElement } from 'utils/dom';\nimport _ from 'utils/underscore';\nimport DefaultProvider from 'providers/default';\nimport Events from 'utils/backbone.events';\nimport Tracks from 'providers/tracks-mixin';\nimport endOfRange from 'utils/time-ranges';\nimport createPlayPromise from 'providers/utils/play-promise';\n\nconst clearTimeout = window.clearTimeout;\nconst MIN_DVR_DURATION = 120;\nconst _name = 'html5';\n\nfunction _setupListeners(eventsHash, videoTag) {\n    Object.keys(eventsHash).forEach(eventName => {\n        videoTag.removeEventListener(eventName, eventsHash[eventName]);\n        videoTag.addEventListener(eventName, eventsHash[eventName]);\n    });\n}\n\nfunction _removeListeners(eventsHash, videoTag) {\n    Object.keys(eventsHash).forEach(eventName => {\n        videoTag.removeEventListener(eventName, eventsHash[eventName]);\n    });\n}\n\nfunction VideoProvider(_playerId, _playerConfig, mediaElement) {\n    // Current media state\n    this.state = STATE_IDLE;\n\n    // Are we buffering due to seek, or due to playback?\n    this.seeking = false;\n\n    // Always render natively in iOS and Safari, where HLS is supported.\n    // Otherwise, use native rendering when set in the config for browsers that have adequate support.\n    // FF, IE & Edge are excluded due to styling/positioning drawbacks.\n    // The following issues need to be addressed before we enable native rendering in Edge:\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8120475/\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12079271/\n    function renderNatively (configRenderNatively) {\n        if (OS.iOS || Browser.safari) {\n            return true;\n        }\n        return configRenderNatively && Browser.chrome;\n    }\n\n    const _this = this;\n\n    const MediaEvents = {\n        progress() {\n            VideoEvents.progress.call(_this);\n            checkStaleStream();\n        },\n        \n        timeupdate() {\n            if (_positionBeforeSeek !== _videotag.currentTime) {\n                _setPositionBeforeSeek(_videotag.currentTime);\n                VideoEvents.timeupdate.call(_this);\n            }\n            checkStaleStream();\n            if (Browser.ie) {\n                checkVisualQuality();\n            }\n        },\n\n        resize: checkVisualQuality,\n\n        ended() {\n            _currentQuality = -1;\n            clearTimeouts();\n            VideoEvents.ended.call(_this);\n        },\n\n        loadedmetadata() {\n            let duration = _this.getDuration();\n            if (_androidHls && duration === Infinity) {\n                duration = 0;\n            }\n            var metadata = {\n                duration: duration,\n                height: _videotag.videoHeight,\n                width: _videotag.videoWidth\n            };\n            _this.trigger(MEDIA_META, metadata);\n            checkVisualQuality();\n        },\n\n        durationchange() {\n            if (_androidHls) {\n                return;\n            }\n            VideoEvents.progress.call(_this);\n        },\n\n        loadeddata() {\n            VideoEvents.loadeddata.call(_this);\n            _setAudioTracks(_videotag.audioTracks);\n            _checkDelayedSeek(_this.getDuration());\n        },\n\n        canplay() {\n            _canSeek = true;\n            if (!_androidHls) {\n                _setMediaType();\n            }\n            if (Browser.ie && Browser.version.major === 9) {\n                // In IE9, set tracks here since they are not ready\n                // on load\n                _this.setTextTracks(_this._textTracks);\n            }\n            VideoEvents.canplay.call(_this);\n        },\n\n        seeking() {\n            const offset = _seekOffset !== null ? _seekOffset : _this.getCurrentTime();\n            const position = _positionBeforeSeek;\n            _setPositionBeforeSeek(offset);\n            _seekOffset = null;\n            _delayedSeek = 0;\n            _this.seeking = true;\n            _this.trigger(MEDIA_SEEK, {\n                position,\n                offset\n            });\n        },\n\n        seeked() {\n            VideoEvents.seeked.call(_this);\n        },\n\n        waiting() {\n            if (_this.seeking) {\n                _this.setState(STATE_LOADING);\n            } else if (_this.state === STATE_PLAYING) {\n                if (_this.atEdgeOfLiveStream()) {\n                    _this.setPlaybackRate(1);\n                }\n                _this.stallTime = _this.getCurrentTime();\n                _this.setState(STATE_STALLED);\n            }\n        },\n\n        webkitbeginfullscreen(e) {\n            _fullscreenState = true;\n            _sendFullscreen(e);\n        },\n\n        webkitendfullscreen(e) {\n            _fullscreenState = false;\n            _sendFullscreen(e);\n        }\n    };\n    Object.keys(VideoEvents).forEach(eventName => {\n        if (!MediaEvents[eventName]) {\n            const mixinEventHandler = VideoEvents[eventName];\n            MediaEvents[eventName] = (e) => {\n                mixinEventHandler.call(_this, e);\n            };\n        }\n    });\n\n    Object.assign(this, Events, VideoAction, VideoAttached, Tracks, {\n        renderNatively: renderNatively(_playerConfig.renderCaptionsNatively),\n        eventsOn_() {\n            _setupListeners(MediaEvents, _videotag);\n        },\n        eventsOff_() {\n            _removeListeners(MediaEvents, _videotag);\n        },\n        detachMedia() {\n            VideoAttached.detachMedia.call(_this);\n            clearTimeouts();\n            // Stop listening to track changes so disabling the current track doesn't update the model\n            this.removeTracksListener(_videotag.textTracks, 'change', this.textTrackChangeHandler);\n            // Prevent tracks from showing during ad playback\n            this.disableTextTrack();\n            return _videotag;\n        },\n        attachMedia() {\n            VideoAttached.attachMedia.call(_this);\n            _canSeek = false;\n            // If we were mid-seek when detached, we want to allow it to resume\n            this.seeking = false;\n            // In case the video tag was modified while we shared it\n            _videotag.loop = false;\n            // If there was a showing track, re-enable it\n            this.enableTextTrack();\n            if (this.renderNatively) {\n                this.setTextTracks(this.video.textTracks);\n            }\n            this.addTracksListener(_videotag.textTracks, 'change', this.textTrackChangeHandler);\n        },\n        isLive() {\n            return _videotag.duration === Infinity;\n        }\n    });\n\n    const _videotag = mediaElement;\n    const visualQuality = { level: {} };\n    // Prefer the config timeout, which is allowed to be 0 and null by default\n    const _staleStreamDuration =\n        _playerConfig.liveTimeout !== null\n            ? _playerConfig.liveTimeout\n            : 3 * 10 * 1000;\n\n    let _canSeek = false; // true on valid time event\n    let _delayedSeek = 0;\n    let _seekOffset = null;\n    let _positionBeforeSeek = null;\n    let _levels;\n    let _currentQuality = -1;\n    let _fullscreenState = false;\n    let _beforeResumeHandler = utils.noop;\n    let _audioTracks = null;\n    let _currentAudioTrackIndex = -1;\n    let _staleStreamTimeout = -1;\n    let _stale = false;\n    let _lastEndOfBuffer = null;\n    let _androidHls = false;\n\n    this.isSDK = !!_playerConfig.sdkplatform;\n    this.video = _videotag;\n    this.supportsPlaybackRate = true;\n\n    function checkVisualQuality() {\n        const level = visualQuality.level;\n        if (level.width !== _videotag.videoWidth || level.height !== _videotag.videoHeight) {\n            level.width = _videotag.videoWidth;\n            level.height = _videotag.videoHeight;\n            _setMediaType();\n            if (!level.width || !level.height || _currentQuality === -1) {\n                return;\n            }\n            visualQuality.reason = visualQuality.reason || 'auto';\n            visualQuality.mode = _levels[_currentQuality].type === 'hls' ? 'auto' : 'manual';\n            visualQuality.bitrate = 0;\n            level.index = _currentQuality;\n            level.label = _levels[_currentQuality].label;\n            _this.trigger(MEDIA_VISUAL_QUALITY, visualQuality);\n            visualQuality.reason = '';\n        }\n    }\n\n    function _setPositionBeforeSeek(position) {\n        _positionBeforeSeek = _convertTime(position);\n    }\n\n    _this.getCurrentTime = function() {\n        return _convertTime(_videotag.currentTime);\n    };\n\n    function _convertTime(position) {\n        if (_this.getDuration() < 0) {\n            position -= _getSeekableEnd();\n        }\n        return position;\n    }\n\n    _this.getDuration = function() {\n        var duration = _videotag.duration;\n        // Don't sent time event on Android before real duration is known\n        if (_androidHls && (duration === Infinity && _videotag.currentTime === 0) || isNaN(duration)) {\n            return 0;\n        }\n        var end = _getSeekableEnd();\n        if (_this.isLive() && end) {\n            var seekableDuration = end - _getSeekableStart();\n            if (seekableDuration !== Infinity && seekableDuration > MIN_DVR_DURATION) {\n                // Player interprets negative duration as DVR\n                duration = -seekableDuration;\n            }\n        }\n        return duration;\n    };\n\n    function _checkDelayedSeek(duration) {\n        // Don't seek when _delayedSeek is set to -1 in _completeLoad\n        if (_delayedSeek && _delayedSeek !== -1 && duration && duration !== Infinity) {\n            _this.seek(_delayedSeek);\n        }\n    }\n\n    function _getPublicLevels(levels) {\n        var publicLevels;\n        if (utils.typeOf(levels) === 'array' && levels.length > 0) {\n            publicLevels = _.map(levels, function(level, i) {\n                return {\n                    label: level.label || i\n                };\n            });\n        }\n        return publicLevels;\n    }\n\n    function _setLevels(levels) {\n        _levels = levels;\n        _currentQuality = _pickInitialQuality(levels);\n    }\n\n    function _pickInitialQuality(levels) {\n        var currentQuality = Math.max(0, _currentQuality);\n        var label = _playerConfig.qualityLabel;\n        if (levels) {\n            for (var i = 0; i < levels.length; i++) {\n                if (levels[i].default) {\n                    currentQuality = i;\n                }\n                if (label && levels[i].label === label) {\n                    return i;\n                }\n            }\n        }\n        visualQuality.reason = 'initial choice';\n\n        if (!visualQuality.level.width || !visualQuality.level.height) {\n            visualQuality.level = {};\n        }\n\n        return currentQuality;\n    }\n\n    function _play() {\n        return _videotag.play() || createPlayPromise(_videotag);\n    }\n\n    function _completeLoad(startTime) {\n        _delayedSeek = 0;\n        clearTimeouts();\n\n        const previousSource = _videotag.src;\n        const sourceElement = document.createElement('source');\n        sourceElement.src = _levels[_currentQuality].file;\n        const sourceChanged = (sourceElement.src !== previousSource);\n\n        if (sourceChanged) {\n            _setVideotagSource(_levels[_currentQuality]);\n            // Do not call load if src was not set. load() will cancel any active play promise.\n            if (previousSource) {\n                _videotag.load();\n            }\n        } else if (startTime === 0 && _videotag.currentTime > 0) {\n            // Load event is from the same video as before\n            // restart video without dispatching seek event\n            _delayedSeek = -1;\n            _this.seek(startTime);\n        }\n\n        if (startTime > 0) {\n            _this.seek(startTime);\n        }\n\n        var publicLevels = _getPublicLevels(_levels);\n        if (publicLevels) {\n            _this.trigger(MEDIA_LEVELS, {\n                levels: publicLevels,\n                currentQuality: _currentQuality\n            });\n        }\n        if (_levels.length && _levels[0].type !== 'hls') {\n            _this.sendMediaType(_levels);\n        }\n    }\n\n    function _setVideotagSource(source) {\n        _audioTracks = null;\n        _currentAudioTrackIndex = -1;\n        if (!visualQuality.reason) {\n            visualQuality.reason = 'initial choice';\n            visualQuality.level = {};\n        }\n        _canSeek = false;\n\n        var sourceElement = document.createElement('source');\n        sourceElement.src = source.file;\n        var sourceChanged = (_videotag.src !== sourceElement.src);\n        if (sourceChanged) {\n            _videotag.src = source.file;\n        }\n    }\n\n    function _clearVideotagSource() {\n        if (_videotag) {\n            _this.disableTextTrack();\n            _videotag.removeAttribute('preload');\n            _videotag.removeAttribute('src');\n            emptyElement(_videotag);\n            style(_videotag, {\n                objectFit: ''\n            });\n            _currentQuality = -1;\n            // Don't call load in iE9/10 and check for load in PhantomJS\n            if (!Browser.msie && 'load' in _videotag) {\n                _videotag.load();\n            }\n        }\n    }\n\n    function _getSeekableStart() {\n        var index = _videotag.seekable ? _videotag.seekable.length : 0;\n        var start = Infinity;\n\n        while (index--) {\n            start = Math.min(start, _videotag.seekable.start(index));\n        }\n        return start;\n    }\n\n    function _getSeekableEnd() {\n        var index = _videotag.seekable ? _videotag.seekable.length : 0;\n        var end = 0;\n\n        while (index--) {\n            end = Math.max(end, _videotag.seekable.end(index));\n        }\n        return end;\n    }\n\n    this.stop = function() {\n        clearTimeouts();\n        _clearVideotagSource();\n        this.clearTracks();\n        // IE/Edge continue to play a video after changing video.src and calling video.load()\n        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/5383483/ (not fixed in Edge 14)\n        if (Browser.ie) {\n            _videotag.pause();\n        }\n        this.setState(STATE_IDLE);\n    };\n\n    this.destroy = function() {\n        _beforeResumeHandler = utils.noop;\n        _removeListeners(MediaEvents, _videotag);\n        this.removeTracksListener(_videotag.audioTracks, 'change', _audioTrackChangeHandler);\n        this.removeTracksListener(_videotag.textTracks, 'change', _this.textTrackChangeHandler);\n        this.off();\n    };\n\n    this.init = function(item) {\n        _setLevels(item.sources);\n        const source = _levels[_currentQuality];\n        _androidHls = isAndroidHls(source);        \n        if (_androidHls) {\n            // Playback rate is broken on Android HLS\n            _this.supportsPlaybackRate = false;\n            // Android HLS doesnt update its times correctly so it always falls in here.  Do not allow it to stall.\n            MediaEvents.waiting = utils.noop;\n        }\n        _this.eventsOn_();\n        // the loadeddata event determines the mediaType for HLS sources\n        if (_levels.length && _levels[0].type !== 'hls') {\n            this.sendMediaType(_levels);\n        }\n        visualQuality.reason = '';\n    };\n\n    this.preload = function(item) {\n        _setLevels(item.sources);\n        const source = _levels[_currentQuality];\n        const preload = source.preload || 'metadata';\n        if (preload !== 'none') {\n            _videotag.setAttribute('preload', preload);\n            _setVideotagSource(source);\n        }\n    };\n\n    this.load = function(item) {\n        _setLevels(item.sources);\n        _completeLoad(item.starttime, item.duration || 0);\n        this.setupSideloadedTracks(item.tracks);        \n    };\n\n    this.play = function() {\n        _beforeResumeHandler();\n        return _play();\n    };\n\n    this.pause = function() {\n        clearTimeouts();\n        _beforeResumeHandler = function() {\n            var unpausing = _videotag.paused && _videotag.currentTime;\n            if (unpausing && _this.isLive()) {\n                var end = _getSeekableEnd();\n                var seekableDuration = end - _getSeekableStart();\n                var isLiveNotDvr = seekableDuration < MIN_DVR_DURATION;\n                var behindLiveEdge = end - _videotag.currentTime;\n                if (isLiveNotDvr && end && (behindLiveEdge > 15 || behindLiveEdge < 0)) {\n                    // resume playback at edge of live stream\n                    _seekOffset = Math.max(end - 10, end - seekableDuration);\n                    _setPositionBeforeSeek(_videotag.currentTime);\n                    _videotag.currentTime = _seekOffset;\n                }\n\n            }\n        };\n        _videotag.pause();\n    };\n\n    this.seek = function(seekPos) {\n        if (seekPos < 0) {\n            seekPos += _getSeekableStart() + _getSeekableEnd();\n        }\n        if (!_canSeek) {\n            _canSeek = !!_getSeekableEnd();\n        }\n        if (_canSeek) {\n            _delayedSeek = 0;\n            // setting currentTime can throw an invalid DOM state exception if the video is not ready\n            try {\n                _this.seeking = true;\n                _seekOffset = seekPos;\n                _setPositionBeforeSeek(_videotag.currentTime);\n                _videotag.currentTime = seekPos;\n            } catch (e) {\n                _this.seeking = false;\n                _delayedSeek = seekPos;\n            }\n        } else {\n            _delayedSeek = seekPos;\n            // Firefox isn't firing canplay event when in a paused state\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1194624\n            if (Browser.firefox && _videotag.paused) {\n                _play();\n            }\n        }\n    };\n\n    function _audioTrackChangeHandler() {\n        var _selectedAudioTrackIndex = -1;\n        for (var i = 0; i < _videotag.audioTracks.length; i++) {\n            if (_videotag.audioTracks[i].enabled) {\n                _selectedAudioTrackIndex = i;\n                break;\n            }\n        }\n        _setCurrentAudioTrack(_selectedAudioTrackIndex);\n    }\n\n    function _sendFullscreen(e) {\n        _this.trigger('fullscreenchange', {\n            target: e.target,\n            jwstate: _fullscreenState\n        });\n    }\n\n    this.setVisibility = function(state) {\n        state = !!state;\n        if (state || OS.android) {\n            // Changing visibility to hidden on Android < 4.2 causes\n            // the pause event to be fired. This causes audio files to\n            // become unplayable. Hence the video tag is always kept\n            // visible on Android devices.\n            style(_this.container, {\n                visibility: 'visible',\n                opacity: 1\n            });\n        } else {\n            style(_this.container, {\n                visibility: '',\n                opacity: 0\n            });\n        }\n    };\n\n    this.resize = function(width, height, stretching) {\n        if (!width || !height || !_videotag.videoWidth || !_videotag.videoHeight) {\n            return;\n        }\n        const styles = {\n            objectFit: '',\n            width: '',\n            height: ''\n        };\n        if (stretching === 'uniform') {\n            // snap video to edges when the difference in aspect ratio is less than 9%\n            const playerAspectRatio = width / height;\n            const videoAspectRatio = _videotag.videoWidth / _videotag.videoHeight;\n            if (Math.abs(playerAspectRatio - videoAspectRatio) < 0.09) {\n                styles.objectFit = 'fill';\n                stretching = 'exactfit';\n            }\n        }\n        // Prior to iOS 9, object-fit worked poorly\n        // object-fit is not implemented in IE or Android Browser in 4.4 and lower\n        // http://caniuse.com/#feat=object-fit\n        // feature detection may work for IE but not for browsers where object-fit works for images only\n        const fitVideoUsingTransforms = Browser.ie || (OS.iOS && OS.version.major < 9) || Browser.androidNative;\n        if (fitVideoUsingTransforms) {\n            // Use transforms to center and scale video in container\n            const x = -Math.floor(_videotag.videoWidth / 2 + 1);\n            const y = -Math.floor(_videotag.videoHeight / 2 + 1);\n            let scaleX = Math.ceil(width * 100 / _videotag.videoWidth) / 100;\n            let scaleY = Math.ceil(height * 100 / _videotag.videoHeight) / 100;\n            if (stretching === 'none') {\n                scaleX = scaleY = 1;\n            } else if (stretching === 'fill') {\n                scaleX = scaleY = Math.max(scaleX, scaleY);\n            } else if (stretching === 'uniform') {\n                scaleX = scaleY = Math.min(scaleX, scaleY);\n            }\n            styles.width = _videotag.videoWidth;\n            styles.height = _videotag.videoHeight;\n            styles.top = styles.left = '50%';\n            styles.margin = 0;\n            transform(_videotag,\n                'translate(' + x + 'px, ' + y + 'px) scale(' + scaleX.toFixed(2) + ', ' + scaleY.toFixed(2) + ')');\n        }\n        style(_videotag, styles);\n    };\n\n    this.setFullscreen = function(state) {\n        state = !!state;\n\n        // This implementation is for iOS and Android WebKit only\n        // This won't get called if the player container can go fullscreen\n        if (state) {\n            var status = utils.tryCatch(function() {\n                var enterFullscreen =\n                    _videotag.webkitEnterFullscreen ||\n                    _videotag.webkitEnterFullScreen;\n                if (enterFullscreen) {\n                    enterFullscreen.apply(_videotag);\n                }\n\n            });\n\n            if (status instanceof utils.Error) {\n                // object can't go fullscreen\n                return false;\n            }\n            return _this.getFullScreen();\n        }\n\n        var exitFullscreen =\n            _videotag.webkitExitFullscreen ||\n            _videotag.webkitExitFullScreen;\n        if (exitFullscreen) {\n            exitFullscreen.apply(_videotag);\n        }\n\n        return state;\n    };\n\n    _this.getFullScreen = function() {\n        return _fullscreenState || !!_videotag.webkitDisplayingFullscreen;\n    };\n\n    this.setCurrentQuality = function(quality) {\n        if (_currentQuality === quality) {\n            return;\n        }\n        if (quality >= 0) {\n            if (_levels && _levels.length > quality) {\n                _currentQuality = quality;\n                visualQuality.reason = 'api';\n                visualQuality.level = {};\n                this.trigger(MEDIA_LEVEL_CHANGED, {\n                    currentQuality: quality,\n                    levels: _getPublicLevels(_levels)\n                });\n\n                // The playerConfig is not updated automatically, because it is a clone\n                // from when the provider was first initialized\n                _playerConfig.qualityLabel = _levels[quality].label;\n\n                const time = _videotag.currentTime || 0;\n                const duration = _this.getDuration();\n                _completeLoad(time, duration);\n                _play();\n            }\n        }\n    };\n\n    this.setPlaybackRate = function(playbackRate) {\n        // Set defaultPlaybackRate so that we do not send ratechange events when setting src\n        _videotag.playbackRate = _videotag.defaultPlaybackRate = playbackRate;\n    };\n\n    this.getPlaybackRate = function() {\n        return _videotag.playbackRate;\n    };\n\n    this.getCurrentQuality = function() {\n        return _currentQuality;\n    };\n\n    this.getQualityLevels = function() {\n        return _.map(_levels, level => qualityLevel(level));\n    };\n\n    this.getName = function() {\n        return { name: _name };\n    };\n    this.setCurrentAudioTrack = _setCurrentAudioTrack;\n\n    this.getAudioTracks = _getAudioTracks;\n\n    this.getCurrentAudioTrack = _getCurrentAudioTrack;\n\n    function _setAudioTracks(tracks) {\n        _audioTracks = null;\n        if (!tracks) {\n            return;\n        }\n        if (tracks.length) {\n            for (var i = 0; i < tracks.length; i++) {\n                if (tracks[i].enabled) {\n                    _currentAudioTrackIndex = i;\n                    break;\n                }\n            }\n            if (_currentAudioTrackIndex === -1) {\n                _currentAudioTrackIndex = 0;\n                tracks[_currentAudioTrackIndex].enabled = true;\n            }\n            _audioTracks = _.map(tracks, function(track) {\n                var _track = {\n                    name: track.label || track.language,\n                    language: track.language\n                };\n                return _track;\n            });\n        }\n        _this.addTracksListener(tracks, 'change', _audioTrackChangeHandler);\n        if (_audioTracks) {\n            _this.trigger('audioTracks', { currentTrack: _currentAudioTrackIndex, tracks: _audioTracks });\n        }\n    }\n\n    function _setCurrentAudioTrack(index) {\n        if (_videotag && _videotag.audioTracks && _audioTracks &&\n            index > -1 && index < _videotag.audioTracks.length && index !== _currentAudioTrackIndex) {\n            _videotag.audioTracks[_currentAudioTrackIndex].enabled = false;\n            _currentAudioTrackIndex = index;\n            _videotag.audioTracks[_currentAudioTrackIndex].enabled = true;\n            _this.trigger('audioTrackChanged', { currentTrack: _currentAudioTrackIndex,\n                tracks: _audioTracks });\n        }\n    }\n\n    function _getAudioTracks() {\n        return _audioTracks || [];\n    }\n\n    function _getCurrentAudioTrack() {\n        return _currentAudioTrackIndex;\n    }\n\n    function _setMediaType() {\n        // Send mediaType when format is HLS. Other types are handled earlier by default.js.\n        if (_levels[0].type === 'hls') {\n            var mediaType = 'video';\n            if (_videotag.videoHeight === 0) {\n                // Safari will report videoHeight as 0 for HLS streams until readyState indicates that the browser has data\n                if ((OS.iOS || Browser.safari) && _videotag.readyState < 2) {\n                    return;\n                }\n                mediaType = 'audio';\n            }\n            _this.trigger(MEDIA_TYPE, { mediaType: mediaType });\n        }\n    }\n\n    // If we're live and the buffer end has remained the same for some time, mark the stream as stale and check if the stream is over\n    function checkStaleStream() {\n        // Never kill a stale live stream if the timeout was configured to 0\n        if (_staleStreamDuration === 0) {\n            return;\n        }\n        var endOfBuffer = endOfRange(_videotag.buffered);\n        var live = _this.isLive();\n\n        // Don't end if we have noting buffered yet, or cannot get any information about the buffer\n        if (live && endOfBuffer && _lastEndOfBuffer === endOfBuffer) {\n            if (_staleStreamTimeout === -1) {\n                _staleStreamTimeout = setTimeout(function () {\n                    _stale = true;\n                    checkStreamEnded();\n                }, _staleStreamDuration);\n            }\n        } else {\n            clearTimeouts();\n            _stale = false;\n        }\n\n        _lastEndOfBuffer = endOfBuffer;\n    }\n\n    function checkStreamEnded() {\n        if (_stale && _this.atEdgeOfLiveStream()) {\n            _this.trigger(MEDIA_ERROR, {\n                message: 'The live stream is either down or has ended'\n            });\n            return true;\n        }\n\n        return false;\n    }\n\n    function clearTimeouts() {\n        clearTimeout(_staleStreamTimeout);\n        _staleStreamTimeout = -1;\n    }\n}\n\nObject.assign(VideoProvider.prototype, DefaultProvider);\n\nVideoProvider.getName = function() {\n    return { name: 'html5' };\n};\n\nexport default VideoProvider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/html5.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n\n(function(window, document) {\n'use strict';\n\n\n// Exits early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observering a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = entry.rootBounds;\n  this.boundingClientRect = entry.boundingClientRect;\n  this.intersectionRect = entry.intersectionRect || getEmptyRect();\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    this.intersectionRatio = intersectionArea / targetArea;\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections();\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n\n    return item.element != target;\n  });\n  if (!this._observationTargets.length) {\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibilty state is visible.\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function() {\n  if (!this._monitoringIntersections) {\n    this._monitoringIntersections = true;\n\n    // If a poll interval is set, use polling instead of listening to\n    // resize and scroll events or DOM mutations.\n    if (this.POLL_INTERVAL) {\n      this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL);\n    }\n    else {\n      addEvent(window, 'resize', this._checkForIntersections, true);\n      addEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n        this._domObserver = new MutationObserver(this._checkForIntersections);\n        this._domObserver.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function() {\n  if (this._monitoringIntersections) {\n    this._monitoringIntersections = false;\n\n    clearInterval(this._monitoringInterval);\n    this._monitoringInterval = null;\n\n    removeEvent(window, 'resize', this._checkForIntersections, true);\n    removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n    if (this._domObserver) {\n      this._domObserver.disconnect();\n      this._domObserver = null;\n    }\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, rootRect) {\n\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var targetRect = getBoundingClientRect(target);\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return;\n\n    if (parent == this.root || parent == document) {\n      atRoot = true;\n      parentRect = rootRect;\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      if (parent != document.body &&\n          parent != document.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n      if (!intersectionRect) break;\n    }\n    parent = getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {Object} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {Object} rect The rect object to expand.\n * @return {Object} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its executiong, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object} The intersection rect or undefined if no intersection\n *     is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {Object} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {Object} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n/**\n * Checks to see if a parent element contains a child elemnt (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n  return parent;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}(window, document));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/intersection-observer/intersection-observer.js\n// module id = 9\n// module chunks = 0 2 7","import { Browser, OS, Features } from 'environment/environment';\nimport { DRAG, DRAG_START, DRAG_END, CLICK, DOUBLE_CLICK, MOVE, OUT, TAP, DOUBLE_TAP, OVER, ENTER } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport { now } from 'utils/date';\n\nconst TouchEvent = window.TouchEvent;\nconst PointerEvent = window.PointerEvent;\nconst _supportsPointerEvents = ('PointerEvent' in window) && !OS.android;\nconst _supportsTouchEvents = ('ontouchstart' in window);\nconst _useMouseEvents = !_supportsPointerEvents && !(_supportsTouchEvents && OS.mobile);\nconst _isOSXFirefox = Browser.firefox && OS.mac;\n\nfunction getCoord(e, c) {\n    return /touch/.test(e.type) ? (e.originalEvent || e).changedTouches[0]['page' + c] : e['page' + c];\n}\n\nfunction isRightClick(evt) {\n    const e = evt || window.event;\n\n    if (!(evt instanceof MouseEvent)) {\n        return false;\n    }\n\n    if ('which' in e) {\n        // Gecko (Firefox), WebKit (Safari/Chrome) & Opera\n        return (e.which === 3);\n    } else if ('button' in e) {\n        // IE and Opera\n        return (e.button === 2);\n    }\n\n    return false;\n}\n\nfunction isEnterKey(evt) {\n    const e = evt || window.event;\n\n    if ((e instanceof KeyboardEvent) && e.keyCode === 13) {\n        evt.stopPropagation();\n        return true;\n    }\n\n    return false;\n}\n\nfunction normalizeUIEvent(type, srcEvent, target) {\n    let source;\n\n    if (srcEvent instanceof MouseEvent || (!srcEvent.touches && !srcEvent.changedTouches)) {\n        source = srcEvent;\n    } else if (srcEvent.touches && srcEvent.touches.length) {\n        source = srcEvent.touches[0];\n    } else {\n        source = srcEvent.changedTouches[0];\n    }\n\n    return {\n        type: type,\n        sourceEvent: srcEvent,\n        target: srcEvent.target,\n        currentTarget: target,\n        pageX: source.pageX,\n        pageY: source.pageY\n    };\n}\n\n// Preventdefault to prevent click events\nfunction preventDefault(evt) {\n    // Because sendEvent from utils.eventdispatcher clones evt objects instead of passing them\n    //  we cannot call evt.preventDefault() on them\n    if (!(evt instanceof MouseEvent) && !(evt instanceof TouchEvent)) {\n        return;\n    }\n    if (evt.preventManipulation) {\n        evt.preventManipulation();\n    }\n    // prevent scrolling\n    if (evt.preventDefault) {\n        evt.preventDefault();\n    }\n}\n\nconst UI = function (elem, options) {\n    const _elem = elem;\n    let _hasMoved = false;\n    let _startX = 0;\n    let _startY = 0;\n    let _lastClickTime = 0;\n    let _doubleClickDelay = 300;\n    let _touchListenerTarget;\n    let _pointerId;\n\n    options = options || {};\n\n    const listenerOptions = Features.passiveEvents ? { passive: !options.preventScrolling } : false;\n\n    const interactEndDelegate = (event) => interactEndHandler(event);\n\n    // If its not mobile, add mouse listener.  Add touch listeners so touch devices that aren't Android or iOS\n    // (windows phones) still get listeners just in case they want to use them.\n    if (_supportsPointerEvents) {\n        elem.addEventListener('pointerdown', interactStartHandler, listenerOptions);\n        if (options.useHover) {\n            elem.addEventListener('pointerover', overHandler);\n            elem.addEventListener('pointerout', pointerOutHandler);\n        }\n        if (options.useMove) {\n            elem.addEventListener('pointermove', moveHandler);\n        }\n    } else {\n        if (_useMouseEvents) {\n            elem.addEventListener('mousedown', interactStartHandler, listenerOptions);\n            if (options.useHover) {\n                elem.addEventListener('mouseover', overHandler);\n                elem.addEventListener('mouseout', outHandler);\n            }\n            if (options.useMove) {\n                elem.addEventListener('mousemove', moveHandler);\n            }\n        }\n\n        // Always add this, in case we don't properly identify the device as mobile\n        elem.addEventListener('touchstart', interactStartHandler, listenerOptions);\n    }\n\n    elem.addEventListener('keydown', keyHandler);\n    if (options.useFocus) {\n        elem.addEventListener('focus', overHandler);\n        elem.addEventListener('blur', outHandler);\n    }\n\n    // overHandler and outHandler not assigned in touch situations\n    function overHandler(evt) {\n        if (evt.pointerType !== 'touch') {\n            triggerEvent(OVER, evt);\n        }\n    }\n\n    function moveHandler(evt) {\n        if (evt.pointerType !== 'touch') {\n            triggerEvent(MOVE, evt);\n        }\n    }\n\n    function pointerOutHandler(evt) {\n        if (evt.pointerType !== 'touch' && 'x' in evt) {\n            // elementFromPoint to handle an issue where setPointerCapture is causing a pointerout event\n            const { x, y } = evt;\n            const overElement = document.elementFromPoint(x, y);\n            if (!elem.contains(overElement)) {\n                triggerEvent(OUT, evt);\n            }\n        }\n    }\n\n    function outHandler(evt) {\n        triggerEvent(OUT, evt);\n    }\n\n    function keyHandler(evt) {\n        if (isEnterKey(evt)) {\n            triggerEvent(ENTER, evt);\n        }\n    }\n\n    function setEventListener(element, eventName, callback) {\n        element.removeEventListener(eventName, callback);\n        element.addEventListener(eventName, callback);\n    }\n\n    function interactStartHandler(evt) {\n        _touchListenerTarget = evt.target;\n        _startX = getCoord(evt, 'X');\n        _startY = getCoord(evt, 'Y');\n\n        if (!isRightClick(evt)) {\n\n            if (evt.type === 'pointerdown' && evt.isPrimary) {\n                if (options.preventScrolling) {\n                    _pointerId = evt.pointerId;\n                    elem.setPointerCapture(_pointerId);\n                }\n                setEventListener(elem, 'pointermove', interactDragHandler, listenerOptions);\n                setEventListener(elem, 'pointercancel', interactEndHandler);\n\n                // Listen for mouseup after mouse pointer down because pointerup doesn't fire on swf objects\n                if (evt.pointerType === 'mouse' && _touchListenerTarget.nodeName === 'OBJECT') {\n                    setEventListener(document, 'mouseup', interactEndDelegate);\n                } else {\n                    setEventListener(elem, 'pointerup', interactEndHandler);\n                }\n            } else if (evt.type === 'mousedown') {\n                setEventListener(document, 'mousemove', interactDragHandler, listenerOptions);\n\n                // Handle clicks in OSX Firefox over Flash 'object'\n                if (_isOSXFirefox && evt.target.nodeName.toLowerCase() === 'object') {\n                    setEventListener(elem, 'click', interactEndHandler);\n                } else {\n                    setEventListener(document, 'mouseup', interactEndDelegate);\n                }\n            } else if (evt.type === 'touchstart') {\n                setEventListener(_touchListenerTarget, 'touchmove', interactDragHandler, listenerOptions);\n                setEventListener(_touchListenerTarget, 'touchcancel', interactEndHandler);\n                setEventListener(_touchListenerTarget, 'touchend', interactEndHandler);\n            }\n\n            // Prevent scrolling the screen while dragging on mobile.\n            if (options.preventScrolling) {\n                preventDefault(evt);\n            }\n        }\n    }\n\n    function interactDragHandler(evt) {\n        const movementThreshold = 6;\n\n        if (_hasMoved) {\n            triggerEvent(DRAG, evt);\n        } else {\n            const endX = getCoord(evt, 'X');\n            const endY = getCoord(evt, 'Y');\n            const moveX = endX - _startX;\n            const moveY = endY - _startY;\n            if (moveX * moveX + moveY * moveY > movementThreshold * movementThreshold) {\n                triggerEvent(DRAG_START, evt);\n                _hasMoved = true;\n                triggerEvent(DRAG, evt);\n            }\n        }\n\n        // Prevent scrolling the screen dragging while dragging on mobile.\n        if (options.preventScrolling) {\n            preventDefault(evt);\n        }\n    }\n\n    function interactEndHandler(evt) {\n        const isPointerEvent = (evt.type === 'pointerup' || evt.type === 'pointercancel');\n        if (isPointerEvent && options.preventScrolling) {\n            elem.releasePointerCapture(_pointerId);\n        }\n        elem.removeEventListener('pointermove', interactDragHandler);\n        elem.removeEventListener('pointercancel', interactEndHandler);\n        elem.removeEventListener('pointerup', interactEndHandler);\n        document.removeEventListener('mousemove', interactDragHandler);\n        document.removeEventListener('mouseup', interactEndDelegate);\n        if (_touchListenerTarget) {\n            _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\n            _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\n            _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\n        }\n\n        if (_hasMoved) {\n            triggerEvent(DRAG_END, evt);\n        } else if ((!options.directSelect || evt.target === elem) && evt.type.indexOf('cancel') === -1) {\n            if (evt.type === 'mouseup' || evt.type === 'click' || isPointerEvent && evt.pointerType === 'mouse') {\n                triggerEvent(CLICK, evt);\n            } else {\n                triggerEvent(TAP, evt);\n                if (evt.type === 'touchend') {\n                    // preventDefault to not dispatch the 300ms delayed click after a tap\n                    preventDefault(evt);\n                }\n            }\n        }\n\n        _touchListenerTarget = null;\n        _hasMoved = false;\n    }\n\n    const self = this;\n    function triggerEvent(type, srcEvent) {\n        let evt;\n        if (options.enableDoubleTap && (type === CLICK || type === TAP)) {\n            if (now() - _lastClickTime < _doubleClickDelay) {\n                const doubleType = (type === CLICK) ?\n                    DOUBLE_CLICK : DOUBLE_TAP;\n                evt = normalizeUIEvent(doubleType, srcEvent, _elem);\n                self.trigger(doubleType, evt);\n                _lastClickTime = 0;\n            } else {\n                _lastClickTime = now();\n            }\n        }\n        evt = normalizeUIEvent(type, srcEvent, _elem);\n        self.trigger(type, evt);\n    }\n\n    this.triggerEvent = triggerEvent;\n\n    this.destroy = function() {\n        this.off();\n        elem.removeEventListener('touchstart', interactStartHandler);\n        elem.removeEventListener('mousedown', interactStartHandler);\n        elem.removeEventListener('keydown', keyHandler);\n\n        if (_touchListenerTarget) {\n            _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\n            _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\n            _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\n            _touchListenerTarget = null;\n        }\n\n        if (_supportsPointerEvents) {\n            if (options.preventScrolling) {\n                elem.releasePointerCapture(_pointerId);\n            }\n            elem.removeEventListener('pointerover', overHandler);\n            elem.removeEventListener('pointerdown', interactStartHandler);\n            elem.removeEventListener('pointermove', interactDragHandler);\n            elem.removeEventListener('pointermove', moveHandler);\n            elem.removeEventListener('pointercancel', interactEndHandler);\n            elem.removeEventListener('pointerout', pointerOutHandler);\n            elem.removeEventListener('pointerup', interactEndHandler);\n        }\n\n        elem.removeEventListener('click', interactEndHandler);\n        elem.removeEventListener('mouseover', overHandler);\n        elem.removeEventListener('mousemove', moveHandler);\n        elem.removeEventListener('mouseout', outHandler);\n        document.removeEventListener('mousemove', interactDragHandler);\n        document.removeEventListener('mouseup', interactEndDelegate);\n\n        if (options.useFocus) {\n            elem.removeEventListener('focus', overHandler);\n            elem.removeEventListener('blur', outHandler);\n        }\n    };\n\n    return this;\n};\n\n// Expose what the source of the event is so that we can ensure it's handled correctly.\n// This returns only 'touch' or 'mouse'. 'pen' will be treated as a mouse.\nexport function getPointerType(evt) {\n    if ((_supportsTouchEvents && evt instanceof TouchEvent) ||\n        (_supportsPointerEvents && evt instanceof PointerEvent && evt.pointerType === 'touch')) {\n        return 'touch';\n    }\n\n    return 'mouse';\n}\n\nObject.assign(UI.prototype, Events);\n\nexport default UI;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/ui.js","import BUFFER_ICON from 'assets/SVG/buffer.svg';\nimport REPLAY_ICON from 'assets/SVG/replay.svg';\nimport ERROR_ICON from 'assets/SVG/playback-error.svg';\nimport PLAY_ICON from 'assets/SVG/play.svg';\nimport PAUSE_ICON from 'assets/SVG/pause.svg';\nimport REWIND_ICON from 'assets/SVG/rewind-10.svg';\nimport NEXT_ICON from 'assets/SVG/next.svg';\n// import STOP_ICON from 'assets/SVG/stop.svg';\nimport VOLUME_ICON_0 from 'assets/SVG/volume-0.svg';\nimport VOLUME_ICON_50 from 'assets/SVG/volume-50.svg';\nimport VOLUME_ICON_100 from 'assets/SVG/volume-100.svg';\nimport CAPTIONS_ON_ICON from 'assets/SVG/captions-on.svg';\nimport CAPTIONS_OFF_ICON from 'assets/SVG/captions-off.svg';\nimport AIRPLAY_ON_ICON from 'assets/SVG/airplay-on.svg';\nimport AIRPLAY_OFF_ICON from 'assets/SVG/airplay-off.svg';\nimport PLAYBACK_RATE_ICON from 'assets/SVG/playback-rate.svg';\nimport SETTINGS_ICON from 'assets/SVG/settings.svg';\nimport AUDIO_TRACKS_ICON from 'assets/SVG/audio-tracks.svg';\n// import QUALITY_ICON_25 from 'assets/SVG/quality-25.svg';\n// import QUALITY_ICON_50 from 'assets/SVG/quality-50.svg';\n// import QUALITY_ICON_75 from 'assets/SVG/quality-75.svg';\nimport QUALITY_ICON from 'assets/SVG/quality-100.svg';\nimport FULLSCREEN_EXIT_ICON from 'assets/SVG/fullscreen-not.svg';\nimport FULLSCREEN_ENTER_ICON from 'assets/SVG/fullscreen.svg';\nimport CLOSE_ICON from 'assets/SVG/close.svg';\n// import ARROW_ICON from 'assets/SVG/arror.svg';\nimport JW_LOGO from 'assets/SVG/jw-logo.svg';\nimport svgParse from 'utils/svgParser';\n\nlet collection = null;\n\nexport function cloneIcon(name) {\n    const icon = getCollection().querySelector(nameToClass(name));\n    if (icon) {\n        return clone(icon);\n    }\n    if (__DEBUG__) {\n        throw new Error('Icon not found ' + name);\n    }\n    return null;\n}\n\nexport function cloneIcons(names) {\n    const icons = getCollection().querySelectorAll(names.split(',').map(nameToClass).join(','));\n    if (__DEBUG__ && !icons.length) {\n        throw new Error('Icons not found ' + names);\n    }\n    return Array.prototype.map.call(icons, icon => clone(icon));\n}\n\nfunction nameToClass(name) {\n    return `.jw-svg-icon-${name}`;\n}\n\nfunction clone(icon) {\n    return icon.cloneNode(true);\n}\n\nfunction getCollection() {\n    if (!collection) {\n        collection = parseCollection();\n    }\n    return collection;\n}\n\nfunction parseCollection() {\n    return svgParse('<xml>' +\n        BUFFER_ICON +\n        REPLAY_ICON +\n        ERROR_ICON +\n        PLAY_ICON +\n        PAUSE_ICON +\n        REWIND_ICON +\n        NEXT_ICON +\n        VOLUME_ICON_0 +\n        VOLUME_ICON_50 +\n        VOLUME_ICON_100 +\n        CAPTIONS_ON_ICON +\n        CAPTIONS_OFF_ICON +\n        AIRPLAY_ON_ICON +\n        AIRPLAY_OFF_ICON +\n        PLAYBACK_RATE_ICON +\n        SETTINGS_ICON +\n        AUDIO_TRACKS_ICON +\n        QUALITY_ICON +\n        FULLSCREEN_EXIT_ICON +\n        FULLSCREEN_ENTER_ICON +\n        CLOSE_ICON +\n        JW_LOGO +\n        '</xml>');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/icons.js","import UI from 'utils/ui';\nimport svgParse from 'utils/svgParser';\n\nexport default function (icon, apiAction, ariaText, svgIcons) {\n    const element = document.createElement('div');\n    element.className = 'jw-icon jw-icon-inline jw-button-color jw-reset ' + icon;\n    element.setAttribute('role', 'button');\n    element.setAttribute('tabindex', '0');\n\n    if (ariaText) {\n        element.setAttribute('aria-label', ariaText);\n    }\n\n    element.style.display = 'none';\n\n    if (apiAction) {\n        new UI(element).on('click tap enter', function(event) {\n            apiAction(event);\n        });\n    }\n\n    // Prevent button from being focused on mousedown so that the tooltips don't remain visible until\n    // the user interacts with another element on the page\n    element.addEventListener('mousedown', (e) => {\n        e.preventDefault();\n    });\n\n    if (svgIcons) {\n        Array.prototype.forEach.call(svgIcons, svgIcon => {\n            if (typeof svgIcon === 'string') {\n                element.appendChild(svgParse(svgIcon));\n            } else {\n                element.appendChild(svgIcon);\n            }\n        });\n    }\n\n    return {\n        element: function() {\n            return element;\n        },\n        toggle: function(m) {\n            if (m) {\n                this.show();\n            } else {\n                this.hide();\n            }\n        },\n        show: function() {\n            element.style.display = '';\n        },\n        hide: function() {\n            element.style.display = 'none';\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/button.js","let parser;\n\nexport default function svgParse(svgXml) {\n    if (!parser) {\n        parser = new DOMParser();\n    }\n\n    return parser.parseFromString(svgXml, 'image/svg+xml').documentElement;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/svgParser.js","import { seconds, trim } from 'utils/strings';\n\n// Component that loads and parses an SRT file\n\nexport default function Srt(data) {\n    // Trim whitespace and split the list by returns.\n    var _captions = [];\n    data = trim(data);\n    var list = data.split('\\r\\n\\r\\n');\n    if (list.length === 1) {\n        list = data.split('\\n\\n');\n    }\n\n    for (var i = 0; i < list.length; i++) {\n        if (list[i] === 'WEBVTT') {\n            continue;\n        }\n        // Parse each entry\n        var entry = _entry(list[i]);\n        if (entry.text) {\n            _captions.push(entry);\n        }\n    }\n\n    return _captions;\n}\n\n\n/* Parse a single captions entry. */\nfunction _entry(data) {\n    var entry = {};\n    var array = data.split('\\r\\n');\n    if (array.length === 1) {\n        array = data.split('\\n');\n    }\n    var idx = 1;\n    if (array[0].indexOf(' --> ') > 0) {\n        idx = 0;\n    }\n    if (array.length > idx + 1 && array[idx + 1]) {\n        // This line contains the start and end.\n        var line = array[idx];\n        var index = line.indexOf(' --> ');\n        if (index > 0) {\n            entry.begin = seconds(line.substr(0, index));\n            entry.end = seconds(line.substr(index + 5));\n            // Remaining lines contain the text\n            entry.text = array.slice(idx + 1).join('\\r\\n');\n        }\n    }\n    return entry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/srt.js","\nexport const dvrSeekLimit = -25;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/constants.js","import { resolved } from 'polyfills/promise';\n\nexport default function cancelable(callback) {\n    let cancelled = false;\n\n    return {\n        async: function() {\n            const args = arguments;\n            return resolved.then(() => {\n                if (cancelled) {\n                    return;\n                }\n                return callback.apply(this, args);\n            });\n        },\n        cancel: () => {\n            cancelled = true;\n        },\n        cancelled: () => cancelled\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/cancelable.js","import { OS } from 'environment/environment';\nimport SimpleModel from 'model/simplemodel';\nimport { INITIAL_PLAYER_STATE, INITIAL_MEDIA_STATE } from 'model/player-model';\nimport { STATE_IDLE } from 'events/events';\nimport _ from 'utils/underscore';\nimport { seconds } from 'utils/strings';\nimport Providers from 'providers/providers';\n\n// Represents the state of the player\nconst Model = function() {\n    const _this = this;\n    let providers;\n    let _provider;\n    this.mediaModel = new MediaModel();\n\n    this.set('attached', true);\n    this.set('mediaModel', this.mediaModel);\n\n    this.setup = function(config) {\n        Object.assign(this.attributes, config, INITIAL_PLAYER_STATE);\n        providers = new Providers(this.getConfiguration());\n        this.setAutoStart();\n        return this;\n    };\n\n    this.getConfiguration = function() {\n        const config = this.clone();\n        const mediaModelAttributes = config.mediaModel.attributes;\n        Object.keys(INITIAL_MEDIA_STATE).forEach(key => {\n            config[key] = mediaModelAttributes[key];\n        });\n        delete config.instream;\n        delete config.mediaModel;\n        return config;\n    };\n\n    this.persistQualityLevel = function(quality, levels) {\n        var currentLevel = levels[quality] || {};\n        var label = currentLevel.label;\n        this.set('qualityLabel', label);\n    };\n\n    this.setActiveItem = function (index) {\n        const item = this.get('playlist')[index];\n        this.resetItem(item);\n        this.attributes.playlistItem = null;\n        this.set('item', index);\n        this.set('minDvrWindow', item.minDvrWindow);\n        this.set('playlistItem', item);\n    };\n\n    this.setMediaModel = function (mediaModel) {\n        if (this.mediaModel && this.mediaModel !== mediaModel) {\n            this.mediaModel.off();\n        }\n\n        mediaModel = mediaModel || new MediaModel();\n        this.mediaModel = mediaModel;\n        this.set('mediaModel', mediaModel);\n        syncPlayerWithMediaModel(mediaModel);\n    };\n\n    this.destroy = function() {\n        this.attributes._destroyed = true;\n        this.off();\n        if (_provider) {\n            _provider.off(null, null, this);\n            _provider.destroy();\n        }\n    };\n\n    this.getVideo = function() {\n        return _provider;\n    };\n\n    this.setFullscreen = function(state) {\n        state = !!state;\n        if (state !== _this.get('fullscreen')) {\n            _this.set('fullscreen', state);\n        }\n    };\n\n    this.getProviders = function() {\n        return providers;\n    };\n\n    this.setVolume = function(volume) {\n        volume = Math.round(volume);\n        this.set('volume', volume);\n        var mute = (volume === 0);\n        if (mute !== (this.getMute())) {\n            this.setMute(mute);\n        }\n    };\n\n    this.getMute = function() {\n        return this.get('autostartMuted') || this.get('mute');\n    };\n\n    this.setMute = function(mute) {\n        if (mute === undefined) {\n            mute = !(this.getMute());\n        }\n        this.set('mute', mute);\n        if (!mute) {\n            var volume = Math.max(10, this.get('volume'));\n            this.set('autostartMuted', false);\n            this.setVolume(volume);\n        }\n    };\n\n    this.setStreamType = function(streamType) {\n        this.set('streamType', streamType);\n        if (streamType === 'LIVE') {\n            this.setPlaybackRate(1);\n        }\n    };\n\n    this.setProvider = function (provider) {\n        _provider = provider;\n        syncProviderProperties(this, provider);\n    };\n\n    this.resetProvider = function () {\n        _provider = null;\n        this.set('provider', undefined);\n    };\n\n    this.setPlaybackRate = function(playbackRate) {\n        if (!_.isNumber(playbackRate)) {\n            return;\n        }\n\n        // Clamp the rate between 0.25x and 4x\n        playbackRate = Math.max(Math.min(playbackRate, 4), 0.25);\n\n        if (this.get('streamType') === 'LIVE') {\n            playbackRate = 1;\n        }\n\n        this.set('defaultPlaybackRate', playbackRate);\n\n        if (_provider && _provider.setPlaybackRate) {\n            _provider.setPlaybackRate(playbackRate);\n        }\n    };\n\n    this.persistCaptionsTrack = function() {\n        var track = this.get('captionsTrack');\n\n        if (track) {\n            // update preference if an option was selected\n            this.set('captionLabel', track.name);\n        } else {\n            this.set('captionLabel', 'Off');\n        }\n    };\n\n\n    this.setVideoSubtitleTrack = function(trackIndex, tracks) {\n        this.set('captionsIndex', trackIndex);\n        /*\n         * Tracks could have changed even if the index hasn't.\n         * Need to ensure track has data for captionsrenderer.\n         */\n        if (trackIndex && tracks && trackIndex <= tracks.length && tracks[trackIndex - 1].data) {\n            this.set('captionsTrack', tracks[trackIndex - 1]);\n        }\n    };\n\n    this.persistVideoSubtitleTrack = function(trackIndex, tracks) {\n        this.setVideoSubtitleTrack(trackIndex, tracks);\n        this.persistCaptionsTrack();\n    };\n\n    // Mobile players always wait to become viewable.\n    // Desktop players must have autostart set to viewable\n    this.setAutoStart = function(autoStart) {\n        if (autoStart !== undefined) {\n            this.set('autostart', autoStart);\n        }\n\n        const autoStartOnMobile = OS.mobile && this.get('autostart');\n        this.set('playOnViewable', autoStartOnMobile || this.get('autostart') === 'viewable');\n    };\n\n    this.resetItem = function (item) {\n        const position = item ? seconds(item.starttime) : 0;\n        const duration = item ? seconds(item.duration) : 0;\n        const mediaModel = this.mediaModel;\n        this.set('playRejected', false);\n        this.attributes.itemMeta = {};\n        mediaModel.set('position', position);\n        mediaModel.set('currentTime', 0);\n        mediaModel.set('duration', duration);\n    };\n};\n\nconst syncProviderProperties = (model, provider) => {\n    model.set('provider', provider.getName());\n    if (model.get('instreamMode') === true) {\n        provider.instreamMode = true;\n    }\n\n    if (provider.getName().name.indexOf('flash') === -1) {\n        model.set('flashThrottle', undefined);\n        model.set('flashBlocked', false);\n    }\n\n    // Attempt setting the playback rate to be the user selected value\n    model.setPlaybackRate(model.get('defaultPlaybackRate'));\n\n    // Set playbackRate because provider support for playbackRate may have changed and not sent an update\n    model.set('supportsPlaybackRate', provider.supportsPlaybackRate);\n    model.set('playbackRate', provider.getPlaybackRate());\n    model.set('renderCaptionsNatively', provider.renderNatively);\n};\n\nfunction syncPlayerWithMediaModel(mediaModel) {\n    // Sync player state with mediaModel state\n    const mediaState = mediaModel.get('mediaState');\n    mediaModel.trigger('change:mediaState', mediaModel, mediaState, mediaState);\n}\n\n// Represents the state of the provider/media element\nconst MediaModel = Model.MediaModel = function() {\n    this.attributes = {\n        mediaState: STATE_IDLE\n    };\n};\n\nObject.assign(MediaModel.prototype, SimpleModel, {\n    srcReset() {\n        Object.assign(this.attributes, {\n            setup: false,\n            started: false,\n            preloaded: false,\n            visualQuality: null,\n            buffer: 0,\n            currentTime: 0\n        });\n    }\n});\n\nObject.assign(Model.prototype, SimpleModel);\n\nexport { MediaModel };\nexport default Model;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/model.js","export const requestAnimationFrame = window.requestAnimationFrame || function (callback) {\n    return setTimeout(callback, 17);\n};\n\nexport const cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/request-animation-frame.js","import { replaceClass } from 'utils/dom';\n\nexport function getBreakpoint(width) {\n    let breakpoint = 0;\n\n    if (width >= 1280) {\n        breakpoint = 7;\n    } else if (width >= 960) {\n        breakpoint = 6;\n    } else if (width >= 800) {\n        breakpoint = 5;\n    } else if (width >= 640) {\n        breakpoint = 4;\n    } else if (width >= 540) {\n        breakpoint = 3;\n    } else if (width >= 420) {\n        breakpoint = 2;\n    } else if (width >= 320) {\n        breakpoint = 1;\n    }\n\n    return breakpoint;\n}\n\nexport function setBreakpoint(playerElement, breakpointNumber) {\n    const breakpointClass = 'jw-breakpoint-' + breakpointNumber;\n    replaceClass(playerElement, /jw-breakpoint-\\d+/, breakpointClass);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/breakpoint.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 83\n// module chunks = 0 1 2 3 4 5","export default function(element, ariaLabel) {\n    if (!element || !ariaLabel) {\n        return;\n    }\n\n    element.setAttribute('aria-label', ariaLabel);\n    element.setAttribute('role', 'button');\n    element.setAttribute('tabindex', '0');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/aria.js","import sliderTemplate from 'view/controls/templates/slider';\nimport { OS } from 'environment/environment';\nimport Events from 'utils/backbone.events';\nimport UI from 'utils/ui';\nimport utils from 'utils/helpers';\n\nconst getRailBounds = function(elementRail) {\n    const bounds = utils.bounds(elementRail);\n    // Partial workaround of Android 'inert-visual-viewport'\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    const pageXOffset = window.pageXOffset;\n    if (pageXOffset && OS.android && document.body.parentElement.getBoundingClientRect().left >= 0) {\n        bounds.left -= pageXOffset;\n        bounds.right -= pageXOffset;\n    }\n    return bounds;\n};\n\nexport default class Slider {\n    constructor(className, orientation) {\n        Object.assign(this, Events);\n\n        this.className = className + ' jw-background-color jw-reset';\n        this.orientation = orientation;\n\n        this.dragStartListener = this.dragStart.bind(this);\n        this.dragMoveListener = this.dragMove.bind(this);\n        this.dragEndListener = this.dragEnd.bind(this);\n\n        this.tapListener = this.tap.bind(this);\n    }\n\n    setup() {\n        this.el = utils.createElement(sliderTemplate(this.className, 'jw-slider-' + this.orientation));\n\n        this.elementRail = this.el.getElementsByClassName('jw-slider-container')[0];\n        this.elementBuffer = this.el.getElementsByClassName('jw-buffer')[0];\n        this.elementProgress = this.el.getElementsByClassName('jw-progress')[0];\n        this.elementThumb = this.el.getElementsByClassName('jw-knob')[0];\n\n        this.userInteract = new UI(this.element(), { preventScrolling: true });\n\n        this.userInteract.on('dragStart', this.dragStartListener);\n        this.userInteract.on('drag', this.dragMoveListener);\n        this.userInteract.on('dragEnd', this.dragEndListener);\n\n        this.userInteract.on('tap click', this.tapListener);\n    }\n\n    dragStart() {\n        this.trigger('dragStart');\n        this.railBounds = getRailBounds(this.elementRail);\n    }\n\n    dragEnd(evt) {\n        this.dragMove(evt);\n        this.trigger('dragEnd');\n    }\n\n    dragMove(evt) {\n        const bounds = this.railBounds = (this.railBounds) ? this.railBounds : getRailBounds(this.elementRail);\n        let dimension;\n        let percentage;\n\n        if (this.orientation === 'horizontal') {\n            dimension = evt.pageX;\n            if (dimension < bounds.left) {\n                percentage = 0;\n            } else if (dimension > bounds.right) {\n                percentage = 100;\n            } else {\n                percentage = utils.between((dimension - bounds.left) / bounds.width, 0, 1) * 100;\n            }\n        } else {\n            dimension = evt.pageY;\n            if (dimension >= bounds.bottom) {\n                percentage = 0;\n            } else if (dimension <= bounds.top) {\n                percentage = 100;\n            } else {\n                percentage = utils.between((bounds.height - (dimension - bounds.top)) / bounds.height, 0, 1) * 100;\n            }\n        }\n\n        const updatedPercent = this.limit(percentage);\n        this.render(updatedPercent);\n        this.update(updatedPercent);\n\n        return false;\n    }\n\n    tap(evt) {\n        this.railBounds = getRailBounds(this.elementRail);\n        this.dragMove(evt);\n    }\n\n    limit(percentage) {\n        // modules that extend Slider can set limits on the percentage (TimeSlider)\n        return percentage;\n    }\n\n    update(percentage) {\n        this.trigger('update', { percentage: percentage });\n    }\n\n    render(percentage) {\n        percentage = Math.max(0, Math.min(percentage, 100));\n\n        if (this.orientation === 'horizontal') {\n            this.elementThumb.style.left = percentage + '%';\n            this.elementProgress.style.width = percentage + '%';\n        } else {\n            this.elementThumb.style.bottom = percentage + '%';\n            this.elementProgress.style.height = percentage + '%';\n        }\n    }\n\n    updateBuffer(percentage) {\n        this.elementBuffer.style.width = percentage + '%';\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/slider.js","import Events from 'utils/backbone.events';\nimport ariaLabel from 'utils/aria';\nimport { toggleClass } from 'utils/dom';\nimport svgParse from 'utils/svgParser';\n\nexport default class Tooltip {\n    constructor(name, ariaText, elementShown, svgIcons) {\n        Object.assign(this, Events);\n        this.el = document.createElement('div');\n        let className = 'jw-icon jw-icon-tooltip ' + name + ' jw-button-color jw-reset';\n        if (!elementShown) {\n            className += ' jw-hidden';\n        }\n\n        ariaLabel(this.el, ariaText);\n\n        this.el.className = className;\n        this.container = document.createElement('div');\n        this.container.className = 'jw-overlay jw-reset';\n        this.openClass = 'jw-open';\n        this.componentType = 'tooltip';\n\n        this.el.appendChild(this.container);\n        if (svgIcons && svgIcons.length > 0) {\n            Array.prototype.forEach.call(svgIcons, svgIcon => {\n                if (typeof svgIcon === 'string') {\n                    this.el.appendChild(svgParse(svgIcon));\n                } else {\n                    this.el.appendChild(svgIcon);\n                }\n            });\n        }\n    }\n\n    addContent(elem) {\n        if (this.content) {\n            this.removeContent();\n        }\n\n        this.content = elem;\n        this.container.appendChild(elem);\n    }\n\n    removeContent() {\n        if (this.content) {\n            this.container.removeChild(this.content);\n            this.content = null;\n        }\n    }\n\n    hasContent() {\n        return !!this.content;\n    }\n\n    element() {\n        return this.el;\n    }\n\n    openTooltip(evt) {\n        this.trigger('open-' + this.componentType, evt, { isOpen: true });\n        this.isOpen = true;\n        toggleClass(this.el, this.openClass, this.isOpen);\n    }\n\n    closeTooltip(evt) {\n        this.trigger('close-' + this.componentType, evt, { isOpen: false });\n        this.isOpen = false;\n        toggleClass(this.el, this.openClass, this.isOpen);\n    }\n\n    toggleOpenState(evt) {\n        if (this.isOpen) {\n            this.closeTooltip(evt);\n        } else {\n            this.openTooltip(evt);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/tooltip.js","import { addClass, removeClass } from 'utils/dom';\n\nexport function SimpleTooltip(attachToElement, name, text, openCallback) {\n    const tooltipElement = document.createElement('div');\n    tooltipElement.className = `jw-reset jw-tooltip jw-tooltip-${name}`;\n\n    const textElement = document.createElement('div');\n    textElement.className = 'jw-text';\n    textElement.textContent = text;\n\n    tooltipElement.appendChild(textElement);\n    attachToElement.appendChild(tooltipElement);\n\n    const instance = {\n        open() {\n            if (instance.touchEvent) {\n                return;\n            }\n\n            tooltipElement.setAttribute('aria-expanded', 'true');\n            addClass(tooltipElement, 'jw-open');\n\n            if (openCallback) {\n                openCallback();\n            }\n        },\n        close() {\n            if (instance.touchEvent) {\n                return;\n            }\n\n            tooltipElement.setAttribute('aria-expanded', 'false');\n            removeClass(tooltipElement, 'jw-open');\n        },\n        setText(newText) {\n            tooltipElement.querySelector('.jw-text').textContent = newText;\n        }\n    };\n\n    attachToElement.addEventListener('mouseover', instance.open);\n    attachToElement.addEventListener('focus', instance.open);\n    attachToElement.addEventListener('blur', instance.close);\n    attachToElement.addEventListener('mouseout', instance.close);\n    attachToElement.addEventListener('touchstart', () => {\n        instance.touchEvent = true;\n    }, {\n        passive: true\n    });\n\n    return instance;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/simple-tooltip.js","import Providers from 'providers/providers';\nimport MediaController from 'program/media-controller';\nimport Promise, { resolved } from 'polyfills/promise';\nimport cancelable from 'utils/cancelable';\nimport { MediaControllerListener } from 'program/program-listeners';\nimport Eventable from 'utils/eventable';\nimport BackgroundMedia from 'program/background-media';\n\nimport { ERROR, PLAYER_STATE, STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE } from 'events/events';\nimport { Features } from '../environment/environment';\n\n/** @private Do not include in JSDocs */\n\nclass ProgramController extends Eventable {\n    /**\n     * ProgramController constructor\n     * @param {Model} model - The player's model\n     * @param {MediaElementPool} mediaPool - The player's media element pool\n     */\n    constructor(model, mediaPool) {\n        super();\n\n        this.adPlaying = false;\n        this.background = BackgroundMedia();\n        this.mediaPool = mediaPool;\n        this.mediaController = null;\n        this.mediaControllerListener = MediaControllerListener(model, this);\n        this.model = model;\n        this.providers = new Providers(model.getConfiguration());\n        this.loadPromise = resolved;\n\n        if (!Features.backgroundLoading) {\n            // If background loading is not supported, set the shared media element\n            model.set('mediaElement', this.mediaPool.getPrimedElement());\n        }\n    }\n\n    /**\n     * Activates a playlist item, loading it into the foreground.\n     * This method will either load a new Provider or reuse the active one.\n     * @param {number} index - The playlist index of the item\n     * @returns {Promise} The Provider promise. Resolves with the active Media Controller\n     * @memberOf ProgramController\n     */\n    setActiveItem(index) {\n        const { background, mediaController, model } = this;\n        const item = model.get('playlist')[index];\n\n        model.attributes.itemReady = false;\n        model.setActiveItem(index);\n        const source = getSource(item);\n        if (!source) {\n            return Promise.reject(new Error('No media'));\n        }\n\n        // Activate the background media if it's loading the item we want to play\n        if (background.isNext(item)) {\n            // First destroy the active item so that the BGL provider can enter the foreground\n            this._destroyActiveMedia();\n            // Attach the BGL provider into the load/play chain\n            this.loadPromise = this._activateBackgroundMedia();\n            return this.loadPromise;\n        }\n        // Loading a new item invalidates all background loading media\n        this._destroyBackgroundMedia();\n\n        if (mediaController) {\n            const casting = model.get('castActive');\n            if (casting || this._providerCanPlay(mediaController.provider, source)) {\n                // We can synchronously reuse the current mediaController\n                this.loadPromise = Promise.resolve(mediaController);\n                // Reinitialize the mediaController with the new item, allowing a new playback session\n                mediaController.activeItem = item;\n                this._setActiveMedia(mediaController);\n                return this.loadPromise;\n            }\n\n            // If we can't play the source with the current provider, reset the current one and\n            // prime the next tag within the gesture\n            this._destroyActiveMedia();\n        }\n\n        const mediaModelContext = model.mediaModel;\n        this.loadPromise = this._setupMediaController(source)\n            .then(nextMediaController => {\n                // Don't do anything if we've tried to load another provider while this promise was resolving\n                // We check using the mediaModel because it is unique per item, and per instance of that item\n                if (mediaModelContext === model.mediaModel) {\n                    nextMediaController.activeItem = item;\n                    this._setActiveMedia(nextMediaController);\n                    return nextMediaController;\n                }\n            })\n            .catch(err => {\n                this._destroyActiveMedia();\n                throw err;\n            });\n        return this.loadPromise;\n    }\n\n    /**\n     * Plays the active item.\n     * Will wait for the Provider promise to resolve before any play attempt.\n     * @param {string} playReason - The reason playback is beginning.\n     * @returns {Promise} The Play promise. Resolves when playback begins; rejects upon failure.\n     */\n    playVideo(playReason) {\n        const { mediaController, model } = this;\n        const item = model.get('playlistItem');\n        let playPromise;\n\n        if (!item) {\n            return Promise.reject(new Error('No media'));\n        }\n\n        if (!playReason) {\n            playReason = model.get('playReason');\n        }\n\n        // Start playback immediately if we have already loaded a mediaController\n        if (mediaController) {\n            playPromise = mediaController.play(playReason);\n        } else {\n            // Wait for the provider to load before starting initial playback\n            model.set(PLAYER_STATE, STATE_BUFFERING);\n\n            // Make the subsequent promise cancelable so that we can avoid playback when no longer wanted\n            const thenPlayPromise = cancelable((nextMediaController) => {\n                if (this.mediaController && this.mediaController.mediaModel === nextMediaController.mediaModel) {\n                    return nextMediaController.play(playReason);\n                }\n                throw new Error('Playback cancelled.');\n            });\n\n            playPromise = this.loadPromise\n                .catch(error => {\n                    thenPlayPromise.cancel();\n                    // Required provider was not loaded\n                    model.trigger(ERROR, {\n                        message: `Could not play video: ${error.message}`,\n                        error: error\n                    });\n                    // Fail the playPromise to trigger \"playAttemptFailed\"\n                    throw error;\n                })\n                .then(thenPlayPromise.async);\n        }\n\n        return playPromise;\n    }\n\n    /**\n     * Stops playback of the active item, and sets the player state to IDLE.\n     * @returns {void}\n     */\n    stopVideo() {\n        const { mediaController, model } = this;\n\n        const item = model.get('playlist')[model.get('item')];\n        model.attributes.playlistItem = item;\n        model.resetItem(item);\n\n        if (mediaController) {\n            mediaController.stop();\n        }\n    }\n\n    /**\n     * Preloads the active item, which loads and buffers some content.\n     * @returns {void}\n     */\n    preloadVideo() {\n        const { background, mediaController } = this;\n        const media = mediaController || background.currentMedia;\n        if (!media) {\n            return;\n        }\n        media.preload();\n    }\n\n    /**\n     * Pauses playback of the current video, and sets the player state to PAUSED.\n     * @returns {void}\n     */\n    pause() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.pause();\n    }\n\n    /**\n     * Casts a video. The Cast Controller will control the Cast Provider.\n     * @param {CastProvider} castProvider - The playback provider instance (Casting is implemented in jwplayer-commercial).\n     * @param {Item} item - The playlist Item instance to cast.\n     * @returns {void}\n     */\n    castVideo(castProvider, item) {\n        const { model } = this;\n        model.attributes.itemReady = false;\n\n        const playlistItem = Object.assign({}, item);\n        playlistItem.starttime = model.mediaModel.get('position');\n\n        const castMediaController = new MediaController(castProvider, model);\n        castMediaController.activeItem = playlistItem;\n        this._setActiveMedia(castMediaController);\n    }\n\n    /**\n     * Stops casting. The Player is expected to restore video playback afterwards.\n     * @returns {void}\n     */\n    stopCast() {\n        const { model } = this;\n        const index = model.get('item');\n        const item = model.get('playlist')[index];\n\n        item.starttime = model.mediaModel.get('position');\n\n        this.stopVideo();\n        this.setActiveItem(index);\n    }\n\n    /**\n     * Places the currently active Media Controller into the background.\n     * The media is still attached to a media element, but is removed from the Player's container.\n     * Background media still emits events, but we stop listening to them.\n     * Background media can (and will) be updated via it's API.\n     * @returns {void}\n     */\n    backgroundActiveMedia() {\n        this.adPlaying = true;\n        const { background, mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        // Destroy any existing background media\n        if (background.currentMedia) {\n            this._destroyMediaController(background.currentMedia);\n        }\n\n        mediaController.background = true;\n        background.currentMedia = mediaController;\n        this.mediaController = null;\n    }\n\n    /**\n     * Restores the background media to the foreground.\n     * Its media element is reattached to the Player container.\n     * We start listening to its events again.\n     * @returns {void}\n     */\n    restoreBackgroundMedia() {\n        this.adPlaying = false;\n        const { background, mediaController } = this;\n        const backgroundMediaController = background.currentMedia;\n        if (!backgroundMediaController) {\n            return;\n        } else if (mediaController) {\n            // An existing media controller means that we've changed the active item\n            // The current background media is no longer relevant, so destroy it\n            this._destroyMediaController(backgroundMediaController);\n            background.currentMedia = null;\n            return;\n        }\n\n        backgroundMediaController.mediaModel.attributes.mediaState = 'buffering';\n        this._setActiveMedia(backgroundMediaController);\n        backgroundMediaController.background = false;\n        background.currentMedia = null;\n    }\n\n    /**\n     * Loads the next playlist item in the background.\n     * @param {Item} item - The playlist item to load.\n     *\n     * @returns {void}\n     */\n    backgroundLoad(item) {\n        const { background } = this;\n        const source = getSource(item);\n\n        background.setNext(item, this._setupMediaController(source)\n            .then(nextMediaController => {\n                nextMediaController.activeItem = item;\n                nextMediaController.preload();\n                return nextMediaController;\n            })\n            .catch(() => {\n                background.clearNext();\n            })\n        );\n    }\n\n    /**\n     * Primes media elements so that they can autoplay without further user gesture.\n     * A primed element is required for media to load in the background.\n     * This method does not prime elements who already have a source set (\"safe prime\").\n     * @returns {void}\n     */\n    primeMediaElements() {\n        this.mediaPool.prime();\n    }\n\n    /**\n     * Removes all event listeners and destroys all media.\n     * @returns {void}\n     */\n    destroy() {\n        this.off();\n        this._destroyBackgroundMedia();\n        this._destroyActiveMedia();\n    }\n\n    /**\n     * Activates the provided media controller, placing it into the foreground.\n     * Events fired from the media controller will be forwarded through the program controller.\n     * @param {MediaController} mediaController - The media controller to activate.\n     * @returns {void}\n     * @private\n     */\n    _setActiveMedia(mediaController) {\n        const { model } = this;\n        const { mediaModel, provider } = mediaController;\n\n        assignMediaContainer(model, mediaController);\n        this.mediaController = mediaController;\n\n        model.set('mediaElement', mediaController.mediaElement);\n        model.setMediaModel(mediaModel);\n        model.setProvider(provider);\n\n        forwardEvents(this, mediaController);\n        model.set('itemReady', true);\n    }\n\n    /**\n     * Destroys the active media controller and current playback.\n     * @returns {void}\n     * @private\n     */\n    _destroyActiveMedia() {\n        const { mediaController, model } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.detach();\n        this._destroyMediaController(mediaController);\n        model.resetProvider();\n        this.mediaController = null;\n    }\n\n    /**\n     * Destroys all background media.\n     * @returns {void}\n     * @private\n     */\n    _destroyBackgroundMedia() {\n        const { background } = this;\n        this._destroyMediaController(background.currentMedia);\n        background.currentMedia = null;\n        this._destroyBackgroundLoadingMedia();\n    }\n\n    /**\n     * Destroys a mediaController, and returns it's tag to the pool.\n     * @param {MediaController} mediaController - The media controller to destroy and recycle.\n     * @returns {void}\n     * @private\n     */\n    _destroyMediaController(mediaController) {\n        const { mediaPool } = this;\n        if (!mediaController) {\n            return;\n        }\n        mediaPool.recycle(mediaController.mediaElement);\n        mediaController.destroy();\n    }\n\n    /**\n     * Constructs a new media controller with the provider whose able to play the current source.\n     * Will wait and load the provider constructor if it has not already been loaded.\n     * If the required provider cannot be loaded, the subsequent promise rejection will destroy playback.\n     * @param {Source} source - The playlist item Source for which a provider is needed.\n     * @returns {Promise} The Provider constructor promise.\n     * @private\n     */\n    _setupMediaController(source) {\n        const { model, providers } = this;\n        const makeMediaController = ProviderConstructor => new MediaController(\n            new ProviderConstructor(model.get('id'), model.getConfiguration(), this.primedElement),\n            model\n        );\n\n        const { provider, name } = providers.choose(source);\n        if (provider) {\n            return Promise.resolve(makeMediaController((provider)));\n        }\n\n        return providers.load(name)\n            .then(ProviderConstructor => makeMediaController(ProviderConstructor));\n    }\n\n    /**\n     * Places the background loading media into the foreground. Will wait for the provider promise to resolve.\n     * If the program controller has been placed into ads mode, the background loading media will replace the background\n     * loaded media. When the ad is over, the loaded media will be placed into the foreground via _restoreBackgroundMedia().\n     * This is done to avoid a race condition where we have activated the loading item, but switch to ads mode before the\n     * promise resovles, resulting in two tags in the foreground (since _backgroundActiveMedia \"misses\" the pending promise).\n     * @returns {Promise} The Provider promise. Resolves with preloaded media controller.\n     * @memberOf ProgramController\n     */\n    _activateBackgroundMedia() {\n        const { background, background: { nextLoadPromise } } = this;\n        // Activating this item means that any media already loaded in the background will no longer be needed\n        this._destroyMediaController(background.currentMedia);\n        background.currentMedia = null;\n        return nextLoadPromise.then(nextMediaController => {\n            if (!nextMediaController) {\n                return;\n            }\n            background.clearNext();\n            if (this.adPlaying) {\n                background.currentMedia = nextMediaController;\n            } else {\n                this._setActiveMedia(nextMediaController);\n                nextMediaController.background = false;\n            }\n            return nextMediaController;\n        });\n        // The catch is chained as part of the play promise chain\n    }\n\n    /**\n     * Destroys the mediaController which was constructed and loading in the background (nextMedia).\n     * Does not destroy the mediaController which was already playing and subsequently placed into the background (currentMedia).\n     * @returns {void}\n     * @private\n     */\n    _destroyBackgroundLoadingMedia() {\n        const { background, background: { nextLoadPromise } } = this;\n        if (!nextLoadPromise) {\n            return;\n        }\n        nextLoadPromise.then(nextMediaController => {\n            this._destroyMediaController(nextMediaController);\n            background.clearNext();\n        });\n    }\n\n    _providerCanPlay(_provider, source) {\n        const { provider } = this.providers.choose(source);\n        return provider && (_provider && _provider instanceof provider);\n    }\n\n    /**\n     * Returns the active audio track index.\n     * @returns {number} The active audio track index.\n     */\n    get audioTrack() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return -1;\n        }\n\n        return mediaController.audioTrack;\n    }\n\n    /**\n     * Returns the list of audio tracks.\n     * @returns {Array<AudioTrackOption>} An array of AudioTrackOption instances.\n     */\n    get audioTracks() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        return mediaController.audioTracks;\n    }\n\n    /**\n     * Returns whether the current media has completed playback.\n     * @returns {boolean} Is the \"beforeComplete\" event being propagated\n     * or did it result in the media being detached or backgrounded?\n     */\n    get beforeComplete() {\n        const { mediaController, background: { currentMedia } } = this;\n        if (!mediaController && !currentMedia) {\n            return false;\n        }\n\n        return mediaController ? mediaController.beforeComplete : currentMedia.beforeComplete;\n    }\n\n    /**\n     * Returns a primed element from the media pool.\n     * @returns {HTMLVideoElement|null} The first video element in the pool, or null if the pool is empty.\n     */\n    get primedElement() {\n        if (!Features.backgroundLoading) {\n            // If background loading is not supported, the model will always contain the shared media element\n            // Prime it so that playback after changing the active item does not require further gestures\n            const { model } = this;\n            return model.get('mediaElement');\n        }\n        return this.mediaPool.getPrimedElement();\n    }\n\n    /**\n     * Returns the active quality index.\n     * @returns {number} The active quality level index.\n     */\n    get quality() {\n        if (!this.mediaController) {\n            return -1;\n        }\n\n        return this.mediaController.quality;\n    }\n\n    /**\n     * Returns the list of quality levels.\n     * @returns {Array<QualityOption>} An array of QualityOption objects.\n     */\n    get qualities() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return null;\n        }\n\n        return mediaController.qualities;\n    }\n\n    /**\n     * Attaches or detaches the current media\n     * @param {boolean} shouldAttach - Attach or detach?\n     * @returns {void}\n     */\n    set attached(shouldAttach) {\n        const { mediaController } = this;\n\n        if (!mediaController) {\n            return;\n        }\n\n        if (shouldAttach) {\n            mediaController.attach();\n        } else {\n            mediaController.detach();\n        }\n    }\n\n    /**\n     * Sets the active audio index.\n     * @param {number} index - The index of the audio track to select.\n     * @returns {void}\n     */\n    set audioTrack(index) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.audioTrack = parseInt(index, 10) || 0;\n    }\n\n    /**\n     * Activates or deactivates media controls.\n     * @param {boolean} mode - Activate or deactivate media controls?\n     * @returns {void}\n     * TODO: deprecate - only used by jwplayer-commercial flash provider\n     */\n    set controls(mode) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.controls = mode;\n    }\n\n    /**\n     * Mutes or unmutes the activate media.\n     * Syncs across all media elements.\n     * @param {boolean} mute - Mute or unmute media?\n     * @returns {void}\n     */\n    set mute(mute) {\n        const { background, mediaController, mediaPool } = this;\n\n        if (mediaController) {\n            mediaController.mute = mute;\n        }\n        if (background.currentMedia) {\n            background.currentMedia.mute = mute;\n        }\n\n        mediaPool.syncMute(mute);\n    }\n\n    /**\n     * Seeks the media to the provided position.\n     * If the media is not attached, set the item's starttime so that when reattaching, it resumes at that time.\n     * If we seek before an item loads, set the item's starttime so that when playback begins, we buffer at that time.\n     * @param {number} pos - The position to start at or seek to.\n     * @returns {void}\n     */\n    set position(pos) {\n        const { mediaController, model } = this;\n        if (!mediaController) {\n            return;\n        }\n        const state = model.get(PLAYER_STATE);\n        const beforeLoad = (!mediaController.started && !mediaController.preloaded && state === STATE_IDLE);\n\n        if (beforeLoad || state === STATE_COMPLETE) {\n            mediaController.item.starttime = pos;\n        } else if (mediaController.attached) {\n            mediaController.position = pos;\n        } else {\n            mediaController.item.starttime = pos;\n        }\n    }\n\n    /**\n     * Sets the current quality level.\n     * @param {number} index - The index of the quality level to select.\n     * @returns {void}\n     */\n    set quality(index) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.quality = parseInt(index, 10) || 0;\n    }\n\n    /**\n     * Sets the current subtitles track.\n     * @param {number} index - The index of the subtitle track to select.\n     * @returns {void}\n     */\n    set subtitles(index) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.subtitles = index;\n    }\n\n    /**\n     * Sets the volume level.\n     * Syncs across all media elements.\n     * @param {number} volume - A number from 0 to 1.\n     * @returns {void}\n     */\n    set volume(volume) {\n        const { background, mediaController, mediaPool } = this;\n\n        if (mediaController) {\n            mediaController.volume = volume;\n        }\n        if (background.currentMedia) {\n            background.currentMedia.volume = volume;\n        }\n\n        mediaPool.syncVolume(volume);\n    }\n}\n\nfunction assignMediaContainer(model, mediaController) {\n    const container = model.get('mediaContainer');\n    if (container) {\n        mediaController.container = container;\n    } else {\n        model.once('change:mediaContainer', (changedModel, changedContainer) => {\n            mediaController.container = changedContainer;\n        });\n    }\n}\n\nfunction forwardEvents(programController, mediaController) {\n    mediaController.off('all', programController.mediaControllerListener, programController);\n    mediaController.on('all', programController.mediaControllerListener, programController);\n}\n\nfunction getSource(item) {\n    return item && item.sources && item.sources[0];\n}\n\nexport default ProgramController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/program-controller.js","import BackboneEvents from 'utils/backbone.events';\n\n// Combine mixins into a class which can be extended\nexport default class Eventable {}\nEventable.prototype = Object.assign({}, BackboneEvents);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/eventable.js","import { _isNaN, _isNumber } from 'utils/underscore';\nimport { PLAYER_STATE, STATE_IDLE, MEDIA_VOLUME, MEDIA_MUTE,\n    MEDIA_TYPE, AUDIO_TRACKS, AUDIO_TRACK_CHANGED,\n    MEDIA_RATE_CHANGE, MEDIA_BUFFER, MEDIA_TIME, MEDIA_LEVELS, MEDIA_LEVEL_CHANGED, MEDIA_ERROR,\n    MEDIA_BEFORECOMPLETE, MEDIA_COMPLETE, MEDIA_META, MEDIA_SEEK, MEDIA_SEEKED,\n    NATIVE_FULLSCREEN, MEDIA_VISUAL_QUALITY } from 'events/events';\n\nexport function ProviderListener(mediaController) {\n    return function (type, data) {\n        const { mediaModel } = mediaController;\n        const event = Object.assign({}, data, {\n            type: type\n        });\n\n        switch (type) {\n            case MEDIA_TYPE:\n                if (mediaModel.get(MEDIA_TYPE) === data.mediaType) {\n                    return;\n                }\n                mediaModel.set(MEDIA_TYPE, data.mediaType);\n                break;\n            case MEDIA_VISUAL_QUALITY:\n                mediaModel.set(MEDIA_VISUAL_QUALITY, Object.assign({}, data));\n                return;\n            case PLAYER_STATE: {\n                if (data.newstate === STATE_IDLE) {\n                    mediaController.thenPlayPromise.cancel();\n                    mediaModel.srcReset();\n                }\n                // Always fire change:mediaState to keep player model in sync\n                const previousState = mediaModel.attributes.mediaState;\n                mediaModel.attributes.mediaState = data.newstate;\n                mediaModel.trigger('change:mediaState', mediaModel, data.newstate, previousState);\n                // This \"return\" is important because\n                //  we are choosing to not propagate model event.\n                //  Instead letting the master controller do so\n                return;\n            }\n            case MEDIA_COMPLETE:\n                mediaController.beforeComplete = true;\n                mediaController.trigger(MEDIA_BEFORECOMPLETE, event);\n                if (mediaController.attached && !mediaController.background) {\n                    mediaController._playbackComplete();\n                }\n                return;\n            case MEDIA_ERROR:\n                mediaController.thenPlayPromise.cancel();\n                mediaModel.srcReset();\n                break;\n            case MEDIA_META: {\n                const duration = data.duration;\n                if (_isNumber(duration) && !_isNaN(duration)) {\n                    mediaModel.set('duration', duration);\n                }\n                break;\n            }\n            case MEDIA_BUFFER:\n                mediaModel.set('buffer', data.bufferPercent);\n                /* falls through to update duration while media is loaded */\n            case MEDIA_TIME: {\n                mediaModel.set('position', data.position);\n                mediaModel.set('currentTime', data.currentTime);\n                const duration = data.duration;\n                if (_isNumber(duration) && !_isNaN(duration)) {\n                    mediaModel.set('duration', duration);\n                }\n                break;\n            }\n            case MEDIA_LEVELS:\n                mediaModel.set(MEDIA_LEVELS, data.levels);\n                /* falls through to update current level */\n            case MEDIA_LEVEL_CHANGED: {\n                const { currentQuality, levels } = data;\n                if (currentQuality > -1 && levels.length > 1) {\n                    mediaModel.set('currentLevel', parseInt(currentQuality));\n                }\n                break;\n            }\n            case AUDIO_TRACKS:\n                mediaModel.set(AUDIO_TRACKS, data.tracks);\n                /* falls through to update current track */\n            case AUDIO_TRACK_CHANGED: {\n                const { currentTrack, tracks } = data;\n\n                if (currentTrack > -1 && tracks.length > 0 && currentTrack < tracks.length) {\n                    mediaModel.set('currentAudioTrack', parseInt(currentTrack));\n                }\n                break;\n            }\n            case 'visualQuality':\n                mediaModel.set('visualQuality', Object.assign({}, data));\n                break;\n            default:\n                break;\n        }\n\n        mediaController.trigger(type, event);\n    };\n}\n\nexport function MediaControllerListener(model, programController) {\n    return function (type, data) {\n        switch (type) {\n            case 'flashThrottle': {\n                const throttled = (data.state !== 'resume');\n                model.set('flashThrottle', throttled);\n                model.set('flashBlocked', throttled);\n            }\n                break;\n            case 'flashBlocked':\n                model.set('flashBlocked', true);\n                return;\n            case 'flashUnblocked':\n                model.set('flashBlocked', false);\n                return;\n            case MEDIA_VOLUME:\n                model.set(type, data[type]);\n                return;\n            case MEDIA_MUTE:\n                if (!model.get('autostartMuted')) {\n                    // Don't persist mute state with muted autostart\n                    model.set(type, data[type]);\n                }\n                return;\n            case MEDIA_RATE_CHANGE:\n                model.set('playbackRate', data.playbackRate);\n                return;\n            case MEDIA_META: {\n                Object.assign(model.get('itemMeta'), data.metadata);\n                break;\n            }\n            case MEDIA_LEVEL_CHANGED:\n                model.persistQualityLevel(data.currentQuality, data.levels);\n                break;\n            case 'subtitlesTrackChanged':\n                model.persistVideoSubtitleTrack(data.currentTrack, data.tracks);\n                break;\n            case MEDIA_TIME:\n            case MEDIA_SEEK:\n            case MEDIA_SEEKED:\n            case NATIVE_FULLSCREEN:\n            case 'subtitlesTracks':\n            case 'subtitlesTracksData':\n                model.trigger(type, data);\n                break;\n            default:\n        }\n\n        programController.trigger(type, data);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/program-listeners.js","import { STATE_IDLE, STATE_COMPLETE, STATE_ERROR } from 'events/events';\n\n// The api should dispatch an idle event when the model's state changes to complete\n// This is to avoid conflicts with the complete event and to maintain legacy event flow\nfunction normalizeApiState(newstate) {\n    if (newstate === STATE_COMPLETE || newstate === STATE_ERROR) {\n        return STATE_IDLE;\n    }\n    return newstate;\n}\n\nexport default function ChangeStateEvent(model, newstate, oldstate) {\n    newstate = normalizeApiState(newstate);\n    oldstate = normalizeApiState(oldstate);\n    // do not dispatch idle a second time after complete\n    if (newstate !== oldstate) {\n        // buffering, playing and paused states become:\n        // buffer, play and pause events\n        var eventType = newstate.replace(/(?:ing|d)$/, '');\n        var evt = {\n            type: eventType,\n            newstate: newstate,\n            oldstate: oldstate,\n            reason: model.mediaModel.get('mediaState')\n        };\n        // add reason for play/pause events\n        if (eventType === 'play') {\n            evt.playReason = model.get('playReason');\n        } else if (eventType === 'pause') {\n            evt.pauseReason = model.get('pauseReason');\n        }\n        this.trigger(eventType, evt);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/change-state-event.js","export default (function() {\n    if ('hidden' in document) {\n        return function () {\n            return !document.hidden;\n        };\n    }\n    if ('webkitHidden' in document) {\n        return function () {\n            return !document.webkitHidden;\n        };\n    }\n    // document.hidden not supported\n    return function () {\n        return true;\n    };\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/active-tab.js","import VTTCue from 'parsers/captions/vttcue';\nimport { chunkLoadErrorHandler } from '../api/core-loader';\nimport utils from 'utils/helpers';\nimport { localName } from 'parsers/parsers';\nimport srt from 'parsers/captions/srt';\nimport dfxp from 'parsers/captions/dfxp';\n\nexport function loadFile(track, successHandler, errorHandler) {\n    track.xhr = utils.ajax(track.file, function(xhr) {\n        xhrSuccess(xhr, track, successHandler, errorHandler);\n    }, errorHandler);\n}\n\nexport function cancelXhr(tracks) {\n    if (tracks) {\n        tracks.forEach(track => {\n            var xhr = track.xhr;\n            if (xhr) {\n                xhr.onload = null;\n                xhr.onreadystatechange = null;\n                xhr.onerror = null;\n                if ('abort' in xhr) {\n                    xhr.abort();\n                }\n            }\n            delete track.xhr;\n        });\n    }\n}\n\nexport function convertToVTTCues(cues) {\n    // VTTCue is available natively or polyfilled where necessary\n    return cues.map(cue => new VTTCue(cue.begin, cue.end, cue.text));\n}\n\nfunction xhrSuccess(xhr, track, successHandler, errorHandler) {\n    var xmlRoot = xhr.responseXML ? xhr.responseXML.firstChild : null;\n    var cues;\n    var vttCues;\n\n    // IE9 sets the firstChild element to the root <xml> tag\n    if (xmlRoot) {\n        if (localName(xmlRoot) === 'xml') {\n            xmlRoot = xmlRoot.nextSibling;\n        }\n        // Ignore all comments\n        while (xmlRoot.nodeType === xmlRoot.COMMENT_NODE) {\n            xmlRoot = xmlRoot.nextSibling;\n        }\n    }\n\n    try {\n        if (xmlRoot && localName(xmlRoot) === 'tt') {\n            // parse dfxp track\n            cues = dfxp(xhr.responseXML);\n            vttCues = convertToVTTCues(cues);\n            delete track.xhr;\n            successHandler(vttCues);\n        } else {\n            // parse VTT/SRT track\n            var responseText = xhr.responseText;\n            if (responseText.indexOf('WEBVTT') >= 0) {\n                // make VTTCues from VTT track\n                loadVttParser().then(VTTParser => {\n                    var parser = new VTTParser(window);\n                    vttCues = [];\n                    parser.oncue = function(cue) {\n                        vttCues.push(cue);\n                    };\n\n                    parser.onflush = function() {\n                        delete track.xhr;\n                        successHandler(vttCues);\n                    };\n\n                    // Parse calls onflush internally\n                    parser.parse(responseText);\n                }).catch(error => {\n                    delete track.xhr;\n                    errorHandler(error);\n                });\n            } else {\n                // make VTTCues from SRT track\n                cues = srt(responseText);\n                vttCues = convertToVTTCues(cues);\n                delete track.xhr;\n                successHandler(vttCues);\n            }\n        }\n    } catch (error) {\n        delete track.xhr;\n        errorHandler(error);\n    }\n}\n\nfunction loadVttParser() {\n    return require.ensure(['parsers/captions/vttparser'], function (require) {\n        return require('parsers/captions/vttparser').default;\n    }, chunkLoadErrorHandler, 'vttparser');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/tracks-loader.js","export function createId(track, tracksCount) {\n    var trackId;\n    var prefix = track.kind || 'cc';\n    if (track.default || track.defaulttrack) {\n        trackId = 'default';\n    } else {\n        trackId = track._id || track.file || (prefix + tracksCount);\n    }\n    return trackId;\n}\n\nexport function createLabel(track, unknownCount) {\n    var label = track.label || track.name || track.language;\n    if (!label) {\n        label = 'Unknown CC';\n        unknownCount += 1;\n        if (unknownCount > 1) {\n            label += ' [' + unknownCount + ']';\n        }\n    }\n    return { label: label, unknownCount: unknownCount };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/tracks-helper.js","import Promise from 'polyfills/promise';\n\nexport default function createPlayPromise(video) {\n    return new Promise(function(resolve, reject) {\n        if (video.paused) {\n            return reject(new Error('Play refused.'));\n        }\n        const removeEventListeners = function() {\n            video.removeEventListener('playing', listener);\n            video.removeEventListener('pause', listener);\n            video.removeEventListener('abort', listener);\n            video.removeEventListener('error', listener);\n        };\n        const listener = function(e) {\n            removeEventListeners();\n            if (e.type === 'playing') {\n                resolve();\n            } else {\n                reject(new Error('The play() request was interrupted by a \"' + e.type + '\" event.'));\n            }\n        };\n\n        video.addEventListener('playing', listener);\n        video.addEventListener('abort', listener);\n        video.addEventListener('error', listener);\n        video.addEventListener('pause', listener);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/utils/play-promise.js","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n*/\n\nlet VTTCue = window.VTTCue;\n\nfunction findDirectionSetting(value) {\n    if (typeof value !== 'string') {\n        return false;\n    }\n    const directionSetting = {\n        '': true,\n        lr: true,\n        rl: true\n    };\n    const dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n}\n\nfunction findAlignSetting(value) {\n    if (typeof value !== 'string') {\n        return false;\n    }\n    const alignSetting = {\n        start: true,\n        middle: true,\n        end: true,\n        left: true,\n        right: true\n    };\n    const align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n}\n\nif (!VTTCue) {\n    const autoKeyword = 'auto';\n\n    VTTCue = function(startTime, endTime, text) {\n        const cue = this;\n\n        /**\n         * Shim implementation specific properties. These properties are not in\n         * the spec.\n         */\n\n        // Lets us know when the VTTCue's data has changed in such a way that we need\n        // to recompute its display state. This lets us compute its display state\n        // lazily.\n        cue.hasBeenReset = false;\n\n        /**\n         * VTTCue and TextTrackCue properties\n         * http://dev.w3.org/html5/webvtt/#vttcue-interface\n         */\n\n        let _id = '';\n        let _pauseOnExit = false;\n        let _startTime = startTime;\n        let _endTime = endTime;\n        let _text = text;\n        let _region = null;\n        let _vertical = '';\n        let _snapToLines = true;\n        let _line = autoKeyword;\n        let _lineAlign = 'start';\n        let _position = autoKeyword;\n        let _size = 100;\n        let _align = 'middle';\n\n        Object.defineProperty(cue, 'id', {\n            enumerable: true,\n            get: function () {\n                return _id;\n            },\n            set: function (value) {\n                _id = '' + value;\n            }\n        });\n\n        Object.defineProperty(cue, 'pauseOnExit', {\n            enumerable: true,\n            get: function () {\n                return _pauseOnExit;\n            },\n            set: function (value) {\n                _pauseOnExit = !!value;\n            }\n        });\n\n        Object.defineProperty(cue, 'startTime', {\n            enumerable: true,\n            get: function () {\n                return _startTime;\n            },\n            set: function (value) {\n                if (typeof value !== 'number') {\n                    throw new TypeError('Start time must be set to a number.');\n                }\n                _startTime = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'endTime', {\n            enumerable: true,\n            get: function () {\n                return _endTime;\n            },\n            set: function (value) {\n                if (typeof value !== 'number') {\n                    throw new TypeError('End time must be set to a number.');\n                }\n                _endTime = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'text', {\n            enumerable: true,\n            get: function () {\n                return _text;\n            },\n            set: function (value) {\n                _text = '' + value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'region', {\n            enumerable: true,\n            get: function () {\n                return _region;\n            },\n            set: function (value) {\n                _region = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'vertical', {\n            enumerable: true,\n            get: function () {\n                return _vertical;\n            },\n            set: function (value) {\n                const setting = findDirectionSetting(value);\n                // Have to check for false because the setting an be an empty string.\n                if (setting === false) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _vertical = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'snapToLines', {\n            enumerable: true,\n            get: function () {\n                return _snapToLines;\n            },\n            set: function (value) {\n                _snapToLines = !!value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'line', {\n            enumerable: true,\n            get: function () {\n                return _line;\n            },\n            set: function (value) {\n                if (typeof value !== 'number' && value !== autoKeyword) {\n                    throw new SyntaxError('An invalid number or illegal string was specified.');\n                }\n                _line = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'lineAlign', {\n            enumerable: true,\n            get: function () {\n                return _lineAlign;\n            },\n            set: function (value) {\n                const setting = findAlignSetting(value);\n                if (!setting) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _lineAlign = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'position', {\n            enumerable: true,\n            get: function () {\n                return _position;\n            },\n            set: function (value) {\n                if (value < 0 || value > 100) {\n                    throw new Error('Position must be between 0 and 100.');\n                }\n                _position = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'size', {\n            enumerable: true,\n            get: function () {\n                return _size;\n            },\n            set: function (value) {\n                if (value < 0 || value > 100) {\n                    throw new Error('Size must be between 0 and 100.');\n                }\n                _size = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'align', {\n            enumerable: true,\n            get: function () {\n                return _align;\n            },\n            set: function (value) {\n                const setting = findAlignSetting(value);\n                if (!setting) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _align = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        /**\n         * Other <track> spec defined properties\n         */\n\n        // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n        cue.displayState = undefined;\n    };\n\n    /**\n     * VTTCue methods\n     */\n\n    VTTCue.prototype.getCueAsHTML = function () {\n        // Assume WebVTT.convertCueToDOMTree is on the global.\n        const WebVTT = window.WebVTT;\n        return WebVTT.convertCueToDOMTree(window, this.text);\n    };\n}\n\nexport default VTTCue;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/vttcue.js","import { seconds, trim } from 'utils/strings';\n\n// Component that loads and parses an DFXP file\n\nexport default function Dfxp(xmlDoc) {\n    validate(xmlDoc);\n    var _captions = [];\n    var paragraphs = xmlDoc.getElementsByTagName('p');\n    // Default frameRate is 30\n    var frameRate = 30;\n    var tt = xmlDoc.getElementsByTagName('tt');\n    if (tt && tt[0]) {\n        var parsedFrameRate = parseFloat(tt[0].getAttribute('ttp:frameRate'));\n        if (!isNaN(parsedFrameRate)) {\n            frameRate = parsedFrameRate;\n        }\n    }\n    validate(paragraphs);\n    if (!paragraphs.length) {\n        paragraphs = xmlDoc.getElementsByTagName('tt:p');\n        if (!paragraphs.length) {\n            paragraphs = xmlDoc.getElementsByTagName('tts:p');\n        }\n    }\n\n    for (var i = 0; i < paragraphs.length; i++) {\n        var p = paragraphs[i];\n\n        var breaks = p.getElementsByTagName('br');\n        for (var j = 0; j < breaks.length; j++) {\n            var b = breaks[j];\n            b.parentNode.replaceChild(xmlDoc.createTextNode('\\r\\n'), b);\n        }\n\n        var rawText = (p.innerHTML || p.textContent || p.text || '');\n        var text = trim(rawText).replace(/>\\s+</g, '><').replace(/(<\\/?)tts?:/g, '$1').replace(/<br.*?\\/>/g, '\\r\\n');\n        if (text) {\n            var begin = p.getAttribute('begin');\n            var dur = p.getAttribute('dur');\n            var end = p.getAttribute('end');\n\n            var entry = {\n                begin: seconds(begin, frameRate),\n                text: text\n            };\n            if (end) {\n                entry.end = seconds(end, frameRate);\n            } else if (dur) {\n                entry.end = entry.begin + seconds(dur, frameRate);\n            }\n            _captions.push(entry);\n        }\n    }\n    if (!_captions.length) {\n        parseError();\n    }\n    return _captions;\n}\n\nfunction validate(object) {\n    if (!object) {\n        parseError();\n    }\n}\n\nfunction parseError() {\n    throw new Error('Invalid DFXP file');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/dfxp.js","import { cloneIcons } from 'view/controls/icons';\nimport { Browser, OS } from 'environment/environment';\nimport { dvrSeekLimit } from 'view/constants';\nimport CustomButton from 'view/controls/components/custom-button';\nimport utils from 'utils/helpers';\nimport _ from 'utils/underscore';\nimport { USER_ACTION } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport UI from 'utils/ui';\nimport ariaLabel from 'utils/aria';\nimport TimeSlider from 'view/controls/components/timeslider';\nimport VolumeTooltip from 'view/controls/components/volumetooltip';\nimport button from 'view/controls/components/button';\nimport { SimpleTooltip } from 'view/controls/components/simple-tooltip';\nimport { prependChild } from 'utils/dom';\n\nfunction text(name, role) {\n    const element = document.createElement('span');\n    element.className = 'jw-text jw-reset ' + name;\n    if (role) {\n        element.setAttribute('role', role);\n    }\n    return element;\n}\n\nfunction textIcon(name, role) {\n    const element = document.createElement('div');\n    element.className = 'jw-icon jw-icon-inline jw-text jw-reset ' + name;\n    if (role) {\n        element.setAttribute('role', role);\n    }\n    return element;\n}\n\nfunction div(classes) {\n    const element = document.createElement('div');\n    element.className = `jw-reset ${classes}`;\n    return element;\n}\n\nfunction createCastButton(castToggle, localization) {\n\n    if (Browser.safari) {\n        const airplayButton = button(\n            'jw-icon-airplay jw-off',\n            castToggle,\n            localization.airplay,\n            cloneIcons('airplay-off,airplay-on'));\n\n        SimpleTooltip(airplayButton.element(), 'airplay', localization.airplay);\n\n        return airplayButton;\n    }\n\n    if (!Browser.chrome || OS.iOS) {\n        return;\n    }\n\n\n    const castButton = document.createElement('button', 'google-cast-button');\n    castButton.setAttribute('type', 'button');\n    castButton.setAttribute('tabindex', '-1');\n\n    const element = document.createElement('div');\n    element.className = 'jw-reset jw-icon jw-icon-inline jw-icon-cast jw-button-color';\n    element.style.display = 'none';\n    element.style.cursor = 'pointer';\n    element.appendChild(castButton);\n    ariaLabel(element, localization.cast);\n\n    SimpleTooltip(element, 'chromecast', localization.cast);\n\n    return {\n        element: function() {\n            return element;\n        },\n        toggle: function(m) {\n            if (m) {\n                this.show();\n            } else {\n                this.hide();\n            }\n        },\n        show: function() {\n            element.style.display = '';\n        },\n        hide: function() {\n            element.style.display = 'none';\n        },\n        button: castButton\n    };\n}\n\nfunction reasonInteraction() {\n    return { reason: 'interaction' };\n}\n\nfunction buttonsInFirstNotInSecond(buttonsA, buttonsB) {\n    return buttonsA.filter(a =>\n        !buttonsB.some(b => (b.id + b.btnClass === a.id + a.btnClass) && a.callback === b.callback));\n}\n\nconst appendChildren = (container, elements) => {\n    elements.forEach(e => {\n        if (e.element) {\n            e = e.element();\n        }\n        container.appendChild(e);\n    });\n};\n\nexport default class Controlbar {\n    constructor(_api, _model) {\n        Object.assign(this, Events);\n        this._api = _api;\n        this._model = _model;\n        this._isMobile = OS.mobile;\n        const localization = _model.get('localization');\n        const timeSlider = new TimeSlider(_model, _api);\n        let volumeTooltip;\n        let muteButton;\n\n        const play = localization.play;\n        const next = localization.next;\n        const vol = localization.volume;\n        const rewind = localization.rewind;\n\n        // Do not show the volume toggle in the mobile SDKs or <iOS10\n        if (!_model.get('sdkplatform') && !(OS.iOS && OS.version.major < 10)) {\n            // Clone icons so that can be used in VolumeTooltip\n            const svgIcons = cloneIcons('volume-0,volume-100');\n            muteButton = button('jw-icon-volume', () => {\n                _api.setMute();\n            }, vol, svgIcons);\n        }\n\n        // Do not initialize volume slider or tooltip on mobile\n        if (!this._isMobile) {\n            volumeTooltip = new VolumeTooltip(_model, 'jw-icon-volume', vol,\n                cloneIcons('volume-0,volume-50,volume-100'));\n        }\n\n        const nextButton = button('jw-icon-next', () => {\n            _api.next();\n        }, next, cloneIcons('next'));\n\n        const settingsButton = button('jw-icon-settings jw-settings-submenu-button', (event) => {\n            this.trigger('settingsInteraction', 'quality', true, event);\n        }, localization.settings, cloneIcons('settings'));\n        settingsButton.element().setAttribute('aria-haspopup', 'true');\n\n        const captionsButton = button('jw-icon-cc jw-settings-submenu-button', (event) => {\n            this.trigger('settingsInteraction', 'captions', false, event);\n        }, localization.cc, cloneIcons('cc-off,cc-on'));\n        captionsButton.element().setAttribute('aria-haspopup', 'true');\n\n        const liveButton = button('jw-text-live', () => {\n            this.goToLiveEdge();\n        }, localization.liveBroadcast);\n        liveButton.element().textContent = localization.liveBroadcast;\n\n        const elements = this.elements = {\n            alt: text('jw-text-alt', 'status'),\n            play: button('jw-icon-playback', () => {\n                _api.playToggle(reasonInteraction());\n            }, play, cloneIcons('play,pause')),\n            rewind: button('jw-icon-rewind', () => {\n                this.rewind();\n            }, rewind, cloneIcons('rewind')),\n            live: liveButton,\n            next: nextButton,\n            elapsed: textIcon('jw-text-elapsed', 'timer'),\n            countdown: textIcon('jw-text-countdown', 'timer'),\n            time: timeSlider,\n            duration: textIcon('jw-text-duration', 'timer'),\n            mute: muteButton,\n            volumetooltip: volumeTooltip,\n            cast: createCastButton(() => {\n                _api.castToggle();\n            }, localization),\n            fullscreen: button('jw-icon-fullscreen', () => {\n                _api.setFullscreen();\n            }, localization.fullscreen, cloneIcons('fullscreen-off,fullscreen-on')),\n            spacer: div('jw-spacer'),\n            buttonContainer: div('jw-button-container'),\n            settingsButton,\n            captionsButton\n        };\n\n        // Add text tooltips\n        const captionsTip = SimpleTooltip(captionsButton.element(), 'captions', localization.cc);\n        const onCaptionsChanged = (model) => {\n            const currentCaptions = model.get('captionsList')[model.get('captionsIndex')];\n            let newText = localization.cc;\n            if (currentCaptions && currentCaptions.label !== 'Off') {\n                newText = currentCaptions.label;\n            }\n            captionsTip.setText(newText);\n        };\n\n        const nextUpTip = SimpleTooltip(elements.next.element(), 'next', localization.nextUp, () => {\n            const nextUp = _model.get('nextUp');\n\n            this.trigger('nextShown', {\n                mode: nextUp.mode,\n                ui: 'nextup',\n                itemsShown: [nextUp],\n                feedData: nextUp.feedData,\n                reason: 'hover'\n            });\n        });\n        SimpleTooltip(elements.rewind.element(), 'rewind', localization.rewind);\n        SimpleTooltip(elements.settingsButton.element(), 'settings', localization.settings);\n        SimpleTooltip(elements.fullscreen.element(), 'fullscreen', localization.fullscreen);\n\n        // Filter out undefined elements\n        const buttonLayout = [\n            elements.play,\n            elements.rewind,\n            elements.next,\n            elements.volumetooltip,\n            elements.mute,\n            elements.alt,\n            elements.live,\n            elements.elapsed,\n            elements.countdown,\n            elements.duration,\n            elements.spacer,\n            elements.cast,\n            elements.captionsButton,\n            elements.settingsButton,\n            elements.fullscreen\n        ].filter(e => e);\n\n        const layout = [\n            elements.time,\n            elements.buttonContainer\n        ].filter(e => e);\n\n        const menus = this.menus = [\n            elements.volumetooltip\n        ].filter(e => e);\n\n        this.el = document.createElement('div');\n        this.el.className = 'jw-controlbar jw-reset';\n\n        appendChildren(elements.buttonContainer, buttonLayout);\n        appendChildren(this.el, layout);\n\n        const logo = _model.get('logo');\n        if (logo && logo.position === 'control-bar') {\n            this.addLogo(logo);\n        }\n\n        // Initial State\n        elements.play.show();\n        elements.fullscreen.show();\n        if (elements.mute) {\n            elements.mute.show();\n        }\n\n        // Listen for model changes\n        _model.change('volume', this.onVolume, this);\n        _model.change('mute', this.onMute, this);\n        _model.change('duration', this.onDuration, this);\n        _model.change('position', this.onElapsed, this);\n        _model.change('fullscreen', this.onFullscreen, this);\n        _model.change('streamType', this.onStreamTypeChange, this);\n        _model.change('dvrLive', (model, dvrLive) => {\n            utils.toggleClass(this.elements.live.element(), 'jw-dvr-live', dvrLive === false);\n        }, this);\n        _model.change('altText', this.setAltText, this);\n        _model.change('customButtons', this.updateButtons, this);\n        _model.on('change:captionsIndex', onCaptionsChanged, this);\n        _model.on('change:captionsList', onCaptionsChanged, this);\n        _model.change('nextUp', (model, nextUp) => {\n            let tipText = localization.nextUp;\n            if (nextUp && nextUp.title) {\n                tipText += (`: ${nextUp.title}`);\n            }\n            nextUpTip.setText(tipText);\n            elements.next.toggle(!!nextUp);\n        });\n        _model.change('audioMode', this.onAudioMode, this);\n        if (elements.cast) {\n            _model.change('castAvailable', this.onCastAvailable, this);\n            _model.change('castActive', this.onCastActive, this);\n        }\n\n        // Event listeners\n        // Volume sliders do not exist on mobile so don't assign listeners to them.\n        if (elements.volumetooltip) {\n            elements.volumetooltip.on('update', function (pct) {\n                const val = pct.percentage;\n                this._api.setVolume(val);\n            }, this);\n            elements.volumetooltip.on('toggleValue', function () {\n                this._api.setMute();\n            }, this);\n        }\n\n        if (elements.cast && elements.cast.button) {\n            new UI(elements.cast.element()).on('click tap enter', function(evt) {\n                // controlbar cast button needs to manually trigger a click\n                // on the native cast button for taps and enter key\n                if (evt.type !== 'click') {\n                    elements.cast.button.click();\n                }\n                this._model.set('castClicked', true);\n            }, this);\n        }\n\n        new UI(elements.duration).on('click tap enter', function () {\n            if (this._model.get('streamType') === 'DVR') {\n                // Seek to \"Live\" position within live buffer, but not before current position\n                const currentPosition = this._model.get('position');\n                this._api.seek(Math.max(dvrSeekLimit, currentPosition), reasonInteraction());\n            }\n        }, this);\n\n        // When the control bar is interacted with, trigger a user action event\n        new UI(this.el).on('click tap drag', function () {\n            this.trigger(USER_ACTION);\n        }, this);\n        _.each(menus, function (ele) {\n            ele.on('open-tooltip', this.closeMenus, this);\n        }, this);\n    }\n\n    onVolume(model, pct) {\n        this.renderVolume(model.get('mute'), pct);\n    }\n\n    onMute(model, muted) {\n        this.renderVolume(muted, model.get('volume'));\n    }\n\n    renderVolume(muted, vol) {\n        // mute, volume, and volumetooltip do not exist on mobile devices.\n        if (this.elements.mute) {\n            utils.toggleClass(this.elements.mute.element(), 'jw-off', muted);\n            utils.toggleClass(this.elements.mute.element(), 'jw-full', !muted);\n        }\n        if (this.elements.volumetooltip) {\n            this.elements.volumetooltip.volumeSlider.render(muted ? 0 : vol);\n            utils.toggleClass(this.elements.volumetooltip.element(), 'jw-off', muted);\n            utils.toggleClass(this.elements.volumetooltip.element(), 'jw-full', vol >= 75 && !muted);\n        }\n    }\n\n    onCastAvailable(model, val) {\n        this.elements.cast.toggle(val);\n    }\n\n    onCastActive(model, val) {\n        this.elements.fullscreen.toggle(!val);\n        if (this.elements.cast.button) {\n            utils.toggleClass(this.elements.cast.button, 'jw-off', !val);\n        }\n    }\n\n    onElapsed(model, position) {\n        let elapsedTime;\n        let countdownTime;\n        const duration = model.get('duration');\n        if (model.get('streamType') === 'DVR') {\n            const currentPosition = Math.ceil(position);\n            elapsedTime = countdownTime = currentPosition >= dvrSeekLimit ? '' : '-' + utils.timeFormat(-position);\n            model.set('dvrLive', currentPosition >= dvrSeekLimit);\n        } else {\n            elapsedTime = utils.timeFormat(position);\n            countdownTime = utils.timeFormat(duration - position);\n        }\n        this.elements.elapsed.textContent = elapsedTime;\n        this.elements.countdown.textContent = countdownTime;\n    }\n\n    onDuration(model, val) {\n        this.elements.duration.textContent = utils.timeFormat(Math.abs(val));\n    }\n\n    onFullscreen(model, val) {\n        utils.toggleClass(this.elements.fullscreen.element(), 'jw-off', val);\n        this.elements.play.element().focus();\n    }\n\n    onAudioMode(model, val) {\n        const timeSlider = this.elements.time.element();\n        if (val) {\n            this.elements.buttonContainer.insertBefore(\n                timeSlider,\n                this.elements.elapsed\n            );\n        } else {\n            prependChild(this.el, timeSlider);\n        }\n    }\n\n    element() {\n        return this.el;\n    }\n\n    setAltText(model, altText) {\n        this.elements.alt.textContent = altText;\n    }\n\n    // Close menus if it has no event.  Otherwise close all but the event's target.\n    closeMenus(evt) {\n        _.each(this.menus, function (ele) {\n            if (!evt || evt.target !== ele.el) {\n                ele.closeTooltip(evt);\n            }\n        });\n    }\n\n    rewind() {\n        const currentPosition = this._model.get('position');\n        const duration = this._model.get('duration');\n        const rewindPosition = currentPosition - 10;\n        let startPosition = 0;\n\n        // duration is negative in DVR mode\n        if (this._model.get('streamType') === 'DVR') {\n            startPosition = duration;\n        }\n        // Seek 10s back. Seek value should be >= 0 in VOD mode and >= (negative) duration in DVR mode\n        this._api.seek(Math.max(rewindPosition, startPosition), reasonInteraction());\n    }\n\n    onStreamTypeChange(model, streamType) {\n        // Hide rewind button when in LIVE mode\n        this.elements.rewind.toggle(streamType !== 'LIVE');\n        this.elements.live.toggle(streamType === 'LIVE' || streamType === 'DVR');\n        this.elements.duration.style.display = streamType === 'DVR' ? 'none' : '';\n        const duration = model.get('duration');\n        this.onDuration(model, duration);\n    }\n\n    addLogo(logo) {\n        const buttonContainer = this.elements.buttonContainer;\n\n        const logoButton = new CustomButton(\n            logo.file,\n            'Logo',\n            () => {\n                if (logo.link) {\n                    window.open(logo.link, '_blank');\n                }\n            },\n            'logo',\n            'jw-logo-button'\n        );\n\n        if (!logo.link) {\n            logoButton.element().setAttribute('tabindex', '-1');\n        }\n        buttonContainer.insertBefore(\n            logoButton.element(),\n            buttonContainer.querySelector('.jw-spacer').nextSibling\n        );\n    }\n\n    goToLiveEdge() {\n        if (this._model.get('streamType') === 'DVR') {\n            // Seek to \"Live\" position within live buffer, but not before current position\n            const currentPosition = this._model.get('position');\n            this._api.seek(Math.max(dvrSeekLimit, currentPosition), reasonInteraction());\n        }\n    }\n\n    updateButtons(model, newButtons, oldButtons) {\n        // If buttons are undefined exit, buttons are only removed if newButtons is an array\n        if (!newButtons) {\n            return;\n        }\n\n        const buttonContainer = this.elements.buttonContainer;\n\n        let addedButtons;\n        let removedButtons;\n\n        // On model.change these obects are the same and all buttons need to be added\n        if (newButtons === oldButtons || !oldButtons) {\n            addedButtons = newButtons;\n\n        } else {\n            addedButtons = buttonsInFirstNotInSecond(newButtons, oldButtons);\n            removedButtons = buttonsInFirstNotInSecond(oldButtons, newButtons);\n\n            this.removeButtons(buttonContainer, removedButtons);\n        }\n\n        for (let i = addedButtons.length - 1; i >= 0; i--) {\n            let buttonProps = addedButtons[i];\n            const newButton = new CustomButton(\n                buttonProps.img,\n                buttonProps.tooltip,\n                buttonProps.callback,\n                buttonProps.id,\n                buttonProps.btnClass\n            );\n\n            if (buttonProps.tooltip) {\n                SimpleTooltip(newButton.element(), buttonProps.id, buttonProps.tooltip);\n            }\n\n            let firstButton;\n            if (newButton.id === 'related') {\n                firstButton = this.elements.settingsButton.element();\n            } else if (newButton.id === 'share') {\n                firstButton = buttonContainer.querySelector('[button=\"related\"]') ||\n                    this.elements.settingsButton.element();\n            } else {\n                firstButton = this.elements.spacer.nextSibling;\n                if (firstButton && firstButton.getAttribute('button') === 'logo') {\n                    firstButton = firstButton.nextSibling;\n                }\n            }\n            buttonContainer.insertBefore(newButton.element(), firstButton);\n        }\n    }\n\n    removeButtons(buttonContainer, buttonsToRemove) {\n        for (let i = buttonsToRemove.length; i--;) {\n            const buttonElement = buttonContainer.querySelector(`[button=\"${buttonsToRemove[i].id}\"]`);\n            if (buttonElement) {\n                buttonContainer.removeChild(buttonElement);\n            }\n        }\n    }\n\n    toggleCaptionsButtonState(active) {\n        const captionsButton = this.elements.captionsButton;\n        if (!captionsButton) {\n            return;\n        }\n\n        utils.toggleClass(captionsButton.element(), 'jw-off', !active);\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/controlbar.js","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-buffer\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M120,186.667a66.667,66.667,0,0,1,0-133.333V40a80,80,0,1,0,80,80H186.667A66.846,66.846,0,0,1,120,186.667Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/buffer.svg\n// module id = 101\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-replay\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M120,41.9v-20c0-5-4-8-8-4l-44,28a5.865,5.865,0,0,0-3.3,7.6A5.943,5.943,0,0,0,68,56.8l43,29c5,4,9,1,9-4v-20a60,60,0,1,1-60,60H40a80,80,0,1,0,80-79.9Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/replay.svg\n// module id = 102\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-error\\\" viewBox=\\\"0 0 36 36\\\" style=\\\"width:100%;height:100%;\\\" focusable=\\\"false\\\"><path fill=\\\"#FFF\\\" d=\\\"M34.6 20.2L10 33.2 27.6 16l7 3.7a.4.4 0 0 1 .2.5.4.4 0 0 1-.2.2zM33.3 0L21 12.2 9 6c-.2-.3-.6 0-.6.5V25L0 33.6 2.5 36 36 2.7z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/playback-error.svg\n// module id = 103\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-play\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M62.8,199.5c-1,0.8-2.4,0.6-3.3-0.4c-0.4-0.5-0.6-1.1-0.5-1.8V42.6c-0.2-1.3,0.7-2.4,1.9-2.6c0.7-0.1,1.3,0.1,1.9,0.4l154.7,77.7c2.1,1.1,2.1,2.8,0,3.8L62.8,199.5z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/play.svg\n// module id = 104\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-pause\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M100,194.9c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0H65c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V45c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h30c2.6-0.2,4.8,1.8,5,4.4c0,0.2,0,0.4,0,0.6V194.9z M180,45.1c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6V195c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6V45.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/pause.svg\n// module id = 105\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-rewind\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M113.2,131.078a21.589,21.589,0,0,0-17.7-10.6,21.589,21.589,0,0,0-17.7,10.6,44.769,44.769,0,0,0,0,46.3,21.589,21.589,0,0,0,17.7,10.6,21.589,21.589,0,0,0,17.7-10.6,44.769,44.769,0,0,0,0-46.3Zm-17.7,47.2c-7.8,0-14.4-11-14.4-24.1s6.6-24.1,14.4-24.1,14.4,11,14.4,24.1S103.4,178.278,95.5,178.278Zm-43.4,9.7v-51l-4.8,4.8-6.8-6.8,13-13a4.8,4.8,0,0,1,8.2,3.4v62.7l-9.6-.1Zm162-130.2v125.3a4.867,4.867,0,0,1-4.8,4.8H146.6v-19.3h48.2v-96.4H79.1v19.3c0,5.3-3.6,7.2-8,4.3l-41.8-27.9a6.013,6.013,0,0,1-2.7-8,5.887,5.887,0,0,1,2.7-2.7l41.8-27.9c4.4-2.9,8-1,8,4.3v19.3H209.2A4.974,4.974,0,0,1,214.1,57.778Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/rewind-10.svg\n// module id = 106\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-next\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/next.svg\n// module id = 107\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-0\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M116.4,42.8v154.5c0,2.8-1.7,3.6-3.8,1.7l-54.1-48.1H28.9c-2.8,0-5.2-2.3-5.2-5.2V94.2c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48.1C114.6,39.1,116.4,39.9,116.4,42.8z M212.3,96.4l-14.6-14.6l-23.6,23.6l-23.6-23.6l-14.6,14.6l23.6,23.6l-23.6,23.6l14.6,14.6l23.6-23.6l23.6,23.6l14.6-14.6L188.7,120L212.3,96.4z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-0.svg\n// module id = 108\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-50\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M116.4,42.8v154.5c0,2.8-1.7,3.6-3.8,1.7l-54.1-48.1H28.9c-2.8,0-5.2-2.3-5.2-5.2V94.2c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48.1C114.7,39.1,116.4,39.9,116.4,42.8z M178.2,120c0-22.7-18.5-41.2-41.2-41.2v20.6c11.4,0,20.6,9.2,20.6,20.6c0,11.4-9.2,20.6-20.6,20.6v20.6C159.8,161.2,178.2,142.7,178.2,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-50.svg\n// module id = 109\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-100\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M116.5,42.8v154.4c0,2.8-1.7,3.6-3.8,1.7l-54.1-48H29c-2.8,0-5.2-2.3-5.2-5.2V94.3c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48C114.8,39.2,116.5,39.9,116.5,42.8z\\\"></path><path d=\\\"M136.2,160v-20c11.1,0,20-8.9,20-20s-8.9-20-20-20V80c22.1,0,40,17.9,40,40S158.3,160,136.2,160z\\\"></path><path d=\\\"M216.2,120c0-44.2-35.8-80-80-80v20c33.1,0,60,26.9,60,60s-26.9,60-60,60v20C180.4,199.9,216.1,164.1,216.2,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-100.svg\n// module id = 110\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-cc-on\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z M108.1,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C90.4,141.7,102,143.5,108.1,137.7z M152.9,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C135.2,141.7,146.8,143.5,152.9,137.7z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/captions-on.svg\n// module id = 111\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-cc-off\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M99.4,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C107.9,100,103.8,97.8,99.4,97.8z M144.1,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C152.6,100,148.5,97.8,144.1,97.8L144.1,97.8z M200,60v120H40V60H200 M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/captions-off.svg\n// module id = 112\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-airplay-on\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/airplay-on.svg\n// module id = 113\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-airplay-off\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M210,55v100h-50l20,20h45c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6V40c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0H15c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6v130c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h45l20-20H30V55H210 M60,205l60-70l60,70H60L60,205z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/airplay-off.svg\n// module id = 114\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-playback-rate\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M158.83,48.83A71.17,71.17,0,1,0,230,120,71.163,71.163,0,0,0,158.83,48.83Zm45.293,77.632H152.34V74.708h12.952v38.83h38.83ZM35.878,74.708h38.83V87.66H35.878ZM10,113.538H61.755V126.49H10Zm25.878,38.83h38.83V165.32H35.878Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/playback-rate.svg\n// module id = 115\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-settings\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M204,145l-25-14c0.8-3.6,1.2-7.3,1-11c0.2-3.7-0.2-7.4-1-11l25-14c2.2-1.6,3.1-4.5,2-7l-16-26c-1.2-2.1-3.8-2.9-6-2l-25,14c-6-4.2-12.3-7.9-19-11V35c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6v28c-6.7,3.1-13,6.7-19,11L56,60c-2.2-0.9-4.8-0.1-6,2L35,88c-1.6,2.2-1.3,5.3,0.9,6.9c0,0,0.1,0,0.1,0.1l25,14c-0.8,3.6-1.2,7.3-1,11c-0.2,3.7,0.2,7.4,1,11l-25,14c-2.2,1.6-3.1,4.5-2,7l16,26c1.2,2.1,3.8,2.9,6,2l25-14c5.7,4.6,12.2,8.3,19,11v28c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6v-28c7-2.3,13.5-6,19-11l25,14c2.5,1.3,5.6,0.4,7-2l15-26C206.7,149.4,206,146.7,204,145z M120,149.9c-16.5,0-30-13.4-30-30s13.4-30,30-30s30,13.4,30,30c0.3,16.3-12.6,29.7-28.9,30C120.7,149.9,120.4,149.9,120,149.9z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/settings.svg\n// module id = 116\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-audio-tracks\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M35,34h160v20H35V34z M35,94h160V74H35V94z M35,134h60v-20H35V134z M160,114c-23.4-1.3-43.6,16.5-45,40v50h20c5.2,0.3,9.7-3.6,10-8.9c0-0.4,0-0.7,0-1.1v-20c0.3-5.2-3.6-9.7-8.9-10c-0.4,0-0.7,0-1.1,0h-10v-10c1.5-17.9,17.1-31.3,35-30c17.9-1.3,33.6,12.1,35,30v10H185c-5.2-0.3-9.7,3.6-10,8.9c0,0.4,0,0.7,0,1.1v20c-0.3,5.2,3.6,9.7,8.9,10c0.4,0,0.7,0,1.1,0h20v-50C203.5,130.6,183.4,112.7,160,114z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/audio-tracks.svg\n// module id = 117\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-quality-100\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M55,200H35c-3,0-5-2-5-4c0,0,0,0,0-1v-30c0-3,2-5,4-5c0,0,0,0,1,0h20c3,0,5,2,5,4c0,0,0,0,0,1v30C60,198,58,200,55,200L55,200z M110,195v-70c0-3-2-5-4-5c0,0,0,0-1,0H85c-3,0-5,2-5,4c0,0,0,0,0,1v70c0,3,2,5,4,5c0,0,0,0,1,0h20C108,200,110,198,110,195L110,195z M160,195V85c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v110c0,3,2,5,4,5c0,0,0,0,1,0h20C158,200,160,198,160,195L160,195z M210,195V45c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v150c0,3,2,5,4,5c0,0,0,0,1,0h20C208,200,210,198,210,195L210,195z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/quality-100.svg\n// module id = 118\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-fullscreen-off\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M109.2,134.9l-8.4,50.1c-0.4,2.7-2.4,3.3-4.4,1.4L82,172l-27.9,27.9l-14.2-14.2l27.9-27.9l-14.4-14.4c-1.9-1.9-1.3-3.9,1.4-4.4l50.1-8.4c1.8-0.5,3.6,0.6,4.1,2.4C109.4,133.7,109.4,134.3,109.2,134.9L109.2,134.9z M172.1,82.1L200,54.2L185.8,40l-27.9,27.9l-14.4-14.4c-1.9-1.9-3.9-1.3-4.4,1.4l-8.4,50.1c-0.5,1.8,0.6,3.6,2.4,4.1c0.5,0.2,1.2,0.2,1.7,0l50.1-8.4c2.7-0.4,3.3-2.4,1.4-4.4L172.1,82.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/fullscreen-not.svg\n// module id = 119\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-fullscreen-on\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M96.3,186.1c1.9,1.9,1.3,4-1.4,4.4l-50.6,8.4c-1.8,0.5-3.7-0.6-4.2-2.4c-0.2-0.6-0.2-1.2,0-1.7l8.4-50.6c0.4-2.7,2.4-3.4,4.4-1.4l14.5,14.5l28.2-28.2l14.3,14.3l-28.2,28.2L96.3,186.1z M195.8,39.1l-50.6,8.4c-2.7,0.4-3.4,2.4-1.4,4.4l14.5,14.5l-28.2,28.2l14.3,14.3l28.2-28.2l14.5,14.5c1.9,1.9,4,1.3,4.4-1.4l8.4-50.6c0.5-1.8-0.6-3.6-2.4-4.2C197,39,196.4,39,195.8,39.1L195.8,39.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/fullscreen.svg\n// module id = 120\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-close\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M134.8,120l48.6-48.6c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2l-7.4-7.4c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L120,105.2L71.4,56.6c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L56.6,64c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l48.6,48.7l-48.6,48.6c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l7.4,7.4c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l48.7-48.6l48.6,48.6c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l7.4-7.4c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2L134.8,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/close.svg\n// module id = 121\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-jwplayer-logo\\\" viewBox=\\\"0 0 992 1024\\\"><path d=\\\"M144 518.4c0 6.4-6.4 6.4-6.4 0l-3.2-12.8c0 0-6.4-19.2-12.8-38.4 0-6.4-6.4-12.8-9.6-22.4-6.4-6.4-16-9.6-28.8-6.4-9.6 3.2-16 12.8-16 22.4s0 16 0 25.6c3.2 25.6 22.4 121.6 32 140.8 9.6 22.4 35.2 32 54.4 22.4 22.4-9.6 28.8-35.2 38.4-54.4 9.6-25.6 60.8-166.4 60.8-166.4 6.4-12.8 9.6-12.8 9.6 0 0 0 0 140.8-3.2 204.8 0 25.6 0 67.2 9.6 89.6 6.4 16 12.8 28.8 25.6 38.4s28.8 12.8 44.8 12.8c6.4 0 16-3.2 22.4-6.4 9.6-6.4 16-12.8 25.6-22.4 16-19.2 28.8-44.8 38.4-64 25.6-51.2 89.6-201.6 89.6-201.6 6.4-12.8 9.6-12.8 9.6 0 0 0-9.6 256-9.6 355.2 0 25.6 6.4 48 12.8 70.4 9.6 22.4 22.4 38.4 44.8 48s48 9.6 70.4-3.2c16-9.6 28.8-25.6 38.4-38.4 12.8-22.4 25.6-48 32-70.4 19.2-51.2 35.2-102.4 51.2-153.6s153.6-540.8 163.2-582.4c0-6.4 0-9.6 0-12.8 0-9.6-6.4-19.2-16-22.4-16-6.4-32 0-38.4 12.8-6.4 16-195.2 470.4-195.2 470.4-6.4 12.8-9.6 12.8-9.6 0 0 0 0-156.8 0-288 0-70.4-35.2-108.8-83.2-118.4-22.4-3.2-44.8 0-67.2 12.8s-35.2 32-48 54.4c-16 28.8-105.6 297.6-105.6 297.6-6.4 12.8-9.6 12.8-9.6 0 0 0-3.2-115.2-6.4-144-3.2-41.6-12.8-108.8-67.2-115.2-51.2-3.2-73.6 57.6-86.4 99.2-9.6 25.6-51.2 163.2-51.2 163.2v3.2z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/jw-logo.svg\n// module id = 122\n// module chunks = 0 1 2 3 4","import { style } from 'utils/css';\nimport UI from 'utils/ui';\nimport svgParse from 'utils/svgParser';\n\nlet collection = {};\n\nfunction getCachedIcon(svg) {\n    if (!collection[svg]) {\n        const icons = Object.keys(collection);\n        if (icons.length > 10) {\n            delete collection[icons[0]];\n        }\n        const element = svgParse(svg);\n        collection[svg] = element;\n    }\n    return collection[svg].cloneNode(true);\n}\n\nexport default class CustomButton {\n\n    constructor(img, ariaText, callback, id, btnClass) {\n        const buttonElement = document.createElement('div');\n        buttonElement.className = `jw-icon jw-icon-inline jw-button-color jw-reset ${btnClass || ''}`;\n        buttonElement.setAttribute('button', id);\n        buttonElement.setAttribute('role', 'button');\n        buttonElement.setAttribute('tabindex', '0');\n        if (ariaText) {\n            buttonElement.setAttribute('aria-label', ariaText);\n        }\n\n        let iconElement;\n        if (img && img.substring(0, 4) === '<svg') {\n            iconElement = getCachedIcon(img);\n        } else {\n            iconElement = document.createElement('div');\n            iconElement.className = 'jw-icon jw-button-image jw-button-color jw-reset';\n            if (img) {\n                style(iconElement, {\n                    backgroundImage: `url(${img})`\n                });\n            }\n        }\n\n        buttonElement.appendChild(iconElement);\n\n        new UI(buttonElement).on('click tap enter', callback, this);\n\n        // Prevent button from being focused on mousedown so that the tooltips don't remain visible until\n        // the user interacts with another element on the page\n        buttonElement.addEventListener('mousedown', (e) => {\n            e.preventDefault();\n        });\n\n        this.id = id;\n        this.buttonElement = buttonElement;\n    }\n\n    element() {\n        return this.buttonElement;\n    }\n\n    toggle(show) {\n        if (show) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    show() {\n        this.buttonElement.style.display = '';\n    }\n    hide() {\n        this.buttonElement.style.display = 'none';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/custom-button.js","import { dvrSeekLimit } from 'view/constants';\nimport _ from 'utils/underscore';\nimport utils from 'utils/helpers';\nimport UI, { getPointerType } from 'utils/ui';\nimport Slider from 'view/controls/components/slider';\nimport Tooltip from 'view/controls/components/tooltip';\nimport ChaptersMixin from 'view/controls/components/chapters.mixin';\nimport ThumbnailsMixin from 'view/controls/components/thumbnails.mixin';\n\nclass TimeTip extends Tooltip {\n\n    setup() {\n        this.text = document.createElement('span');\n        this.text.className = 'jw-text jw-reset';\n        this.img = document.createElement('div');\n        this.img.className = 'jw-time-thumb jw-reset';\n        this.containerWidth = 0;\n        this.textLength = 0;\n        this.dragJustReleased = false;\n\n        var wrapper = document.createElement('div');\n        wrapper.className = 'jw-time-tip jw-reset';\n        wrapper.appendChild(this.img);\n        wrapper.appendChild(this.text);\n\n        this.addContent(wrapper);\n    }\n\n    image(style) {\n        utils.style(this.img, style);\n    }\n\n    update(txt) {\n        this.text.textContent = txt;\n    }\n\n    getWidth () {\n        if (!this.containerWidth) {\n            this.setWidth();\n        }\n\n        return this.containerWidth;\n    }\n\n    setWidth (width) {\n        const tolerance = 16; // add a little padding so the tooltip isn't flush against the edge\n\n        if (width) {\n            this.containerWidth = width + tolerance;\n            return;\n        }\n\n        if (!this.container) {\n            return;\n        }\n\n        this.containerWidth = utils.bounds(this.container).width + tolerance;\n    }\n\n    resetWidth () {\n        this.containerWidth = 0;\n    }\n}\n\nfunction reasonInteraction() {\n    return { reason: 'interaction' };\n}\n\nclass TimeSlider extends Slider {\n    constructor(_model, _api) {\n        super('jw-slider-time', 'horizontal');\n\n        this._model = _model;\n        this._api = _api;\n\n        this.timeTip = new TimeTip('jw-tooltip-time', null, true);\n        this.timeTip.setup();\n\n        this.cues = [];\n\n        // Store the attempted seek, until the previous one completes\n        this.seekThrottled = _.throttle(this.performSeek, 400);\n        this.mobileHoverDistance = 5;\n\n        this.setup();\n    }\n\n    // These overwrite Slider methods\n    setup() {\n        super.setup.apply(this, arguments);\n\n        this._model\n            .on('change:duration', this.onDuration, this)\n            .on('change:cues', this.addCues, this)\n            .change('playlistItem', this.onPlaylistItem, this)\n            .change('position', this.onPosition, this)\n            .change('buffer', this.onBuffer, this)\n            .change('streamType', this.onStreamType, this);\n\n        this.elementRail.appendChild(this.timeTip.element());\n\n        // Show the tooltip on while dragging (touch) moving(mouse), or moving over(mouse)\n        this.elementUI = new UI(this.el, { useHover: true, useMove: true })\n            .on('drag move over', this.showTimeTooltip.bind(this), this)\n            .on('dragEnd out', this.hideTimeTooltip.bind(this), this);\n    }\n\n    limit(percent) {\n        if (this.activeCue && _.isNumber(this.activeCue.pct)) {\n            return this.activeCue.pct;\n        }\n        var duration = this._model.get('duration');\n        if (this.streamType === 'DVR') {\n            var position = (1 - (percent / 100)) * duration;\n            var currentPosition = this._model.get('position');\n            var updatedPosition = Math.min(position, Math.max(dvrSeekLimit, currentPosition));\n            var updatedPercent = updatedPosition * 100 / duration;\n            return 100 - updatedPercent;\n        }\n        return percent;\n    }\n\n    update(percent) {\n        this.seekTo = percent;\n        this.seekThrottled();\n        super.update.apply(this, arguments);\n    }\n\n    dragStart() {\n        this._model.set('scrubbing', true);\n        super.dragStart.apply(this, arguments);\n    }\n\n    dragEnd() {\n        super.dragEnd.apply(this, arguments);\n        this._model.set('scrubbing', false);\n    }\n\n    onBuffer(model, pct) {\n        this.updateBuffer(pct);\n    }\n\n    onPosition(model, position) {\n        this.updateTime(position, model.get('duration'));\n    }\n\n    onDuration(model, duration) {\n        this.updateTime(model.get('position'), duration);\n        this.drawCues();\n    }\n\n    onStreamType(model, streamType) {\n        this.streamType = streamType;\n    }\n\n    updateTime(position, duration) {\n        var pct = 0;\n        if (duration) {\n            if (this.streamType === 'DVR') {\n                pct = (duration - position) / duration * 100;\n            } else if (this.streamType === 'VOD' || !this.streamType) {\n                // Default to VOD behavior if streamType isn't set\n                pct = position / duration * 100;\n            }\n        }\n        this.render(pct);\n    }\n\n    onPlaylistItem(model, playlistItem) {\n        if (!playlistItem) {\n            return;\n        }\n        this.reset();\n        this.addCues(model, model.get('cues'));\n\n        var tracks = playlistItem.tracks;\n        _.each(tracks, function (track) {\n            if (track && track.kind && track.kind.toLowerCase() === 'thumbnails') {\n                this.loadThumbnails(track.file);\n            } else if (track && track.kind && track.kind.toLowerCase() === 'chapters') {\n                this.loadChapters(track.file);\n            }\n        }, this);\n    }\n\n    performSeek() {\n        var percent = this.seekTo;\n        var duration = this._model.get('duration');\n        var position;\n        if (duration === 0) {\n            this._api.play(reasonInteraction());\n        } else if (this.streamType === 'DVR') {\n            position = (100 - percent) / 100 * duration;\n            this._api.seek(position, reasonInteraction());\n        } else {\n            position = percent / 100 * duration;\n            this._api.seek(Math.min(position, duration - 0.25), reasonInteraction());\n        }\n    }\n\n    showTimeTooltip(evt) {\n        var duration = this._model.get('duration');\n        if (duration === 0) {\n            return;\n        }\n\n        var playerWidth = this._model.get('containerWidth');\n        var railBounds = utils.bounds(this.elementRail);\n        var position = (evt.pageX ? (evt.pageX - railBounds.left) : evt.x);\n        position = utils.between(position, 0, railBounds.width);\n        var pct = position / railBounds.width;\n        var time = duration * pct;\n\n        // For DVR we need to swap it around\n        if (duration < 0) {\n            time = duration - time;\n        }\n\n        var timetipText;\n\n        // With touch events, we never will get the hover events on the cues that cause cues to be active.\n        // Therefore use the info we about the scroll position to detect if there is a nearby cue to be active.\n        if (getPointerType(evt.sourceEvent) === 'touch') {\n            this.activeCue = this.cues.reduce((closeCue, cue) => {\n                if (Math.abs(position - (parseInt(cue.pct) / 100 * railBounds.width)) < this.mobileHoverDistance) {\n                    return cue;\n                }\n                return closeCue;\n            }, undefined);\n        }\n\n        if (this.activeCue) {\n            timetipText = this.activeCue.text;\n        } else {\n            var allowNegativeTime = true;\n            timetipText = utils.timeFormat(time, allowNegativeTime);\n\n            // If DVR and within live buffer\n            if (duration < 0 && time > dvrSeekLimit) {\n                timetipText = 'Live';\n            }\n        }\n        var timeTip = this.timeTip;\n\n        timeTip.update(timetipText);\n        if (this.textLength !== timetipText.length) {\n            // An activeCue may cause the width of the timeTip container to change\n            this.textLength = timetipText.length;\n            timeTip.resetWidth();\n        }\n        this.showThumbnail(time);\n\n        utils.addClass(timeTip.el, 'jw-open');\n\n        var timeTipWidth = timeTip.getWidth();\n        var widthPct = railBounds.width / 100;\n        var tolerance = playerWidth - railBounds.width;\n        var timeTipPct = 0;\n        if (timeTipWidth > tolerance) {\n            // timeTip may go outside the bounds of the player. Determine the % of tolerance needed\n            timeTipPct = (timeTipWidth - tolerance) / (2 * 100 * widthPct);\n        }\n        var safePct = Math.min(1 - timeTipPct, Math.max(timeTipPct, pct)).toFixed(3) * 100;\n        utils.style(timeTip.el, { left: safePct + '%' });\n    }\n\n    hideTimeTooltip() {\n        utils.removeClass(this.timeTip.el, 'jw-open');\n    }\n\n    addCues(model, cues) {\n        if (cues && cues.length) {\n            cues.forEach((ele) => {\n                this.addCue(ele);\n            });\n            this.drawCues();\n        } else {\n            this.resetChapters();\n        }\n    }\n\n    reset() {\n        this.resetThumbnails();\n        this.timeTip.resetWidth();\n        this.textLength = 0;\n    }\n}\n\nObject.assign(TimeSlider.prototype, ChaptersMixin, ThumbnailsMixin);\n\nexport default TimeSlider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/timeslider.js","export default (className = '', orientation = '') => {\n    return (\n        `<div class=\"${className} ${orientation} jw-reset\" aria-hidden=\"true\">` +\n            `<div class=\"jw-slider-container jw-reset\">` +\n                `<div class=\"jw-rail jw-reset\"></div>` +\n                `<div class=\"jw-buffer jw-reset\"></div>` +\n                `<div class=\"jw-progress jw-reset\"></div>` +\n                `<div class=\"jw-knob jw-reset\"></div>` +\n            `</div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/slider.js","import utils from 'utils/helpers';\nimport srt from 'parsers/captions/srt';\n\nclass Cue {\n    constructor (time, text) {\n        this.time = time;\n        this.text = text;\n        this.el = document.createElement('div');\n        this.el.className = 'jw-cue jw-reset';\n    }\n\n    align(duration) {\n        // If a percentage, use it, else calculate the percentage\n        if (this.time.toString().slice(-1) === '%') {\n            this.pct = this.time;\n        } else {\n            const percentage = (this.time / duration) * 100;\n            this.pct = percentage + '%';\n        }\n\n        this.el.style.left = this.pct;\n    }\n}\n\nconst ChaptersMixin = {\n\n    loadChapters: function (file) {\n        utils.ajax(file, this.chaptersLoaded.bind(this), this.chaptersFailed, {\n            plainText: true\n        });\n    },\n\n    chaptersLoaded: function (evt) {\n        const data = srt(evt.responseText);\n        if (Array.isArray(data)) {\n            data.forEach((obj) => this.addCue(obj));\n            this.drawCues();\n        }\n    },\n\n    chaptersFailed: function () {},\n\n    addCue: function (obj) {\n        this.cues.push(new Cue(obj.begin, obj.text));\n    },\n\n    drawCues: function () {\n        // We won't want to draw them until we have a duration\n        const duration = this._model.get('duration');\n        if (!duration || duration <= 0) {\n            return;\n        }\n\n        this.cues.forEach((cue) => {\n            cue.align(duration);\n            cue.el.addEventListener('mouseover', () => {\n                this.activeCue = cue;\n            });\n            cue.el.addEventListener('mouseout', () => {\n                this.activeCue = null;\n            });\n            this.elementRail.appendChild(cue.el);\n        });\n    },\n\n    resetChapters: function() {\n        this.cues.forEach((cue) => {\n            if (cue.el.parentNode) {\n                cue.el.parentNode.removeChild(cue.el);\n            }\n        });\n        this.cues = [];\n    }\n};\n\nexport default ChaptersMixin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/chapters.mixin.js","import _ from 'utils/underscore';\nimport utils from 'utils/helpers';\nimport srt from 'parsers/captions/srt';\n\nfunction Thumbnail(obj) {\n    this.begin = obj.begin;\n    this.end = obj.end;\n    this.img = obj.text;\n}\n\nconst ThumbnailsMixin = {\n    loadThumbnails: function (file) {\n        if (!file) {\n            return;\n        }\n        this.vttPath = file.split('?')[0].split('/').slice(0, -1).join('/');\n        // Only load the first individual image file so we can get its dimensions. All others are loaded when\n        // they're set as background-images.\n        this.individualImage = null;\n        utils.ajax(file, this.thumbnailsLoaded.bind(this), this.thumbnailsFailed.bind(this), {\n            plainText: true\n        });\n    },\n\n    thumbnailsLoaded: function (evt) {\n        var data = srt(evt.responseText);\n        if (_.isArray(data)) {\n            _.each(data, function(obj) {\n                this.thumbnails.push(new Thumbnail(obj));\n            }, this);\n            this.drawCues();\n        }\n    },\n\n    thumbnailsFailed: function () { },\n\n    chooseThumbnail: function(seconds) {\n        var idx = _.sortedIndex(this.thumbnails, { end: seconds }, _.property('end'));\n        if (idx >= this.thumbnails.length) {\n            idx = this.thumbnails.length - 1;\n        }\n        var url = this.thumbnails[idx].img;\n        if (url.indexOf('://') < 0) {\n            url = this.vttPath ? this.vttPath + '/' + url : url;\n        }\n\n        return url;\n    },\n\n    loadThumbnail: function(seconds) {\n        var url = this.chooseThumbnail(seconds);\n        var style = {\n            margin: '0 auto',\n            backgroundPosition: '0 0'\n        };\n\n        var hashIndex = url.indexOf('#xywh');\n        if (hashIndex > 0) {\n            try {\n                var matched = (/(.+)#xywh=(\\d+),(\\d+),(\\d+),(\\d+)/).exec(url);\n                url = matched[1];\n                style.backgroundPosition = (matched[2] * -1) + 'px ' + (matched[3] * -1) + 'px';\n                style.width = matched[4];\n                this.timeTip.setWidth(+style.width);\n                style.height = matched[5];\n            } catch (e) {\n                // this.vttFailed('Could not parse thumbnail');\n                return;\n            }\n        } else if (!this.individualImage) {\n            this.individualImage = new Image();\n            this.individualImage.onload = _.bind(function () {\n                this.individualImage.onload = null;\n                this.timeTip.image({ width: this.individualImage.width, height: this.individualImage.height });\n                this.timeTip.setWidth(this.individualImage.width);\n            }, this);\n            this.individualImage.src = url;\n        }\n\n        style.backgroundImage = 'url(\"' + url + '\")';\n\n        return style;\n    },\n\n    showThumbnail: function(seconds) {\n        // Don't attempt to set thumbnail for small players or when a thumbnail doesn't exist\n        if (this._model.get('containerWidth') <= 420 || this.thumbnails.length < 1) {\n            return;\n        }\n        this.timeTip.image(this.loadThumbnail(seconds));\n    },\n\n    resetThumbnails: function() {\n        this.timeTip.image({\n            backgroundImage: '',\n            width: 0,\n            height: 0\n        });\n        this.thumbnails = [];\n    }\n};\n\nexport default ThumbnailsMixin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/thumbnails.mixin.js","import Tooltip from 'view/controls/components/tooltip';\nimport Slider from 'view/controls/components/slider';\nimport UI from 'utils/ui';\n\nexport default class VolumeTooltip extends Tooltip {\n    constructor(_model, name, ariaText, svgIcons) {\n        super(name, ariaText, true, svgIcons);\n\n        this._model = _model;\n        this.volumeSlider = new Slider('jw-slider-volume jw-volume-tip', 'vertical');\n        this.volumeSlider.setup();\n        this.volumeSlider.element().classList.remove('jw-background-color');\n\n        this.addContent(this.volumeSlider.element());\n\n        this.volumeSlider.on('update', function (evt) {\n            this.trigger('update', evt);\n        }, this);\n\n        new UI(this.el, { useHover: true, directSelect: true, useFocus: true })\n            .on('click enter', this.toggleValue, this)\n            .on('tap', this.toggleOpenState, this)\n            .on('over', this.openTooltip, this)\n            .on('out', this.closeTooltip, this);\n\n        this._model.on('change:volume', this.onVolume, this);\n    }\n\n    toggleValue() {\n        this.trigger('toggleValue');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/volumetooltip.js","import displayContainerTemplate from 'view/controls/templates/display-container';\nimport RewindDisplayIcon from 'view/controls/rewind-display-icon';\nimport PlayDisplayIcon from 'view/controls/play-display-icon';\nimport NextDisplayIcon from 'view/controls/next-display-icon';\nimport { cloneIcons } from 'view/controls/icons';\nimport utils from 'utils/helpers';\n\nexport default class DisplayContainer {\n    constructor(model, api) {\n        this.el = utils.createElement(displayContainerTemplate(model.get('localization')));\n\n        const container = this.el.querySelector('.jw-display-controls');\n        const buttons = {};\n\n        addButton('rewind', cloneIcons('rewind'), RewindDisplayIcon, container, buttons, model, api);\n        addButton('display', cloneIcons('play,pause,buffer,replay'), PlayDisplayIcon, container, buttons, model, api);\n        addButton('next', cloneIcons('next'), NextDisplayIcon, container, buttons, model, api);\n\n        this.container = container;\n        this.buttons = buttons;\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\nfunction addButton(name, iconElements, ButtonClass, container, buttons, model, api) {\n    const buttonElement = container.querySelector(`.jw-display-icon-${name}`);\n    const iconContainer = container.querySelector(`.jw-icon-${name}`);\n    iconElements.forEach(icon => {\n        iconContainer.appendChild(icon); \n    });\n    buttons[name] = new ButtonClass(model, api, buttonElement);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/display-container.js","import displayIconTemplate from 'view/controls/templates/display-icon';\n\nexport default (localization) => {\n    return (\n        `<div class=\"jw-display jw-reset\">` +\n            `<div class=\"jw-display-container jw-reset\">` +\n                `<div class=\"jw-display-controls jw-reset\">` +\n                    displayIconTemplate('rewind', localization.rewind) +\n                    displayIconTemplate('display', localization.playback) +\n                    displayIconTemplate('next', localization.next) +\n                `</div>` +\n            `</div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/display-container.js","export default (iconName = '', ariaLabel = '') => {\n    return (\n        `<div class=\"jw-display-icon-container jw-display-icon-${iconName} jw-reset\">` +\n            `<div class=\"jw-icon jw-icon-${iconName} jw-button-color jw-reset\" role=\"button\" tabindex=\"0\" aria-label=\"${ariaLabel}\"></div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/display-icon.js","import UI from 'utils/ui';\n\nexport default class RewindDisplayIcon {\n    constructor(model, api, element) {\n        this.el = element;\n\n        new UI(this.el).on('click tap enter', function() {\n            const currentPosition = model.get('position');\n            const duration = model.get('duration');\n            const rewindPosition = currentPosition - 10;\n            let startPosition = 0;\n\n            // duration is negative in DVR mode\n            if (model.get('streamType') === 'DVR') {\n                startPosition = duration;\n            }\n            // Seek 10s back. Seek value should be >= 0 in VOD mode and >= (negative) duration in DVR mode\n            api.seek(Math.max(rewindPosition, startPosition));\n        });\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/rewind-display-icon.js","import Events from 'utils/backbone.events';\nimport UI from 'utils/ui';\n\nexport default class PlayDisplayIcon {\n    constructor(_model, api, element) {\n        Object.assign(this, Events);\n\n        const localization = _model.get('localization');\n        const iconDisplay = element.getElementsByClassName('jw-icon-display')[0];\n        element.style.cursor = 'pointer';\n        this.icon = iconDisplay;\n        this.el = element;\n\n        new UI(this.el).on('click tap enter', (evt) => {\n            this.trigger(evt.type);\n        });\n\n        _model.on('change:state', (model, newstate) => {\n            let newstateLabel;\n            switch (newstate) {\n                case 'buffering':\n                    newstateLabel = localization.buffer;\n                    break;\n                case 'playing':\n                    newstateLabel = localization.pause;\n                    break;\n                case 'paused':\n                    newstateLabel = localization.playback;\n                    break;\n                case 'complete':\n                    newstateLabel = localization.replay;\n                    break;\n                default:\n                    newstateLabel = '';\n                    break;\n            }\n            if (newstateLabel === '') {\n                iconDisplay.removeAttribute('aria-label');\n            } else {\n                iconDisplay.setAttribute('aria-label', newstateLabel);\n            }\n        });\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/play-display-icon.js","import UI from 'utils/ui';\n\nexport default class NextDisplayIcon {\n    constructor(model, api, element) {\n\n        new UI(element).on('click tap enter', function() {\n            api.next();\n        });\n\n        model.change('nextUp', function(nextUpChangeModel, nextUp) {\n            element.style.visibility = nextUp ? '' : 'hidden';\n        });\n\n        this.el = element;\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/next-display-icon.js","import nextUpTemplate from 'view/controls/templates/nextup';\nimport { toggleClass } from 'utils/dom';\nimport UI from 'utils/ui';\nimport Events from 'utils/backbone.events';\nimport utils from 'utils/helpers';\nimport { cloneIcon } from 'view/controls/icons';\n\nexport default class NextUpTooltip {\n    constructor(_model, _api, playerElement) {\n        Object.assign(this, Events);\n        this._model = _model;\n        this._api = _api;\n        this._playerElement = playerElement;\n        this.nextUpText = _model.get('localization').nextUp;\n        this.nextUpClose = _model.get('localization').nextUpClose;\n        this.state = 'tooltip';\n        this.enabled = false;\n        this.shown = false;\n        this.reset();\n    }\n\n    setup(context) {\n        this.container = context.createElement('div');\n        this.container.className = 'jw-nextup-container jw-reset';\n        const element = utils.createElement(nextUpTemplate());\n        element.querySelector('.jw-nextup-close').appendChild(cloneIcon('close'));\n        this.addContent(element);\n\n        this.closeButton = this.content.querySelector('.jw-nextup-close');\n        this.closeButton.setAttribute('aria-label', this.nextUpClose);\n        this.tooltip = this.content.querySelector('.jw-nextup-tooltip');\n\n        const viewModel = this._model;\n        const playerViewModel = viewModel.player;\n        // Next Up is hidden until we get a valid NextUp item from the nextUp event\n        this.enabled = false;\n\n        // Events\n        viewModel.on('change:nextUp', this.onNextUp, this);\n\n        // Listen for duration changes to determine the offset from the end for when next up should be shown\n        playerViewModel.change('duration', this.onDuration, this);\n        // Listen for position changes so we can show the tooltip when the offset has been crossed\n        playerViewModel.change('position', this.onElapsed, this);\n\n        playerViewModel.change('streamType', this.onStreamType, this);\n\n        playerViewModel.change('state', function(stateChangeModel, state) {\n            if (state === 'complete') {\n                this.toggle(false);\n            }\n        }, this);\n\n        // Close button\n        new UI(this.closeButton, { directSelect: true })\n            .on('click tap enter', function() {\n                this.nextUpSticky = false;\n                this.toggle(false);\n            }, this);\n        // Tooltip\n        new UI(this.tooltip)\n            .on('click tap', this.click, this);\n    }\n\n    loadThumbnail(url) {\n        this.nextUpImage = new Image();\n        this.nextUpImage.onload = (function() {\n            this.nextUpImage.onload = null;\n        }).bind(this);\n        this.nextUpImage.src = url;\n\n        return {\n            backgroundImage: 'url(\"' + url + '\")'\n        };\n    }\n\n    click() {\n        this.reset();\n        this._api.next();\n    }\n\n    toggle(show, reason) {\n        if (!this.enabled) {\n            return;\n        }\n        toggleClass(this.container, 'jw-nextup-sticky', !!this.nextUpSticky);\n        if (this.shown !== show) {\n            this.shown = show;\n            toggleClass(this.container, 'jw-nextup-container-visible', show);\n            toggleClass(this._playerElement, 'jw-flag-nextup', show);\n            const nextUp = this._model.get('nextUp');\n            if (show && nextUp) {\n                this.trigger('nextShown', {\n                    mode: nextUp.mode,\n                    ui: 'nextup',\n                    itemsShown: [ nextUp ],\n                    feedData: nextUp.feedData,\n                    reason: reason,\n                });\n            }\n        }\n    }\n\n    setNextUpItem(nextUpItem) {\n        // Give the previous item time to complete its animation\n        setTimeout(() => {\n            // Set thumbnail\n            this.thumbnail = this.content.querySelector('.jw-nextup-thumbnail');\n            toggleClass(this.content, 'jw-nextup-thumbnail-visible', !!nextUpItem.image);\n            if (nextUpItem.image) {\n                const thumbnailStyle = this.loadThumbnail(nextUpItem.image);\n                utils.style(this.thumbnail, thumbnailStyle);\n            }\n\n            // Set header\n            this.header = this.content.querySelector('.jw-nextup-header');\n            this.header.innerText = this.nextUpText;\n\n            // Set title\n            this.title = this.content.querySelector('.jw-nextup-title');\n            const title = nextUpItem.title;\n            this.title.innerText = title ? utils.createElement(title).textContent : '';\n\n            // Set duration\n            if (nextUpItem.duration) {\n                this.duration = this.content.querySelector('.jw-nextup-duration');\n                const duration = nextUpItem.duration;\n                this.duration.innerText = duration ? utils.createElement(duration).textContent : '';\n            }\n\n        }, 500);\n    }\n\n    onNextUp(model, nextUp) {\n        this.reset();\n        if (!nextUp) {\n            return;\n        }\n\n        this.enabled = !!(nextUp.title || nextUp.image);\n\n        if (this.enabled) {\n            if (!nextUp.showNextUp) {\n                // The related plugin will countdown the nextUp item\n                this.nextUpSticky = false;\n                this.toggle(false);\n            }\n            this.setNextUpItem(nextUp);\n        }\n    }\n\n    onDuration(model, duration) {\n        if (!duration) {\n            return;\n        }\n\n        // Use nextupoffset if set or default to 10 seconds from the end of playback\n        let offset = utils.seconds(model.get('nextupoffset') || -10);\n        if (offset < 0) {\n            // Determine offset from the end. Duration may change.\n            offset += duration;\n        }\n\n        this.offset = offset;\n    }\n\n    onElapsed(model, val) {\n        const nextUpSticky = this.nextUpSticky;\n        if (!this.enabled || nextUpSticky === false) {\n            return;\n        }\n        // Show nextup during VOD streams if:\n        // - in playlist mode but not playing an ad\n        // - autoplaying in related mode and autoplaytimer is set to 0\n        const showUntilEnd = val >= this.offset;\n        if (showUntilEnd && nextUpSticky === undefined) { // show if nextUpSticky is unset\n            this.nextUpSticky = showUntilEnd;\n            this.toggle(showUntilEnd, 'time');\n        } else if (!showUntilEnd && nextUpSticky) { // reset if there was a backward seek\n            this.reset();\n        }\n    }\n\n    onStreamType(model, streamType) {\n        if (streamType !== 'VOD') {\n            this.nextUpSticky = false;\n            this.toggle(false);\n        }\n    }\n\n    element() {\n        return this.container;\n    }\n\n    addContent(elem) {\n        if (this.content) {\n            this.removeContent();\n        }\n        this.content = elem;\n        this.container.appendChild(elem);\n    }\n\n    removeContent() {\n        if (this.content) {\n            this.container.removeChild(this.content);\n            this.content = null;\n        }\n    }\n\n    reset() {\n        this.nextUpSticky = undefined;\n        this.toggle(false);\n    }\n\n    destroy() {\n        this.off();\n        this._model.off(null, null, this);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/nextuptooltip.js","export default (header = '', title = '', duration = '', closeAriaLabel = '') => {\n    return (\n        `<div class=\"jw-nextup jw-background-color jw-reset\">` +\n             `<div class=\"jw-nextup-tooltip jw-reset\">` +\n                `<div class=\"jw-nextup-thumbnail jw-reset\"></div>` +\n                `<div class=\"jw-nextup-body jw-reset\">` +\n                    `<div class=\"jw-nextup-header jw-reset\">${header}</div>` +\n                    `<div class=\"jw-nextup-title jw-reset\">${title}</div>` +\n                    `<div class=\"jw-nextup-duration jw-reset\">${duration}</div>` +\n                `</div>` +\n            `</div>` +\n            `<button type=\"button\" class=\"jw-icon jw-nextup-close jw-reset\" aria-label=\"${closeAriaLabel}\"></button>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/nextup.js","import rightclickTemplate from 'view/controls/templates/rightclick';\nimport { cloneIcon } from 'view/controls/icons';\nimport { version } from 'version';\nimport { flashVersion } from 'utils/browser';\nimport { createElement, emptyElement, addClass, removeClass, bounds } from 'utils/dom';\nimport UI from 'utils/ui';\n\nfunction createDomElement(html) {\n    const element = createElement(html);\n    const logoContainer = element.querySelector('.jw-rightclick-logo');\n    if (logoContainer) {\n        logoContainer.appendChild(cloneIcon('jwplayer-logo'));\n    }\n    return element;\n}\n\nexport default class RightClick {\n\n    buildArray() {\n        var semverParts = version.split('+');\n        var majorMinorPatchPre = semverParts[0];\n\n        var menu = {\n            items: [{\n                title: 'Powered by <span class=\"jw-reset\">JW Player ' + majorMinorPatchPre + '</span>',\n                featured: true,\n                showLogo: true,\n                link: 'https://jwplayer.com/learn-more'\n            }]\n        };\n\n        var provider = this.model.get('provider');\n        if (provider && provider.name.indexOf('flash') >= 0) {\n            var text = 'Flash Version ' + flashVersion();\n            menu.items.push({\n                title: text,\n                link: 'http://www.adobe.com/software/flash/about/'\n            });\n        }\n\n        return menu;\n    }\n\n    rightClick(evt) {\n        this.lazySetup();\n\n        if (this.mouseOverContext) {\n            // right click on menu item should execute it\n            return false;\n        }\n\n        this.hideMenu();\n        this.showMenu(evt);\n\n        return false;\n    }\n\n    getOffset(evt) {\n        var playerBounds = bounds(this.playerElement);\n        var x = evt.pageX - playerBounds.left;\n        var y = evt.pageY - playerBounds.top;\n\n        return { x: x, y: y };\n    }\n\n    showMenu(evt) {\n        // Offset relative to player element\n        var off = this.getOffset(evt);\n\n        this.el.style.left = off.x + 'px';\n        this.el.style.top = off.y + 'px';\n\n        addClass(this.playerElement, 'jw-flag-rightclick-open');\n        addClass(this.el, 'jw-open');\n        clearTimeout(this._menuTimeout);\n        this._menuTimeout = setTimeout(() => this.hideMenu(), 3000);\n        return false;\n    }\n\n    hideMenu() {\n        this.elementUI.off('out', this.hideMenu, this);\n        if (this.mouseOverContext) {\n            // If mouse is over the menu, hide the menu when mouse moves out\n            this.elementUI.on('out', this.hideMenu, this);\n            return;\n        }\n        removeClass(this.playerElement, 'jw-flag-rightclick-open');\n        removeClass(this.el, 'jw-open');\n    }\n\n    lazySetup() {\n        const html = rightclickTemplate(this.buildArray());\n        if (this.el) {\n            if (this.html !== html) {\n                this.html = html;\n                const newEl = createDomElement(html);\n                emptyElement(this.el);\n                for (let i = newEl.childNodes.length; i--;) {\n                    this.el.appendChild(newEl.firstChild);\n                }\n            }\n            return;\n        }\n\n        this.html = html;\n        this.el = createDomElement(this.html);\n\n        this.layer.appendChild(this.el);\n\n        this.hideMenuHandler = this.hideMenu.bind(this);\n        this.addOffListener(this.playerElement);\n        this.addOffListener(document);\n\n        // Track if the mouse is above the menu or not\n        this.elementUI = new UI(this.el, { useHover: true })\n            .on('over', function() {\n                this.mouseOverContext = true;\n            }, this)\n            .on('out', function() {\n                this.mouseOverContext = false;\n            }, this);\n    }\n\n    setup(_model, _playerElement, layer) {\n        this.playerElement = _playerElement;\n        this.model = _model;\n        this.mouseOverContext = false;\n        this.layer = layer;\n\n        // Defer the rest of setup until the first click\n        _playerElement.oncontextmenu = this.rightClick.bind(this);\n    }\n\n    addOffListener(element) {\n        element.addEventListener('mousedown', this.hideMenuHandler);\n        element.addEventListener('touchstart', this.hideMenuHandler);\n        element.addEventListener('pointerdown', this.hideMenuHandler);\n    }\n\n    removeOffListener(element) {\n        element.removeEventListener('mousedown', this.hideMenuHandler);\n        element.removeEventListener('touchstart', this.hideMenuHandler);\n        element.removeEventListener('pointerdown', this.hideMenuHandler);\n    }\n\n    destroy() {\n        clearTimeout(this._menuTimeout);\n        if (this.el) {\n            this.hideMenu();\n            this.elementUI.off();\n            this.removeOffListener(this.playerElement);\n            this.removeOffListener(document);\n            this.hideMenuHandler = null;\n            this.el = null;\n        }\n\n        if (this.playerElement) {\n            this.playerElement.oncontextmenu = null;\n            this.playerElement = null;\n        }\n\n        if (this.model) {\n            this.model = null;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/rightclick.js","export default (menu) => {\n    const { items = [] } = menu;\n    const itemsHtml = items\n        .map(item => {\n            return rightClickItem(item.link, item.title, item.featured, item.showLogo);\n        })\n        .join('');\n\n    return (\n        `<div class=\"jw-rightclick jw-reset\">` +\n            `<ul class=\"jw-rightclick-list jw-reset\">${itemsHtml}</ul>` +\n        `</div>`\n    );\n};\n\nconst rightClickItem = (link = '', title = '', featured, showLogo) => {\n    const logo = showLogo ? `<span class=\"jw-rightclick-logo jw-reset\"></span>` : '';\n    return (\n        `<li class=\"jw-reset jw-rightclick-item ${featured ? 'jw-featured' : ''}\">` +\n            `<a href=\"${link}\" class=\"jw-rightclick-link jw-reset\" target=\"_blank\">${logo}${title}</a>` +\n        `</li>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/rightclick.js","import { SettingsMenu } from 'view/controls/components/settings/menu';\nimport {\n    addCaptionsSubmenu,\n    removeCaptionsSubmenu,\n    addQualitiesSubmenu,\n    removeQualitiesSubmenu,\n    addAudioTracksSubmenu,\n    removeAudioTracksSubmenu,\n    addPlaybackRatesSubmenu,\n    removePlaybackRatesSubmenu\n} from 'view/utils/submenu-factory';\n\nexport function createSettingsMenu(controlbar, onVisibility) {\n    const settingsButton = controlbar.elements.settingsButton;\n    const onSubmenuAdded = () => {\n        settingsButton.show();\n    };\n    const onMenuEmpty = () => {\n        settingsButton.hide();\n    };\n\n    const settingsMenu = SettingsMenu(onVisibility, onSubmenuAdded, onMenuEmpty);\n\n    controlbar.on('settingsInteraction', (submenuName, isDefault, event) => {\n        const submenu = settingsMenu.getSubmenu(submenuName);\n        if (!submenu && !isDefault) {\n            // Do nothing if activating an invalid submenu\n            // An invalid submenu is one which does not exist\n            // The default submenu may not exist, but this case has defined behavior\n            return;\n        }\n\n        if (settingsMenu.visible) {\n            if (isDefault || submenu.active) {\n                // Close the submenu if clicking the default button (the gear) or if we're already at that submenu\n                settingsMenu.close();\n            } else {\n                // Tab to the newly activated submenu\n                settingsMenu.activateSubmenu(submenuName);\n            }\n        } else {\n            if (submenu) {\n                // Activate the selected submenu\n                settingsMenu.activateSubmenu(submenuName);\n            } else {\n                // Activate the first submenu if clicking the default button\n                settingsMenu.activateFirstSubmenu();\n            }\n            settingsMenu.open(isDefault, event);\n        }\n    });\n\n    return settingsMenu;\n}\n\n\nexport function setupSubmenuListeners(settingsMenu, controlbar, viewModel, api) {\n    const model = viewModel.player;\n\n    const activateSubmenuItem = (submenuName, itemIndex) => {\n        const submenu = settingsMenu.getSubmenu(submenuName);\n        if (submenu) {\n            submenu.activateItem(itemIndex);\n        }\n    };\n\n    const onAudiotracksChanged = (changedModel, audioTracks) => {\n        if (!audioTracks || audioTracks.length <= 1) {\n            removeAudioTracksSubmenu(settingsMenu);\n            return;\n        }\n\n        addAudioTracksSubmenu(\n            settingsMenu,\n            audioTracks,\n            (index) => api.setCurrentAudioTrack(index),\n            model.get('currentAudioTrack'),\n            model.get('localization').audioTracks\n        );\n    };\n\n    const onQualitiesChanged = (changedModel, levels) => {\n        if (!levels || levels.length <= 1) {\n            removeQualitiesSubmenu(settingsMenu);\n            return;\n        }\n\n        addQualitiesSubmenu(\n            settingsMenu,\n            levels,\n            (index) => api.setCurrentQuality(index),\n            model.get('currentLevel'),\n            model.get('localization').hd\n        );\n    };\n\n    const onCaptionsChanged = (changedModel, captionsList) => {\n        const controlbarButton = controlbar.elements.captionsButton;\n        if (!captionsList || captionsList.length <= 1) {\n            removeCaptionsSubmenu(settingsMenu);\n            controlbarButton.hide();\n            return;\n        }\n\n        addCaptionsSubmenu(settingsMenu,\n            captionsList,\n            (index) => api.setCurrentCaptions(index),\n            model.get('captionsIndex'),\n            model.get('localization').cc\n        );\n        controlbar.toggleCaptionsButtonState(!!model.get('captionsIndex'));\n        controlbarButton.show();\n    };\n\n    const setupPlaybackRatesMenu = (changedModel, playbackRates) => {\n        const showPlaybackRateControls =\n            model.get('supportsPlaybackRate') &&\n            model.get('streamType') !== 'LIVE' &&\n            model.get('playbackRateControls') &&\n            playbackRates.length > 1;\n\n        if (!showPlaybackRateControls) {\n            removePlaybackRatesSubmenu(settingsMenu);\n            return;\n        }\n\n        addPlaybackRatesSubmenu(\n            settingsMenu,\n            playbackRates,\n            (playbackRate) => api.setPlaybackRate(playbackRate),\n            model.get('playbackRate'),\n            model.get('localization').playbackRates\n        );\n    };\n\n    // Quality Levels\n    model.change('levels', onQualitiesChanged, settingsMenu);\n    model.on('change:currentLevel', (changedModel, currentQuality) => {\n        activateSubmenuItem('quality', currentQuality);\n    }, settingsMenu);\n\n    // Audio Tracks\n    model.change('audioTracks', onAudiotracksChanged, settingsMenu);\n    model.on('change:currentAudioTrack', (changedModel, currentAudioTrack) => {\n        activateSubmenuItem('audioTracks', currentAudioTrack);\n    }, settingsMenu);\n\n    // Captions\n    model.change('captionsList', onCaptionsChanged, settingsMenu);\n    model.change('captionsIndex', (changedModel, index) => {\n        const captionsSubmenu = settingsMenu.getSubmenu('captions');\n        if (captionsSubmenu) {\n            captionsSubmenu.activateItem(index);\n            controlbar.toggleCaptionsButtonState(!!index);\n        }\n    }, settingsMenu);\n\n    // Playback Rates\n    model.change('playbackRates', setupPlaybackRatesMenu, settingsMenu);\n    model.change('playbackRate', (changedModel, playbackRate) => {\n        const rates = model.get('playbackRates');\n        if (rates) {\n            activateSubmenuItem('playbackRates', rates.indexOf(playbackRate));\n        }\n    }, settingsMenu);\n\n    // Remove the audio tracks, qualities, and playback rates submenus when casting\n    model.on('change:castActive', (changedModel, active, previousState) => {\n        if (active === previousState) {\n            return;\n        }\n\n        if (active) {\n            removeAudioTracksSubmenu(settingsMenu);\n            removeQualitiesSubmenu(settingsMenu);\n            removePlaybackRatesSubmenu(settingsMenu);\n        } else {\n            onAudiotracksChanged(model, model.get('audioTracks'));\n            onQualitiesChanged(model, model.get('levels'));\n            setupPlaybackRatesMenu(model, model.get('playbackRates'));\n        }\n    }, settingsMenu);\n\n    model.on('change:streamType', () => {  \n        setupPlaybackRatesMenu(model, model.get('playbackRates'));\n    }, settingsMenu);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/settings-menu.js","import { cloneIcon } from 'view/controls/icons';\nimport button from 'view/controls/components/button';\nimport SettingsMenuTemplate from 'view/controls/templates/settings/menu';\nimport { createElement, emptyElement, prependChild } from 'utils/dom';\n\nexport function SettingsMenu(onVisibility, onSubmenuAdded, onMenuEmpty) {\n    const documentClickHandler = (e) => {\n        // Close if anything other than the settings menu has been clicked\n        // Let the display (jw-video) handles closing itself (display clicks do not pause if the menu is open)\n        // Don't close if the user has dismissed the nextup tooltip via it's close button (the tooltip overlays the menu)\n        const targetClass = e.target.className;\n        if (!targetClass.match(/jw-(settings|video|nextup-close|sharing-link)/)) {\n            instance.close();\n        }\n    };\n\n    let visible;\n    let active = null;\n    const submenus = {};\n\n    const settingsMenuElement = createElement(SettingsMenuTemplate());\n\n    const closeOnEnter = function(evt) {\n        if (evt && evt.keyCode === 27) {\n            instance.close(evt);\n            evt.stopPropagation();\n        }\n    };\n    settingsMenuElement.addEventListener('keydown', closeOnEnter);\n\n    const closeButton = button('jw-settings-close', () => {\n        instance.close();\n    }, 'Close Settings', [cloneIcon('close')]);\n\n    const closeOnButton = function(evt) {\n        // Close settings menu when enter is pressed on the close button\n        // or when tab key is pressed since it is the last element in topbar\n        if (evt.keyCode === 13 || (evt.keyCode === 9 && !evt.shiftKey)) {\n            instance.close(evt);\n        }\n    };\n    closeButton.show();\n    closeButton.element().addEventListener('keydown', closeOnButton);\n\n    const topbarElement = settingsMenuElement.querySelector('.jw-settings-topbar');\n    topbarElement.appendChild(closeButton.element());\n\n    const instance = {\n        open(isDefault, event) {\n            visible = true;\n            onVisibility(visible, event);\n            settingsMenuElement.setAttribute('aria-expanded', 'true');\n            addDocumentListeners(documentClickHandler);\n\n            if (isDefault) {\n                if (event && event.type === 'enter') {\n                    active.categoryButtonElement.focus();\n                }\n            } else {\n                active.element().firstChild.focus();\n            }\n\n        },\n        close(event) {\n            visible = false;\n            onVisibility(visible, event);\n\n            active = null;\n            deactivateAllSubmenus(submenus);\n\n            settingsMenuElement.setAttribute('aria-expanded', 'false');\n            removeDocumentListeners(documentClickHandler);\n        },\n        toggle() {\n            if (visible) {\n                this.close();\n            } else {\n                this.open();\n            }\n        },\n        addSubmenu(submenu) {\n            if (!submenu) {\n                return;\n            }\n            const name = submenu.name;\n            submenus[name] = submenu;\n\n            if (submenu.isDefault) {\n                prependChild(topbarElement, submenu.categoryButtonElement);\n                submenu.categoryButtonElement.addEventListener('keydown', function(evt) {\n                    // close settings menu if you shift-tab on the first category button element\n                    if (evt.keyCode === 9 && evt.shiftKey) {\n                        instance.close(evt);\n                    }\n                });\n            } else {\n                // sharing should always be the last submenu\n                const sharingButton = topbarElement.querySelector('.jw-submenu-sharing');\n                topbarElement.insertBefore(\n                    submenu.categoryButtonElement,\n                    sharingButton || closeButton.element()\n                );\n            }\n\n            settingsMenuElement.appendChild(submenu.element());\n\n            onSubmenuAdded();\n        },\n        getSubmenu(name) {\n            return submenus[name];\n        },\n        removeSubmenu(name) {\n            const submenu = submenus[name];\n            if (!submenu || submenu.element().parentNode !== settingsMenuElement) {\n                return;\n            }\n            settingsMenuElement.removeChild(submenu.element());\n            topbarElement.removeChild(submenu.categoryButtonElement);\n            submenu.destroy();\n            delete submenus[name];\n\n            if (!Object.keys(submenus).length) {\n                this.close();\n                onMenuEmpty();\n            }\n        },\n        activateSubmenu(name) {\n            const submenu = submenus[name];\n            if (!submenu || submenu.active) {\n                return;\n            }\n\n            deactivateAllSubmenus(submenus);\n            submenu.activate();\n            active = submenu;\n\n            if (!submenu.isDefault) {\n                active.element().firstChild.focus();\n            }\n        },\n        activateFirstSubmenu() {\n            const firstSubmenuName = Object.keys(submenus)[0];\n            this.activateSubmenu(firstSubmenuName);\n        },\n        element() {\n            return settingsMenuElement;\n        },\n        destroy() {\n            this.close();\n            settingsMenuElement.removeEventListener('keydown', closeOnEnter);\n            closeButton.element().removeEventListener('keydown', closeOnButton);\n            emptyElement(settingsMenuElement);\n        }\n    };\n\n    Object.defineProperties(instance, {\n        visible: {\n            enumerable: true,\n            get: () => visible\n        },\n    });\n\n    return instance;\n}\n\nconst addDocumentListeners = (handler) => {\n    document.addEventListener('mouseup', handler);\n    document.addEventListener('pointerup', handler);\n    document.addEventListener('touchstart', handler);\n};\n\nconst removeDocumentListeners = (handler) => {\n    document.removeEventListener('mouseup', handler);\n    document.removeEventListener('pointerup', handler);\n    document.removeEventListener('touchstart', handler);\n};\n\nconst deactivateAllSubmenus = (submenus) => {\n    Object.keys(submenus).forEach(name => {\n        submenus[name].deactivate();\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/menu.js","export default () => {\n    return (\n        `<div class=\"jw-reset jw-settings-menu\" role=\"menu\" aria-expanded=\"false\">` +\n            `<div class=\"jw-reset jw-settings-topbar\" role=\"menubar\">` +\n            `</div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/menu.js","import { cloneIcon } from 'view/controls/icons';\nimport SettingsSubmenu from 'view/controls/components/settings/submenu';\nimport SettingsContentItem from 'view/controls/components/settings/content-item';\nimport button from 'view/controls/components/button';\nimport { SimpleTooltip } from 'view/controls/components/simple-tooltip';\n\nconst AUDIO_TRACKS_SUBMENU = 'audioTracks';\nconst CAPTIONS_SUBMENU = 'captions';\nconst QUALITIES_SUBMENU = 'quality';\nconst PLAYBACK_RATE_SUBMENU = 'playbackRates';\nconst DEFAULT_SUBMENU = QUALITIES_SUBMENU;\n\nexport const makeSubmenu = (settingsMenu, name, contentItems, icon, tooltipText) => {\n    let submenu = settingsMenu.getSubmenu(name);\n    if (submenu) {\n        submenu.replaceContent(contentItems);\n    } else {\n        const categoryButton = button(`jw-settings-${name}`, () => {\n            settingsMenu.activateSubmenu(name);\n            submenu.element().children[0].focus();\n        }, name, [icon]);\n        const categoryButtonElement = categoryButton.element();\n        categoryButtonElement.setAttribute('role', 'menuitemradio');\n        categoryButtonElement.setAttribute('aria-checked', 'false');\n\n        // Qualities submenu is the default submenu\n        submenu = SettingsSubmenu(name, categoryButton, name === DEFAULT_SUBMENU);\n        submenu.addContent(contentItems);\n        if (!('ontouchstart' in window)) {\n            SimpleTooltip(categoryButtonElement, name, tooltipText);\n        }\n        settingsMenu.addSubmenu(submenu);\n    }\n\n    return submenu;\n};\n\nexport function addCaptionsSubmenu(settingsMenu, captionsList, action, initialSelectionIndex, tooltipText) {\n    const captionsContentItems = captionsList.map((track, index) => {\n        const contentItemElement = SettingsContentItem(track.id, track.label, (evt) => {\n            action(index);\n            settingsMenu.close(evt);\n        });\n\n        return contentItemElement;\n    });\n\n    const captionsSubmenu = makeSubmenu(settingsMenu, CAPTIONS_SUBMENU, captionsContentItems, cloneIcon('cc-off'), tooltipText);\n    captionsSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removeCaptionsSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(CAPTIONS_SUBMENU);\n}\n\nexport function addAudioTracksSubmenu(settingsMenu, audioTracksList, action, initialSelectionIndex, tooltipText) {\n    const audioTracksItems = audioTracksList.map((track, index) => {\n        return SettingsContentItem(track.name, track.name, (evt) => {\n            action(index);\n            settingsMenu.close(evt);\n        });\n    });\n\n    const audioTracksSubmenu = makeSubmenu(settingsMenu, AUDIO_TRACKS_SUBMENU, audioTracksItems,\n        cloneIcon('audio-tracks'), tooltipText);\n    audioTracksSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removeAudioTracksSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(AUDIO_TRACKS_SUBMENU);\n}\n\nexport function addQualitiesSubmenu(settingsMenu, qualitiesList, action, initialSelectionIndex, tooltipText) {\n    const qualitiesItems = qualitiesList.map((track, index) => {\n        return SettingsContentItem(track.label, track.label, (evt) => {\n            action(index);\n            settingsMenu.close(evt);\n        });\n    });\n\n    const qualitiesSubmenu = makeSubmenu(settingsMenu, QUALITIES_SUBMENU, qualitiesItems, cloneIcon('quality-100'), tooltipText);\n    qualitiesSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removeQualitiesSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(QUALITIES_SUBMENU);\n}\n\nexport function addPlaybackRatesSubmenu(settingsMenu, rateList, action, initialSelectionIndex, tooltipText) {\n    const rateItems = rateList.map((playbackRate) => {\n        return SettingsContentItem(playbackRate, playbackRate + 'x', (evt) => {\n            action(playbackRate);\n            settingsMenu.close(evt);\n        });\n    });\n\n    const playbackRatesSubmenu = makeSubmenu(settingsMenu, PLAYBACK_RATE_SUBMENU, rateItems, cloneIcon('playback-rate'), tooltipText);\n    playbackRatesSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removePlaybackRatesSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(PLAYBACK_RATE_SUBMENU);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/submenu-factory.js","import SubmenuTemplate from 'view/controls/templates/settings/submenu';\nimport { createElement, emptyElement, toggleClass } from 'utils/dom';\n\nexport default function SettingsSubmenu(name, categoryButton, isDefault) {\n\n    let active;\n    let contentItems = [];\n    const submenuElement = createElement(SubmenuTemplate(name));\n    const categoryButtonElement = categoryButton.element();\n\n    categoryButtonElement.setAttribute('name', name);\n    categoryButtonElement.className += ' jw-submenu-' + name;\n    categoryButton.show();\n\n    // return focus to topbar element when tabbing after the first or last item\n    const onFocus = function(evt) {\n        const focus =\n            categoryButtonElement &&\n            evt.keyCode === 9 && (\n                evt.srcElement === contentItems[0].element() && evt.shiftKey ||\n                evt.srcElement === contentItems[contentItems.length - 1].element() && !evt.shiftKey\n            );\n\n        if (focus) {\n            categoryButtonElement.focus();\n        }\n    };\n\n    const instance = {\n        addContent(items) {\n            if (!items) {\n                return;\n            }\n            items.forEach(item => {\n                submenuElement.appendChild(item.element());\n            });\n\n            contentItems = items;\n\n            contentItems[0].element().addEventListener('keydown', onFocus);\n            contentItems[contentItems.length - 1].element().addEventListener('keydown', onFocus);\n        },\n        replaceContent(items) {\n            instance.removeContent();\n            this.addContent(items);\n        },\n        removeContent() {\n            contentItems[0].element().removeEventListener('keydown', onFocus);\n            contentItems[contentItems.length - 1].element().removeEventListener('keydown', onFocus);\n\n            emptyElement(submenuElement);\n            contentItems = [];\n        },\n        activate() {\n            toggleClass(submenuElement, 'jw-settings-submenu-active', true);\n            submenuElement.setAttribute('aria-expanded', 'true');\n            categoryButtonElement.setAttribute('aria-checked', 'true');\n            active = true;\n        },\n        deactivate() {\n            toggleClass(submenuElement, 'jw-settings-submenu-active', false);\n            submenuElement.setAttribute('aria-expanded', 'false');\n            categoryButtonElement.setAttribute('aria-checked', 'false');\n            active = false;\n        },\n        activateItem(itemOrdinal = 0) {\n            const item = contentItems[itemOrdinal];\n            if (!item || item.active) {\n                return;\n            }\n            deactivateAllItems(contentItems);\n            item.activate();\n        },\n        element() {\n            return submenuElement;\n        },\n        destroy() {\n            if (!contentItems) {\n                return;\n            }\n            contentItems.forEach(item => {\n                item.destroy();\n            });\n            this.removeContent();\n        }\n    };\n\n    Object.defineProperties(instance,\n        {\n            name: {\n                enumerable: true,\n                get: () => name\n            },\n            active: {\n                enumerable: true,\n                get: () => active\n            },\n            categoryButtonElement: {\n                enumerable: true,\n                get: () => categoryButtonElement\n            },\n            isDefault: {\n                enumerable: true,\n                get: () => isDefault\n            }\n        }\n    );\n\n    return instance;\n}\n\nconst deactivateAllItems = (items) => {\n    items.forEach(item => {\n        item.deactivate();\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/submenu.js","export default () => {\n    return (\n        `<div class=\"jw-reset jw-settings-submenu\" role=\"menu\" aria-expanded=\"false\">` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/submenu.js","import ContentItemTemplate from 'view/controls/templates/settings/content-item';\nimport { createElement, toggleClass } from 'utils/dom';\nimport UI from 'utils/ui';\n\nexport default function SettingsContentItem(name, content, action) {\n    let active;\n    const contentItemElement = createElement(ContentItemTemplate(content));\n    const contentItemUI = new UI(contentItemElement);\n    contentItemUI.on('click tap enter', (evt) => {\n        action(evt);\n    });\n\n    const instance = {\n        activate() {\n            toggleClass(contentItemElement, 'jw-settings-item-active', true);\n            contentItemElement.setAttribute('aria-checked', 'true');\n            active = true;\n        },\n        deactivate() {\n            toggleClass(contentItemElement, 'jw-settings-item-active', false);\n            contentItemElement.setAttribute('aria-checked', 'false');\n            active = false;\n        },\n        element() {\n            return contentItemElement;\n        },\n        uiElement() {\n            return contentItemUI;\n        },\n        destroy() {\n            this.deactivate();\n            contentItemUI.destroy();\n        }\n    };\n\n    Object.defineProperty(instance, 'active', {\n        enumerable: true,\n        get: () => active\n    });\n\n    return instance;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/content-item.js","export default (content) => {\n    return (\n        `<button type=\"button\" class=\"jw-reset jw-settings-content-item\" role=\"menuitemradio\" aria-checked=\"false\">` +\n            `${content}` +\n        `</button>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/content-item.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/less-loader/dist/cjs.js??ref--0-3!./controls.less\");\nif(typeof content === 'string') content = [['all-players', content, '']];\n// add the styles to the DOM\nrequire(\"!../../node_modules/simple-style-loader/addStyles.js\").style(content,'all-players');\nif(content.locals) module.exports = content.locals;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/controls.less\n// module id = 147\n// module chunks = 0 1 2 3 4","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".jw-overlays,.jw-controls,.jw-controls-backdrop,.jw-settings-submenu{height:100%;width:100%}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-settings-menu .jw-icon.jw-button-color::after{position:absolute;right:0}.jw-overlays,.jw-controls,.jw-controls-backdrop{top:0;position:absolute;left:0}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-settings-menu .jw-icon.jw-button-color::after{position:absolute;bottom:0;left:0}.jw-nextup-close{position:absolute;top:0;right:0}.jw-overlays,.jw-controls{position:absolute;bottom:0;right:0}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-time-tip::after,.jw-settings-menu .jw-icon.jw-button-color::after,.jw-text-live::before,.jw-controlbar .jw-tooltip::after,.jw-settings-menu .jw-tooltip::after{content:\\\"\\\";display:block}.jw-svg-icon{height:24px;width:24px;fill:currentColor;pointer-events:none}.jw-icon{height:44px;width:44px;background-color:transparent}.jw-icon-airplay .jw-svg-icon-airplay-off{display:none}.jw-off.jw-icon-airplay .jw-svg-icon-airplay-off{display:block}.jw-icon-airplay .jw-svg-icon-airplay-on{display:block}.jw-off.jw-icon-airplay .jw-svg-icon-airplay-on{display:none}.jw-icon-cc .jw-svg-icon-cc-off{display:none}.jw-off.jw-icon-cc .jw-svg-icon-cc-off{display:block}.jw-icon-cc .jw-svg-icon-cc-on{display:block}.jw-off.jw-icon-cc .jw-svg-icon-cc-on{display:none}.jw-icon-fullscreen .jw-svg-icon-fullscreen-off{display:none}.jw-off.jw-icon-fullscreen .jw-svg-icon-fullscreen-off{display:block}.jw-icon-fullscreen .jw-svg-icon-fullscreen-on{display:block}.jw-off.jw-icon-fullscreen .jw-svg-icon-fullscreen-on{display:none}.jw-icon-volume .jw-svg-icon-volume-0{display:none}.jw-off.jw-icon-volume .jw-svg-icon-volume-0{display:block}.jw-icon-volume .jw-svg-icon-volume-100{display:none}.jw-full.jw-icon-volume .jw-svg-icon-volume-100{display:block}.jw-icon-volume .jw-svg-icon-volume-50{display:block}.jw-off.jw-icon-volume .jw-svg-icon-volume-50,.jw-full.jw-icon-volume .jw-svg-icon-volume-50{display:none}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after{height:100%;width:24px;box-shadow:inset 0 -3px 0 -1px currentColor;margin:auto;opacity:0;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-settings-menu .jw-icon[aria-checked=\\\"true\\\"]::after,.jw-settings-open .jw-icon-settings::after,.jw-icon-volume.jw-open::after{opacity:1}.jw-overlays,.jw-controls{pointer-events:none}.jw-controls-backdrop{display:block;background:linear-gradient(to bottom, transparent, rgba(0,0,0,0.4) 77%, rgba(0,0,0,0.4) 100%) 100% 100% / 100% 240px no-repeat transparent;transition:opacity 250ms cubic-bezier(0, -0.25, .25, 1),background-size 250ms cubic-bezier(0, -0.25, .25, 1);pointer-events:none}.jw-overlays{cursor:auto}.jw-controls{overflow:hidden}.jw-flag-small-player .jw-controls{text-align:center}.jw-text{height:1em;font-family:Arial,Helvetica,sans-serif;font-size:.75em;font-style:normal;font-weight:normal;color:#fff;text-align:center;font-variant:normal;font-stretch:normal}.jw-controlbar,.jw-skip,.jw-display-icon-container,.jw-display-icon-container .jw-icon,.jw-nextup-container,.jw-autostart-mute,.jw-overlays .jw-plugin{pointer-events:all}.jwplayer .jw-display-icon-container,.jw-error .jw-display-icon-container{width:auto;height:auto;box-sizing:content-box}.jw-display{display:table;height:100%;padding:57px 0;position:relative;width:100%}.jw-flag-dragging .jw-display{display:none}.jw-state-idle:not(.jw-flag-cast-available) .jw-display{padding:0}.jw-display-container{display:table-cell;height:100%;text-align:center;vertical-align:middle}.jw-display-controls{display:inline-block}.jwplayer .jw-display-icon-container{float:left}.jw-display-icon-container{display:inline-block}.jw-display-icon-container .jw-icon{height:75px;width:75px;cursor:pointer;display:flex;justify-content:center;align-items:center}.jw-display-icon-container .jw-icon .jw-svg-icon{height:33px;width:33px;padding:0;position:relative}.jw-display-icon-container .jw-icon .jw-svg-icon-rewind{padding:.2em .05em}.jw-breakpoint-0 .jw-display-icon-next,.jw-breakpoint-0 .jw-display-icon-rewind{display:none}.jw-breakpoint-0 .jw-display .jw-icon,.jw-breakpoint-0 .jw-display .jw-svg-icon{width:44px;height:44px;line-height:44px}.jw-breakpoint-0 .jw-display .jw-icon:before,.jw-breakpoint-0 .jw-display .jw-svg-icon:before{width:22px;height:22px}.jw-breakpoint-1 .jw-display-icon-container{padding:5.5px;margin:0 22px}.jw-breakpoint-1 .jw-display .jw-icon,.jw-breakpoint-1 .jw-display .jw-svg-icon{width:44px;height:44px;line-height:44px}.jw-breakpoint-1 .jw-display .jw-icon:before,.jw-breakpoint-1 .jw-display .jw-svg-icon:before{width:22px;height:22px}.jw-breakpoint-1 .jw-display .jw-icon.jw-icon-rewind:before{width:33px;height:33px}.jw-breakpoint-2 .jw-display .jw-icon,.jw-breakpoint-3 .jw-display .jw-icon,.jw-breakpoint-2 .jw-display .jw-svg-icon,.jw-breakpoint-3 .jw-display .jw-svg-icon{width:77px;height:77px;line-height:77px}.jw-breakpoint-2 .jw-display .jw-icon:before,.jw-breakpoint-3 .jw-display .jw-icon:before,.jw-breakpoint-2 .jw-display .jw-svg-icon:before,.jw-breakpoint-3 .jw-display .jw-svg-icon:before{width:38.5px;height:38.5px}.jw-breakpoint-4 .jw-display .jw-icon,.jw-breakpoint-5 .jw-display .jw-icon,.jw-breakpoint-6 .jw-display .jw-icon,.jw-breakpoint-7 .jw-display .jw-icon,.jw-breakpoint-4 .jw-display .jw-svg-icon,.jw-breakpoint-5 .jw-display .jw-svg-icon,.jw-breakpoint-6 .jw-display .jw-svg-icon,.jw-breakpoint-7 .jw-display .jw-svg-icon{width:88px;height:88px;line-height:88px}.jw-breakpoint-4 .jw-display .jw-icon:before,.jw-breakpoint-5 .jw-display .jw-icon:before,.jw-breakpoint-6 .jw-display .jw-icon:before,.jw-breakpoint-7 .jw-display .jw-icon:before,.jw-breakpoint-4 .jw-display .jw-svg-icon:before,.jw-breakpoint-5 .jw-display .jw-svg-icon:before,.jw-breakpoint-6 .jw-display .jw-svg-icon:before,.jw-breakpoint-7 .jw-display .jw-svg-icon:before{width:44px;height:44px}.jw-controlbar{display:flex;flex-flow:row wrap;align-items:center;justify-content:center;position:absolute;left:0;bottom:0;width:100%;border:none;border-radius:0;background-size:auto;box-shadow:none;max-height:72px;transition:250ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility;transition-delay:0s}.jw-controlbar .jw-button-image{background:no-repeat 50% 50%;background-size:contain;max-height:24px}.jw-controlbar .jw-spacer{flex:1 1 auto;align-self:stretch}.jw-controlbar .jw-icon.jw-button-color:hover{color:#fff}.jw-button-container{display:flex;flex-flow:row nowrap;flex:1 1 auto;align-items:center;justify-content:center;width:100%;padding:0 12px}.jw-slider-horizontal{background-color:transparent}.jw-icon-inline{position:relative}.jw-icon-inline,.jw-icon-tooltip{height:44px;width:44px;align-items:center;display:flex;justify-content:center}.jw-icon-inline:not(.jw-text),.jw-icon-tooltip,.jw-slider-horizontal{cursor:pointer}.jw-text-elapsed,.jw-text-duration{justify-content:flex-start;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.jw-icon-tooltip{position:relative}.jw-knob:hover,.jw-icon-inline:hover,.jw-icon-tooltip:hover,.jw-icon-display:hover,.jw-option:before:hover{color:#fff}.jw-time-tip,.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{pointer-events:none}.jw-icon-cast{display:none;margin:0;padding:0}.jw-icon-cast button{background-color:transparent;border:none;padding:0;width:24px;height:24px;cursor:pointer}.jw-icon-inline.jw-icon-volume{display:none}.jwplayer .jw-text-countdown{display:none}.jw-flag-small-player .jw-display{padding-top:44px;padding-bottom:66px}.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-rewind,.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-next,.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-playback{display:none}.jw-flag-ads-vpaid:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar,.jw-flag-user-inactive.jw-state-playing:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar,.jw-flag-user-inactive.jw-state-buffering:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar{visibility:hidden;pointer-events:none;opacity:0;transition-delay:0s,250ms}.jw-flag-ads-vpaid:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop,.jw-flag-user-inactive.jw-state-playing:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop,.jw-flag-user-inactive.jw-state-buffering:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop{opacity:0}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-countdown{display:flex}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-elapsed,.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-duration{display:none}.jwplayer:not(.jw-breakpoint-0) .jw-text-duration:before{content:\\\"/\\\";padding-right:1ch;padding-left:1ch}.jwplayer:not(.jw-flag-user-inactive) .jw-controlbar{will-change:transform}.jwplayer:not(.jw-flag-user-inactive) .jw-controlbar .jw-text{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.jw-slider-container{display:flex;align-items:center;position:relative;touch-action:none}.jw-rail,.jw-buffer,.jw-progress{position:absolute;cursor:pointer}.jw-progress{background-color:#f2f2f2}.jw-rail{background-color:rgba(255,255,255,0.3)}.jw-buffer{background-color:rgba(255,255,255,0.3)}.jw-knob{height:13px;width:13px;background-color:#fff;border-radius:50%;box-shadow:0 0 10px rgba(0,0,0,0.4);opacity:1;pointer-events:none;position:absolute;-webkit-transform:translate(-50%, -50%) scale(0);transform:translate(-50%, -50%) scale(0);transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.jw-flag-dragging .jw-slider-time .jw-knob,.jw-icon-volume:active .jw-slider-volume .jw-knob{box-shadow:0 0 26px rgba(0,0,0,0.2),0 0 10px rgba(0,0,0,0.4),0 0 0 6px rgba(255,255,255,0.2)}.jw-slider-horizontal,.jw-slider-vertical{display:flex}.jw-slider-horizontal .jw-slider-container{height:5px;width:100%}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-cue,.jw-slider-horizontal .jw-knob{top:50%}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-cue{-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress{height:5px}.jw-slider-horizontal .jw-rail{width:100%}.jw-slider-vertical{align-items:center;flex-direction:column}.jw-slider-vertical .jw-slider-container{height:88px;width:5px}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-knob{left:50%}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress{height:100%;width:5px;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out;bottom:0}.jw-slider-vertical .jw-knob{-webkit-transform:translate(-50%, 50%);transform:translate(-50%, 50%)}.jw-slider-time{height:17px;width:100%;align-items:center;background:transparent none;padding:0 12px;z-index:1}.jw-slider-time .jw-rail,.jw-slider-time .jw-buffer,.jw-slider-time .jw-progress,.jw-slider-time .jw-cue{-webkit-backface-visibility:hidden;backface-visibility:hidden;height:100%;-webkit-transform:translate(0, -50%) scale(1, .6);transform:translate(0, -50%) scale(1, .6);transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}.jw-slider-time .jw-cue{background-color:rgba(33,33,33,0.8);cursor:pointer;position:absolute;width:6px}.jw-slider-time:hover .jw-rail,.jw-flag-dragging .jw-slider-time .jw-rail,.jw-flag-touch .jw-slider-time .jw-rail,.jw-slider-time:hover .jw-buffer,.jw-flag-dragging .jw-slider-time .jw-buffer,.jw-flag-touch .jw-slider-time .jw-buffer,.jw-slider-time:hover .jw-progress,.jw-flag-dragging .jw-slider-time .jw-progress,.jw-flag-touch .jw-slider-time .jw-progress,.jw-slider-time:hover .jw-cue,.jw-flag-dragging .jw-slider-time .jw-cue,.jw-flag-touch .jw-slider-time .jw-cue{-webkit-transform:translate(0, -50%) scale(1, 1);transform:translate(0, -50%) scale(1, 1)}.jw-slider-time:hover .jw-knob,.jw-flag-dragging .jw-slider-time .jw-knob,.jw-flag-touch .jw-slider-time .jw-knob{-webkit-transform:translate(-50%, -50%) scale(1);transform:translate(-50%, -50%) scale(1)}.jw-slider-time .jw-rail{background-color:rgba(255,255,255,0.2)}.jw-slider-time .jw-buffer{background-color:rgba(255,255,255,0.4)}.jw-flag-touch .jw-slider-time::before{height:44px;width:100%;content:\\\"\\\";position:absolute;display:block;bottom:calc(100% - 17px);left:0}.jwplayer .jw-rightclick{display:none;position:absolute;white-space:nowrap}.jwplayer .jw-rightclick.jw-open{display:block}.jwplayer .jw-rightclick .jw-rightclick-list{border-radius:1px;list-style:none;margin:0;padding:0}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item{background-color:rgba(0,0,0,0.8);border-bottom:1px solid #444;margin:0}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-logo{color:#fff;display:inline-flex;padding:0 10px 0 0;vertical-align:middle}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-logo .jw-svg-icon{height:20px;width:20px}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-link{border:none;color:#fff;display:block;font-size:11px;line-height:1em;padding:15px 23px;text-decoration:none}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item:last-child{border-bottom:none}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item:hover{cursor:pointer}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured{vertical-align:middle}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured .jw-rightclick-link{color:#d2d2d2}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured .jw-rightclick-link span{color:#fff}.jw-icon-tooltip.jw-open .jw-overlay{opacity:1;transition-delay:0s;visibility:visible}.jw-slider-time .jw-overlay:before{height:1em;top:auto}.jw-volume-tip{padding:13px 0 26px}.jw-time-tip,.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{height:auto;width:100%;box-shadow:0 0 10px rgba(0,0,0,0.4);color:#fff;display:block;margin:0 0 14px;pointer-events:none;position:relative;z-index:0}.jw-time-tip::after,.jw-controlbar .jw-tooltip::after,.jw-settings-menu .jw-tooltip::after{top:100%;position:absolute;left:50%;height:14px;width:14px;border-radius:1px;background-color:currentColor;-webkit-transform-origin:75% 50%;transform-origin:75% 50%;-webkit-transform:translate(-50%, -50%) rotate(45deg);transform:translate(-50%, -50%) rotate(45deg);z-index:-1}.jw-time-tip .jw-text,.jw-controlbar .jw-tooltip .jw-text,.jw-settings-menu .jw-tooltip .jw-text{background-color:#fff;border-radius:1px;color:#000;font-size:10px;height:auto;line-height:1;padding:7px 10px;display:inline-block;min-width:100%;vertical-align:middle}.jw-controlbar .jw-overlay{position:absolute;bottom:100%;left:50%;margin:0;min-height:44px;min-width:44px;opacity:0;transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility;transition-delay:0s,150ms;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);visibility:hidden;width:100%;z-index:1}.jw-controlbar .jw-overlay .jw-contents{position:relative}.jw-controlbar .jw-option{position:relative;white-space:nowrap;cursor:pointer;list-style:none;height:1.5em;font-family:inherit;line-height:1.5em;padding:0 .5em;font-size:.8em;margin:0}.jw-controlbar .jw-option::before{padding-right:.125em}.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{position:absolute;bottom:100%;left:50%;opacity:0;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);transition:100ms 0s cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,transform,visibility;transition-property:opacity,transform,visibility,-webkit-transform;visibility:hidden;white-space:nowrap;width:auto;z-index:1}.jw-controlbar .jw-tooltip.jw-open,.jw-settings-menu .jw-tooltip.jw-open,.jw-controlbar .jw-icon:focus>.jw-tooltip,.jw-settings-menu .jw-icon:focus>.jw-tooltip{opacity:1;-webkit-transform:translate(-50%, -10px);transform:translate(-50%, -10px);transition-duration:150ms;transition-delay:500ms,0s,500ms;visibility:visible}.jw-controlbar .jw-tooltip.jw-tooltip-fullscreen,.jw-settings-menu .jw-tooltip.jw-tooltip-fullscreen{left:auto;right:0;-webkit-transform:translate(0, 0);transform:translate(0, 0)}.jw-controlbar .jw-tooltip.jw-tooltip-fullscreen.jw-open,.jw-settings-menu .jw-tooltip.jw-tooltip-fullscreen.jw-open{-webkit-transform:translate(0, -10px);transform:translate(0, -10px)}.jw-controlbar .jw-tooltip.jw-tooltip-fullscreen::after,.jw-settings-menu .jw-tooltip.jw-tooltip-fullscreen::after{left:auto;right:9px}.jw-tooltip-time{height:auto;width:0;bottom:100%;line-height:normal;padding:0;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jw-tooltip-time .jw-overlay{bottom:0;min-height:0;width:auto}.jw-tooltip{bottom:57px;display:none;position:absolute}.jw-tooltip .jw-text{height:100%;white-space:nowrap;text-overflow:ellipsis;max-width:246px;overflow:hidden}.jw-flag-audio-player .jw-tooltip{display:none}.jw-flag-small-player .jw-time-thumb{display:none}.jw-skip{color:rgba(255,255,255,0.8);cursor:default;position:absolute;display:flex;right:.75em;bottom:56px;padding:.5em;border:1px solid #333;background-color:#000;align-items:center;height:2em}.jw-skip.jw-skippable{cursor:pointer;padding:.25em .75em}.jw-skip.jw-skippable:hover{cursor:pointer;color:#fff}.jw-skip.jw-skippable .jw-skip-icon{display:inline;height:24px;width:24px;margin:0}.jw-skip .jw-skip-icon{display:none;margin-left:-0.75em;padding:0 .5em}.jw-skip .jw-skip-icon .jw-svg-icon-next{display:block;padding:0}.jw-skip .jw-text,.jw-skip .jw-skip-icon{vertical-align:middle;font-size:.7em}.jw-skip .jw-text{font-weight:bold}.jw-cast{background-size:cover;display:none;height:100%;position:relative;width:100%}.jw-cast-container{background:linear-gradient(180deg, rgba(25,25,25,0.75), rgba(25,25,25,0.25), rgba(25,25,25,0));left:0;padding:20px 20px 80px;position:absolute;top:0;width:100%}.jw-cast-text{color:#fff;font-size:1.6em}.jw-breakpoint-0 .jw-cast-text{font-size:1.15em}.jw-breakpoint-1 .jw-cast-text,.jw-breakpoint-2 .jw-cast-text,.jw-breakpoint-3 .jw-cast-text{font-size:1.3em}.jw-nextup-container{position:absolute;bottom:66px;left:0;background-color:transparent;cursor:pointer;margin:0 auto;padding:12px;pointer-events:none;right:0;text-align:right;visibility:hidden;width:100%}.jw-flag-small-player .jw-nextup-container,.jw-settings-open .jw-nextup-container{display:none}.jw-nextup{background:#333;border-radius:0;box-shadow:0 0 10px rgba(0,0,0,0.5);color:rgba(255,255,255,0.8);display:inline-block;max-width:280px;overflow:hidden;opacity:0;position:relative;width:64%;pointer-events:all;-webkit-transform:translate(0, -5px);transform:translate(0, -5px);transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;transition-delay:0s}.jw-nextup:hover .jw-nextup-tooltip{color:#fff}.jw-nextup.jw-nextup-thumbnail-visible{max-width:400px}.jw-nextup.jw-nextup-thumbnail-visible .jw-nextup-thumbnail{display:block}.jw-nextup-container-visible{visibility:visible}.jw-nextup-container-visible .jw-nextup{opacity:1;-webkit-transform:translate(0, 0);transform:translate(0, 0);transition-delay:0s,0s,150ms}.jw-nextup-tooltip{display:flex;height:80px}.jw-nextup-thumbnail{width:120px;background-position:center;background-size:cover;flex:0 0 auto;display:none}.jw-nextup-body{flex:1 1 auto;overflow:hidden;padding:.75em .875em;display:flex;flex-flow:column wrap;justify-content:space-between}.jw-nextup-header,.jw-nextup-title{font-size:14px;line-height:1.35}.jw-nextup-header{font-weight:bold}.jw-nextup-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.jw-nextup-duration{align-self:flex-end;text-align:right;font-size:12px}.jw-nextup-close{height:24px;width:24px;border:none;color:rgba(255,255,255,0.8);cursor:pointer;margin:6px;visibility:hidden}.jw-nextup-close:hover{color:#fff}.jw-nextup-sticky .jw-nextup-close{visibility:visible}.jw-autostart-mute{position:absolute;bottom:0;right:12px;height:44px;width:44px;background-color:rgba(33,33,33,0.4);padding:5px 4px 5px 6px;display:none}.jwplayer.jw-flag-autostart:not(.jw-flag-media-audio) .jw-nextup{display:none}.jw-settings-menu{display:none;position:absolute;flex-flow:column nowrap;align-items:flex-start;right:12px;bottom:57px;max-width:284px;background-color:#333;pointer-events:auto}.jw-settings-open .jw-settings-menu{display:flex}.jw-breakpoint-7 .jw-settings-menu,.jw-breakpoint-6 .jw-settings-menu,.jw-breakpoint-5 .jw-settings-menu{height:232px;width:284px;max-height:232px}.jw-breakpoint-4 .jw-settings-menu,.jw-breakpoint-3 .jw-settings-menu{height:192px;width:284px;max-height:192px}.jw-breakpoint-2 .jw-settings-menu{height:179px;width:284px;max-height:179px}.jw-flag-small-player .jw-settings-menu{bottom:0;right:0;height:100%;width:100%;max-width:none}.jw-settings-menu .jw-icon.jw-button-color::after{height:100%;width:24px;box-shadow:inset 0 -3px 0 -1px currentColor;margin:auto;opacity:0;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-settings-menu .jw-icon.jw-button-color[aria-checked=\\\"true\\\"]::after{opacity:1}.jw-settings-topbar{display:flex;flex:0 0 auto;align-items:center;width:100%;background-color:rgba(0,0,0,0.4);padding:3px 5px 0}.jw-settings-topbar .jw-settings-close{margin-left:auto}.jw-settings-submenu{display:none;flex:1 1 auto;overflow-y:auto;padding:8px 20px 0 5px}.jw-settings-submenu.jw-settings-submenu-active{display:block}.jw-settings-submenu::-webkit-scrollbar{background-color:transparent;width:6px}.jw-settings-submenu::-webkit-scrollbar-thumb{background-color:#fff;border:1px solid #333;border-radius:6px}.jw-flag-touch .jw-settings-submenu{overflow-y:scroll;-webkit-overflow-scrolling:touch}.jw-settings-content-item{color:rgba(255,255,255,0.8);width:100%;font-size:12px;line-height:1;padding:7px 0 7px 15px;cursor:pointer}.jw-settings-content-item.jw-settings-item-active{color:#fff;font-weight:bold}.jw-settings-content-item:hover,.jw-settings-content-item:focus{color:#fff}.jw-settings-content-item:focus{outline:none}.jw-flag-small-player .jw-settings-content-item{line-height:1.75}.jw-breakpoint-2 .jw-settings-open .jw-display-container,.jw-flag-small-player .jw-settings-open .jw-display-container,.jw-flag-touch .jw-settings-open .jw-display-container{display:none}.jw-breakpoint-2 .jw-settings-open.jw-controls,.jw-flag-small-player .jw-settings-open.jw-controls,.jw-flag-touch .jw-settings-open.jw-controls{z-index:1}.jw-flag-small-player .jw-settings-open .jw-controlbar{display:none}.jw-settings-open .jw-icon-settings::after{opacity:1}.jw-settings-open .jw-tooltip-settings{display:none}.jw-sharing-link{cursor:pointer}.jw-state-idle:not(.jw-flag-cast-available) .jw-display{padding:0}.jw-state-idle .jw-controls{background:rgba(0,0,0,0.4)}.jw-state-idle.jw-flag-cast-available:not(.jw-flag-audio-player) .jw-controlbar .jw-slider-time,.jw-state-idle.jw-flag-cardboard-available .jw-controlbar .jw-slider-time,.jw-state-idle.jw-flag-cast-available:not(.jw-flag-audio-player) .jw-controlbar .jw-icon:not(.jw-icon-cardboard):not(.jw-icon-cast):not(.jw-icon-airplay),.jw-state-idle.jw-flag-cardboard-available .jw-controlbar .jw-icon:not(.jw-icon-cardboard):not(.jw-icon-cast):not(.jw-icon-airplay){display:none}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-icon{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-icon .jw-svg-icon-buffer{display:block}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.jwplayer.jw-state-buffering .jw-icon-playback .jw-svg-icon-play{display:none}.jwplayer.jw-state-buffering .jw-icon-display .jw-svg-icon-pause{display:none}.jwplayer.jw-state-playing .jw-display .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-playing .jw-icon-playback .jw-svg-icon-play{display:none}.jwplayer.jw-state-playing .jw-display .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-playing .jw-icon-playback .jw-svg-icon-pause{display:block}.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio) .jw-controls-backdrop{opacity:0}.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio) .jw-logo-bottom-left,.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio):not(.jw-flag-autostart) .jw-logo-bottom-right{bottom:0}.jwplayer.jw-state-paused .jw-svg-icon-pause,.jwplayer.jw-state-idle .jw-svg-icon-pause,.jwplayer.jw-state-error .jw-svg-icon-pause,.jwplayer.jw-state-complete .jw-svg-icon-pause{display:none}.jwplayer.jw-state-error .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-complete .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-buffering .jw-icon-display .jw-svg-icon-play{display:none}.jwplayer:not(.jw-state-buffering) .jw-svg-icon-buffer{display:none}.jwplayer:not(.jw-state-complete) .jw-svg-icon-replay{display:none}.jwplayer:not(.jw-state-error) .jw-svg-icon-error{display:none}.jwplayer.jw-state-complete .jw-display .jw-icon-display .jw-svg-icon-replay{display:block}.jwplayer.jw-state-complete .jw-display .jw-text{display:none}.jwplayer.jw-state-complete .jw-controls{background:rgba(0,0,0,0.4);height:100%}.jw-state-idle .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-paused .jw-icon-playback .jw-svg-icon-pause,.jwplayer.jw-state-paused .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-complete .jw-icon-playback .jw-svg-icon-pause{display:none}.jw-state-idle .jw-display-icon-rewind,.jwplayer.jw-state-buffering .jw-display-icon-rewind,.jwplayer.jw-state-complete .jw-display-icon-rewind,body .jw-error .jw-display-icon-rewind,body .jwplayer.jw-state-error .jw-display-icon-rewind,.jw-state-idle .jw-display-icon-next,.jwplayer.jw-state-buffering .jw-display-icon-next,.jwplayer.jw-state-complete .jw-display-icon-next,body .jw-error .jw-display-icon-next,body .jwplayer.jw-state-error .jw-display-icon-next{display:none}body .jw-error .jw-icon-display,body .jwplayer.jw-state-error .jw-icon-display{cursor:default}body .jw-error .jw-icon-display .jw-svg-icon-error,body .jwplayer.jw-state-error .jw-icon-display .jw-svg-icon-error{display:block}body .jw-error .jw-icon-container{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-preview{display:none}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title{padding-top:4px}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title-primary{width:auto;display:inline-block;padding-right:.5ch}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title-secondary{width:auto;display:inline-block;padding-left:0}body .jwplayer.jw-state-error .jw-controlbar,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-controlbar{display:none}body .jwplayer.jw-state-error .jw-settings-menu,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-settings-menu{height:100%;top:0;bottom:0}body .jwplayer.jw-state-error .jw-display,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-display{padding:0}body .jwplayer.jw-state-error .jw-logo-bottom-left,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-logo-bottom-left,body .jwplayer.jw-state-error .jw-logo-bottom-right,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-logo-bottom-right{bottom:0}.jwplayer.jw-state-playing.jw-flag-user-inactive .jw-display{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-state-playing:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display,.jwplayer.jw-state-paused:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting):not(.jw-flag-play-rejected) .jw-display{display:none}.jwplayer.jw-state-paused.jw-flag-play-rejected:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display-icon-rewind,.jwplayer.jw-state-paused.jw-flag-play-rejected:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display-icon-next{display:none}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-text,.jwplayer.jw-state-complete .jw-display .jw-text{display:none}.jwplayer.jw-flag-casting:not(.jw-flag-audio-player) .jw-cast{display:block}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-display-icon-container{display:none}.jwplayer.jw-flag-casting .jw-icon-hd,.jwplayer.jw-flag-casting .jw-captions,.jwplayer.jw-flag-casting .jw-icon-fullscreen,.jwplayer.jw-flag-casting .jw-icon-audio-tracks{display:none}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-icon-volume{display:none}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-icon-airplay{color:#fff}.jw-state-playing.jw-flag-casting:not(.jw-flag-audio-player) .jw-display,.jw-state-paused.jw-flag-casting:not(.jw-flag-audio-player) .jw-display{display:table}.jwplayer.jw-flag-cast-available .jw-icon-cast,.jwplayer.jw-flag-cast-available .jw-icon-airplay{display:flex}.jwplayer.jw-flag-cardboard-available .jw-icon-cardboard{display:flex}.jwplayer.jw-flag-live .jw-display-icon-rewind{visibility:hidden}.jwplayer.jw-flag-live .jw-controlbar .jw-text-elapsed,.jwplayer.jw-flag-live .jw-controlbar .jw-text-duration,.jwplayer.jw-flag-live .jw-controlbar .jw-text-countdown,.jwplayer.jw-flag-live .jw-controlbar .jw-slider-time{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-text-alt{display:flex}.jwplayer.jw-flag-live .jw-controlbar .jw-overlay:after{display:none}.jwplayer.jw-flag-live .jw-nextup-container{bottom:44px}.jwplayer.jw-flag-live .jw-text-elapsed,.jwplayer.jw-flag-live .jw-text-duration{display:none}.jw-text-live{height:24px;width:auto;align-items:center;border-radius:1px;color:rgba(255,255,255,0.8);display:flex;font-size:12px;font-weight:bold;margin-right:10px;padding:0 1ch;text-rendering:geometricPrecision;text-transform:uppercase;transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:box-shadow,color}.jw-text-live::before{height:8px;width:8px;background-color:currentColor;border-radius:50%;margin-right:6px;opacity:1;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-text-live.jw-dvr-live{box-shadow:inset 0 0 0 2px currentColor}.jw-text-live.jw-dvr-live::before{opacity:.5}.jw-text-live.jw-dvr-live:hover{color:#fff}.jwplayer.jw-flag-controls-hidden .jw-logo.jw-hide{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-flag-controls-hidden:not(.jw-flag-casting) .jw-logo-top-right{top:0}.jwplayer.jw-flag-controls-hidden .jw-plugin{bottom:.5em}.jwplayer.jw-flag-controls-hidden .jw-nextup-container{bottom:0}.jw-flag-controls-hidden .jw-controlbar,.jw-flag-controls-hidden .jw-display{visibility:hidden;pointer-events:none;opacity:0;transition-delay:0s,250ms}.jw-flag-controls-hidden .jw-controls-backdrop{opacity:0}.jw-flag-controls-hidden .jw-logo{visibility:visible}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-logo.jw-hide{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing:not(.jw-flag-casting) .jw-logo-top-right{top:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-plugin{bottom:.5em}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-nextup-container{bottom:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-captions{max-height:none}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-media{cursor:none;-webkit-cursor-visibility:auto-hide}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing.jw-flag-casting .jw-display{display:table}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing:not(.jw-flag-ads) .jw-autostart-mute{display:flex}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-flag-casting .jw-nextup-container{bottom:66px}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-flag-casting.jw-state-idle .jw-nextup-container{display:none}.jw-flag-media-audio .jw-preview{display:block}.jwplayer.jw-flag-ads .jw-preview,.jwplayer.jw-flag-ads .jw-logo,.jwplayer.jw-flag-ads .jw-captions.jw-captions-enabled,.jwplayer.jw-flag-ads .jw-nextup-container,.jwplayer.jw-flag-ads .jw-text-duration,.jwplayer.jw-flag-ads .jw-text-elapsed{display:none}.jwplayer.jw-flag-ads video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-rewind,.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-next,.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-display{display:none}.jwplayer.jw-flag-ads.jw-flag-small-player.jw-state-buffering .jw-display-icon-display{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar{flex-wrap:wrap-reverse}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time{height:auto;padding:0;pointer-events:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-slider-container{height:5px}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-rail,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-knob,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-buffer,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-cue,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-icon-settings{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-progress{-webkit-transform:none;transform:none;top:auto}.jwplayer.jw-flag-ads .jw-controlbar .jw-tooltip,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip:not(.jw-icon-volume),.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline:not(.jw-icon-playback):not(.jw-icon-fullscreen):not(.jw-icon-volume){display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-volume-tip{padding:13px 0}.jwplayer.jw-flag-ads .jw-controlbar .jw-text-alt{display:flex}.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid) .jw-controls .jw-controlbar,.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-autostart .jw-controls .jw-controlbar{display:flex;pointer-events:all;visibility:visible;opacity:1}.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-user-inactive .jw-controls-backdrop,.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-autostart.jw-flag-user-inactive .jw-controls-backdrop{opacity:1;background-size:100% 60px}.jwplayer.jw-flag-ads .jw-nextup-container{bottom:44px}.jwplayer.jw-flag-ads .jw-icon,.jwplayer.jw-flag-ads .jw-slider-horizontal{pointer-events:all}.jwplayer.jw-flag-ads-vpaid .jw-display-container,.jwplayer.jw-flag-touch.jw-flag-ads-vpaid .jw-display-container,.jwplayer.jw-flag-ads-vpaid .jw-skip,.jwplayer.jw-flag-touch.jw-flag-ads-vpaid .jw-skip{display:none}.jwplayer.jw-flag-ads-vpaid.jw-flag-small-player .jw-controls{background:none}.jwplayer.jw-flag-ads-vpaid.jw-flag-small-player .jw-controls::after{content:none}.jwplayer.jw-flag-ads-hide-controls .jw-controls-backdrop,.jwplayer.jw-flag-ads-hide-controls .jw-controls{display:none !important}.jw-flag-overlay-open-related .jw-controls,.jw-flag-overlay-open-related .jw-title,.jw-flag-overlay-open-related .jw-logo{display:none}.jwplayer.jw-flag-rightclick-open{overflow:visible}.jwplayer.jw-flag-rightclick-open .jw-rightclick{z-index:16777215}body .jwplayer.jw-flag-flash-blocked .jw-controls,body .jwplayer.jw-flag-flash-blocked .jw-overlays,body .jwplayer.jw-flag-flash-blocked .jw-controls-backdrop,body .jwplayer.jw-flag-flash-blocked .jw-preview{display:none}.jw-flag-touch.jw-breakpoint-7 .jw-captions,.jw-flag-touch.jw-breakpoint-6 .jw-captions,.jw-flag-touch.jw-breakpoint-5 .jw-captions,.jw-flag-touch.jw-breakpoint-4 .jw-captions,.jw-flag-touch.jw-breakpoint-7 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-6 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-5 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-4 .jw-nextup-container{bottom:4.25em}.jw-flag-touch.jw-breakpoint-7 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-6 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-5 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-4 video::-webkit-media-text-track-container{max-height:calc(100% - 60px)}.jw-flag-touch .jw-controlbar .jw-icon-volume{display:flex}.jw-flag-touch .jw-display,.jw-flag-touch .jw-display-container,.jw-flag-touch .jw-display-controls{pointer-events:none}.jw-flag-touch.jw-state-paused:not(.jw-breakpoint-1) .jw-display-icon-next,.jw-flag-touch.jw-state-playing:not(.jw-breakpoint-1) .jw-display-icon-next,.jw-flag-touch.jw-state-paused:not(.jw-breakpoint-1) .jw-display-icon-rewind,.jw-flag-touch.jw-state-playing:not(.jw-breakpoint-1) .jw-display-icon-rewind{display:none}.jw-flag-touch.jw-state-paused.jw-flag-dragging .jw-display{display:none}.jw-flag-audio-player{background-color:#000}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:44px}.jw-flag-audio-player .jw-preview,.jw-flag-audio-player .jw-display,.jw-flag-audio-player .jw-title,.jw-flag-audio-player .jw-nextup-container{display:none}.jw-flag-audio-player .jw-controlbar{position:relative}.jw-flag-audio-player .jw-controlbar .jw-button-container{padding-right:3px;padding-left:0}.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip,.jw-flag-audio-player .jw-controlbar .jw-icon-inline{display:none}.jw-flag-audio-player .jw-controlbar .jw-icon-volume:not(.jw-icon-tooltip),.jw-flag-audio-player .jw-controlbar .jw-icon-playback,.jw-flag-audio-player .jw-controlbar .jw-icon-next,.jw-flag-audio-player .jw-controlbar .jw-icon-rewind,.jw-flag-audio-player .jw-controlbar .jw-icon-cast,.jw-flag-audio-player .jw-controlbar .jw-text-live,.jw-flag-audio-player .jw-controlbar .jw-icon-airplay,.jw-flag-audio-player .jw-controlbar .jw-logo-button,.jw-flag-audio-player .jw-controlbar .jw-text-elapsed,.jw-flag-audio-player .jw-controlbar .jw-text-duration{display:flex;flex:0 0 auto}.jw-flag-audio-player .jw-controlbar .jw-text-duration,.jw-flag-audio-player .jw-controlbar .jw-text-countdown{padding-right:10px}.jw-flag-audio-player .jw-controlbar .jw-slider-time{display:flex;flex:0 1 auto;align-items:center}.jw-flag-audio-player.jw-flag-small-player .jw-text-elapsed,.jw-flag-audio-player.jw-flag-small-player .jw-text-duration{display:none}.jw-flag-audio-player.jw-flag-ads .jw-slider-time{display:none}.jw-hidden{display:none}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/postcss-loader/lib!./node_modules/less-loader/dist/cjs.js?{\"compress\":true,\"strictMath\":true,\"noIeCompat\":true}!./src/css/controls.less\n// module id = 148\n// module chunks = 0 1 2 3 4","import _ from 'utils/underscore';\n\nconst supportedFields = [\n    'repeat',\n    'volume',\n    'mute',\n    'autostart'\n];\n\nfunction setAutoStart(model, controller, autoStart) {\n    model.setAutoStart(autoStart);\n\n    if (model.get('state') === 'idle' && autoStart === true) {\n        controller.play({ reason: 'autostart' });\n    }\n}\n\nexport default (controller, newConfig) => {\n    const model = controller._model;\n\n    if (!_.size(newConfig)) {\n        return;\n    }\n\n    supportedFields.forEach(field => {\n        const newValue = newConfig[field];\n\n        if (_.isUndefined(newValue)) {\n            return;\n        }\n\n        switch (field) {\n            case 'mute':\n                controller.setMute(newValue);\n                break;\n            case 'volume':\n                controller.setVolume(newValue);\n                break;\n            case 'autostart':\n                setAutoStart(model, controller, newValue);\n                break;\n            default:\n                model.set(field, newValue);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/set-config.js","import { STATE_BUFFERING, STATE_COMPLETE, STATE_PAUSED,\n    MEDIA_META, MEDIA_PLAY_ATTEMPT_FAILED, MEDIA_TIME, MEDIA_COMPLETE,\n    PLAYLIST_ITEM, PLAYLIST_COMPLETE,\n    INSTREAM_CLICK, AD_SKIPPED } from 'events/events';\nimport { BACKGROUND_LOAD_OFFSET, BACKGROUND_LOAD_MIN_OFFSET } from '../program/program-constants';\nimport Promise from 'polyfills/promise';\nimport { offsetToSeconds } from 'utils/strings';\nimport Events from 'utils/backbone.events';\nimport _ from 'utils/underscore';\nimport AdProgramController from 'program/ad-program-controller';\n\nvar _defaultOptions = {\n    skipoffset: null,\n    tag: null\n};\n\nvar InstreamAdapter = function(_controller, _model, _view, _mediaPool) {\n    const _this = this;\n\n    let _adProgram = new AdProgramController(_model, _mediaPool);\n    let _array;\n    let _arrayOptions;\n    let _arrayIndex = 0;\n    let _options = {};\n    let _skipAd = _instreamItemNext;\n    let _backgroundLoadTriggered = false;\n    let _oldpos;\n    let _skipOffset;\n    let _backgroundLoadStart;\n    let _destroyed = false;\n    let _inited = false;\n\n    const _clickHandler = (evt) => {\n        if (_destroyed) {\n            return;\n        }\n        evt = evt || {};\n        evt.hasControls = !!_model.get('controls');\n\n        this.trigger(INSTREAM_CLICK, evt);\n\n        // toggle playback after click event\n        if (_adProgram.model.get('state') === STATE_PAUSED) {\n            if (evt.hasControls) {\n                _adProgram.playVideo();\n            }\n        } else {\n            _adProgram.pause();\n        }\n    };\n\n    const _doubleClickHandler = () => {\n        if (_destroyed) {\n            return;\n        }\n\n        if (_adProgram.model.get('state') === STATE_PAUSED) {\n            if (_model.get('controls')) {\n                _controller.setFullscreen();\n                _controller.play();\n            }\n        }\n    };\n\n    this.type = 'instream';\n\n    this.addAdProgramTimeListener = function() {\n        if (_inited || _destroyed) {\n            return;\n        }\n\n        _adProgram.on(MEDIA_TIME, _instreamTime, this);\n\n        // This enters the player into instream mode\n        _model.set('instream', _adProgram);\n\n        // don't trigger api play/pause on display click\n        const clickHandler = _view.clickHandler();\n        if (clickHandler) {\n            clickHandler.setAlternateClickHandlers(() => {}, null);\n        }\n\n        return this;\n    };\n\n    this.init = function() {\n        if (_inited || _destroyed) {\n            return;\n        }\n        _inited = true;\n\n        // Keep track of the original player state\n        _adProgram.setup();\n\n        _oldpos = _controller.get('position');\n        _adProgram.on('all', _instreamForward, this);\n        _adProgram.on(MEDIA_PLAY_ATTEMPT_FAILED, triggerPlayRejected, this);\n        _adProgram.on(MEDIA_TIME, _instreamTime, this);\n        _adProgram.on(MEDIA_COMPLETE, _instreamItemComplete, this);\n        _adProgram.on(MEDIA_META, _instreamMeta, this);\n\n        // Make sure the original player's provider stops broadcasting events (pseudo-lock...)\n        _controller.detachMedia();\n\n        const mediaElement = _adProgram.primedElement;\n        const mediaContainer = _model.get('mediaContainer');\n        mediaContainer.appendChild(mediaElement);\n\n        if (_controller.checkBeforePlay() || (_oldpos === 0 && !_controller.isBeforeComplete())) {\n            // make sure video restarts after preroll\n            _oldpos = 0;\n        } else if (_controller.isBeforeComplete() || _model.get('state') === STATE_COMPLETE) {\n            _oldpos = null;\n        }\n\n        // This enters the player into instream mode\n        _model.set('instream', _adProgram);\n        _adProgram.model.set('state', STATE_BUFFERING);\n\n        // don't trigger api play/pause on display click\n        const clickHandler = _view.clickHandler();\n        if (clickHandler) {\n            clickHandler.setAlternateClickHandlers(() => {}, null);\n        }\n\n        this.setText(_model.get('localization').loadingAd);\n        return this;\n    };\n\n    function triggerPlayRejected() { \n        _adProgram.model.set('playRejected', true);\n    }\n\n    function _loadNextItem() {\n        _arrayIndex++;\n        _this.loadItem(_array);\n    }\n\n    function _instreamForward(type, data) {\n        if (type === 'complete') {\n            return;\n        }\n        data = data || {};\n\n        if (_options.tag && !data.tag) {\n            data.tag = _options.tag;\n        }\n\n        this.trigger(type, data);\n\n        if (type === 'mediaError' || type === 'error') {\n            if (_array && _arrayIndex + 1 < _array.length) {\n                _loadNextItem();\n            }\n        }\n    }\n\n    function _instreamTime(evt) {\n        const { duration, position } = evt;\n        const mediaModel = _adProgram.model.mediaModel || _adProgram.model;\n        mediaModel.set('duration', duration);\n        mediaModel.set('position', position);\n\n        // Start background loading once the skip button is clickable\n        // If no skipoffset is set, default to background loading 5 seconds before the end\n        if (!_backgroundLoadStart) {\n            // Ensure background loading doesn't degrade ad performance by starting too early\n            _backgroundLoadStart = (offsetToSeconds(_skipOffset, duration) || duration) - BACKGROUND_LOAD_OFFSET;\n        }\n        if (!_backgroundLoadTriggered && position >= Math.max(_backgroundLoadStart, BACKGROUND_LOAD_MIN_OFFSET)) {\n            _controller.preloadNextItem();\n            _backgroundLoadTriggered = true;\n        }\n    }\n\n    function _instreamItemComplete(e) {\n        var data = {};\n        if (_options.tag) {\n            data.tag = _options.tag;\n        }\n        this.trigger(MEDIA_COMPLETE, data);\n        _instreamItemNext.call(this, e);\n    }\n\n    function _instreamItemNext(e) {\n        if (_array && _arrayIndex + 1 < _array.length) {\n            _loadNextItem();\n        } else {\n            if (e.type === MEDIA_COMPLETE) {\n                // Dispatch playlist complete event for ad pods\n                this.trigger(PLAYLIST_COMPLETE, {});\n            }\n            this.destroy();\n        }\n    }\n\n    this.loadItem = function(item, options) {\n        if (_destroyed || !_inited) {\n            return Promise.reject(new Error('Instream not setup'));\n        }\n        // Copy the playlist item passed in and make sure it's formatted as a proper playlist item\n        let playlist = item;\n        if (_.isArray(item)) {\n            _array = item;\n            _arrayOptions = options || _arrayOptions;\n            item = _array[_arrayIndex];\n            if (_arrayOptions) {\n                options = _arrayOptions[_arrayIndex];\n            }\n        } else {\n            playlist = [item];\n        }\n\n        const adModel = _adProgram.model;\n        adModel.set('playlist', playlist);\n\n        _model.set('hideAdsControls', false);\n\n        // Dispatch playlist item event for ad pods\n        _this.trigger(PLAYLIST_ITEM, {\n            index: _arrayIndex,\n            item: item\n        });\n\n        _options = Object.assign({}, _defaultOptions, options);\n\n        _this.addClickHandler();\n\n        adModel.set('skipButton', false);\n\n        const playPromise = _adProgram.setActiveItem(_arrayIndex);\n\n        _backgroundLoadTriggered = false;\n        _skipOffset = item.skipoffset || _options.skipoffset;\n        if (_skipOffset) {\n            _this.setupSkipButton(_skipOffset, _options);\n        }\n        return playPromise;\n    };\n\n    this.setupSkipButton = function(skipoffset, options, customNext) {\n        const adModel = _adProgram.model;\n        if (customNext) {\n            _skipAd = customNext;\n        } else {\n            _skipAd = _instreamItemNext;\n        }\n        adModel.set('skipMessage', options.skipMessage);\n        adModel.set('skipText', options.skipText);\n        adModel.set('skipOffset', skipoffset);\n        adModel.attributes.skipButton = false;\n        adModel.set('skipButton', true);\n    };\n\n    this.applyProviderListeners = function(provider) {\n        _adProgram.usePsuedoProvider(provider);\n\n        this.addClickHandler();\n    };\n\n    this.play = function() {\n        _adProgram.playVideo();\n    };\n\n    this.pause = function() {\n        _adProgram.pause();\n    };\n\n    this.addClickHandler = function() {\n        if (_destroyed) {\n            return;\n        }\n        // start listening for ad click\n        if (_view.clickHandler()) {\n            _view.clickHandler().setAlternateClickHandlers(_clickHandler, _doubleClickHandler);\n        }\n    };\n\n    this.skipAd = function(evt) {\n        var skipAdType = AD_SKIPPED;\n        this.trigger(skipAdType, evt);\n        _skipAd.call(this, {\n            type: skipAdType\n        });\n    };\n\n    function _instreamMeta(evt) {\n        // If we're getting video dimension metadata from the provider, allow the view to resize the media\n        if (evt.width && evt.height) {\n            _view.resizeMedia();\n        }\n    }\n\n    this.replacePlaylistItem = function(item) {\n        if (_destroyed) {\n            return;\n        }\n        _model.set('playlistItem', item);\n        _adProgram.srcReset();\n    };\n\n    this.destroy = function() {\n        if (_destroyed) {\n            return;\n        }\n        _destroyed = true;\n        this.trigger('destroyed');\n        this.off();\n\n        if (_view.clickHandler()) {\n            _view.clickHandler().revertAlternateClickHandlers();\n        }\n\n        _model.off(null, null, _adProgram);\n        _adProgram.off(null, null, _this);\n        _adProgram.destroy();\n\n        // Force player state with ad to pause for model \"change:state\" events to trigger\n        if (_inited && _adProgram.model) {\n            _model.attributes.state = STATE_PAUSED;\n        }\n\n        _model.set('instream', null);\n\n        _adProgram = null;\n\n        if (!_inited || _model.attributes._destroyed) {\n            return;\n        }\n\n        // Re-attach the controller & resume playback\n        // when instream was inited and the player was not destroyed\\\n        _controller.attachMedia(_oldpos);\n\n        if (this.noResume) {\n            return;\n        }\n\n        if (_oldpos === null) {\n            _controller.stopVideo();\n        } else {\n            _controller.playVideo();\n        }\n    };\n\n    this.getState = function() {\n        if (_destroyed) {\n            // api expects false to know we aren't in instreamMode\n            return false;\n        }\n        return _adProgram.model.get('state');\n    };\n\n    this.setText = function(text) {\n        if (_destroyed) {\n            return;\n        }\n        _view.setAltText(text || '');\n    };\n\n    // This method is triggered by plugins which want to hide player controls\n    this.hide = function() {\n        if (_destroyed) {\n            return;\n        }\n        _model.set('hideAdsControls', true);\n    };\n\n    /**\n     * Extracts the video tag in the foreground.\n     * @returns {Element|undefined} videoTag - the HTML <video> element in the foreground.\n     */\n    this.getMediaElement = function () {\n        if (_destroyed) {\n            return null;\n        }\n        return _adProgram.primedElement;\n    };\n\n    /**\n     * Sets the internal skip offset. Does not set the skip button.\n     * @param {Number} skipOffset - The number of seconds from the start where the ad becomes skippable.\n     * @returns {void}\n     */\n    this.setSkipOffset = function(skipOffset) {\n        // IMA will pass -1 if it doesn't know the skipoffset, or if the ad is unskippable\n        _skipOffset = skipOffset > 0 ? skipOffset : null;\n        if (_adProgram) {\n            _adProgram.model.set('skipOffset', _skipOffset);\n        }\n    };\n};\n\nObject.assign(InstreamAdapter.prototype, Events);\n\nexport default InstreamAdapter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/instream-adapter.js","import { Features } from 'environment/environment';\nimport { ERROR, FULLSCREEN, MEDIA_COMPLETE, PLAYER_STATE, STATE_PLAYING, STATE_PAUSED } from 'events/events';\nimport ProgramController from 'program/program-controller';\nimport Model from 'controller/model';\nimport changeStateEvent from 'events/change-state-event';\nimport SharedMediaPool from 'program/shared-media-pool';\n\nexport default class AdProgramController extends ProgramController {\n    constructor(model, mediaPool) {\n        super(model, mediaPool);\n        const adModel = this.model = new Model();\n        this.playerModel = model;\n        this.provider = null;\n\n        adModel.mediaModel.attributes.mediaType = 'video';\n\n        // Ad plugins must use only one element, and must use the same element during playback of an item\n        // (i.e. prerolls, midrolls, and postrolls must use the same tag)\n        let mediaElement;\n        if (Features.backgroundLoading) {\n            // The media pool has reserves an element for ads to use. It is reserved on setup and is not used by other media\n            mediaElement = mediaPool.getAdElement();\n        } else {\n            // Take the tag that we're using to play the current item. The tag has been freed before reaching this point\n            mediaElement = model.get('mediaElement');\n\n            adModel.attributes.mediaElement = mediaElement;\n            adModel.attributes.mediaSrc = mediaElement.src;\n\n            // Listen to media element for events that indicate src was reset or load() was called\n            const srcResetListener = this.srcResetListener = () => {\n                this.srcReset();\n            };\n            mediaElement.addEventListener('emptied', srcResetListener);\n            mediaElement.playbackRate = mediaElement.defaultPlaybackRate = 1;\n        }\n\n        this.mediaPool = SharedMediaPool(mediaElement, mediaPool);\n    }\n\n    setup() {\n        const { model, playerModel, primedElement } = this;\n        const playerAttributes = playerModel.attributes;\n        const mediaModelContext = playerModel.mediaModel;\n        model.setup({\n            id: playerAttributes.id,\n            volume: playerAttributes.volume,\n            instreamMode: true,\n            edition: playerAttributes.edition,\n            mediaContext: mediaModelContext,\n            mute: playerAttributes.mute,\n            streamType: 'VOD',\n            autostartMuted: playerAttributes.autostartMuted,\n            autostart: playerAttributes.autostart,\n            advertising: playerAttributes.advertising,\n            sdkplatform: playerAttributes.sdkplatform,\n            skipButton: false\n        });\n\n        model.on('fullscreenchange', this._nativeFullscreenHandler);\n        model.on('change:state', changeStateEvent, this);\n        model.on(ERROR, function(data) {\n            this.trigger(ERROR, data);\n        }, this);\n\n        if (!primedElement.paused) {\n            primedElement.pause();\n        }\n    }\n\n    setActiveItem(index) {\n        this.stopVideo();\n        this.provider = null;\n        super.setActiveItem(index)\n            .then((mediaController) => {\n                this._setProvider(mediaController.provider);\n            });\n        return this.playVideo();\n    }\n\n    usePsuedoProvider(provider) {\n        this.provider = provider;\n        if (!provider) {\n            return;\n        }\n        this._setProvider(provider);\n\n        // Match the main player's controls state\n        provider.off(ERROR);\n        provider.on(ERROR, function(data) {\n            this.trigger(ERROR, data);\n        }, this);\n    }\n\n    _setProvider(provider) {\n        // Clear current provider when applyProviderListeners(null) is called\n        if (!provider || !this.mediaPool) {\n            return;\n        }\n\n        const { model, playerModel } = this;\n        const isVpaidProvider = provider.type === 'vpaid';\n\n        provider.off();\n        provider.on('all', function(type, data) {\n            if (isVpaidProvider && (type === MEDIA_COMPLETE)) {\n                return;\n            }\n            this.trigger(type, Object.assign({}, data, { type: type }));\n        }, this);\n\n        const adMediaModelContext = model.mediaModel;\n        provider.on(PLAYER_STATE, (event) => {\n            adMediaModelContext.set('mediaState', event.newstate);\n        });\n        adMediaModelContext.on('change:mediaState', (changeAdModel, state) => {\n            this._stateHandler(state);\n        });\n        provider.attachMedia();\n        provider.volume(playerModel.get('volume'));\n        provider.mute(playerModel.getMute());\n        if (provider.setPlaybackRate) {\n            provider.setPlaybackRate(1);\n        }\n        playerModel.on('change:volume', function(data, value) {\n            this.volume = value;\n        }, this);\n        playerModel.on('change:mute', function(data, mute) {\n            this.mute = mute;\n            if (!mute) {\n                this.volume = playerModel.get('volume');\n            }\n        }, this);\n        playerModel.on('change:autostartMuted', function(data, value) {\n            if (!value) {\n                model.set('autostartMuted', value);\n                this.mute = playerModel.get('mute');\n            }\n        }, this);\n    }\n\n    destroy() {\n        const { model, mediaPool, playerModel } = this;\n        model.off();\n\n        // We only use one media element from ads; getPrimedElement will return it\n        const mediaElement = mediaPool.getPrimedElement();\n        if (!Features.backgroundLoading) {\n            if (mediaElement) {\n                mediaElement.removeEventListener('emptied', this.srcResetListener);\n                // Reset the player media model if the src was changed externally\n                if (mediaElement.src !== model.get('mediaSrc')) {\n                    this.srcReset();\n                }\n            }\n        } else {\n            mediaPool.clean();\n            const mediaContainer = playerModel.get('mediaContainer');\n            if (mediaElement.parentNode === mediaContainer) {\n                mediaContainer.removeChild(mediaElement);\n            }\n        }\n    }\n\n    srcReset() {\n        const { playerModel } = this;\n        const mediaModel = playerModel.get('mediaModel');\n        const provider = playerModel.getVideo();\n\n        mediaModel.srcReset();\n\n        // Set hlsjs.src to null so that it reloads it's item source\n        if (provider) {\n            provider.src = null;\n        }\n    }\n\n    _nativeFullscreenHandler(evt) {\n        const { model } = this;\n        model.trigger(evt.type, evt);\n        this.trigger(FULLSCREEN, {\n            fullscreen: evt.jwstate\n        });\n    }\n\n    _stateHandler(state) {\n        const { model } = this;\n        switch (state) {\n            case STATE_PLAYING:\n            case STATE_PAUSED:\n                model.set(PLAYER_STATE, state);\n                break;\n            default:\n                break;\n        }\n    }\n\n    set mute(mute) {\n        const { mediaController, model, provider } = this;\n        model.set('mute', mute);\n        super.mute = mute;\n        if (!mediaController) {\n            provider.mute(mute);\n        }\n    }\n\n    set volume(volume) {\n        const { mediaController, model, provider } = this;\n        model.set('volume', volume);\n        super.volume = volume;\n        if (!mediaController) {\n            provider.volume(volume);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/ad-program-controller.js","import cancelable from 'utils/cancelable';\nimport Eventable from 'utils/eventable';\nimport ApiQueueDecorator from 'api/api-queue';\nimport { ProviderListener } from 'program/program-listeners';\nimport { resolved } from 'polyfills/promise';\nimport { MediaModel } from 'controller/model';\nimport { seconds } from 'utils/strings';\nimport {\n    MEDIA_PLAY_ATTEMPT, MEDIA_PLAY_ATTEMPT_FAILED, MEDIA_COMPLETE,\n    PLAYER_STATE, STATE_PAUSED, STATE_BUFFERING, STATE_COMPLETE,\n    MEDIA_VISUAL_QUALITY\n} from 'events/events';\n\nexport default class MediaController extends Eventable {\n    constructor(provider, model) {\n        super();\n        this.attached = true;\n        this.beforeComplete = false;\n        this.item = null;\n        this.mediaModel = new MediaModel();\n        this.model = model;\n        this.provider = provider;\n        this.providerListener = new ProviderListener(this);\n        this.thenPlayPromise = cancelable(() => {});\n        addProviderListeners(this);\n        this.eventQueue = new ApiQueueDecorator(this, ['trigger'],\n            () => !this.attached || this.background);\n    }\n\n    play(playReason) {\n        const { item, model, mediaModel, provider } = this;\n\n        if (!playReason) {\n            playReason = model.get('playReason');\n        }\n\n        model.set('playRejected', false);\n        let playPromise = resolved;\n        if (mediaModel.get('setup')) {\n            playPromise = provider.play();\n        } else {\n            mediaModel.set('setup', true);\n            playPromise = this._loadAndPlay(item, provider);\n            if (!mediaModel.get('started')) {\n                this._playAttempt(playPromise, playReason);\n            }\n        }\n        return playPromise;\n    }\n\n    stop() {\n        const { provider } = this;\n        provider.stop();\n    }\n\n    pause() {\n        const { provider } = this;\n        provider.pause();\n    }\n\n    preload() {\n        const { item, mediaModel, provider } = this;\n        if (!item || (item && item.preload === 'none')) {\n            return;\n        }\n        // The provider has a video tag, but has not started nor preloaded\n        if (this.attached && !this.setup && !this.preloaded) {\n            mediaModel.set('preloaded', true);\n            provider.preload(item);\n        }\n    }\n\n    destroy() {\n        const { provider, mediaModel } = this;\n        this.off();\n        mediaModel.off();\n        provider.off();\n        this.eventQueue.destroy();\n        this.detach();\n        if (provider.getContainer()) {\n            provider.remove();\n        }\n        delete provider.instreamMode;\n        this.provider = null;\n        this.item = null;\n    }\n\n    attach() {\n        const { model, provider } = this;\n\n        // Restore the playback rate to the provider in case it changed while detached and we reused a video tag.\n        model.setPlaybackRate(model.get('defaultPlaybackRate'));\n        provider.attachMedia();\n        this.attached = true;\n        model.set('attached', true);\n        this.eventQueue.flush();\n\n        if (this.beforeComplete) {\n            this._playbackComplete();\n        }\n    }\n\n    detach() {\n        const { model, provider } = this;\n        this.thenPlayPromise.cancel();\n        provider.detachMedia();\n        this.attached = false;\n        model.set('attached', false);\n    }\n\n    // Executes the playPromise\n    _playAttempt(playPromise, playReason) {\n        const { item, mediaModel, model, provider } = this;\n\n        this.trigger(MEDIA_PLAY_ATTEMPT, {\n            item,\n            playReason\n        });\n        // Immediately set player state to buffering if these conditions are met\n        if (provider && provider.video && !provider.video.paused) {\n            model.set(PLAYER_STATE, STATE_BUFFERING);\n        }\n\n        playPromise.then(() => {\n            if (!mediaModel.get('setup')) {\n                // Exit if model state was reset\n                return;\n            }\n            delete item.starttime;\n            mediaModel.set('started', true);\n            if (mediaModel === model.mediaModel) {\n                // Start firing visualQuality once playback has started\n                mediaModel.off(MEDIA_VISUAL_QUALITY, null, this);\n                mediaModel.change(MEDIA_VISUAL_QUALITY, (changedMediaModel, eventData) => {\n                    this.trigger(MEDIA_VISUAL_QUALITY, eventData);\n                }, this);\n                syncPlayerWithMediaModel(mediaModel);\n            }\n        }).catch(error => {\n            model.set('playRejected', true);\n            const videoTagPaused = provider && provider.video && provider.video.paused;\n            if (videoTagPaused) {\n                mediaModel.set('mediaState', STATE_PAUSED);\n            }\n            this.trigger(MEDIA_PLAY_ATTEMPT_FAILED, {\n                error,\n                item,\n                playReason\n            });\n        });\n    }\n\n    _playbackComplete() {\n        const { provider } = this;\n        this.beforeComplete = false;\n        provider.setState(STATE_COMPLETE);\n        this.trigger(MEDIA_COMPLETE, {});\n    }\n\n    _loadAndPlay() {\n        const { item, provider } = this;\n        // Calling load() on Shaka may return a player setup promise\n        const providerSetupPromise = provider.load(item);\n        if (providerSetupPromise) {\n            const thenPlayPromise = cancelable(() => {\n                return provider.play() || resolved;\n            });\n            this.thenPlayPromise = thenPlayPromise;\n            return providerSetupPromise.then(thenPlayPromise.async);\n        }\n        return provider.play() || resolved;\n    }\n\n    get audioTrack() {\n        return this.provider.getCurrentAudioTrack();\n    }\n\n    get quality() {\n        return this.provider.getCurrentQuality();\n    }\n\n    get audioTracks() {\n        return this.provider.getAudioTracks();\n    }\n\n    get background() {\n        const { container, provider } = this;\n        // A backgrounded provider is attached to a video tag\n        if (!this.attached) {\n            return false;\n        }\n        // A provider without a video tag cannot be backgrounded\n        if (!provider.video) {\n            return false;\n        }\n        // A backgrounded provider does not have a parent container, or has one, but without the media tag as a child\n        return !container || (container && !container.contains(provider.video));\n    }\n\n    get container() {\n        return this.provider.getContainer();\n    }\n\n    get mediaElement() {\n        return this.provider.video;\n    }\n\n    get preloaded() {\n        return this.mediaModel.get('preloaded');\n    }\n\n    get qualities() {\n        return this.provider.getQualityLevels();\n    }\n\n    get setup() {\n        return this.mediaModel.get('setup');\n    }\n\n    get started() {\n        return this.mediaModel.get('started');\n    }\n\n    set activeItem(item) {\n        const mediaModel = this.mediaModel = new MediaModel();\n        const position = item ? seconds(item.starttime) : 0;\n        const duration = item ? seconds(item.duration) : 0;\n        const mediaModelState = mediaModel.attributes;\n        mediaModel.srcReset();\n        mediaModelState.position = position;\n        mediaModelState.duration = duration;\n\n        this.item = item;\n        this.provider.init(item);\n    }\n\n    set audioTrack(index) {\n        this.provider.setCurrentAudioTrack(index);\n    }\n\n    set background(shouldBackground) {\n        const { container, provider } = this;\n        // A provider without a video tag must use attach and detach\n        if (!provider.video) {\n            if (shouldBackground) {\n                this.detach();\n            } else {\n                this.attach();\n            }\n            return;\n        }\n        if (!container) {\n            return;\n        }\n\n        if (shouldBackground) {\n            if (!this.background) {\n                this.thenPlayPromise.cancel();\n                this.pause();\n                container.removeChild(provider.video);\n                this.container = null;\n            }\n        } else {\n            this.eventQueue.flush();\n            if (this.beforeComplete) {\n                this._playbackComplete();\n            }\n        }\n    }\n\n    set container(element) {\n        const { provider } = this;\n        provider.setContainer(element);\n    }\n\n    set controls(mode) {\n        this.provider.setControls(mode);\n    }\n\n    set mute(mute) {\n        this.provider.mute(mute);\n    }\n\n    set position(pos) {\n        this.provider.seek(pos);\n    }\n\n    set quality(index) {\n        this.provider.setCurrentQuality(index);\n    }\n\n    set subtitles(index) {\n        if (this.provider.setSubtitlesTrack) {\n            this.provider.setSubtitlesTrack(index);\n        }\n    }\n\n    set volume(volume) {\n        this.provider.volume(volume);\n    }\n}\n\nfunction syncPlayerWithMediaModel(mediaModel) {\n    // Sync player state with mediaModel state\n    const mediaState = mediaModel.get('mediaState');\n    mediaModel.trigger('change:mediaState', mediaModel, mediaState, mediaState);\n}\n\nfunction addProviderListeners(mediaController) {\n    mediaController.provider.on('all', mediaController.providerListener, mediaController);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/media-controller.js","/**\n * A simple data structure for containing both of the background loading objects.\n * currentMedia is the currently active item which has been put into the background during ad playback.\n * nextMedia is an item which is preloading in the background which may be selected in the future. It is usually the\n * next item in the playlist, or the next up item in a recommendations feed.\n * @returns {BackgroundMedia}\n */\n/**\n * @typedef {Object} BackgroundMedia\n * @property {MediaController} currentMedia - The mediaController which has been placed into the background during playback.\n * @property {Item} nextItem - The playlist item loading in the background.\n * @property {Promise} nextMedia - A promise representing the media loading in the background. Resolves with the mediaController.\n * @constructor\n */\nexport default function BackgroundMedia() {\n    let currentMedia = null;\n    let nextMedia = null;\n\n    return Object.defineProperties({\n        setNext(item, loadPromise) {\n            nextMedia = { item, loadPromise };\n        },\n        isNext(item) {\n            return !!(nextMedia && JSON.stringify(nextMedia.item.sources[0]) === JSON.stringify(item.sources[0]));\n        },\n        clearNext() {\n            nextMedia = null;\n        }\n    }, {\n        nextLoadPromise: {\n            get() {\n                return nextMedia ? nextMedia.loadPromise : null;\n            }\n        },\n        currentMedia: {\n            get() {\n                return currentMedia;\n            },\n            set(mediaController) {\n                currentMedia = mediaController;\n            }\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/background-media.js","import { loadFile } from 'controller/tracks-loader';\nimport { createId, createLabel } from 'controller/tracks-helper';\nimport Events from 'utils/backbone.events';\nimport { ERROR } from 'events/events';\n\n/* Displays closed captions or subtitles on top of the video */\nconst Captions = function(_model) {\n\n    let _tracks = [];\n    let _tracksById = {};\n    let _unknownCount = 0;\n\n    // Reset and load external captions on playlist item\n    _model.on('change:playlistItem', (model) => {\n        _tracks = [];\n        _tracksById = {};\n        _unknownCount = 0;\n\n        // Update model without dispatching events\n        const attributes = model.attributes;\n        attributes.captionsIndex = 0;\n        attributes.captionsList = _captionsMenu();\n        model.set('captionsTrack', null);\n    }, this);\n\n    // Update tracks once we know \"renderCaptionsNatively\" based on provider\n    _model.on('change:itemReady', () => {\n        // Sideload tracks when not rendering natively\n        const item = _model.get('playlistItem');\n        const tracks = item.tracks;\n        const len = tracks && tracks.length;\n        if (len && !_model.get('renderCaptionsNatively')) {\n            for (let i = 0; i < len; i++) {\n                /* eslint-disable no-loop-func */\n                const track = tracks[i];\n                if (_kindSupported(track.kind) && !_tracksById[track._id]) {\n                    _addTrack(track);\n                    loadFile(track, (vttCues) => {\n                        _addVTTCuesToTrack(track, vttCues);\n                    }, (error) => {\n                        this.trigger(ERROR, {\n                            message: 'Captions failed to load',\n                            reason: error\n                        });\n                    });\n                }\n            }\n        }\n        _setCaptionsList();\n    }, this);\n\n    // Listen for captions menu index changes from the view\n    _model.on('change:captionsIndex', (model, captionsMenuIndex) => {\n        let track = null;\n        if (captionsMenuIndex !== 0) {\n            track = _tracks[captionsMenuIndex - 1];\n        }\n        model.set('captionsTrack', track);\n    }, this);\n\n    function _setSubtitlesTracks(tracks) {\n        if (!tracks.length) {\n            return;\n        }\n\n        for (let i = 0; i < tracks.length; i++) {\n            _addTrack(tracks[i]);\n        }\n\n        // To avoid duplicate tracks in the menu when we reuse an _id, regenerate the tracks array\n        _tracks = Object.keys(_tracksById).map(id => _tracksById[id]);\n\n        _setCaptionsList();\n    }\n\n    function _kindSupported(kind) {\n        return kind === 'subtitles' || kind === 'captions';\n    }\n\n    function _addVTTCuesToTrack(track, vttCues) {\n        track.data = vttCues;\n    }\n\n    function _addTrack(track) {\n        track.data = track.data || [];\n        track.name = track.label || track.name || track.language;\n        track._id = createId(track, _tracks.length);\n\n        if (!track.name) {\n            const labelInfo = createLabel(track, _unknownCount);\n            track.name = labelInfo.label;\n            _unknownCount = labelInfo.unknownCount;\n        }\n\n        // During the same playlist we may reu and readd tracks with the same _id; allow the new track to replace the old\n        _tracksById[track._id] = track;\n        _tracks.push(track);\n    }\n\n    function _captionsMenu() {\n        const list = [{\n            id: 'off',\n            label: 'Off'\n        }];\n        for (let i = 0; i < _tracks.length; i++) {\n            list.push({\n                id: _tracks[i]._id,\n                label: _tracks[i].name || 'Unknown CC'\n            });\n        }\n        return list;\n    }\n\n    function _selectDefaultIndex() {\n        let captionsMenuIndex = 0;\n        const label = _model.get('captionLabel');\n\n        // Because there is no explicit track for \"Off\"\n        //  it is the implied zeroth track\n        if (label === 'Off') {\n            _model.set('captionsIndex', 0);\n            return;\n        }\n\n        for (let i = 0; i < _tracks.length; i++) {\n            const track = _tracks[i];\n            if (label && label === track.name) {\n                captionsMenuIndex = i + 1;\n                break;\n            } else if (track.default || track.defaulttrack || track._id === 'default') {\n                captionsMenuIndex = i + 1;\n            } else if (track.autoselect) {\n                // TODO: auto select track by comparing track.language to system lang\n            }\n        }\n        // set the index without the side effect of storing the Off label in _selectCaptions\n        _setCurrentIndex(captionsMenuIndex);\n    }\n\n    function _setCurrentIndex(index) {\n        if (_tracks.length) {\n            _model.setVideoSubtitleTrack(index, _tracks);\n        } else {\n            _model.set('captionsIndex', index);\n        }\n    }\n\n    function _setCaptionsList() {\n        const captionsList = _captionsMenu();\n        if (listIdentity(captionsList) !== listIdentity(_model.get('captionsList'))) {\n            _selectDefaultIndex();\n            _model.set('captionsList', captionsList);\n        }\n    }\n\n    function listIdentity(list) {\n        return list.map(item => `${item.id}-${item.label}`).join(',');\n    }\n\n    this.setSubtitlesTracks = _setSubtitlesTracks;\n\n    this.getCurrentIndex = function() {\n        return _model.get('captionsIndex');\n    };\n\n    this.getCaptionsList = function() {\n        return _model.get('captionsList');\n    };\n\n    this.destroy = function() {\n        this.off(null, null, this);\n    };\n};\n\nObject.assign(Captions.prototype, Events);\n\nexport default Captions;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/captions.js","import playerTemplate from 'templates/player';\nimport ErrorContainer from 'view/error-container';\nimport { isAudioMode, CONTROLBAR_ONLY_HEIGHT } from 'view/utils/audio-mode';\nimport viewsManager from 'view/utils/views-manager';\nimport getVisibility from 'view/utils/visibility';\nimport activeTab from 'utils/active-tab';\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\nimport { getBreakpoint, setBreakpoint } from 'view/utils/breakpoint';\nimport { normalizeSkin, handleColorOverrides } from 'view/utils/skin';\nimport { Browser, OS, Features } from 'environment/environment';\nimport * as ControlsLoader from 'controller/controls-loader';\nimport {\n    STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE, STATE_PAUSED, STATE_PLAYING, STATE_ERROR,\n    RESIZE, BREAKPOINT, DISPLAY_CLICK, LOGO_CLICK, ERROR, NATIVE_FULLSCREEN, MEDIA_VISUAL_QUALITY, CONTROLS } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport {\n    addClass,\n    hasClass,\n    removeClass,\n    replaceClass,\n    toggleClass,\n    createElement,\n    bounds,\n} from 'utils/dom';\nimport {\n    clearCss,\n    style,\n} from 'utils/css';\nimport _ from 'utils/underscore';\nimport requestFullscreenHelper from 'view/utils/request-fullscreen-helper';\nimport flagNoFocus from 'view/utils/flag-no-focus';\nimport ClickHandler from 'view/utils/clickhandler';\nimport CaptionsRenderer from 'view/captionsrenderer';\nimport Logo from 'view/logo';\nimport Preview from 'view/preview';\nimport Title from 'view/title';\n\nrequire('css/jwplayer.less');\n\nlet ControlsModule;\n\nconst _isMobile = OS.mobile;\nconst _isIE = Browser.ie;\n\nfunction View(_api, _model) {\n    const _this = Object.assign(this, Events, {\n        isSetup: false,\n        api: _api,\n        model: _model\n    });\n\n    const _playerElement = createElement(playerTemplate(_model.get('id'), _model.get('localization').player));\n    const _videoLayer = _playerElement.querySelector('.jw-media');\n\n    const _preview = new Preview(_model);\n    const _title = new Title(_model);\n\n    const _captionsRenderer = new CaptionsRenderer(_model);\n    _captionsRenderer.on('all', _this.trigger, _this);\n\n    let _logo;\n\n    let _lastWidth;\n    let _lastHeight;\n\n    let _resizeMediaTimeout = -1;\n    let _resizeContainerRequestId = -1;\n    let _stateClassRequestId = -1;\n\n    let displayClickHandler;\n    let fullscreenHelpers;\n    let focusHelper;\n\n    let _breakpoint = null;\n    let _controls;\n\n    function reasonInteraction() {\n        return { reason: 'interaction' };\n    }\n\n    this.updateBounds = function () {\n        cancelAnimationFrame(_resizeContainerRequestId);\n        const inDOM = document.body.contains(_playerElement);\n        const rect = bounds(_playerElement);\n        const containerWidth = Math.round(rect.width);\n        const containerHeight = Math.round(rect.height);\n\n        // If the container is the same size as before, return early\n        if (containerWidth === _lastWidth && containerHeight === _lastHeight) {\n            // Listen for player to be added to DOM\n            if (!_lastWidth || !_lastHeight) {\n                _responsiveListener();\n            }\n            _model.set('inDom', inDOM);\n            return;\n        }\n        // If we have bad values for either dimension, return early\n        if (!containerWidth || !containerHeight) {\n            // If we haven't established player size, try again\n            if (!_lastWidth || !_lastHeight) {\n                _responsiveListener();\n            }\n        }\n\n        // Don't update container dimensions to 0, 0 when not in DOM\n        if (containerWidth || containerHeight || inDOM) {\n            _model.set('containerWidth', containerWidth);\n            _model.set('containerHeight', containerHeight);\n        }\n        _model.set('inDom', inDOM);\n\n        if (inDOM) {\n            viewsManager.observe(_playerElement);\n        }\n    };\n\n    this.updateStyles = function() {\n        const containerWidth = _model.get('containerWidth');\n        const containerHeight = _model.get('containerHeight');\n\n        if (_model.get('controls')) {\n            updateContainerStyles(containerWidth, containerHeight);\n        }\n\n        if (_controls) {\n            _controls.resize(containerWidth, containerHeight);\n        }\n\n        _resizeMedia(containerWidth, containerHeight);\n        _captionsRenderer.resize();\n    };\n\n    this.checkResized = function() {\n        const containerWidth = _model.get('containerWidth');\n        const containerHeight = _model.get('containerHeight');\n        if (containerWidth !== _lastWidth || containerHeight !== _lastHeight) {\n            _lastWidth = containerWidth;\n            _lastHeight = containerHeight;\n            _this.trigger(RESIZE, {\n                width: containerWidth,\n                height: containerHeight\n            });\n            const breakpoint = getBreakpoint(containerWidth);\n            if (_breakpoint !== breakpoint) {\n                _breakpoint = breakpoint;\n                _this.trigger(BREAKPOINT, {\n                    breakpoint: _breakpoint\n                });\n            }\n        }\n    };\n\n    function _responsiveListener() {\n        cancelAnimationFrame(_resizeContainerRequestId);\n        _resizeContainerRequestId = requestAnimationFrame(_responsiveUpdate);\n    }\n\n    function _responsiveUpdate() {\n        if (!_this.isSetup) {\n            return;\n        }\n        _this.updateBounds();\n        _this.updateStyles();\n        _this.checkResized();\n    }\n\n    function updateContainerStyles(width, height) {\n        const audioMode = isAudioMode(_model);\n        // Set timeslider flags\n        if (_.isNumber(width) && _.isNumber(height)) {\n            const breakpoint = getBreakpoint(width);\n            setBreakpoint(_playerElement, breakpoint);\n\n            const smallPlayer = breakpoint < 2;\n            toggleClass(_playerElement, 'jw-flag-small-player', smallPlayer);\n            toggleClass(_playerElement, 'jw-orientation-portrait', (height > width));\n        }\n        toggleClass(_playerElement, 'jw-flag-audio-player', audioMode);\n        _model.set('audioMode', audioMode);\n    }\n\n    this.setup = function () {\n        _preview.setup(_playerElement.querySelector('.jw-preview'));\n        _title.setup(_playerElement.querySelector('.jw-title'));\n\n        _logo = new Logo(_model);\n        _logo.setup();\n        _logo.setContainer(_playerElement);\n        _logo.on(LOGO_CLICK, _logoClickHandler);\n\n        // captions rendering\n        _captionsRenderer.setup(_playerElement.id, _model.get('captions'));\n\n        // captions should be placed behind controls, and not hidden when controls are hidden\n        _playerElement.insertBefore(_captionsRenderer.element(), _title.element());\n\n        // Display Click and Double Click Handling\n        displayClickHandler = clickHandlerHelper(_api, _model, _videoLayer);\n\n        focusHelper = flagNoFocus(_playerElement);\n        fullscreenHelpers = requestFullscreenHelper(_playerElement, document, _fullscreenChangeHandler);\n\n        _model.on('change:hideAdsControls', function (model, val) {\n            toggleClass(_playerElement, 'jw-flag-ads-hide-controls', val);\n        });\n        _model.on('change:scrubbing', function (model, val) {\n            toggleClass(_playerElement, 'jw-flag-dragging', val);\n        });\n        _model.on('change:playRejected', function (model, val) {\n            toggleClass(_playerElement, 'jw-flag-play-rejected', val);\n        });\n\n        // Native fullscreen (coming through from the provider)\n        _model.on(NATIVE_FULLSCREEN, _fullscreenChangeHandler);\n\n        _model.on(`change:${MEDIA_VISUAL_QUALITY}`, () => {\n            _resizeMedia();\n        });\n\n        const playerViewModel = _model.player;\n        playerViewModel.on('change:errorEvent', _errorHandler);\n        \n        _model.change('stretching', onStretchChange);\n        _model.change('flashBlocked', onFlashBlockedChange);\n\n        const width = _model.get('width');\n        const height = _model.get('height');\n        _resizePlayer(width, height);\n        _model.change('aspectratio', onAspectRatioChange);\n        if (_model.get('controls')) {\n            updateContainerStyles(width, height);\n        } else {\n            addClass(_playerElement, 'jw-flag-controls-hidden');\n        }\n\n        if (_isIE) {\n            addClass(_playerElement, 'jw-ie');\n        }\n\n        const skin = _model.get('skin') || {};\n\n        if (skin.name) {\n            replaceClass(_playerElement, /jw-skin-\\S+/, 'jw-skin-' + skin.name);\n        }\n\n        const skinColors = normalizeSkin(skin);\n        handleColorOverrides(_model.get('id'), skinColors);\n\n        // adds video tag to video layer\n        _model.set('mediaContainer', _videoLayer);\n        _model.set('iFrame', Features.iframe);\n        _model.set('activeTab', activeTab());\n        _model.set('touchMode', _isMobile && (typeof height === 'string' || height >= CONTROLBAR_ONLY_HEIGHT));\n\n        viewsManager.add(this);\n\n        this.isSetup = true;\n        _model.trigger('viewSetup', _playerElement);\n\n        const inDOM = document.body.contains(_playerElement);\n        if (inDOM) {\n            viewsManager.observe(_playerElement);\n        }\n        _model.set('inDom', inDOM);\n    };\n\n    function updateVisibility() {\n        _model.set('visibility', getVisibility(_model, _playerElement));\n    }\n\n    this.init = function() {\n        this.updateBounds();\n\n        _model.on('change:fullscreen', _fullscreen);\n        _model.on('change:activeTab', updateVisibility);\n        _model.on('change:fullscreen', updateVisibility);\n        _model.on('change:intersectionRatio', updateVisibility);\n        _model.on('change:visibility', redraw);\n        _model.on('instreamMode', (instreamMode) => {\n            if (instreamMode) {\n                setupInstream();\n            } else {\n                destroyInstream();\n            }\n        });\n\n        updateVisibility();\n\n        // Always draw first player for icons to load\n        if (viewsManager.size() === 1 && !_model.get('visibility')) {\n            redraw(_model, 1, 0);\n        }\n\n        const playerViewModel = _model.player;\n\n        _model.change('state', _stateHandler);\n        playerViewModel.change('controls', changeControls);\n        playerViewModel.change('streamType', _setLiveMode);\n        _model.change('mediaType', _onMediaTypeChange);\n        playerViewModel.change('playlistItem', onPlaylistItem);\n        // Triggering 'resize' resulting in player 'ready'\n        _lastWidth = _lastHeight = null;\n        this.checkResized();\n    };\n\n    function changeControls(model, enable) {\n        const controlsEvent = {\n            controls: enable\n        };\n        if (enable) {\n            ControlsModule = ControlsLoader.module.controls;\n            if (!ControlsModule) {\n                controlsEvent.loadPromise = ControlsLoader.load()\n                    .then(function (Controls) {\n                        ControlsModule = Controls;\n                        // Check that controls is still true after the loader promise resolves\n                        const enabledState = model.get('controls');\n                        if (enabledState) {\n                            addControls();\n                        }\n                        return enabledState;\n                    });\n                controlsEvent.loadPromise.catch(function (reason) {\n                    _this.trigger(ERROR, {\n                        message: 'Controls failed to load',\n                        reason: reason\n                    });\n                });\n            } else {\n                addControls();\n            }\n        } else {\n            _this.removeControls();\n        }\n        // Only trigger controls events after the player and view are set up (and has width/height)\n        if (_lastWidth && _lastHeight) {\n            _this.trigger(CONTROLS, controlsEvent);\n        }\n    }\n\n    function addControls() {\n        const controls = new ControlsModule(document, _this.element());\n        _this.addControls(controls);\n    }\n\n    function redraw(model, visibility, lastVisibility) {\n        if (visibility && !lastVisibility) {\n            _stateHandler(model, model.get('state'));\n            _this.updateStyles();\n        }\n    }\n\n    function clickHandlerHelper(api, model, videoLayer) {\n        const clickHandler = new ClickHandler(model, videoLayer);\n        const controls = model.get('controls');\n        clickHandler.on({\n            click: () => {\n                _this.trigger(DISPLAY_CLICK);\n\n                if (_controls) {\n                    if (settingsMenuVisible()) {\n                        _controls.settingsMenu.close();\n                    } else {\n                        api.playToggle(reasonInteraction());\n                    }\n                }\n            },\n            tap: () => {\n                _playerElement.removeEventListener('mousemove', moveHandler);\n                _playerElement.removeEventListener('mouseout', outHandler);\n                _playerElement.removeEventListener('mouseover', overHandler);\n                _this.trigger(DISPLAY_CLICK);\n                if (settingsMenuVisible()) {\n                    _controls.settingsMenu.close();\n                }\n                const state = model.get('state');\n\n                if (controls &&\n                    ((state === STATE_IDLE || state === STATE_COMPLETE) ||\n                    (model.get('instream') && state === STATE_PAUSED))) {\n                    api.playToggle(reasonInteraction());\n                }\n\n                if (controls && state === STATE_PAUSED) {\n                    // Toggle visibility of the controls when tapping the media\n                    // Do not add mobile toggle \"jw-flag-controls-hidden\" in these cases\n                    if (model.get('instream') || model.get('castActive') || (model.get('mediaType') === 'audio')) {\n                        return;\n                    }\n                    toggleClass(_playerElement, 'jw-flag-controls-hidden');\n                    _captionsRenderer.renderCues(true);\n                } else if (_controls) {\n                    if (!_controls.showing) {\n                        _controls.userActive();\n                    } else {\n                        _controls.userInactive();\n                    }\n                }\n            },\n            doubleClick: () => _controls && api.setFullscreen()\n        });\n\n        _playerElement.addEventListener('mousemove', moveHandler);\n        _playerElement.addEventListener('mouseover', overHandler);\n        _playerElement.addEventListener('mouseout', outHandler);\n\n        return clickHandler;\n    }\n\n    function moveHandler(event) {\n        if (_controls) {\n            _controls.mouseMove(event);\n        }\n    }\n\n    function overHandler(event) {\n        if (_controls && !_controls.showing && event.target.nodeName === 'IFRAME') {\n            _controls.userActive();\n        }\n    }\n\n    function outHandler(event) {\n        if (_controls && _controls.showing && event.relatedTarget && !_playerElement.contains(event.relatedTarget)) {\n            _controls.userActive();\n        }\n    }\n\n    function onStretchChange(model, newVal) {\n        replaceClass(_playerElement, /jw-stretch-\\S+/, 'jw-stretch-' + newVal);\n    }\n\n    function onAspectRatioChange(model, aspectratio) {\n        toggleClass(_playerElement, 'jw-flag-aspect-mode', !!aspectratio);\n        const aspectRatioContainer = _playerElement.querySelector('.jw-aspect');\n        style(aspectRatioContainer, {\n            paddingTop: aspectratio || null\n        });\n    }\n\n    function onFlashBlockedChange(model, isBlocked) {\n        toggleClass(_playerElement, 'jw-flag-flash-blocked', isBlocked);\n    }\n\n    function _logoClickHandler(evt) {\n        if (!evt.link) {\n            if (_model.get('controls')) {\n                _api.playToggle(reasonInteraction());\n            }\n        } else {\n            _api.pause(reasonInteraction());\n            _api.setFullscreen(false);\n            window.open(evt.link, evt.linktarget);\n        }\n    }\n\n    this.addControls = function (controls) {\n        _controls = controls;\n\n        removeClass(_playerElement, 'jw-flag-controls-hidden');\n\n        controls.enable(_api, _model);\n\n        // refresh breakpoint and timeslider classes\n        if (_lastHeight) {\n            updateContainerStyles(_lastWidth, _lastHeight);\n            controls.resize(_lastWidth, _lastHeight);\n            _captionsRenderer.renderCues(true);\n        }\n\n        controls.on('userActive userInactive', function() {\n            const state = _model.get('state');\n            if (state === STATE_PLAYING || state === STATE_BUFFERING) {\n                _captionsRenderer.renderCues(true);\n            }\n        });\n\n        controls.on('all', _this.trigger, _this);\n\n        if (_model.get('instream')) {\n            _controls.setupInstream();\n        }\n    };\n\n    this.removeControls = function () {\n        if (_controls) {\n            _controls.disable(_model);\n            _controls = null;\n        }\n\n        addClass(_playerElement, 'jw-flag-controls-hidden');\n    };\n\n    // Perform the switch to fullscreen\n    const _fullscreen = function (model, state) {\n\n        // Unmute the video so volume can be adjusted with native controls in fullscreen\n        if (state && _controls && model.get('autostartMuted')) {\n            _controls.unmuteAutoplay(_api, model);\n        }\n\n        if (fullscreenHelpers.supportsDomFullscreen()) {\n            if (state) {\n                fullscreenHelpers.requestFullscreen();\n            } else {\n                fullscreenHelpers.exitFullscreen();\n            }\n            _toggleDOMFullscreen(_playerElement, state);\n        } else if (_isIE) {\n            _toggleDOMFullscreen(_playerElement, state);\n        } else {\n            // Request media element fullscreen (iOS)\n            const provider = model.getVideo();\n            provider.setFullscreen(state);\n        }\n    };\n\n    function _resizePlayer(playerWidth, playerHeight, resetAspectMode) {\n        const widthSet = playerWidth !== undefined;\n        const heightSet = playerHeight !== undefined;\n        const playerStyle = {\n            width: playerWidth\n        };\n\n        // when jwResize is called remove aspectMode and force layout\n        if (heightSet && resetAspectMode) {\n            _model.set('aspectratio', null);\n        }\n        if (!_model.get('aspectratio')) {\n            // If the height is a pixel value (number) greater than 0, snap it to the minimum supported height\n            // Allow zero to mean \"hide the player\"\n            let height = playerHeight;\n            if (_.isNumber(height) && height !== 0) {\n                height = Math.max(height, CONTROLBAR_ONLY_HEIGHT);\n            }\n            playerStyle.height = height;\n        }\n\n        if (widthSet && heightSet) {\n            _model.set('width', playerWidth);\n            _model.set('height', playerHeight);\n        }\n\n        style(_playerElement, playerStyle);\n    }\n\n    function _resizeMedia(containerWidth, containerHeight) {\n        if (!containerWidth || isNaN(1 * containerWidth)) {\n            containerWidth = _model.get('containerWidth');\n            if (!containerWidth) {\n                return;\n            }\n        }\n        if (!containerHeight || isNaN(1 * containerHeight)) {\n            containerHeight = _model.get('containerHeight');\n            if (!containerHeight) {\n                return;\n            }\n        }\n\n        if (_preview) {\n            _preview.resize(containerWidth, containerHeight, _model.get('stretching'));\n        }\n\n        const provider = _model.getVideo();\n        if (!provider) {\n            return;\n        }\n        provider.resize(containerWidth, containerHeight, _model.get('stretching'));\n    }\n\n    this.resize = function (playerWidth, playerHeight) {\n        const resetAspectMode = true;\n        _resizePlayer(playerWidth, playerHeight, resetAspectMode);\n        _responsiveUpdate();\n    };\n    this.resizeMedia = _resizeMedia;\n\n    function _isNativeFullscreen() {\n        // Return whether or not we're in native fullscreen\n        if (fullscreenHelpers.supportsDomFullscreen()) {\n            const fsElement = fullscreenHelpers.fullscreenElement();\n            return !!(fsElement && fsElement === _playerElement);\n        }\n        // If native fullscreen is not available, return video fullscreen state\n        const provider = _model.getVideo();\n        return provider.getFullScreen();\n    }\n\n\n    function _fullscreenChangeHandler(event) {\n        const modelState = _model.get('fullscreen');\n        const newState = (event.jwstate !== undefined) ? event.jwstate : _isNativeFullscreen();\n\n        // If fullscreen was triggered by something other than the player\n        //  then we want to sync up our internal state\n        if (modelState !== newState) {\n            _model.set('fullscreen', newState);\n        }\n\n        _responsiveListener();\n        clearTimeout(_resizeMediaTimeout);\n        _resizeMediaTimeout = setTimeout(_resizeMedia, 200);\n    }\n\n    function _toggleDOMFullscreen(playerElement, fullscreenState) {\n        toggleClass(playerElement, 'jw-flag-fullscreen', fullscreenState);\n        style(document.body, { overflowY: (fullscreenState) ? 'hidden' : '' });\n\n        if (fullscreenState && _controls) {\n            // When going into fullscreen, we want the control bar to fade after a few seconds\n            _controls.userActive();\n        }\n\n        _resizeMedia();\n        _responsiveListener();\n    }\n\n    function _setLiveMode(model, streamType) {\n        const live = (streamType === 'LIVE');\n        toggleClass(_playerElement, 'jw-flag-live', live);\n    }\n\n    function _onMediaTypeChange(model, val) {\n        const isAudioFile = (val === 'audio');\n        const provider = model.get('provider');\n\n        toggleClass(_playerElement, 'jw-flag-media-audio', isAudioFile);\n\n        const isFlash = (provider && provider.name.indexOf('flash') === 0);\n        const element = (isAudioFile && !isFlash) ? _videoLayer : _videoLayer.nextSibling;\n        // Put the preview element before the media element in order to display browser captions\n        // otherwise keep it on top of the media element to display captions with the captions renderer\n        _playerElement.insertBefore(_preview.el, element);\n    }\n\n    function _errorHandler(model, evt) {\n        if (!evt) {\n            _title.playlistItem(model, model.get('playlistItem'));\n            return;\n        }\n        const errorContainer = ErrorContainer(model, evt.message);\n        if (ErrorContainer.cloneIcon) {\n            errorContainer.querySelector('.jw-icon').appendChild(ErrorContainer.cloneIcon('error'));\n        }\n        _title.hide();\n        _playerElement.appendChild(errorContainer.firstChild);\n        toggleClass(_playerElement, 'jw-flag-audio-player', !!model.get('audioMode'));\n    }\n\n    function _stateHandler(model, newState, oldState) {\n        if (!_this.isSetup) {\n            return;\n        }\n\n        if (oldState === STATE_ERROR) {\n            const errorContainer = _playerElement.querySelector('.jw-error-msg');\n            if (errorContainer) {\n                errorContainer.parentNode.removeChild(errorContainer);\n            }\n        }\n\n        cancelAnimationFrame(_stateClassRequestId);\n        if (newState === STATE_PLAYING) {\n            _stateUpdate(newState);\n        } else {\n            _stateClassRequestId = requestAnimationFrame(() => _stateUpdate(newState));\n        }\n    }\n\n    function _stateUpdate(state) {\n        if (_model.get('controls') && state !== STATE_PAUSED && hasClass(_playerElement, 'jw-flag-controls-hidden')) {\n            removeClass(_playerElement, 'jw-flag-controls-hidden');\n        }\n        replaceClass(_playerElement, /jw-state-\\S+/, 'jw-state-' + state);\n\n        switch (state) {\n            case STATE_IDLE:\n            case STATE_ERROR:\n            case STATE_COMPLETE:\n                if (_captionsRenderer) {\n                    _captionsRenderer.hide();\n                }\n                break;\n            default:\n                if (_captionsRenderer) {\n                    _captionsRenderer.show();\n                    if (state === STATE_PAUSED && _controls && !_controls.showing) {\n                        _captionsRenderer.renderCues(true);\n                    }\n                }\n                break;\n        }\n    }\n\n    function setMediaTitleAttribute(model, playlistItem) {\n        const videotag = model.get('mediaElement');\n        // chromecast and flash providers do no support video tags\n        if (!videotag) {\n            return;\n        }\n\n        // Writing a string to innerHTML completely decodes multiple-encoded strings\n        const dummyDiv = document.createElement('div');\n        dummyDiv.innerHTML = playlistItem.title || '';\n        videotag.setAttribute('title', dummyDiv.textContent);\n    }\n\n    function setPosterImage(item) {\n        _preview.setImage(item && item.image);\n    }\n\n    function onPlaylistItem(model, item) {\n        setPosterImage(item);\n        // Set the title attribute of the video tag to display background media information on mobile devices\n        if (_isMobile) {\n            setMediaTitleAttribute(model, item);\n        }\n    }\n\n    const settingsMenuVisible = () => {\n        const settingsMenu = _controls && _controls.settingsMenu;\n        return !!(settingsMenu && settingsMenu.visible);\n    };\n\n    const setupInstream = function() {\n        addClass(_playerElement, 'jw-flag-ads');\n\n        if (_controls) {\n            _controls.setupInstream();\n        }\n    };\n\n    const destroyInstream = function() {\n        if (!displayClickHandler) {\n            // view was destroyed\n            return;\n        }\n        if (_controls) {\n            _controls.destroyInstream(_model);\n        }\n\n        _this.setAltText('');\n        removeClass(_playerElement, ['jw-flag-ads', 'jw-flag-ads-hide-controls']);\n        _model.set('hideAdsControls', false);\n\n        // Make sure that the provider's media element is returned to the DOM after instream mode\n        const provider = _model.getVideo();\n        if (provider) {\n            provider.setContainer(_videoLayer);\n        }\n\n        // reset display click handler\n        displayClickHandler.revertAlternateClickHandlers();\n    };\n\n    this.setAltText = function (text) {\n        _model.set('altText', text);\n    };\n\n    this.clickHandler = function () {\n        return displayClickHandler;\n    };\n\n    this.getContainer = this.element = function () {\n        return _playerElement;\n    };\n\n    this.controlsContainer = function() {\n        if (_controls) {\n            return _controls.element();\n        }\n        return null;\n    };\n\n    this.getSafeRegion = function (excludeControlbar = true) {\n        const safeRegion = {\n            x: 0,\n            y: 0,\n            width: _lastWidth || 0,\n            height: _lastHeight || 0\n        };\n        if (_controls) {\n            // Subtract controlbar from the bottom when using one\n            if (excludeControlbar) {\n                safeRegion.height -= _controls.controlbarHeight();\n            }\n        }\n        return safeRegion;\n    };\n\n    this.setCaptions = function (captionsStyle) {\n        _captionsRenderer.clear();\n        _captionsRenderer.setup(_model.get('id'), captionsStyle);\n        _captionsRenderer.resize();\n    };\n\n    this.destroy = function () {\n        _model.destroy();\n        viewsManager.unobserve(_playerElement);\n        viewsManager.remove(this);\n        this.isSetup = false;\n        this.off();\n        cancelAnimationFrame(_resizeContainerRequestId);\n        clearTimeout(_resizeMediaTimeout);\n        if (focusHelper) {\n            focusHelper.destroy();\n            focusHelper = null;\n        }\n        if (fullscreenHelpers) {\n            fullscreenHelpers.destroy();\n            fullscreenHelpers = null;\n        }\n        if (_controls) {\n            _controls.disable(_model);\n        }\n        if (displayClickHandler) {\n            displayClickHandler.destroy();\n            _playerElement.removeEventListener('mousemove', moveHandler);\n            _playerElement.removeEventListener('mouseout', outHandler);\n            _playerElement.removeEventListener('mouseover', overHandler);\n            displayClickHandler = null;\n        }\n        _captionsRenderer.destroy();\n        if (_logo) {\n            _logo.destroy();\n            _logo = null;\n        }\n        clearCss(_model.get('id'));\n    };\n}\n\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/view.js","export default (id, ariaLabel = '') => {\n    return (\n        `<div id=\"${id}\" class=\"jwplayer jw-reset jw-state-setup\" tabindex=\"0\" aria-label=\"${ariaLabel}\">` +\n            `<div class=\"jw-aspect jw-reset\"></div>` +\n            `<div class=\"jw-media jw-reset\"></div>` +\n            `<div class=\"jw-preview jw-reset\"></div>` +\n            `<div class=\"jw-title jw-reset\">` +\n                `<div class=\"jw-title-primary jw-reset\"></div>` +\n                `<div class=\"jw-title-secondary jw-reset\"></div>` +\n            `</div>` +\n            `<div class=\"jw-overlays jw-reset\"></div>` +\n        `</div>`\n    );\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/player.js","export const CONTROLBAR_ONLY_HEIGHT = 44;\n\nexport const isAudioMode = function(model) {\n    const playerHeight = model.get('height');\n    if (model.get('aspectratio')) {\n        return false;\n    }\n    if (typeof playerHeight === 'string' && playerHeight.indexOf('%') > -1) {\n        return false;\n    }\n\n    // Coerce into Number (don't parse out CSS units)\n    let verticalPixels = (playerHeight * 1) || NaN;\n    verticalPixels = (!isNaN(verticalPixels) ? verticalPixels : model.get('containerHeight'));\n    if (!verticalPixels) {\n        return false;\n    }\n\n    return verticalPixels && verticalPixels <= CONTROLBAR_ONLY_HEIGHT;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/audio-mode.js","import activeTab from 'utils/active-tab';\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\n\nconst views = [];\nconst observed = {};\n\nlet intersectionObserver;\nlet responsiveRepaintRequestId = -1;\n\nfunction lazyInitIntersectionObserver() {\n    const IntersectionObserver = window.IntersectionObserver;\n    if (!intersectionObserver) {\n        // Fire the callback every time 25% of the player comes in/out of view\n        intersectionObserver = new IntersectionObserver((entries) => {\n            if (entries && entries.length) {\n                for (let i = entries.length; i--;) {\n                    const entry = entries[i];\n                    for (let j = views.length; j--;) {\n                        let view = views[j];\n                        if (entry.target === view.getContainer()) {\n                            view.model.set('intersectionRatio', entry.intersectionRatio);\n                            break;\n                        }\n                    }\n                }\n            }\n        }, { threshold: [0, 0.25, 0.5, 0.75, 1] });\n    }\n}\n\nfunction scheduleResponsiveRedraw() {\n    cancelAnimationFrame(responsiveRepaintRequestId);\n    responsiveRepaintRequestId = requestAnimationFrame(function responsiveRepaint() {\n        views.forEach(view => {\n            view.updateBounds();\n        });\n        views.forEach(view => {\n            if (view.model.get('visibility')) {\n                view.updateStyles();\n            }\n        });\n        views.forEach(view => {\n            view.checkResized();\n        });\n    });\n}\n\nfunction onVisibilityChange() {\n    views.forEach(view => {\n        view.model.set('activeTab', activeTab());\n    });\n}\n\ndocument.addEventListener('visibilitychange', onVisibilityChange);\ndocument.addEventListener('webkitvisibilitychange', onVisibilityChange);\nwindow.addEventListener('resize', scheduleResponsiveRedraw);\nwindow.addEventListener('orientationchange', scheduleResponsiveRedraw);\n\nwindow.addEventListener('beforeunload', () => {\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n    document.removeEventListener('webkitvisibilitychange', onVisibilityChange);\n    window.removeEventListener('resize', scheduleResponsiveRedraw);\n    window.removeEventListener('orientationchange', scheduleResponsiveRedraw);\n});\n\nexport default {\n    add: function(view) {\n        views.push(view);\n    },\n    remove: function(view) {\n        const index = views.indexOf(view);\n        if (index !== -1) {\n            views.splice(index, 1);\n        }\n    },\n    size: function() {\n        return views.length;\n    },\n    observe(container) {\n        lazyInitIntersectionObserver();\n\n        if (observed[container.id]) {\n            return;\n        }\n\n        observed[container.id] = true;\n        intersectionObserver.observe(container);\n    },\n    unobserve(container) {\n        if (intersectionObserver && observed[container.id]) {\n            delete observed[container.id];\n            intersectionObserver.unobserve(container);\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/views-manager.js","export default function getVisibility(model, element) {\n    // Set visibility to 1 if we're in fullscreen\n    if (model.get('fullscreen')) {\n        return 1;\n    }\n\n    // Set visibility to 0 if we're not in the active tab\n    if (!model.get('activeTab')) {\n        return 0;\n    }\n    // Otherwise, set it to the intersection ratio reported from the intersection observer\n    let intersectionRatio = model.get('intersectionRatio');\n\n    if (intersectionRatio === undefined) {\n        // Get intersectionRatio through brute force\n        intersectionRatio = computeVisibility(element);\n    }\n\n    return intersectionRatio;\n}\n\nfunction computeVisibility(target) {\n    const html = document.documentElement;\n    const body = document.body;\n    const rootRect = {\n        top: 0,\n        left: 0,\n        right: html.clientWidth || body.clientWidth,\n        width: html.clientWidth || body.clientWidth,\n        bottom: html.clientHeight || body.clientHeight,\n        height: html.clientHeight || body.clientHeight\n    };\n\n    if (!body.contains(target)) {\n        return 0;\n    }\n    // If the element isn't displayed, an intersection can't happen.\n    if (window.getComputedStyle(target).display === 'none') {\n        return 0;\n    }\n\n    const targetRect = getBoundingClientRect(target);\n    if (!targetRect) {\n        return 0;\n    }\n\n    let intersectionRect = targetRect;\n    let parent = target.parentNode;\n    let atRoot = false;\n\n    while (!atRoot) {\n        let parentRect = null;\n        if (parent === body || parent === html || parent.nodeType !== 1) {\n            atRoot = true;\n            parentRect = rootRect;\n        } else if (window.getComputedStyle(parent).overflow !== 'visible') {\n            parentRect = getBoundingClientRect(parent);\n        }\n        if (parentRect) {\n            intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n            if (!intersectionRect) {\n                return 0;\n            }\n        }\n        parent = parent.parentNode;\n    }\n    const targetArea = targetRect.width * targetRect.height;\n    const intersectionArea = intersectionRect.width * intersectionRect.height;\n    return targetArea ? (intersectionArea / targetArea) : 0;\n}\n\nfunction getBoundingClientRect(el) {\n    try {\n        return el.getBoundingClientRect();\n    } catch (e) {/* ignore Windows 7 IE11 \"Unspecified error\" */}\n}\n\nfunction computeRectIntersection(rect1, rect2) {\n    const top = Math.max(rect1.top, rect2.top);\n    const bottom = Math.min(rect1.bottom, rect2.bottom);\n    const left = Math.max(rect1.left, rect2.left);\n    const right = Math.min(rect1.right, rect2.right);\n    const width = right - left;\n    const height = bottom - top;\n    return (width >= 0 && height >= 0) && {\n        top: top,\n        bottom: bottom,\n        left: left,\n        right: right,\n        width: width,\n        height: height\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/visibility.js","import { prefix } from 'utils/strings';\nimport { css, getRgba } from 'utils/css';\n\nexport function normalizeSkin(skinConfig) {\n    if (!skinConfig) {\n        skinConfig = {};\n    }\n\n    const active = skinConfig.active;\n    const inactive = skinConfig.inactive;\n    const background = skinConfig.background;\n\n    const colors = {};\n\n    colors.controlbar = getControlBar(skinConfig.controlbar);\n\n    colors.timeslider = getTimeSlider(skinConfig.timeslider);\n\n    colors.menus = getMenus(skinConfig.menus);\n\n    colors.tooltips = getTooltips(skinConfig.tooltips);\n\n    function getControlBar(controlBarConfig) {\n        if (controlBarConfig || active || inactive || background) {\n            const config = {};\n\n            controlBarConfig = controlBarConfig || {};\n            config.iconsActive = controlBarConfig.iconsActive || active;\n            config.icons = controlBarConfig.icons || inactive;\n            config.text = controlBarConfig.text || inactive;\n            config.background = controlBarConfig.background || background;\n\n            return config;\n        }\n    }\n\n    function getTimeSlider(timesliderConfig) {\n        if (timesliderConfig || active) {\n            const config = {};\n\n            timesliderConfig = timesliderConfig || {};\n            config.progress = timesliderConfig.progress || active;\n            config.rail = timesliderConfig.rail;\n\n            return config;\n        }\n    }\n\n    function getMenus(menusConfig) {\n        if (menusConfig || active || inactive || background) {\n            const config = {};\n\n            menusConfig = menusConfig || {};\n            config.text = menusConfig.text || inactive;\n            config.textActive = menusConfig.textActive || active;\n            config.background = menusConfig.background || background;\n\n            return config;\n        }\n    }\n\n    function getTooltips(tooltipsConfig) {\n        if (tooltipsConfig || inactive || background) {\n            const config = {};\n\n            tooltipsConfig = tooltipsConfig || {};\n            config.text = tooltipsConfig.text || inactive;\n            config.background = tooltipsConfig.background || background;\n\n            return config;\n        }\n    }\n\n    return colors;\n}\n\nexport function handleColorOverrides(playerId, skin) {\n    if (!skin) {\n        return;\n    }\n\n    function addStyle(elements, attr, value, extendParent) {\n        if (!value) {\n            return;\n        }\n        /* if extendParent is true, bundle the first selector of\n         element string to the player element instead of defining it as a\n         child of the player element (default). i.e. #player.sel-1 .sel-2 vs. #player .sel-1 .sel-2 */\n        elements = prefix(elements, '#' + playerId + (extendParent ? '' : ' '));\n\n        const o = {};\n        o[attr] = value;\n        css(elements.join(', '), o, playerId);\n    }\n\n    // These will use standard style names for CSS since they are added directly to a style sheet\n    // Using background instead of background-color so we don't have to clear gradients with background-image\n\n    if (skin.controlbar) {\n        styleControlbar(skin.controlbar);\n    }\n    if (skin.timeslider) {\n        styleTimeslider(skin.timeslider);\n    }\n    if (skin.menus) {\n        styleMenus(skin.menus);\n    }\n    if (skin.tooltips) {\n        styleTooltips(skin.tooltips);\n    }\n    if (skin.menus) {\n        insertGlobalColorClasses(skin.menus);\n    }\n\n    function styleControlbar(config) {\n\n        addStyle([\n            // controlbar text colors\n            '.jw-controlbar .jw-icon-inline.jw-text',\n            '.jw-title-primary',\n            '.jw-title-secondary',\n        ], 'color', config.text);\n\n        if (config.icons) {\n            addStyle([\n                // controlbar button colors\n                '.jw-button-color:not(.jw-icon-cast)',\n                '.jw-button-color.jw-toggle.jw-off:not(.jw-icon-cast)',\n            ], 'color', config.icons);\n\n            addStyle([\n                '.jw-display-icon-container .jw-button-color',\n            ], 'color', config.icons);\n\n            // Chromecast overrides\n            // Can't use addStyle since it will camel case the style name\n            css(`#${playerId} .jw-icon-cast button.jw-off`, `{--disconnected-color: ${config.icons}}`, playerId);\n        }\n        if (config.iconsActive) {\n            addStyle([\n                '.jw-display-icon-container .jw-button-color:hover',\n                '.jw-display-icon-container .jw-button-color:focus',\n            ], 'color', config.iconsActive);\n\n            // Apply active color\n            addStyle([\n                // Toggle and menu button active colors\n                '.jw-button-color.jw-toggle:not(.jw-icon-cast)',\n                '.jw-button-color:hover:not(.jw-icon-cast)',\n                '.jw-button-color:focus:not(.jw-icon-cast)',\n                '.jw-button-color.jw-toggle.jw-off:hover:not(.jw-icon-cast)'\n            ], 'color', config.iconsActive);\n\n            addStyle([\n                '.jw-svg-icon-buffer',\n            ], 'fill', config.icons);\n\n            // Chromecast overrides\n            // Can't use addStyle since it will camel case the style name\n            css(`#${playerId} .jw-icon-cast:hover button.jw-off`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast:focus button.jw-off`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast button.jw-off:focus`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\n\n            css(`#${playerId} .jw-icon-cast button`, `{--connected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast button:focus`, `{--connected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast:hover button`, `{--connected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast:focus button`, `{--connected-color: ${config.iconsActive}}`, playerId);\n        }\n\n        // A space is purposefully left before '.jw-settings-topbar' since extendParent is set to true in order to append ':not(.jw-state-idle)'\n        addStyle([\n            ' .jw-settings-topbar',\n            ':not(.jw-state-idle) .jw-controlbar',\n            '.jw-flag-audio-player .jw-controlbar'\n        ], 'background', config.background, true);\n    }\n\n    function styleTimeslider(config) {\n\n        addStyle([\n            '.jw-progress',\n            '.jw-knob'\n        ], 'background-color', config.progress);\n\n        addStyle([\n            '.jw-buffer',\n        ], 'background-color', getRgba(config.progress, 50));\n\n        addStyle([\n            '.jw-rail'\n        ], 'background-color', config.rail);\n\n        addStyle([\n            '.jw-background-color.jw-slider-time',\n            '.jw-slider-time .jw-cue'\n        ], 'background-color', config.background);\n    }\n\n    function styleMenus(config) {\n\n        addStyle([\n            '.jw-option',\n            '.jw-toggle.jw-off',\n            '.jw-skip .jw-skip-icon',\n            '.jw-nextup-tooltip',\n            '.jw-nextup-close',\n            '.jw-settings-content-item',\n            '.jw-related-title'\n        ], 'color', config.text);\n\n        addStyle([\n            '.jw-option.jw-active-option',\n            '.jw-option:not(.jw-active-option):hover',\n            '.jw-option:not(.jw-active-option):focus',\n            '.jw-settings-item-active',\n            '.jw-settings-content-item:hover',\n            '.jw-settings-content-item:focus',\n            '.jw-nextup-tooltip:hover',\n            '.jw-nextup-tooltip:focus',\n            '.jw-nextup-close:hover'\n        ], 'color', config.textActive);\n\n        addStyle([\n            '.jw-nextup',\n            '.jw-settings-menu',\n        ], 'background', config.background);\n    }\n\n    function styleTooltips(config) {\n\n        addStyle([\n            '.jw-skip',\n            '.jw-tooltip .jw-text',\n            '.jw-time-tip .jw-text'\n        ], 'background-color', config.background);\n\n        addStyle([\n            '.jw-time-tip',\n            '.jw-tooltip'\n        ], 'color', config.background);\n\n        addStyle([\n            '.jw-skip',\n        ], 'border', 'none');\n\n        addStyle([\n            '.jw-skip .jw-text',\n            '.jw-skip .jw-icon',\n            '.jw-time-tip .jw-text',\n            '.jw-tooltip .jw-text'\n        ], 'color', config.text);\n    }\n\n    // Set global colors, used by related plugin\n    // If a color is undefined simple-style-loader won't add their styles to the dom\n    function insertGlobalColorClasses(config) {\n        if (config.textActive) {\n            const activeColorSet = {\n                color: config.textActive,\n                borderColor: config.textActive,\n                stroke: config.textActive\n            };\n            css(`#${playerId} .jw-color-active`, activeColorSet, playerId);\n            css(`#${playerId} .jw-color-active-hover:hover`, activeColorSet, playerId);\n        }\n        if (config.text) {\n            const inactiveColorSet = {\n                color: config.text,\n                borderColor: config.text,\n                stroke: config.text\n            };\n            css(`#${playerId} .jw-color-inactive`, inactiveColorSet, playerId);\n            css(`#${playerId} .jw-color-inactive-hover:hover`, inactiveColorSet, playerId);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/skin.js","const DOCUMENT_FULLSCREEN_EVENTS = [\n    'fullscreenchange',\n    'webkitfullscreenchange',\n    'mozfullscreenchange',\n    'MSFullscreenChange'\n];\n\nexport default function(elementContext, documentContext, changeCallback) {\n    const requestFullscreen = elementContext.requestFullscreen ||\n        elementContext.webkitRequestFullscreen ||\n        elementContext.webkitRequestFullScreen ||\n        elementContext.mozRequestFullScreen ||\n        elementContext.msRequestFullscreen;\n\n    const exitFullscreen = documentContext.exitFullscreen ||\n        documentContext.webkitExitFullscreen ||\n        documentContext.webkitCancelFullScreen ||\n        documentContext.mozCancelFullScreen ||\n        documentContext.msExitFullscreen;\n\n    const supportsDomFullscreen = !!(requestFullscreen && exitFullscreen);\n\n    for (let i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\n        documentContext.addEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\n    }\n\n    return {\n        events: DOCUMENT_FULLSCREEN_EVENTS,\n        supportsDomFullscreen: function() {\n            return supportsDomFullscreen;\n        },\n        requestFullscreen: function() {\n            requestFullscreen.apply(elementContext);\n        },\n        exitFullscreen: function() {\n            exitFullscreen.apply(documentContext);\n        },\n        fullscreenElement: function() {\n            return documentContext.fullscreenElement ||\n                documentContext.webkitCurrentFullScreenElement ||\n                documentContext.mozFullScreenElement ||\n                documentContext.msFullscreenElement;\n        },\n        destroy: function() {\n            for (let i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\n                documentContext.removeEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\n            }\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/request-fullscreen-helper.js","import { addClass, removeClass } from 'utils/dom';\n\n\nexport default function (elementContext) {\n    var _focusFromClick = false;\n\n    const onBlur = function () {\n        _focusFromClick = false;\n        removeClass(elementContext, 'jw-no-focus');\n    };\n\n    const onMouseDown = function () {\n        _focusFromClick = true;\n        addClass(elementContext, 'jw-no-focus');\n    };\n\n    const onFocus = function () {\n        if (!_focusFromClick) {\n            onBlur();\n        }\n    };\n\n    elementContext.addEventListener('focus', onFocus);\n    elementContext.addEventListener('blur', onBlur);\n    elementContext.addEventListener('mousedown', onMouseDown);\n\n    return {\n        destroy: function() {\n            elementContext.removeEventListener('focus', onFocus);\n            elementContext.removeEventListener('blur', onBlur);\n            elementContext.removeEventListener('mousedown', onMouseDown);\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/flag-no-focus.js","import { CLICK } from 'events/events';\nimport UI from 'utils/ui';\nimport Events from 'utils/backbone.events';\n\nexport default class ClickHandler {\n    constructor(model, element) {\n        Object.assign(this, Events);\n\n        this.revertAlternateClickHandlers();\n        this.domElement = element;\n        this.model = model;\n\n        this.ui = new UI(element, { enableDoubleTap: true, useMove: true }).on({\n            'click tap': this.clickHandler,\n            'doubleClick doubleTap': function() {\n                if (this.alternateDoubleClickHandler) {\n                    this.alternateDoubleClickHandler();\n                    return;\n                }\n                this.trigger('doubleClick');\n            }\n        }, this);\n    }\n\n    destroy() {\n        if (this.ui) {\n            this.ui.destroy();\n            this.ui = this.domElement = this.model = null;\n            this.revertAlternateClickHandlers();\n        }\n    }\n\n    clickHandler(evt) {\n        if (this.model.get('flashBlocked')) {\n            return;\n        }\n        if (this.alternateClickHandler) {\n            this.alternateClickHandler(evt);\n            return;\n        }\n        this.trigger((evt.type === CLICK) ? 'click' : 'tap');\n    }\n\n    element() {\n        return this.domElement;\n    }\n\n    setAlternateClickHandlers(clickHandler, doubleClickHandler) {\n        this.alternateClickHandler = clickHandler;\n        this.alternateDoubleClickHandler = doubleClickHandler || null;\n    }\n\n    revertAlternateClickHandlers() {\n        this.alternateClickHandler = null;\n        this.alternateDoubleClickHandler = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/clickhandler.js","import { Browser } from 'environment/environment';\nimport { chunkLoadErrorHandler } from '../api/core-loader';\nimport Events from 'utils/backbone.events';\nimport { ERROR } from 'events/events';\nimport { css, style, getRgba } from 'utils/css';\nimport { addClass, removeClass, empty } from 'utils/dom';\nimport _ from 'utils/underscore';\nimport { MEDIA_SEEK, MEDIA_TIME } from 'events/events';\n\nlet _WebVTT;\n\nconst _defaults = {\n    back: true,\n    backgroundOpacity: 50,\n    edgeStyle: null,\n    fontSize: 14,\n    fontOpacity: 100,\n    fontScale: 0.05, // Default captions font size = 1/20th of the video's height\n    preprocessor: _.identity,\n    windowOpacity: 0\n};\n\n/**\n * Component that renders the actual captions on screen.\n * param {ViewModel} viewModel - The player's ViewModel instance.\n */\n\nconst CaptionsRenderer = function (viewModel) {\n\n    const _model = viewModel.player;\n\n    let _options;\n    let _captionsTrack;\n    let _currentCues;\n    let _timeEvent;\n    let _display;\n    let _captionsWindow;\n    let _textContainer;\n    let _fontScale;\n    let _windowStyle;\n\n    _display = document.createElement('div');\n    _display.className = 'jw-captions jw-reset';\n\n    this.show = function () {\n        addClass(_display, 'jw-captions-enabled');\n    };\n\n    this.hide = function () {\n        removeClass(_display, 'jw-captions-enabled');\n    };\n\n    // Assign list of captions to the renderer\n    this.populate = function (captions) {\n        if (_model.get('renderCaptionsNatively')) {\n            return;\n        }\n\n        _currentCues = [];\n        _captionsTrack = captions;\n        if (!captions) {\n            this.renderCues();\n            return;\n        }\n        this.selectCues(captions, _timeEvent);\n    };\n\n    this.resize = function () {\n        _setFontSize();\n        this.renderCues(true);\n    };\n\n    this.renderCues = function (updateBoxPosition) {\n        updateBoxPosition = !!updateBoxPosition;\n        if (_WebVTT) {\n            _WebVTT.processCues(window, _currentCues, _display, updateBoxPosition);\n        }\n    };\n\n    this.selectCues = function (track, timeEvent) {\n        if (!track || !track.data || !timeEvent || _model.get('renderCaptionsNatively')) {\n            return;\n        }\n\n        const pos = this.getAlignmentPosition(track, timeEvent);\n        if (pos === false) {\n            return;\n        }\n\n        const cues = this.getCurrentCues(track.data, pos);\n\n        this.updateCurrentCues(cues);\n        this.renderCues(true);\n    };\n\n    this.getCurrentCues = function (allCues, pos) {\n        return _.filter(allCues, function (cue) {\n            return pos >= (cue.startTime) && (!cue.endTime || pos <= cue.endTime);\n        });\n    };\n\n    this.updateCurrentCues = function (cues) {\n        // Render with vtt.js if there are cues, clear if there are none\n        if (!cues.length) {\n            _currentCues = [];\n        } else if (_.difference(cues, _currentCues).length) {\n            addClass(_captionsWindow, 'jw-captions-window-active');\n            _currentCues = cues;\n        }\n\n        return _currentCues;\n    };\n\n    this.getAlignmentPosition = function (track, timeEvent) {\n        const source = track.source;\n        const metadata = timeEvent.metadata;\n\n        // subtitles with \"source\" time must be synced with \"metadata[source]\"\n        if (source) {\n            if (metadata && _.isNumber(metadata[source])) {\n                return metadata[source];\n            }\n            return;\n        } else if (timeEvent.duration < 0) {\n            // When the duration is negative (DVR mode), need to make alignmentPosition positive for captions to work\n            return timeEvent.position - timeEvent.duration;\n        }\n\n        // Default to syncing with current position\n        return timeEvent.position;\n    };\n\n    this.clear = function () {\n        empty(_display);\n    };\n\n    /**\n     * Initialize the captions renderer\n     * @param {string} playerElementId - The player container's DOM id\n     * @param {object} options - The captions styling configuration\n     * @returns {void}\n     */\n    this.setup = function (playerElementId, options) {\n        _captionsWindow = document.createElement('div');\n        _textContainer = document.createElement('span');\n        _captionsWindow.className = 'jw-captions-window jw-reset';\n        _textContainer.className = 'jw-captions-text jw-reset';\n\n        _options = Object.assign({}, _defaults, options);\n\n        _fontScale = _defaults.fontScale;\n        _setFontScale(_options.fontSize);\n\n        const windowColor = _options.windowColor;\n        const windowOpacity = _options.windowOpacity;\n        const edgeStyle = _options.edgeStyle;\n        _windowStyle = {};\n        const textStyle = {};\n\n        _addTextStyle(textStyle, _options);\n\n        if (windowColor || windowOpacity !== _defaults.windowOpacity) {\n            _windowStyle.backgroundColor = getRgba(windowColor || '#000000', windowOpacity);\n        }\n\n        _addEdgeStyle(edgeStyle, textStyle, _options.fontOpacity);\n\n        if (!_options.back && edgeStyle === null) {\n            _addEdgeStyle('uniform', textStyle);\n        }\n\n        style(_captionsWindow, _windowStyle);\n        style(_textContainer, textStyle);\n        _setupCaptionStyles(playerElementId, textStyle);\n\n        _captionsWindow.appendChild(_textContainer);\n        _display.appendChild(_captionsWindow);\n\n        _model.change('captionsTrack', function (model, captionsTrack) {\n            this.populate(captionsTrack);\n        }, this);\n\n        _model.set('captions', _options);\n    };\n\n    this.element = function () {\n        return _display;\n    };\n\n    this.destroy = function() {\n        _model.off(null, null, this);\n        this.off();\n    };\n\n    function _setFontScale() {\n        if (!_.isFinite(_options.fontSize)) {\n            return;\n        }\n\n        const height = _model.get('containerHeight');\n\n        if (!height) {\n            _model.once('change:containerHeight', _setFontScale, this);\n            return;\n        }\n\n        // Adjust scale based on font size relative to the default\n        _fontScale = _defaults.fontScale * _options.fontSize / _defaults.fontSize;\n    }\n\n    function _setFontSize() {\n        const height = _model.get('containerHeight');\n\n        if (!height) {\n            return;\n        }\n\n        const fontSize = Math.round(height * _fontScale);\n\n        if (_model.get('renderCaptionsNatively')) {\n            _setShadowDOMFontSize(_model.get('id'), fontSize);\n        } else {\n            style(_display, {\n                fontSize: fontSize + 'px'\n            });\n        }\n    }\n\n    function _setupCaptionStyles(playerId, textStyle) {\n        _setFontSize();\n        _styleNativeCaptions(playerId, textStyle);\n        _stylePlayerCaptions(playerId, textStyle);\n    }\n\n    function _stylePlayerCaptions(playerId, textStyle) {\n        // VTT.js DOM window and text styles\n        css('#' + playerId + ' .jw-text-track-display', _windowStyle, playerId);\n        css('#' + playerId + ' .jw-text-track-cue', textStyle, playerId);\n    }\n\n    function _styleNativeCaptions(playerId, textStyle) {\n        if (Browser.safari) {\n            // Only Safari uses a separate element for styling text background\n            css('#' + playerId + ' .jw-video::-webkit-media-text-track-display-backdrop', {\n                backgroundColor: textStyle.backgroundColor\n            }, playerId, true);\n        }\n\n        css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\n        css('#' + playerId + ' .jw-video::cue', textStyle, playerId, true);\n    }\n\n    function _setShadowDOMFontSize(playerId, fontSize) {\n        // Set Shadow DOM font size (needs to be important to override browser's in line style)\n        _windowStyle.fontSize = fontSize + 'px';\n        css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\n    }\n\n    function _addTextStyle(textStyle, options) {\n        const color = options.color;\n        const fontOpacity = options.fontOpacity;\n        if (color || fontOpacity !== _defaults.fontOpacity) {\n            textStyle.color = getRgba(color || '#ffffff', fontOpacity);\n        }\n\n        if (options.back) {\n            const bgColor = options.backgroundColor;\n            const bgOpacity = options.backgroundOpacity;\n            if (bgColor !== _defaults.backgroundColor || bgOpacity !== _defaults.backgroundOpacity) {\n                textStyle.backgroundColor = getRgba(bgColor, bgOpacity);\n            }\n        } else {\n            textStyle.background = 'transparent';\n        }\n\n        if (options.fontFamily) {\n            textStyle.fontFamily = options.fontFamily;\n        }\n\n        if (options.fontStyle) {\n            textStyle.fontStyle = options.fontStyle;\n        }\n\n        if (options.fontWeight) {\n            textStyle.fontWeight = options.fontWeight;\n        }\n\n        if (options.textDecoration) {\n            textStyle.textDecoration = options.textDecoration;\n        }\n    }\n\n    function _addEdgeStyle(option, styles, fontOpacity) {\n        const color = getRgba('#000000', fontOpacity);\n        if (option === 'dropshadow') { // small drop shadow\n            styles.textShadow = '0 2px 1px ' + color;\n        } else if (option === 'raised') { // larger drop shadow\n            styles.textShadow = '0 0 5px ' + color + ', 0 1px 5px ' + color + ', 0 2px 5px ' + color;\n        } else if (option === 'depressed') { // top down shadow\n            styles.textShadow = '0 -2px 1px ' + color;\n        } else if (option === 'uniform') { // outline\n            styles.textShadow = '-2px 0 1px ' + color + ',2px 0 1px ' + color +\n                ',0 -2px 1px ' + color + ',0 2px 1px ' + color + ',-1px 1px 1px ' +\n                color + ',1px 1px 1px ' + color + ',1px -1px 1px ' + color +\n                ',1px 1px 1px ' + color;\n        }\n    }\n\n    const _timeChange = (e) => {\n        _timeEvent = e;\n        this.selectCues(_captionsTrack, _timeEvent);\n    };\n\n    function _captionsListHandler(model, captionsList) {\n        if (captionsList.length === 1) {\n            // captionsList only contains 'off'\n            return;\n        }\n\n        // don't load the polyfill or do unnecessary work if rendering natively\n        if (!model.get('renderCaptionsNatively') && !_WebVTT) {\n            loadWebVttPolyfill().catch((error) => {\n                this.trigger(ERROR, {\n                    message: 'Captions renderer failed to load',\n                    reason: error\n                });\n            });\n            model.off('change:captionsList', _captionsListHandler, this);\n        }\n    }\n\n    function loadWebVttPolyfill() {\n        return require.ensure(['polyfills/webvtt'], function (require) {\n            _WebVTT = require('polyfills/webvtt').default;\n        }, chunkLoadErrorHandler, 'polyfills.webvtt');\n    }\n\n    _model.on('change:playlistItem', function () {\n        _timeEvent = null;\n        _currentCues = [];\n    }, this);\n\n    _model.on(MEDIA_SEEK, function (e) {\n        _currentCues = [];\n        _timeChange(e);\n    }, this);\n\n    _model.on(MEDIA_TIME, _timeChange, this);\n\n    _model.on('subtitlesTrackData', function () {\n        // update captions after a provider's subtitle track changes\n        this.selectCues(_captionsTrack, _timeEvent);\n    }, this);\n\n    _model.on('change:captionsList', _captionsListHandler, this);\n};\n\nObject.assign(CaptionsRenderer.prototype, Events);\n\nexport default CaptionsRenderer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/captionsrenderer.js","import logoTemplate from 'templates/logo';\nimport { LOGO_CLICK } from 'events/events';\nimport UI from 'utils/ui';\nimport { style } from 'utils/css';\nimport { createElement } from 'utils/dom';\nimport Events from 'utils/backbone.events';\n\nconst LogoDefaults = {\n    linktarget: '_blank',\n    margin: 8,\n    hide: false,\n    position: 'top-right'\n};\n\nexport default function Logo(_model) {\n    Object.assign(this, Events);\n\n    var _logo;\n    var _settings;\n    const _img = new Image();\n\n    this.setup = function() {\n        _settings = Object.assign({}, LogoDefaults, _model.get('logo'));\n        _settings.position = _settings.position || LogoDefaults.position;\n        _settings.hide = (_settings.hide.toString() === 'true');\n\n        // We should only create a logo in the display container when\n        // it is not supposed to be in the control bar, as it will\n        // handle the creation in that case\n        if (!_settings.file || _settings.position === 'control-bar') {\n            return;\n        }\n\n        if (!_logo) {\n            _logo = createElement(logoTemplate(_settings.position, _settings.hide));\n        }\n\n        _model.set('logo', _settings);\n\n        // apply styles onload when image width and height are known\n        _img.onload = function () {\n            // update logo style\n            let height = this.height;\n            let width = this.width;\n            const styles = {\n                backgroundImage: 'url(\"' + this.src + '\")'\n            };\n            if (_settings.margin !== LogoDefaults.margin) {\n                const positions = (/(\\w+)-(\\w+)/).exec(_settings.position);\n                if (positions.length === 3) {\n                    styles['margin-' + positions[1]] = _settings.margin;\n                    styles['margin-' + positions[2]] = _settings.margin;\n                }\n            }\n\n            // Constraint logo size to 15% of their respective player dimension\n            const maxHeight = _model.get('containerHeight') * 0.15;\n            const maxWidth = _model.get('containerWidth') * 0.15;\n\n            if (height > maxHeight || width > maxWidth) {\n                const logoAR = width / height;\n                const videoAR = maxWidth / maxHeight;\n\n                if (videoAR > logoAR) {\n                    // height = max dimension\n                    height = maxHeight;\n                    width = maxHeight * logoAR;\n                } else {\n                    // width = max dimension\n                    width = maxWidth;\n                    height = maxWidth / logoAR;\n                }\n            }\n\n            styles.width = Math.round(width);\n            styles.height = Math.round(height);\n\n            style(_logo, styles);\n\n            // update title\n            _model.set('logoWidth', styles.width);\n        };\n\n        _img.src = _settings.file;\n\n        const logoInteractHandler = new UI(_logo);\n\n        if (_settings.link) {\n            _logo.setAttribute('tabindex', '0');\n            _logo.setAttribute('aria-label', 'Logo');\n        }\n\n        logoInteractHandler.on('click tap enter', function (evt) {\n            if (evt && evt.stopPropagation) {\n                evt.stopPropagation();\n            }\n\n            this.trigger(LOGO_CLICK, {\n                link: _settings.link,\n                linktarget: _settings.linktarget\n            });\n\n        }, this);\n    };\n\n    this.setContainer = function(container) {\n        if (_logo) {\n            container.appendChild(_logo);\n        }\n    };\n\n    this.element = function() {\n        return _logo;\n    };\n\n    this.position = function() {\n        return _settings.position;\n    };\n\n    this.destroy = function() {\n        _img.onload = null;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/logo.js","export default (position, hide) => {\n    const jwhide = hide ? ' jw-hide' : '';\n    return `<div class=\"jw-logo jw-logo-${position}${jwhide} jw-reset\"></div>`;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/logo.js","import { style } from 'utils/css';\n\nconst Preview = function(_model) {\n    this.model = _model;\n    this.image = null;\n};\n\nfunction validState(state) {\n    return state === 'complete' || state === 'idle' || state === 'error' || state === 'buffering';\n}\n\nObject.assign(Preview.prototype, {\n    setup: function(element) {\n        this.el = element;\n    },\n    setImage: function(img) {\n        // Remove onload function from previous image\n        var image = this.image;\n        if (image) {\n            image.onload = null;\n        }\n        this.image = null;\n        var backgroundImage = '';\n        if (typeof img === 'string') {\n            backgroundImage = 'url(\"' + img + '\")';\n            image = this.image = new Image();\n            image.src = img;\n        }\n        style(this.el, {\n            backgroundImage: backgroundImage\n        });\n    },\n    resize: function(width, height, stretching) {\n        if (stretching === 'uniform') {\n            if (width) {\n                this.playerAspectRatio = width / height;\n            }\n            if (!this.playerAspectRatio ||\n                !this.image ||\n                !validState(this.model.get('state'))) {\n                return;\n            }\n            // snap image to edges when the difference in aspect ratio is less than 9%\n            var image = this.image;\n            var backgroundSize = null;\n            if (image) {\n                if (image.width === 0) {\n                    var _this = this;\n                    image.onload = function() {\n                        _this.resize(width, height, stretching);\n                    };\n                    return;\n                }\n                var imageAspectRatio = image.width / image.height;\n                if (Math.abs(this.playerAspectRatio - imageAspectRatio) < 0.09) {\n                    backgroundSize = 'cover';\n                }\n            }\n            style(this.el, {\n                backgroundSize: backgroundSize\n            });\n        }\n    },\n    element: function() {\n        return this.el;\n    }\n});\n\nexport default Preview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/preview.js","import { style } from 'utils/css';\n\nconst Title = function(_model) {\n    this.model = _model.player;\n};\n\nObject.assign(Title.prototype, {\n    // This is normally shown/hidden by states\n    //   these are only used for when no title exists\n    hide: function() {\n        style(this.el, { display: 'none' });\n    },\n    show: function() {\n        style(this.el, { display: '' });\n    },\n\n    setup: function(titleEl) {\n        this.el = titleEl;\n\n        // Perform the DOM search only once\n        var arr = this.el.getElementsByTagName('div');\n        this.title = arr[0];\n        this.description = arr[1];\n\n        this.model.on('change:logoWidth', this.update, this);\n        this.model.change('playlistItem', this.playlistItem, this);\n    },\n\n    update: function(model) {\n        var titleStyle = {};\n        var logo = model.get('logo');\n        if (logo) {\n            // Only use Numeric or pixel (\"Npx\") margin values\n            var margin = 1 * ('' + logo.margin).replace('px', '');\n            var padding = model.get('logoWidth') + (isNaN(margin) ? 0 : margin + 10);\n            if (logo.position === 'top-left') {\n                titleStyle.paddingLeft = padding;\n            } else if (logo.position === 'top-right') {\n                titleStyle.paddingRight = padding;\n            }\n        }\n        style(this.el, titleStyle);\n    },\n\n    playlistItem: function(model, item) {\n        if (!item) {\n            return;\n        }\n        if (model.get('displaytitle') || model.get('displaydescription')) {\n            var title = '';\n            var description = '';\n\n            if (item.title && model.get('displaytitle')) {\n                title = item.title;\n            }\n            if (item.description && model.get('displaydescription')) {\n                description = item.description;\n            }\n\n            this.updateText(title, description);\n        } else {\n            this.hide();\n        }\n    },\n\n    updateText: function(title, description) {\n        this.title.innerHTML = title;\n        this.description.innerHTML = description;\n\n        if (this.title.firstChild || this.description.firstChild) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    },\n\n    element: function() {\n        return this.el;\n    }\n});\n\nexport default Title;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/title.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/less-loader/dist/cjs.js??ref--0-3!./jwplayer.less\");\nif(typeof content === 'string') content = [['all-players', content, '']];\n// add the styles to the DOM\nrequire(\"!../../node_modules/simple-style-loader/addStyles.js\").style(content,'all-players');\nif(content.locals) module.exports = content.locals;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/jwplayer.less\n// module id = 169\n// module chunks = 0 1 2 3 5","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}body .jw-error,body .jwplayer.jw-state-error{height:100%;width:100%}.jw-title{position:absolute;top:0}.jw-background-color{background:rgba(0,0,0,0.4)}.jw-text{color:rgba(255,255,255,0.8)}.jw-knob{color:rgba(255,255,255,0.8);background-color:#fff}.jw-button-color{color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):focus,:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):hover{outline:none;color:#fff}.jw-toggle{color:#fff}.jw-toggle.jw-off{color:rgba(255,255,255,0.8)}.jw-toggle.jw-off:focus{color:#fff}.jw-toggle:focus{outline:none}:not(.jw-flag-touch) .jw-toggle.jw-off:hover{color:#fff}.jw-rail{background:rgba(255,255,255,0.3)}.jw-buffer{background:rgba(255,255,255,0.3)}.jw-progress{background:#f2f2f2}.jw-time-tip,.jw-volume-tip{border:0}.jw-slider-volume.jw-volume-tip.jw-background-color.jw-slider-vertical{background:none}.jw-skip{padding:.5em;outline:none}.jw-skip .jw-skiptext,.jw-skip .jw-skip-icon{color:rgba(255,255,255,0.8)}.jw-skip.jw-skippable:hover .jw-skip-icon,.jw-skip.jw-skippable:focus .jw-skip-icon{color:#fff}.jw-icon-cast button{--connected-color:#fff;--disconnected-color:rgba(255,255,255,0.8)}.jw-icon-cast button:focus{outline:none}.jw-icon-cast button.jw-off{--connected-color:rgba(255,255,255,0.8)}.jw-icon-cast:focus button{--connected-color:#fff;--disconnected-color:#fff}.jw-icon-cast:hover button{--connected-color:#fff;--disconnected-color:#fff}.jw-nextup-container{bottom:2.5em;padding:5px .5em}.jw-nextup{border-radius:0}.jw-color-active{color:#fff;stroke:#fff;border-color:#fff}:not(.jw-flag-touch) .jw-color-active-hover:hover,:not(.jw-flag-touch) .jw-color-active-hover:focus{color:#fff;stroke:#fff;border-color:#fff}.jw-color-inactive{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-color-inactive-hover:hover{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}.jw-option{color:rgba(255,255,255,0.8)}.jw-option.jw-active-option{color:#fff;background-color:rgba(255,255,255,0.1)}:not(.jw-flag-touch) .jw-option:hover{color:#fff}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto !important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer.jw-no-focus:focus,.jwplayer .jw-swf{outline:none}.jwplayer.jw-ie:focus{outline:#585858 dotted 1px}.jw-media,.jw-preview{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-plugin{position:absolute;bottom:66px}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0;left:0;right:0;bottom:0;display:block}.jw-preview,.jw-captions,.jw-title{pointer-events:none}.jw-media,.jw-logo{pointer-events:all}.jwplayer video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jwplayer video::-webkit-media-controls-start-playback-button{display:none}.jwplayer.jw-stretch-uniform video{object-fit:contain}.jwplayer.jw-stretch-none video{object-fit:none}.jwplayer.jw-stretch-fill video{object-fit:cover}.jwplayer.jw-stretch-exactfit video{object-fit:fill}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jwplayer .jw-preview,.jw-error .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-title{display:none;padding-top:20px;width:100%;z-index:1}.jw-title-primary,.jw-title-secondary{color:#fff;padding-left:20px;padding-right:20px;padding-bottom:.5em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.jw-title-primary{font-size:1.625em}.jw-breakpoint-2 .jw-title-primary,.jw-breakpoint-3 .jw-title-primary{font-size:1.5em}.jw-flag-small-player .jw-title-primary{font-size:1.25em}.jw-flag-small-player .jw-title-secondary,.jw-title-secondary:empty{display:none}.jw-captions{position:absolute;width:100%;height:100%;text-align:center;display:none;max-height:calc(100% - 60px);letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-decoration:none;pointer-events:none;overflow:hidden;top:0}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{display:inline-block;color:#fff;background-color:#000;word-wrap:normal;word-break:normal;white-space:pre-line;font-style:normal;font-weight:normal;text-align:center;text-decoration:none}.jw-text-track-display{font-size:inherit;line-height:1.5}.jw-text-track-cue{background-color:rgba(0,0,0,0.5);color:#fff;padding:.1em .3em}.jwplayer video::-webkit-media-controls{display:none;justify-content:flex-start}.jwplayer video::-webkit-media-text-track-container{max-height:calc(100% - 60px);line-height:normal}.jwplayer video::-webkit-media-text-track-display{min-width:-webkit-min-content}.jwplayer video::cue{background-color:rgba(0,0,0,0.5)}.jwplayer video::-webkit-media-controls-panel-container{display:none}.jw-logo{position:absolute;margin:20px;cursor:pointer;pointer-events:all;background-repeat:no-repeat;background-size:contain;top:auto;right:auto;left:auto;bottom:auto}.jw-flag-audio-player .jw-logo{display:none}.jw-logo-top-right{top:0;right:0}.jw-logo-top-left{top:0;left:0}.jw-logo-bottom-left{left:0}.jw-logo-bottom-right{right:0}.jw-logo-bottom-left,.jw-logo-bottom-right{bottom:44px;transition:bottom 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-state-idle .jw-logo{z-index:1}.jw-state-setup{background-color:transparent}.jw-state-setup .jw-logo,.jw-state-setup .jw-controls,.jw-state-setup .jw-controls-backdrop{visibility:hidden}body .jw-error,body .jwplayer.jw-state-error{background-color:#333;color:#fff;font-size:16px;display:table;opacity:1;overflow:hidden;position:relative}body .jw-error .jw-display,body .jwplayer.jw-state-error .jw-display{display:none}body .jw-error .jw-media,body .jwplayer.jw-state-error .jw-media{cursor:default}body .jw-error .jw-preview,body .jwplayer.jw-state-error .jw-preview{background-color:#333}body .jw-error .jw-error-msg,body .jwplayer.jw-state-error .jw-error-msg{top:50%;position:absolute;left:50%;align-items:center;background-color:#000;border-radius:2px;display:flex;padding:20px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}body .jw-error .jw-error-msg .jw-icon,body .jwplayer.jw-state-error .jw-error-msg .jw-icon{height:30px;width:30px;margin-right:20px;flex:0 0 auto}body .jw-error .jw-error-msg .jw-icon:empty,body .jwplayer.jw-state-error .jw-error-msg .jw-icon:empty{display:none}body .jw-error .jw-error-msg .jw-title,body .jwplayer.jw-state-error .jw-error-msg .jw-title{display:block;position:static}body .jw-error .jw-error-msg .jw-title,body .jwplayer.jw-state-error .jw-error-msg .jw-title,body .jw-error .jw-error-msg .jw-title-primary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-primary,body .jw-error .jw-error-msg .jw-title-secondary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-secondary{font-size:14px;line-height:1.35;padding:0}body .jw-error .jw-error-msg .jw-title-primary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-primary{font-weight:600;white-space:normal}.jwplayer.jw-state-error.jw-flag-audio-player .jw-error-msg{height:100%;width:100%;top:0;position:absolute;left:0;background:#000;-webkit-transform:none;transform:none;padding:0 16px;z-index:1}body .jwplayer.jw-state-error .jw-title,body .jw-error .jw-title,.jw-state-idle .jw-title,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-title{display:block}body .jwplayer.jw-state-error .jw-preview,body .jw-error .jw-preview,.jw-state-idle .jw-preview,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-preview{display:block}.jw-state-idle .jw-captions,.jwplayer.jw-state-complete .jw-captions,body .jwplayer.jw-state-error .jw-captions{display:none}.jw-state-idle video::-webkit-media-text-track-container,.jwplayer.jw-state-complete video::-webkit-media-text-track-container,body .jwplayer.jw-state-error video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-fullscreen{width:100% !important;height:100% !important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}.jwplayer.jw-flag-controls-hidden .jw-captions{max-height:none}.jwplayer.jw-flag-controls-hidden video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-controls-hidden .jw-media{cursor:default}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:45px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/postcss-loader/lib!./node_modules/less-loader/dist/cjs.js?{\"compress\":true,\"strictMath\":true,\"noIeCompat\":true}!./src/css/jwplayer.less\n// module id = 170\n// module chunks = 0 1 2 3 5","import SimpleModel from 'model/simplemodel';\n\nclass SimpleModelExtendable {}\nSimpleModelExtendable.prototype = Object.assign({}, SimpleModel);\n\nconst changeEventRegEx = /^change:(.+)$/;\n\nfunction dispatchDiffChangeEvents(viewModel, newAttributes, oldAttributes) {\n    Object.keys(newAttributes).forEach((attr) => {\n        if (attr in newAttributes && newAttributes[attr] !== oldAttributes[attr]) {\n            viewModel.trigger(`change:${attr}`, viewModel, newAttributes[attr], oldAttributes[attr]);\n        }\n    });\n}\n\nfunction removeListeners(instance, viewModel) {\n    if (instance) {\n        instance.off(null, null, viewModel);\n    }\n}\n\nclass PlayerViewModel extends SimpleModelExtendable {\n\n    constructor(playerModel, eventFilter) {\n        super();\n\n        this._model = playerModel;\n        this._mediaModel = null;\n\n        Object.assign(playerModel.attributes, {\n            altText: '',\n            fullscreen: false,\n            logoWidth: 0,\n            scrubbing: false\n        });\n\n        playerModel.on('all', (type, objectOrEvent, value, previousValue) => {\n            if (objectOrEvent === playerModel) {\n                objectOrEvent = this;\n            }\n            if (!eventFilter || eventFilter(type, objectOrEvent, value, previousValue)) {\n                this.trigger(type, objectOrEvent, value, previousValue);\n            }\n        }, this);\n\n        playerModel.on('change:mediaModel', (model, mediaModel) => {\n            this.mediaModel = mediaModel;\n        }, this);\n    }\n\n    set mediaModel(mediaModel) {\n        const previousMediaModel = this._mediaModel;\n        removeListeners(previousMediaModel, this);\n\n        this._mediaModel = mediaModel;\n\n        mediaModel.on('all', (type, objectOrEvent, value, previousValue) => {\n            if (objectOrEvent === mediaModel) {\n                objectOrEvent = this;\n            }\n            this.trigger(type, objectOrEvent, value, previousValue);\n        }, this);\n\n        if (previousMediaModel) {\n            dispatchDiffChangeEvents(this, mediaModel.attributes, previousMediaModel.attributes);\n        }\n    }\n\n    get(attr) {\n        const mediaModel = this._mediaModel;\n        if (mediaModel && attr in mediaModel.attributes) {\n            return mediaModel.get(attr);\n        }\n        return this._model.get(attr);\n    }\n\n    set(attr, val) {\n        return this._model.set(attr, val);\n    }\n\n    getVideo() {\n        return this._model.getVideo();\n    }\n\n    destroy() {\n        removeListeners(this._model, this);\n        removeListeners(this._mediaModel, this);\n        this.off();\n    }\n}\n\nexport default class ViewModel extends PlayerViewModel {\n    constructor(playerModel) {\n        super(playerModel, (type) => {\n            // Do not propagate attribute changes from the player model for attributes present in instream\n            const instreamModel = this._instreamModel;\n            if (instreamModel) {\n                const match = changeEventRegEx.exec(type);\n                if (match) {\n                    const attr = match[1];\n                    if (attr in instreamModel.attributes) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        });\n\n        this._instreamModel = null;\n        this._playerViewModel = new PlayerViewModel(this._model);\n\n        playerModel.on('change:instream', (model, instream) => {\n            this.instreamModel = instream ? instream.model : null;\n        }, this);\n    }\n\n    get player() {\n        return this._playerViewModel;\n    }\n\n    set instreamModel(instreamModel) {\n        const previousInstream = this._instreamModel;\n        removeListeners(previousInstream, this);\n\n        this._model.off('change:mediaModel', null, this);\n\n        this._instreamModel = instreamModel;\n\n        this.trigger('instreamMode', !!instreamModel);\n\n        if (instreamModel) {\n            instreamModel.on('all', (type, objectOrEvent, value, previousValue) => {\n                if (objectOrEvent === instreamModel) {\n                    objectOrEvent = this;\n                }\n                this.trigger(type, objectOrEvent, value, previousValue);\n            }, this);\n\n            instreamModel.change('mediaModel', (model, mediaModel) => {\n                this.mediaModel = mediaModel;\n            }, this);\n\n            dispatchDiffChangeEvents(this, instreamModel.attributes, this._model.attributes);\n        } else if (previousInstream) {\n            this._model.change('mediaModel', (model, mediaModel) => {\n                this.mediaModel = mediaModel;\n            }, this);\n\n            const mergedAttributes = Object.assign({}, this._model.attributes, previousInstream.attributes);\n            dispatchDiffChangeEvents(this, this._model.attributes, mergedAttributes);\n        }\n    }\n\n    get(attr) {\n        const mediaModel = this._mediaModel;\n        if (mediaModel && attr in mediaModel.attributes) {\n            return mediaModel.get(attr);\n        }\n        const instreamModel = this._instreamModel;\n        if (instreamModel && attr in instreamModel.attributes) {\n            return instreamModel.get(attr);\n        }\n        return this._model.get(attr);\n    }\n\n    getVideo() {\n        const instreamModel = this._instreamModel;\n        if (instreamModel && instreamModel.getVideo()) {\n            return instreamModel.getVideo();\n        }\n        return super.getVideo();\n    }\n\n    destroy() {\n        super.destroy();\n        removeListeners(this._instreamModel, this);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/view-model.js","export default function middleware(model, type, currentState) {\n    let newState = currentState;\n\n    switch (type) {\n        case 'time':\n        case 'beforePlay':\n        case 'pause':\n        case 'play':\n        case 'ready': {\n            const viewable = model.get('viewable');\n            // Don't add viewable to events if we don't know we're viewable\n            if (viewable !== undefined) {\n                // Emit viewable as 0 or 1\n                newState = Object.assign({}, currentState, { viewable: viewable });\n            }\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n\n    return newState;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/events-middleware.js","// https://github.com/video-dev/can-autoplay/tree/v3.0.0 (modified)\n//\n// MIT License\n\n// Copyright (c) 2017 video-dev\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport createPlayPromise from '../providers/utils/play-promise';\nimport Promise from '../polyfills/promise';\n\n/**\n * Small video file with audio.\n * Source: https://github.com/mathiasbynens/small\n *\n * @constant\n * @default\n * @type {String}\n */\nconst VIDEO = new Blob([new Uint8Array([0, 0, 0, 28, 102, 116, 121, 112, 105, 115, 111, 109, 0, 0, 2, 0, 105, 115, 111, 109, 105, 115, 111, 50, 109, 112, 52, 49, 0, 0, 0, 8, 102, 114, 101, 101, 0, 0, 2, 239, 109, 100, 97, 116, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 0, 0, 2, 194, 109, 111, 111, 118, 0, 0, 0, 108, 109, 118, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232, 0, 0, 0, 47, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 236, 116, 114, 97, 107, 0, 0, 0, 92, 116, 107, 104, 100, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 101, 100, 116, 115, 0, 0, 0, 28, 101, 108, 115, 116, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 47, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 100, 109, 100, 105, 97, 0, 0, 0, 32, 109, 100, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 172, 68, 0, 0, 8, 0, 85, 196, 0, 0, 0, 0, 0, 45, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0, 0, 0, 1, 15, 109, 105, 110, 102, 0, 0, 0, 16, 115, 109, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 100, 105, 110, 102, 0, 0, 0, 28, 100, 114, 101, 102, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1, 0, 0, 0, 211, 115, 116, 98, 108, 0, 0, 0, 103, 115, 116, 115, 100, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 87, 109, 112, 52, 97, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 16, 0, 0, 0, 0, 172, 68, 0, 0, 0, 0, 0, 51, 101, 115, 100, 115, 0, 0, 0, 0, 3, 128, 128, 128, 34, 0, 2, 0, 4, 128, 128, 128, 20, 64, 21, 0, 0, 0, 0, 1, 244, 0, 0, 1, 243, 249, 5, 128, 128, 128, 2, 18, 16, 6, 128, 128, 128, 1, 2, 0, 0, 0, 24, 115, 116, 116, 115, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 4, 0, 0, 0, 0, 28, 115, 116, 115, 99, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 28, 115, 116, 115, 122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 115, 0, 0, 1, 116, 0, 0, 0, 20, 115, 116, 99, 111, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 44, 0, 0, 0, 98, 117, 100, 116, 97, 0, 0, 0, 90, 109, 101, 116, 97, 0, 0, 0, 0, 0, 0, 0, 33, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 109, 100, 105, 114, 97, 112, 112, 108, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 105, 108, 115, 116, 0, 0, 0, 37, 169, 116, 111, 111, 0, 0, 0, 29, 100, 97, 116, 97, 0, 0, 0, 1, 0, 0, 0, 0, 76, 97, 118, 102, 53, 54, 46, 52, 48, 46, 49, 48, 49])], { type: 'video/mp4' });\n\nfunction startPlayback (element, { muted }) {\n    // Configure element.\n    element.muted = muted;\n    element.src = URL.createObjectURL(VIDEO);\n\n    // Start playback.\n    return element.play() || createPlayPromise(element);\n}\n\nexport const AUTOPLAY_ENABLED = 'autoplayEnabled';\nexport const AUTOPLAY_MUTED = 'autoplayMuted';\nexport const AUTOPLAY_DISABLED = 'autoplayDisabled';\n\nconst autoplayPagePromises = {};\n\nexport function canAutoplay(mediaPool, { cancelable, muted = false, allowMuted = false, timeout = 10000 }) {\n    const element = mediaPool.getTestElement();\n    const key = muted ? 'muted' : `${allowMuted}`;\n\n    // Skip test if it is currently running, or test previously evaluated to AUTOPLAY_ENABLED.\n    if (!autoplayPagePromises[key]) {\n        // Run the first test: autoplay with specified muted setting.\n        autoplayPagePromises[key] = startPlayback(element, { muted }).catch((e) => {\n            // Second optional test: autoplay muted.\n            if (!cancelable.cancelled() && muted === false && allowMuted) {\n                muted = true;\n                return startPlayback(element, { muted });\n            }\n            throw e;\n        }).then(() => {\n            if (muted) {\n                autoplayPagePromises[key] = null; // Clear cache.\n                return AUTOPLAY_MUTED;\n            }\n            return AUTOPLAY_ENABLED;\n        }).catch(error => {\n            clearTimeout(timeoutId);\n            autoplayPagePromises[key] = null; // Clear cache.\n            error.reason = AUTOPLAY_DISABLED;\n            throw error;\n        });\n    }\n\n    // If the cancelable was canceled, abort the test.\n    const promise = autoplayPagePromises[key].then(result => {\n        clearTimeout(timeoutId);\n        if (cancelable.cancelled()) {\n            const error = new Error('Autoplay test was cancelled');\n            error.reason = 'cancelled';\n            throw error;\n        }\n        return result;\n    });\n\n    // Return playback promise, or timeout.\n    let timeoutId;\n    const timer = new Promise((resolve, reject) => {\n        timeoutId = setTimeout(() => {\n            autoplayPagePromises[key] = null; // Clear cache.\n            const error = new Error('Autoplay test timed out');\n            error.reason = 'timeout';\n            reject(error);\n        }, timeout);\n    });\n    return Promise.race([ promise, timer ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/can-autoplay.js","\n// It's DVR if the duration is above the minDvrWindow, Live otherwise\nexport function isDvr(duration, minDvrWindow) {\n    return Math.abs(duration) >= Math.max(minDvrWindow, 0);\n}\n\n// Determine the adaptive type - Live, DVR, or VOD\n// Duration can be positive or negative, but minDvrWindow should always be positive\nexport function streamType(duration, minDvrWindow) {\n    const _minDvrWindow = (minDvrWindow === undefined) ? 120 : minDvrWindow;\n    let type = 'VOD';\n\n    if (duration === Infinity) {\n        // Live streams are always Infinity duration\n        type = 'LIVE';\n    } else if (duration < 0) {\n        type = isDvr(duration, _minDvrWindow) ? 'DVR' : 'LIVE';\n    }\n\n    // Default option is VOD (i.e. positive or non-infinite)\n    return type;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/utils/stream-type.js","import { PLAYLIST_ITEM, MEDIA_PLAY_ATTEMPT, PROVIDER_FIRST_FRAME, MEDIA_TIME, MEDIA_FIRST_FRAME } from 'events/events';\nimport Timer from 'api/timer';\n\nconst TAB_HIDDEN = 'tabHidden';\nconst TAB_VISIBLE = 'tabVisible';\n\n// This is to provide a first frame event even when\n//  a provider does not give us one.\nconst onTimeIncreasesGenerator = (function(callback) {\n    let lastVal = 0;\n    return function (evt) {\n        const pos = evt.position;\n        if (pos > lastVal) {\n            callback();\n        }\n        // sometimes the number will wrap around (ie 100 down to 0)\n        //  so always update\n        lastVal = pos;\n    };\n});\n\nfunction unbindFirstFrameEvents(model, programController) {\n    programController.off(MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\n    programController.off(PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\n    programController.off(MEDIA_TIME, model._onTime);\n    model.off('change:activeTab', model._onTabVisible);\n}\n\nfunction trackFirstFrame(model, programController) {\n    if (model._onTabVisible) {\n        unbindFirstFrameEvents(model, programController);\n    }\n\n    // When it occurs, send the event, and unbind all listeners\n    let once = false;\n    model._triggerFirstFrame = function() {\n        if (once) {\n            return;\n        }\n        once = true;\n        const qoeItem = model._qoeItem;\n        qoeItem.tick(MEDIA_FIRST_FRAME);\n\n        const time = qoeItem.getFirstFrame();\n        programController.trigger(MEDIA_FIRST_FRAME, { loadTime: time });\n        unbindFirstFrameEvents(model, programController);\n    };\n\n    model._onTime = onTimeIncreasesGenerator(model._triggerFirstFrame);\n\n    model._onPlayAttempt = function() {\n        model._qoeItem.tick(MEDIA_PLAY_ATTEMPT);\n    };\n\n    // track visibility change\n    model._onTabVisible = function(modelChanged, activeTab) {\n        if (activeTab) {\n            model._qoeItem.tick(TAB_VISIBLE);\n        } else {\n            model._qoeItem.tick(TAB_HIDDEN);\n        }\n    };\n\n    model.on('change:activeTab', model._onTabVisible);\n    programController.on(MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\n    programController.once(PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\n    programController.on(MEDIA_TIME, model._onTime);\n}\n\nconst initQoe = function(initialModel, programController) {\n    function onMediaModel(model, mediaModel, oldMediaModel) {\n        // finish previous item\n        if (model._qoeItem && oldMediaModel) {\n            model._qoeItem.end(oldMediaModel.get('mediaState'));\n        }\n        // reset item level qoe\n        model._qoeItem = new Timer();\n        model._qoeItem.getFirstFrame = function() {\n            const time = this.between(MEDIA_PLAY_ATTEMPT, MEDIA_FIRST_FRAME);\n            // If time between the tab becoming visible and first frame is valid\n            // and less than the time since play attempt, play was not attempted until the tab became visible\n            const timeActive = this.between(TAB_VISIBLE, MEDIA_FIRST_FRAME);\n            if (timeActive > 0 && timeActive < time) {\n                return timeActive;\n            }\n            return time;\n        };\n        model._qoeItem.tick(PLAYLIST_ITEM);\n        model._qoeItem.start(mediaModel.get('mediaState'));\n\n        trackFirstFrame(model, programController);\n\n        mediaModel.on('change:mediaState', function (changeMediaModel, newstate, oldstate) {\n            if (newstate !== oldstate) {\n                model._qoeItem.end(oldstate);\n                model._qoeItem.start(newstate);\n            }\n        });\n    }\n\n    initialModel.change('mediaModel', onMediaModel);\n};\n\nexport default initQoe;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/qoe.js","export default function endOfRange(timeRanges) {\n    if (!timeRanges || !timeRanges.length) {\n        return 0;\n    }\n\n    return timeRanges.end(timeRanges.length - 1);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/time-ranges.js","export function qualityLevel(level) {\n    return {\n        bitrate: level.bitrate,\n        label: level.label,\n        width: level.width,\n        height: level.height\n    };\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/data-normalizer.js","import { STATE_IDLE, STATE_COMPLETE, STATE_STALLED, STATE_LOADING, STATE_PLAYING, STATE_PAUSED,\n    PROVIDER_FIRST_FRAME, CLICK, MEDIA_BUFFER_FULL, MEDIA_RATE_CHANGE, MEDIA_ERROR,\n    MEDIA_BUFFER, MEDIA_META, MEDIA_TIME, MEDIA_SEEKED, MEDIA_VOLUME, MEDIA_MUTE, MEDIA_COMPLETE\n} from 'events/events';\nimport utils from 'utils/helpers';\n\n// This will trigger the events required by jwplayer model to\n//  properly follow the state of the video tag\n//\n// Assumptions\n//  1. All functions are bound to the \"this\" of the provider\n//  2. The provider has an attribute \"video\" which is the video tag\n\nconst VideoListenerMixin = {\n    canplay() {\n        this.trigger(MEDIA_BUFFER_FULL);\n    },\n\n    play() {\n        this.stallTime = -1;\n        if (!this.video.paused && this.state !== STATE_PLAYING) {\n            this.setState(STATE_LOADING);\n        }\n    },\n\n    loadedmetadata() {\n        var metadata = {\n            duration: this.getDuration(),\n            height: this.video.videoHeight,\n            width: this.video.videoWidth\n        };\n        var drmUsed = this.drmUsed;\n        if (drmUsed) {\n            metadata.drm = drmUsed;\n        }\n        this.trigger(MEDIA_META, metadata);\n    },\n\n    timeupdate() {\n        var height = this.video.videoHeight;\n        if (height !== this._helperLastVideoHeight) {\n            if (this.adaptation) {\n                this.adaptation({\n                    size: {\n                        width: this.video.videoWidth,\n                        height: height\n                    }\n                });\n            }\n        }\n        this._helperLastVideoHeight = height;\n\n        const position = this.getCurrentTime();\n        const duration = this.getDuration();\n        if (isNaN(duration)) {\n            return;\n        }\n\n        if (!this.seeking && !this.video.paused &&\n            (this.state === STATE_STALLED || this.state === STATE_LOADING) &&\n            this.stallTime !== this.getCurrentTime()) {\n            this.stallTime = -1;\n            this.setState(STATE_PLAYING);\n        }\n\n        var timeEventObject = {\n            position,\n            duration,\n            currentTime: this.video.currentTime,\n            metadata: {\n                currentTime: this.video.currentTime\n            }\n        };\n        if (this.getPtsOffset) {\n            var ptsOffset = this.getPtsOffset();\n            if (ptsOffset >= 0) {\n                timeEventObject.metadata.mpegts = ptsOffset + position;\n            }\n        }\n\n        // only emit time events when playing or seeking\n        if (this.state === STATE_PLAYING || this.seeking) {\n            this.trigger(MEDIA_TIME, timeEventObject);\n        }\n    },\n\n    click(evt) {\n        this.trigger(CLICK, evt);\n    },\n\n    volumechange() {\n        var video = this.video;\n\n        this.trigger(MEDIA_VOLUME, {\n            volume: Math.round(video.volume * 100)\n        });\n\n        this.trigger(MEDIA_MUTE, {\n            mute: video.muted\n        });\n    },\n\n    seeked() {\n        if (!this.seeking) {\n            return;\n        }\n        this.seeking = false;\n        this.trigger(MEDIA_SEEKED);\n    },\n\n    playing() {\n        // When stalling, STATE_PLAYING is only set on timeupdate\n        // because Safari and Firefox will fire \"playing\" before playback recovers from stalling\n        if (this.stallTime === -1) {\n            // Here setting STATE_PLAYING ensures a quick recovery from STATE_LOADING after seeking\n            this.setState(STATE_PLAYING);\n        }\n        this.trigger(PROVIDER_FIRST_FRAME);\n    },\n\n    pause() {\n        // Sometimes the browser will fire \"complete\" and then a \"pause\" event\n        if (this.state === STATE_COMPLETE) {\n            return;\n        }\n        if (this.video.ended) {\n            return;\n        }\n        if (this.video.error) {\n            return;\n        }\n        // If \"pause\" fires before \"complete\", we still don't want to propagate it\n        if (this.video.currentTime === this.video.duration) {\n            return;\n        }\n        this.setState(STATE_PAUSED);\n    },\n\n    progress() {\n        var dur = this.getDuration();\n        if (dur <= 0 || dur === Infinity) {\n            return;\n        }\n        var buf = this.video.buffered;\n        if (!buf || buf.length === 0) {\n            return;\n        }\n\n        var buffered = utils.between(buf.end(buf.length - 1) / dur, 0, 1);\n        this.trigger(MEDIA_BUFFER, {\n            bufferPercent: buffered * 100,\n            position: this.getCurrentTime(),\n            duration: dur\n        });\n    },\n\n    ratechange() {\n        this.trigger(MEDIA_RATE_CHANGE, { playbackRate: this.video.playbackRate });\n    },\n\n    ended() {\n        this._helperLastVideoHeight = 0;\n        if (this.state !== STATE_IDLE && this.state !== STATE_COMPLETE) {\n            this.trigger(MEDIA_COMPLETE);\n        }\n    },\n    loadeddata () {\n        // If we're not rendering natively text tracks will be provided from another source - don't duplicate them here\n        if (this.renderNatively) {\n            this.setTextTracks(this.video.textTracks);\n        }\n    },\n    error() {\n        var code = (this.video.error && this.video.error.code) || -1;\n        var message = ({\n            1: 'Unknown operation aborted',\n            2: 'Unknown network error',\n            3: 'Unknown decode error',\n            4: 'File could not be played'\n        }[code] || 'Unknown');\n        this.trigger(MEDIA_ERROR, {\n            code: code,\n            message: 'Error loading media: ' + message\n        });\n    }\n};\n\nexport default VideoListenerMixin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/video-listener-mixin.js","import { style } from 'utils/css';\nimport endOfRange from 'utils/time-ranges';\n\nconst VideoActionsMixin = {\n    container: null,\n\n    volume(vol) {\n        vol = Math.max(Math.min(vol / 100, 1), 0);\n        this.video.volume = vol;\n    },\n\n    mute(state) {\n        this.video.muted = !!state;\n        if (!this.video.muted) {\n            // Remove muted attribute once user unmutes so the video element doesn't get\n            // muted by the browser when the src changes or on replay\n            this.video.removeAttribute('muted');\n        }\n    },\n\n    resize(width, height, stretching) {\n        if (!width || !height || !this.video.videoWidth || !this.video.videoHeight) {\n            return false;\n        }\n        if (stretching === 'uniform') {\n            // snap video to edges when the difference in aspect ratio is less than 9%\n            var playerAspectRatio = width / height;\n            var videoAspectRatio = this.video.videoWidth / this.video.videoHeight;\n            var objectFit = null;\n            if (Math.abs(playerAspectRatio - videoAspectRatio) < 0.09) {\n                objectFit = 'fill';\n            }\n            style(this.video, {\n                objectFit,\n                width: null,\n                height: null\n            });\n        }\n        return false;\n    },\n\n    getContainer() {\n        return this.container;\n    },\n\n    setContainer(element) {\n        this.container = element;\n        if (this.video.parentNode !== element) {\n            element.appendChild(this.video);\n        }\n    },\n\n    remove() {\n        this.stop();\n        this.destroy();\n        const container = this.container;\n        if (container && container === this.video.parentNode) {\n            container.removeChild(this.video);\n        }\n    },\n\n    atEdgeOfLiveStream() {\n        if (!this.isLive()) {\n            return false;\n        }\n\n        // currentTime doesn't always get to the end of the buffered range\n        const timeFudge = 2;\n        return (endOfRange(this.video.buffered) - this.video.currentTime) <= timeFudge;\n    }\n};\n\nexport default VideoActionsMixin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/video-actions-mixin.js","\nconst VideoAttachedMixin = {\n\n    attachMedia() {\n        this.eventsOn_();\n    },\n\n    detachMedia() {\n        this.eventsOff_();\n\n        return this.video;\n    }\n};\n\nexport default VideoAttachedMixin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/video-attached-mixin.js","import { loadFile, cancelXhr, convertToVTTCues } from 'controller/tracks-loader';\nimport { createId, createLabel } from 'controller/tracks-helper';\nimport { parseID3 } from 'providers/utils/id3Parser';\nimport { Browser } from 'environment/environment';\nimport { ERROR } from 'events/events';\nimport _ from 'utils/underscore';\n\n// Used across all providers for loading tracks and handling browser track-related events\nconst Tracks = {\n    _itemTracks: null,\n    _textTracks: null,\n    _tracksById: null,\n    _cuesByTrackId: null,\n    _cachedVTTCues: null,\n    _metaCuesByTextTime: null,\n    _currentTextTrackIndex: -1,\n    _unknownCount: 0,\n    _activeCuePosition: null,\n    _initTextTracks: _initTextTracks,\n    addTracksListener: addTracksListener,\n    clearTracks: clearTracks,\n    clearCueData: clearCueData,\n    disableTextTrack: disableTextTrack,\n    enableTextTrack: enableTextTrack,\n    getSubtitlesTrack: getSubtitlesTrack,\n    removeTracksListener: removeTracksListener,\n    addTextTracks: addTextTracks,\n    setTextTracks: setTextTracks,\n    setupSideloadedTracks: setupSideloadedTracks,\n    setSubtitlesTrack: setSubtitlesTrack,\n    textTrackChangeHandler: null,\n    addTrackHandler: null,\n    addCuesToTrack: addCuesToTrack,\n    addCaptionsCue: addCaptionsCue,\n    addVTTCue: addVTTCue,\n    addVTTCuesToTrack: addVTTCuesToTrack,\n    renderNatively: false\n};\n\nfunction setTextTracks(tracks) {\n    this._currentTextTrackIndex = -1;\n    if (!tracks) {\n        return;\n    }\n\n    if (!this._textTracks) {\n        this._initTextTracks();\n    } else {\n        // Remove the 608 captions track that was mutated by the browser\n        this._unknownCount = 0;\n        this._textTracks = _.reject(this._textTracks, function(track) {\n            const trackId = track._id;\n            if (this.renderNatively && trackId && trackId.indexOf('nativecaptions') === 0) {\n                delete this._tracksById[trackId];\n                return true;\n            } else if (track.name && track.name.indexOf('Unknown') === 0) {\n                this._unknownCount++;\n            }\n        }, this);\n\n        // Remove the ID3 track from the cache\n        delete this._tracksById.nativemetadata;\n    }\n\n    // filter for 'subtitles' or 'captions' tracks\n    if (tracks.length) {\n        var i = 0;\n        var len = tracks.length;\n\n        for (i; i < len; i++) {\n            var track = tracks[i];\n            if (!track._id) {\n                if (track.kind === 'captions' || track.kind === 'metadata') {\n                    track._id = 'native' + track.kind + i;\n                    if (!track.label && track.kind === 'captions') {\n                        // track label is read only in Safari\n                        // 'captions' tracks without a label need a name in order for the cc menu to work\n                        var labelInfo = createLabel(track, this._unknownCount);\n                        track.name = labelInfo.label;\n                        this._unknownCount = labelInfo.unknownCount;\n                    }\n                } else {\n                    track._id = createId(track, this._textTracks.length);\n                }\n                if (this._tracksById[track._id]) {\n                    // tracks without unique ids must not be marked as \"inuse\"\n                    continue;\n                }\n                track.inuse = true;\n            }\n            if (!track.inuse || this._tracksById[track._id]) {\n                continue;\n            }\n            // setup TextTrack\n            if (track.kind === 'metadata') {\n                // track mode needs to be \"hidden\", not \"showing\", so that cues don't display as captions in Firefox\n                track.mode = 'hidden';\n                track.oncuechange = _cueChangeHandler.bind(this);\n                this._tracksById[track._id] = track;\n            } else if (_kindSupported(track.kind)) {\n                var mode = track.mode;\n                var cue;\n\n                // By setting the track mode to 'hidden', we can determine if the track has cues\n                track.mode = 'hidden';\n\n                if (!track.cues.length && track.embedded) {\n                    // There's no method to remove tracks added via: video.addTextTrack.\n                    // This ensures the 608 captions track isn't added to the CC menu until it has cues\n                    continue;\n                }\n\n                track.mode = mode;\n\n                // Parsed cues may not have been added to this track yet\n                if (this._cuesByTrackId[track._id] && !this._cuesByTrackId[track._id].loaded) {\n                    var cues = this._cuesByTrackId[track._id].cues;\n                    while ((cue = cues.shift())) {\n                        _addCueToTrack(this.renderNatively, track, cue);\n                    }\n                    track.mode = mode;\n                    this._cuesByTrackId[track._id].loaded = true;\n                }\n\n                _addTrackToList.call(this, track);\n            }\n        }\n    }\n\n    if (this.renderNatively) {\n        // Only bind and set this.textTrackChangeHandler once so that removeEventListener works\n        this.textTrackChangeHandler = this.textTrackChangeHandler || textTrackChangeHandler.bind(this);\n        this.addTracksListener(this.video.textTracks, 'change', this.textTrackChangeHandler);\n\n        if (Browser.edge || Browser.firefox || Browser.safari) {\n            // Listen for TextTracks added to the videotag after the onloadeddata event in Edge and Firefox\n            this.addTrackHandler = this.addTrackHandler || addTrackHandler.bind(this);\n            this.addTracksListener(this.video.textTracks, 'addtrack', this.addTrackHandler);\n        }\n    }\n\n    if (this._textTracks.length) {\n        this.trigger('subtitlesTracks', { tracks: this._textTracks });\n    }\n}\n\nfunction setupSideloadedTracks(itemTracks) {\n    // Add tracks if we're starting playback or resuming after a midroll\n\n    if (!this.renderNatively) {\n        return;\n    }\n    // Determine if the tracks are the same and the embedded + sideloaded count = # of tracks in the controlbar\n    var alreadyLoaded = itemTracks === this._itemTracks;\n    if (!alreadyLoaded) {\n        cancelXhr(this._itemTracks);\n    }\n    this._itemTracks = itemTracks;\n    if (!itemTracks) {\n        return;\n    }\n\n    if (!alreadyLoaded) {\n        this.disableTextTrack();\n        _clearSideloadedTextTracks.call(this);\n        this.addTextTracks(itemTracks);\n    }\n}\n\nfunction getSubtitlesTrack() {\n    return this._currentTextTrackIndex;\n}\n\nfunction setSubtitlesTrack(menuIndex) {\n    if (!this.renderNatively) {\n        if (this.setCurrentSubtitleTrack) {\n            this.setCurrentSubtitleTrack(menuIndex - 1);\n        }\n        return;\n    }\n\n    if (!this._textTracks) {\n        return;\n    }\n\n    // 0 = 'Off'\n    if (menuIndex === 0) {\n        _.each(this._textTracks, function (track) {\n            track.mode = track.embedded ? 'hidden' : 'disabled';\n        });\n    }\n\n    // Track index is 1 less than controlbar index to account for 'Off' = 0.\n    // Prevent unnecessary track change events\n    if (this._currentTextTrackIndex === menuIndex - 1) {\n        return;\n    }\n\n    // Turn off current track\n    this.disableTextTrack();\n\n    // Set the provider's index to the model's index, then show the selected track if it exists\n    this._currentTextTrackIndex = menuIndex - 1;\n\n    if (this._textTracks[this._currentTextTrackIndex]) {\n        this._textTracks[this._currentTextTrackIndex].mode = 'showing';\n    }\n\n    // Update the model index since the track change may have come from a browser event\n    this.trigger('subtitlesTrackChanged', {\n        currentTrack: this._currentTextTrackIndex + 1,\n        tracks: this._textTracks\n    });\n}\n\nfunction addCaptionsCue(cueData) {\n    if (!cueData.text || !cueData.begin || !cueData.end) {\n        return;\n    }\n    var trackId = cueData.trackid.toString();\n    var track = this._tracksById && this._tracksById[trackId];\n    if (!track) {\n        track = {\n            kind: 'captions',\n            _id: trackId,\n            data: []\n        };\n        this.addTextTracks([track]);\n        this.trigger('subtitlesTracks', { tracks: this._textTracks });\n    }\n\n    var cueId;\n\n    if (cueData.useDTS) {\n        // There may not be any 608 captions when the track is first created\n        // Need to set the source so position is determined from metadata\n        if (!track.source) {\n            track.source = cueData.source || 'mpegts';\n        }\n\n    }\n    cueId = cueData.begin + '_' + cueData.text;\n\n    var cue = this._metaCuesByTextTime[cueId];\n    if (!cue) {\n        cue = {\n            begin: cueData.begin,\n            end: cueData.end,\n            text: cueData.text\n        };\n        this._metaCuesByTextTime[cueId] = cue;\n        var vttCue = convertToVTTCues([cue])[0];\n        track.data.push(vttCue);\n    }\n}\n\nfunction addVTTCue(cueData) {\n    if (!this._tracksById) {\n        this._initTextTracks();\n    }\n\n    var trackId = cueData.track ? cueData.track : 'native' + cueData.type;\n    var track = this._tracksById[trackId];\n    var label = cueData.type === 'captions' ? 'Unknown CC' : 'ID3 Metadata';\n    var vttCue = cueData.cue;\n\n    if (!track) {\n        var itemTrack = {\n            kind: cueData.type,\n            _id: trackId,\n            label: label,\n            embedded: true\n        };\n\n        track = _createTrack.call(this, itemTrack);\n\n        if (this.renderNatively || track.kind === 'metadata') {\n            this.setTextTracks(this.video.textTracks);\n        } else {\n            addTextTracks.call(this, [track]);\n        }\n    }\n    if (_cacheVTTCue.call(this, track, vttCue)) {\n        if (this.renderNatively || track.kind === 'metadata') {\n            _addCueToTrack(this.renderNatively, track, vttCue);\n        } else {\n            track.data.push(vttCue);\n        }\n    }\n}\n\nfunction addCuesToTrack(cueData) {\n    // convert cues coming from the flash provider into VTTCues, then append them to track\n    var track = this._tracksById[cueData.name];\n    if (!track) {\n        return;\n    }\n\n    track.source = cueData.source;\n    var cues = cueData.captions || [];\n    var cuesToConvert = [];\n    var sort = false;\n\n    for (var i = 0; i < cues.length; i++) {\n        var cue = cues[i];\n        var cueId = cueData.name + '_' + cue.begin + '_' + cue.end;\n        if (!this._metaCuesByTextTime[cueId]) {\n            this._metaCuesByTextTime[cueId] = cue;\n            cuesToConvert.push(cue);\n            sort = true;\n        }\n    }\n    if (sort) {\n        cuesToConvert.sort(function(a, b) {\n            return a.begin - b.begin;\n        });\n    }\n    var vttCues = convertToVTTCues(cuesToConvert);\n    Array.prototype.push.apply(track.data, vttCues);\n}\n\nfunction addTracksListener(tracks, eventType, handler) {\n    if (!tracks) {\n        return;\n    }\n    // Always remove existing listener\n    removeTracksListener(tracks, eventType, handler);\n\n    if (this.instreamMode) {\n        return;\n    }\n\n    if (tracks.addEventListener) {\n        tracks.addEventListener(eventType, handler);\n    } else {\n        tracks['on' + eventType] = handler;\n    }\n}\n\nfunction removeTracksListener(tracks, eventType, handler) {\n    if (!tracks) {\n        return;\n    }\n    if (tracks.removeEventListener) {\n        tracks.removeEventListener(eventType, handler);\n    } else {\n        tracks['on' + eventType] = null;\n    }\n}\n\nfunction clearTracks() {\n    cancelXhr(this._itemTracks);\n    var metadataTrack = this._tracksById && this._tracksById.nativemetadata;\n    if (this.renderNatively || metadataTrack) {\n        _removeCues(this.renderNatively, this.video.textTracks);\n        if (metadataTrack) {\n            metadataTrack.oncuechange = null;\n        }\n    }\n\n    this._itemTracks = null;\n    this._textTracks = null;\n    this._tracksById = null;\n    this._cuesByTrackId = null;\n    this._metaCuesByTextTime = null;\n    this._unknownCount = 0;\n    this._currentTextTrackIndex = -1;\n    this._activeCuePosition = null;\n    if (this.renderNatively) {\n        // Removing listener first to ensure that removing cues does not trigger it unnecessarily\n        this.removeTracksListener(this.video.textTracks, 'change', this.textTrackChangeHandler);\n        _removeCues(this.renderNatively, this.video.textTracks);\n    }\n}\n\n// Clear track cues to prevent duplicates\nfunction clearCueData(trackId) {\n    const cachedVTTCues = this._cachedVTTCues;\n    if (cachedVTTCues && cachedVTTCues[trackId]) {\n        cachedVTTCues[trackId] = {};\n        if (this._tracksById) {\n            this._tracksById[trackId].data = [];\n        }\n    }\n}\n\nfunction disableTextTrack() {\n    if (this._textTracks) {\n        var track = this._textTracks[this._currentTextTrackIndex];\n        if (track) {\n            // FF does not remove the active cue from the dom when the track is hidden, so we must disable it\n            track.mode = 'disabled';\n            const trackId = track._id;\n            if (trackId && trackId.indexOf('nativecaptions') === 0) {\n                track.mode = 'hidden';\n            }\n        }\n    }\n}\n\nfunction enableTextTrack() {\n    if (this._textTracks) {\n        var track = this._textTracks[this._currentTextTrackIndex];\n        if (track) {\n            track.mode = 'showing';\n        }\n    }\n}\n\nfunction textTrackChangeHandler() {\n    var textTracks = this.video.textTracks;\n    var inUseTracks = _.filter(textTracks, function (track) {\n        return (track.inuse || !track._id) && _kindSupported(track.kind);\n    });\n    if (!this._textTracks || _tracksModified.call(this, inUseTracks)) {\n        this.setTextTracks(textTracks);\n        return;\n    }\n    // If a caption/subtitle track is showing, find its index\n    var selectedTextTrackIndex = -1;\n    for (var i = 0; i < this._textTracks.length; i++) {\n        if (this._textTracks[i].mode === 'showing') {\n            selectedTextTrackIndex = i;\n            break;\n        }\n    }\n\n    // Notifying the model when the index changes keeps the current index in sync in iOS Fullscreen mode\n    if (selectedTextTrackIndex !== this._currentTextTrackIndex) {\n        this.setSubtitlesTrack(selectedTextTrackIndex + 1);\n    }\n}\n\n// Used in MS Edge to get tracks from the videotag as they're added\nfunction addTrackHandler() {\n    this.setTextTracks(this.video.textTracks);\n}\n\nfunction addTextTracks(tracksArray) {\n    if (!tracksArray) {\n        return;\n    }\n\n    if (!this._textTracks) {\n        this._initTextTracks();\n    }\n\n    tracksArray.forEach(itemTrack => {\n        // only add valid and supported kinds https://developer.mozilla.org/en-US/docs/Web/HTML/Element/track\n        if (itemTrack.kind && !_kindSupported(itemTrack.kind)) {\n            return;\n        }\n        var textTrackAny = _createTrack.call(this, itemTrack);\n        _addTrackToList.call(this, textTrackAny);\n        if (itemTrack.file) {\n            itemTrack.data = [];\n            loadFile(itemTrack,\n                (vttCues) => {\n                    this.addVTTCuesToTrack(textTrackAny, vttCues);\n                },\n                (error) => {\n                    this.trigger(ERROR, {\n                        message: 'Captions failed to load',\n                        reason: error\n                    });\n                });\n        }\n    });\n\n    if (this._textTracks && this._textTracks.length) {\n        this.trigger('subtitlesTracks', { tracks: this._textTracks });\n    }\n}\n\nfunction addVTTCuesToTrack(track, vttCues) {\n    if (!this.renderNatively) {\n        return;\n    }\n\n    var textTrack = this._tracksById[track._id];\n    // the track may not be on the video tag yet\n    if (!textTrack) {\n\n        if (!this._cuesByTrackId) {\n            this._cuesByTrackId = {};\n        }\n        this._cuesByTrackId[track._id] = { cues: vttCues, loaded: false };\n        return;\n    }\n    // Cues already added\n    if (this._cuesByTrackId[track._id] && this._cuesByTrackId[track._id].loaded) {\n        return;\n    }\n\n    var cue;\n    this._cuesByTrackId[track._id] = { cues: vttCues, loaded: true };\n\n    while ((cue = vttCues.shift())) {\n        _addCueToTrack(this.renderNatively, textTrack, cue);\n    }\n}\n\n// ////////////////////\n// //// PRIVATE METHODS\n// ////////////////////\n\nfunction _addCueToTrack(renderNatively, track, vttCue) {\n    if (!(Browser.ie && renderNatively) || !window.TextTrackCue) {\n        track.addCue(vttCue);\n        return;\n    }\n    // There's no support for the VTTCue interface in IE/Edge.\n    // We need to convert VTTCue to TextTrackCue before adding them to the TextTrack\n    // This unfortunately removes positioning properties from the cues\n    var textTrackCue = new window.TextTrackCue(vttCue.startTime, vttCue.endTime, vttCue.text);\n    track.addCue(textTrackCue);\n}\n\nfunction _removeCues(renderNatively, tracks) {\n    if (tracks && tracks.length) {\n        _.each(tracks, function(track) {\n            // Let IE & Edge handle cleanup of non-sideloaded text tracks for native rendering\n            if (Browser.ie && renderNatively && /^(native|subtitle|cc)/.test(track._id)) {\n                return;\n            }\n\n            // Cues are inaccessible if the track is disabled. While hidden,\n            // we can remove cues while the track is in a non-visible state\n            // Set to disabled before hidden to ensure active cues disappear\n            track.mode = 'disabled';\n            track.mode = 'hidden';\n            for (var i = track.cues.length; i--;) {\n                track.removeCue(track.cues[i]);\n            }\n            if (!track.embedded) {\n                track.mode = 'disabled';\n            }\n            track.inuse = false;\n        });\n    }\n}\n\nfunction _kindSupported(kind) {\n    return kind === 'subtitles' || kind === 'captions';\n}\n\nfunction _initTextTracks() {\n    this._textTracks = [];\n    this._tracksById = {};\n    this._metaCuesByTextTime = {};\n    this._cuesByTrackId = {};\n    this._cachedVTTCues = {};\n    this._unknownCount = 0;\n}\n\nfunction _createTrack(itemTrack) {\n    var track;\n    var labelInfo = createLabel(itemTrack, this._unknownCount);\n    var label = labelInfo.label;\n    this._unknownCount = labelInfo.unknownCount;\n\n    if (this.renderNatively || itemTrack.kind === 'metadata') {\n        var tracks = this.video.textTracks;\n        // TextTrack label is read only, so we'll need to create a new track if we don't\n        // already have one with the same label\n        track = _.findWhere(tracks, { label: label });\n\n        if (!track) {\n            track = this.video.addTextTrack(itemTrack.kind, label, itemTrack.language || '');\n        }\n\n        track.default = itemTrack.default;\n        track.mode = 'disabled';\n        track.inuse = true;\n    } else {\n        track = itemTrack;\n        track.data = track.data || [];\n    }\n\n    if (!track._id) {\n        track._id = createId(itemTrack, this._textTracks.length);\n    }\n\n    return track;\n}\n\nfunction _addTrackToList(track) {\n    this._textTracks.push(track);\n    this._tracksById[track._id] = track;\n}\n\nfunction _clearSideloadedTextTracks() {\n    // Clear VTT textTracks\n    if (!this._textTracks) {\n        return;\n    }\n    var nonSideloadedTracks = _.filter(this._textTracks, function (track) {\n        return track.embedded || track.groupid === 'subs';\n    });\n    this._initTextTracks();\n    _.each(nonSideloadedTracks, function (track) {\n        this._tracksById[track._id] = track;\n    });\n    this._textTracks = nonSideloadedTracks;\n}\n\nfunction _cueChangeHandler(e) {\n    var activeCues = e.currentTarget.activeCues;\n    if (!activeCues || !activeCues.length) {\n        return;\n    }\n\n    // Get the most recent start time. Cues are sorted by start time in ascending order by the browser\n    var startTime = activeCues[activeCues.length - 1].startTime;\n    // Prevent duplicate meta events for the same list of cues since the cue change handler fires once\n    // for each activeCue in Safari\n    if (this._activeCuePosition === startTime) {\n        return;\n    }\n    var dataCues = [];\n\n    _.each(activeCues, function(cue) {\n        if (cue.startTime < startTime) {\n            return;\n        }\n        if (cue.data || cue.value) {\n            dataCues.push(cue);\n        } else if (cue.text) {\n            this.trigger('meta', {\n                metadataTime: startTime,\n                metadata: JSON.parse(cue.text)\n            });\n        }\n    }, this);\n\n    if (dataCues.length) {\n        var id3Data = parseID3(dataCues);\n        this.trigger('meta', {\n            metadataTime: startTime,\n            metadata: id3Data\n        });\n    }\n    this._activeCuePosition = startTime;\n}\n\nfunction _cacheVTTCue(track, vttCue) {\n    var trackKind = track.kind;\n    if (!this._cachedVTTCues[track._id]) {\n        this._cachedVTTCues[track._id] = {};\n    }\n    var cachedCues = this._cachedVTTCues[track._id];\n    var cacheKeyTime;\n\n    switch (trackKind) {\n        case 'captions':\n        case 'subtitles':\n            // VTTCues should have unique start and end times, even in cases where there are multiple\n            // active cues. This is safer than ensuring text is unique, which may be violated on seek.\n            // Captions within .05s of each other are treated as unique to account for\n            // quality switches where start/end times are slightly different.\n            cacheKeyTime = Math.floor(vttCue.startTime * 20);\n            var cacheLine = '_' + vttCue.line;\n            var cacheValue = Math.floor(vttCue.endTime * 20);\n            var cueExists = cachedCues[cacheKeyTime + cacheLine] || cachedCues[(cacheKeyTime + 1) + cacheLine] || cachedCues[(cacheKeyTime - 1) + cacheLine];\n\n            if (cueExists && Math.abs(cueExists - cacheValue) <= 1) {\n                return false;\n            }\n\n            cachedCues[cacheKeyTime + cacheLine] = cacheValue;\n            return true;\n        case 'metadata':\n            var text = vttCue.data ? new Uint8Array(vttCue.data).join('') : vttCue.text;\n            cacheKeyTime = vttCue.startTime + text;\n            if (cachedCues[cacheKeyTime]) {\n                return false;\n            }\n\n            cachedCues[cacheKeyTime] = vttCue.endTime;\n            return true;\n        default:\n            return false;\n    }\n}\n\nfunction _tracksModified(inUseTracks) {\n    // Need to add new textTracks coming from the video tag\n    if (inUseTracks.length > this._textTracks.length) {\n        return true;\n    }\n\n    // Tracks may have changed in Safari after an ad\n    for (var i = 0; i < inUseTracks.length; i++) {\n        var track = inUseTracks[i];\n        if (!track._id || !this._tracksById[track._id]) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport default Tracks;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/tracks-mixin.js","\nconst friendlyNames = {\n    TIT2: 'title',\n    TT2: 'title',\n    WXXX: 'url',\n    TPE1: 'artist',\n    TP1: 'artist',\n    TALB: 'album',\n    TAL: 'album'\n};\n\nexport function utf8ArrayToStr(array, startingIndex) {\n    // Based on code by Masanao Izumo <iz@onicos.co.jp>\n    // posted at http://www.onicos.com/staff/iz/amuse/javascript/expert/utf.txt\n\n    const len = array.length;\n    let c;\n    let char2;\n    let char3;\n    let out = '';\n    let i = startingIndex || 0;\n    while (i < len) {\n        c = array[i++];\n        // If the character is 3 (END_OF_TEXT) or 0 (NULL) then skip it\n        if (c === 0x00 || c === 0x03) {\n            continue;\n        }\n        switch (c >> 4) {\n            case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\n            // 0xxxxxxx\n                out += String.fromCharCode(c);\n                break;\n            case 12: case 13:\n            // 110x xxxx   10xx xxxx\n                char2 = array[i++];\n                out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));\n                break;\n            case 14:\n                // 1110 xxxx  10xx xxxx  10xx xxxx\n                char2 = array[i++];\n                char3 = array[i++];\n                out += String.fromCharCode(((c & 0x0F) << 12) |\n                    ((char2 & 0x3F) << 6) |\n                    ((char3 & 0x3F) << 0));\n                break;\n            default:\n        }\n    }\n    return out;\n}\n\nfunction utf16BigEndianArrayToStr(array, startingIndex) {\n    const lastDoubleByte = array.length - 1;\n    let out = '';\n    let i = startingIndex || 0;\n    while (i < lastDoubleByte) {\n        if (array[i] === 254 && array[i + 1] === 255) {\n            // Byte order mark\n        } else {\n            out += String.fromCharCode((array[i] << 8) + array[i + 1]);\n        }\n        i += 2;\n    }\n    return out;\n}\n    \nexport function syncSafeInt(sizeArray) {\n    const size = arrayToInt(sizeArray);\n    return (size & 0x0000007F) |\n        ((size & 0x00007F00) >> 1) |\n        ((size & 0x007F0000) >> 2) |\n        ((size & 0x7F000000) >> 3);\n}\n\nfunction arrayToInt(array) {\n    let sizeString = '0x';\n    for (let i = 0; i < array.length; i++) {\n        if (array[i] < 16) {\n            sizeString += '0';\n        }\n        sizeString += array[i].toString(16);\n    }\n    return parseInt(sizeString);\n}\n    \nexport function parseID3(activeCues = []) {\n    return activeCues.reduce(function(data, cue) {\n        if (!('value' in cue)) {\n            // Cue is not in Safari's key/data format\n            if ('data' in cue && cue.data instanceof ArrayBuffer) {\n                // EdgeHTML 13.10586 cue point format - contains raw data in an ArrayBuffer.\n\n                const oldCue = cue;\n                const array = new Uint8Array(oldCue.data);\n                let arrayLength = array.length;\n\n                cue = { value: { key: '', data: '' } };\n\n                let i = 10;\n                while (i < 14 && i < array.length) {\n                    if (array[i] === 0) {\n                        break;\n                    }\n                    cue.value.key += String.fromCharCode(array[i]);\n                    i++;\n                }\n\n                // If the first byte is 3 (END_OF_TEXT) or 0 (NULL) then skip it\n                let startPos = 19;\n                let firstByte = array[startPos];\n                if (firstByte === 0x03 || firstByte === 0x00) {\n                    firstByte = array[++startPos];\n                    arrayLength--;\n                }\n\n                let infoDelimiterPosition = 0;\n                // Find info/value pair delimiter if present.\n                // If first byte shows theres utf 16 encoding, there is no info since info cannot be utf 16 encoded\n                if (firstByte !== 0x01 && firstByte !== 0x02) {\n                    for (let j = startPos + 1; j < arrayLength; j++) {\n                        if (array[j] === 0x00) {\n                            infoDelimiterPosition = j - startPos;\n                            break;\n                        }\n                    }\n                }\n\n                if (infoDelimiterPosition > 0) {\n                    const info = utf8ArrayToStr(array.subarray(startPos, startPos += infoDelimiterPosition), 0);\n                    if (cue.value.key === 'PRIV') {\n                        if (info === 'com.apple.streaming.transportStreamTimestamp') {\n                            const ptsIs33Bit = syncSafeInt(array.subarray(startPos, startPos += 4)) & 0x00000001;\n                            const transportStreamTimestamp = syncSafeInt(array.subarray(startPos, startPos += 4)) +\n                                (ptsIs33Bit ? 0x100000000 : 0);\n                            cue.value.data = transportStreamTimestamp;\n                        } else {\n                            cue.value.data = utf8ArrayToStr(array, startPos + 1);\n                        }\n                        cue.value.info = info;\n                    } else {\n                        cue.value.info = info;\n                        cue.value.data = utf8ArrayToStr(array, startPos + 1);\n                    }\n                } else {\n                    const encoding = array[startPos];\n                    if (encoding === 1 || encoding === 2) {\n                        cue.value.data = utf16BigEndianArrayToStr(array, startPos + 1);\n                    } else {\n                        cue.value.data = utf8ArrayToStr(array, startPos + 1);\n                    }\n                }\n            }\n        }\n\n        // These friendly names mapping provides compatibility with our implementation prior to 7.3\n        if (friendlyNames.hasOwnProperty(cue.value.key)) {\n            data[friendlyNames[cue.value.key]] = cue.value.data;\n        }\n        /* The meta event includes a metadata object with flattened cue key/data pairs\n         * If a cue also includes an info field, then create a collection of info/data pairs for the cue key\n         *   TLEN: 03:50                                        // key: \"TLEN\", data: \"03:50\"\n         *   WXXX: {\"artworkURL\":\"http://domain.com/cover.jpg\"} // key: \"WXXX\", info: \"artworkURL\" ...\n         */\n        if (cue.value.info) {\n            let collection = data[cue.value.key];\n            if (collection !== Object(collection)) {\n                collection = {};\n                data[cue.value.key] = collection;\n            }\n            collection[cue.value.info] = cue.value.data;\n        } else {\n            data[cue.value.key] = cue.value.data;\n        }\n        return data;\n    }, {});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/utils/id3Parser.js"],"sourceRoot":""}