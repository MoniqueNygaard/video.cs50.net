{"version":3,"sources":["webpack:///./src/js/view/controls/controls.js","webpack:///./src/js/controller/controller.js","webpack:///./node_modules/intersection-observer/intersection-observer.js","webpack:///./src/js/utils/ui.js","webpack:///./src/js/view/controls/icons.js","webpack:///./src/js/view/controls/components/button.js","webpack:///./src/js/utils/svgParser.js","webpack:///./src/js/parsers/captions/srt.js","webpack:///./src/js/view/constants.js","webpack:///./src/js/utils/cancelable.js","webpack:///./src/js/controller/model.js","webpack:///./src/js/utils/request-animation-frame.js","webpack:///./src/js/view/utils/breakpoint.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./src/js/utils/aria.js","webpack:///./src/js/view/controls/components/slider.js","webpack:///./src/js/view/controls/components/tooltip.js","webpack:///./src/js/view/controls/components/simple-tooltip.js","webpack:///./src/js/program/program-controller.js","webpack:///./src/js/utils/eventable.js","webpack:///./src/js/program/program-listeners.js","webpack:///./src/js/events/change-state-event.js","webpack:///./src/js/utils/active-tab.js","webpack:///./src/js/controller/tracks-loader.js","webpack:///./src/js/controller/tracks-helper.js","webpack:///./src/js/providers/utils/play-promise.js","webpack:///./src/js/parsers/captions/vttcue.js","webpack:///./src/js/parsers/captions/dfxp.js","webpack:///./src/js/view/controls/controlbar.js","webpack:///./src/assets/SVG/buffer.svg","webpack:///./src/assets/SVG/replay.svg","webpack:///./src/assets/SVG/playback-error.svg","webpack:///./src/assets/SVG/play.svg","webpack:///./src/assets/SVG/pause.svg","webpack:///./src/assets/SVG/rewind-10.svg","webpack:///./src/assets/SVG/next.svg","webpack:///./src/assets/SVG/volume-0.svg","webpack:///./src/assets/SVG/volume-50.svg","webpack:///./src/assets/SVG/volume-100.svg","webpack:///./src/assets/SVG/captions-on.svg","webpack:///./src/assets/SVG/captions-off.svg","webpack:///./src/assets/SVG/airplay-on.svg","webpack:///./src/assets/SVG/airplay-off.svg","webpack:///./src/assets/SVG/playback-rate.svg","webpack:///./src/assets/SVG/settings.svg","webpack:///./src/assets/SVG/audio-tracks.svg","webpack:///./src/assets/SVG/quality-100.svg","webpack:///./src/assets/SVG/fullscreen-not.svg","webpack:///./src/assets/SVG/fullscreen.svg","webpack:///./src/assets/SVG/close.svg","webpack:///./src/assets/SVG/jw-logo.svg","webpack:///./src/js/view/controls/components/custom-button.js","webpack:///./src/js/view/controls/components/timeslider.js","webpack:///./src/js/view/controls/templates/slider.js","webpack:///./src/js/view/controls/components/chapters.mixin.js","webpack:///./src/js/view/controls/components/thumbnails.mixin.js","webpack:///./src/js/view/controls/components/volumetooltip.js","webpack:///./src/js/view/controls/display-container.js","webpack:///./src/js/view/controls/templates/display-container.js","webpack:///./src/js/view/controls/templates/display-icon.js","webpack:///./src/js/view/controls/rewind-display-icon.js","webpack:///./src/js/view/controls/play-display-icon.js","webpack:///./src/js/view/controls/next-display-icon.js","webpack:///./src/js/view/controls/nextuptooltip.js","webpack:///./src/js/view/controls/templates/nextup.js","webpack:///./src/js/view/controls/rightclick.js","webpack:///./src/js/view/controls/templates/rightclick.js","webpack:///./src/js/view/controls/settings-menu.js","webpack:///./src/js/view/controls/components/settings/menu.js","webpack:///./src/js/view/controls/templates/settings/menu.js","webpack:///./src/js/view/utils/submenu-factory.js","webpack:///./src/js/view/controls/components/settings/submenu.js","webpack:///./src/js/view/controls/templates/settings/submenu.js","webpack:///./src/js/view/controls/components/settings/content-item.js","webpack:///./src/js/view/controls/templates/settings/content-item.js","webpack:///./src/css/controls.less?b048","webpack:///./src/css/controls.less","webpack:///./src/js/api/set-config.js","webpack:///./src/js/controller/instream-adapter.js","webpack:///./src/js/program/ad-program-controller.js","webpack:///./src/js/program/media-controller.js","webpack:///./src/js/program/background-media.js","webpack:///./src/js/controller/captions.js","webpack:///./src/js/view/view.js","webpack:///./src/templates/player.js","webpack:///./src/js/view/utils/audio-mode.js","webpack:///./src/js/view/utils/views-manager.js","webpack:///./src/js/view/utils/visibility.js","webpack:///./src/js/view/utils/skin.js","webpack:///./src/js/view/utils/request-fullscreen-helper.js","webpack:///./src/js/view/utils/flag-no-focus.js","webpack:///./src/js/view/utils/clickhandler.js","webpack:///./src/js/view/captionsrenderer.js","webpack:///./src/js/view/logo.js","webpack:///./src/templates/logo.js","webpack:///./src/js/view/preview.js","webpack:///./src/js/view/title.js","webpack:///./src/css/jwplayer.less?586a","webpack:///./src/css/jwplayer.less","webpack:///./src/js/view/view-model.js","webpack:///./src/js/controller/events-middleware.js","webpack:///./src/js/utils/can-autoplay.js","webpack:///./src/js/providers/utils/stream-type.js","webpack:///./src/js/controller/qoe.js"],"names":["require","ACTIVE_TIMEOUT","mobile","cloneIcon","forEach","api","getState","errorIconContainer","getContainer","querySelector","hasChildNodes","appendChild","reasonInteraction","reason","Controls","context","playerContainer","activeTimeout","inactiveTime","controlbar","displayContainer","backdrop","enabled","instreamState","keydownCallback","keyupCallback","blurCallback","mute","nextUpToolTip","rightClickMenu","settingsMenu","showing","unmuteCallback","logo","div","dimensions","userInactiveTimeout","remainingTime","setTimeout","userInactive","model","element","createElement","className","touchMode","get","buttons","display","on","trigger","userActive","playToggle","addClass","change","modelChanged","isBlocked","destroy","setup","data","lastState","visibilityChangeHandler","visible","evt","state","settingsInteraction","isKeyEvent","sourceEvent","type","toggleClass","pause","play","settingsButton","elements","focus","insertBefore","setupUnmuteAutoplay","_model","unmuteAutoplay","unmute","show","renderVolume","once","adjustSeek","amount","min","max","position","Math","newSeek","between","seek","adjustVolume","newVol","setVolume","onEscape","setFullscreen","blur","related","getPlugin","close","handleKeydown","ctrlKey","metaKey","keyCode","captionsList","getCaptionsList","listLength","length","nextIndex","getCurrentCaptions","setCurrentCaptions","setMute","number","test","preventDefault","addEventListener","handleKeyup","isTab","insideContainer","contains","target","focusedElement","relatedTarget","document","addBackdrop","off","clearTimeout","parentNode","removeClass","removeChild","removeEventListener","removeBackdrop","cbHeight","clientHeight","autostartSucceeded","set","undefined","hide","event","insideControlbar","insideNextUp","insideLogo","timeout","parent","normalizeState","newstate","Controller","prototype","config","_api","originalContainer","eventListeners","commandQueue","mediaPool","_this","_view","_captions","_beforePlay","_actionOnAttach","_stopPlaylist","_interruptPlay","checkAutoStartCancelable","_checkAutoStart","updatePlaylistCancelable","primeBeforePlay","currentContainer","_events","args","call","eventsReadyQueue","_trigger","viewModel","_programController","updateProgramSoundSettings","addProgramControllerListeners","triggerError","throttled","errorEvent","message","bool","fullscreen","vol","volume","getMute","rate","playbackRate","_pause","_play","tracks","track","mediaModel","changedMediaModel","duration","minDvrWindow","setStreamType","index","recsAuto","oncomplete","item","backgroundLoading","onPosition","daiSetting","backgroundLoad","viewElement","playerReady","nextUp","Object","sources","_playerReadyNotify","init","_updateViewable","setupTime","playlist","eventData","feedData","eventFeedData","playlistItem","flush","viewableChange","_checkPlayOnViewable","visibility","isUndefined","round","apiQueue","_autoStart","viewable","preloadVideo","_load","instream","_instreamAdapter","noResume","_stop","cancel","_inInteraction","window","primeMediaElements","loadPromise","attributes","itemReady","loadPlaylistPromise","_loadPlaylist","catch","error","updatePlaylist","then","async","_setItem","toLoad","resolve","reject","loader","load","_getAdState","_getState","adState","isString","meta","playReason","_getReason","startTime","pauseAd","playVideo","adConfig","cancelable","muted","allowMuted","autoplayadsmuted","result","cancelled","internal","empty","fromApi","stopVideo","pauseReason","_isIdle","_seek","pos","_item","parseInt","setActiveItem","_prev","_next","_completeHandler","idx","iOS","_setFullscreen","triggerAdvanceEvent","_setCurrentQuality","quality","_getCurrentQuality","_getConfig","getConfiguration","_getVisualQuality","_getQualityLevels","qualities","_setCurrentAudioTrack","audioTrack","_getCurrentAudioTrack","_getAudioTracks","audioTracks","_setCurrentCaptions","persistVideoSubtitleTrack","subtitles","_getCaptionsList","_getCurrentCaptions","getCurrentIndex","_detachMedia","backgroundActiveMedia","attached","_attachMedia","restoreBackgroundMedia","isBoolean","_adModel","_nextUp","next","cb","mode","ui","itemsShown","e","setSubtitlesTracks","defaultCaptionsIndex","stop","playlistNext","playlistPrev","setCurrentQuality","detachMedia","attachMedia","getCurrentQuality","getQualityLevels","setCurrentAudioTrack","getCurrentAudioTrack","getAudioTracks","getVisualQuality","getConfig","setConfig","newConfig","setItemIndex","castVideo","castProvider","stopCast","preloadNextItem","backgroundMedia","isBeforeComplete","beforeComplete","setPlaybackRate","getProvider","getWidth","getHeight","getItemQoe","_qoeItem","addButton","img","tooltip","callback","id","btnClass","customButtons","replaced","newButton","reduce","button","push","unshift","removeButton","filter","resize","getSafeRegion","setCaptions","checkBeforePlay","setControls","controls","setCues","cues","filteredPlaylist","playerDestroy","instreamDestroy","isBeforePlay","createInstream","skipAd","queue","apply","property","getPointerType","TouchEvent","PointerEvent","_supportsPointerEvents","android","_supportsTouchEvents","_useMouseEvents","_isOSXFirefox","firefox","mac","getCoord","c","originalEvent","changedTouches","isRightClick","MouseEvent","which","isEnterKey","KeyboardEvent","stopPropagation","normalizeUIEvent","srcEvent","source","touches","currentTarget","pageX","pageY","preventManipulation","UI","elem","options","_elem","_hasMoved","_startX","_startY","_lastClickTime","_doubleClickDelay","_touchListenerTarget","_pointerId","listenerOptions","passiveEvents","passive","preventScrolling","interactEndDelegate","interactEndHandler","interactStartHandler","useHover","overHandler","pointerOutHandler","useMove","moveHandler","outHandler","keyHandler","useFocus","pointerType","triggerEvent","x","y","overElement","elementFromPoint","setEventListener","eventName","isPrimary","pointerId","setPointerCapture","interactDragHandler","nodeName","toLowerCase","movementThreshold","endX","endY","moveX","moveY","isPointerEvent","releasePointerCapture","directSelect","indexOf","self","enableDoubleTap","doubleType","cloneIcons","collection","name","icon","getCollection","nameToClass","clone","Error","names","icons","querySelectorAll","split","map","join","__DEBUG__","Array","cloneNode","parseCollection","apiAction","ariaText","svgIcons","setAttribute","style","svgIcon","toggle","m","svgParse","parser","svgXml","DOMParser","parseFromString","documentElement","Srt","list","i","entry","_entry","text","array","line","begin","substr","end","slice","dvrSeekLimit","arguments","Model","providers","_provider","MediaModel","setAutoStart","mediaModelAttributes","keys","key","persistQualityLevel","levels","currentLevel","label","resetItem","setMediaModel","syncPlayerWithMediaModel","_destroyed","getVideo","getProviders","streamType","setProvider","provider","syncProviderProperties","resetProvider","isNumber","persistCaptionsTrack","setVideoSubtitleTrack","trackIndex","autoStart","autoStartOnMobile","starttime","itemMeta","getName","instreamMode","supportsPlaybackRate","getPlaybackRate","renderNatively","mediaState","srcReset","started","preloaded","visualQuality","buffer","currentTime","requestAnimationFrame","cancelAnimationFrame","getBreakpoint","setBreakpoint","width","breakpoint","playerElement","breakpointNumber","breakpointClass","ariaLabel","getRailBounds","elementRail","bounds","pageXOffset","body","parentElement","getBoundingClientRect","left","right","Slider","orientation","dragStartListener","dragStart","bind","dragMoveListener","dragMove","dragEndListener","dragEnd","tapListener","tap","el","getElementsByClassName","elementBuffer","elementProgress","elementThumb","userInteract","railBounds","dimension","percentage","bottom","top","height","updatedPercent","limit","render","update","Tooltip","elementShown","container","openClass","componentType","content","removeContent","isOpen","closeTooltip","openTooltip","SimpleTooltip","attachToElement","openCallback","tooltipElement","textElement","textContent","instance","open","touchEvent","setText","newText","ProgramController","adPlaying","background","mediaController","mediaControllerListener","getPrimedElement","getSource","isNext","_destroyActiveMedia","_activateBackgroundMedia","_destroyBackgroundMedia","casting","_providerCanPlay","activeItem","_setActiveMedia","mediaModelContext","_setupMediaController","nextMediaController","err","playPromise","thenPlayPromise","media","currentMedia","preload","castMediaController","_destroyMediaController","backgroundMediaController","setNext","clearNext","prime","assignMediaContainer","mediaElement","forwardEvents","detach","_destroyBackgroundLoadingMedia","recycle","makeMediaController","ProviderConstructor","primedElement","choose","nextLoadPromise","shouldAttach","attach","syncMute","beforeLoad","syncVolume","changedModel","changedContainer","programController","Eventable","ProviderListener","MediaControllerListener","mediaType","previousState","_playbackComplete","bufferPercent","currentQuality","currentTrack","metadata","ChangeStateEvent","normalizeApiState","oldstate","eventType","replace","hidden","webkitHidden","loadFile","cancelXhr","convertToVTTCues","successHandler","errorHandler","xhr","ajax","file","xhrSuccess","onload","onreadystatechange","onerror","abort","cue","xmlRoot","responseXML","firstChild","vttCues","nextSibling","nodeType","COMMENT_NODE","responseText","loadVttParser","VTTParser","oncue","onflush","parse","default","createId","createLabel","tracksCount","trackId","prefix","kind","defaulttrack","_id","unknownCount","language","createPlayPromise","video","paused","removeEventListeners","listener","VTTCue","findDirectionSetting","value","directionSetting","lr","rl","dir","findAlignSetting","alignSetting","start","middle","align","autoKeyword","endTime","hasBeenReset","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_size","_align","defineProperty","enumerable","TypeError","setting","SyntaxError","displayState","getCueAsHTML","WebVTT","convertCueToDOMTree","Dfxp","xmlDoc","validate","paragraphs","getElementsByTagName","frameRate","tt","parsedFrameRate","parseFloat","getAttribute","isNaN","p","breaks","j","b","replaceChild","createTextNode","rawText","innerHTML","dur","parseError","object","role","textIcon","classes","createCastButton","castToggle","localization","safari","airplayButton","airplay","chrome","castButton","cursor","cast","buttonsInFirstNotInSecond","buttonsA","buttonsB","some","a","appendChildren","Controlbar","_isMobile","timeSlider","volumeTooltip","muteButton","rewind","version","major","nextButton","settings","captionsButton","cc","liveButton","goToLiveEdge","liveBroadcast","alt","live","elapsed","countdown","time","volumetooltip","spacer","buttonContainer","captionsTip","onCaptionsChanged","currentCaptions","nextUpTip","buttonLayout","layout","menus","addLogo","onVolume","onMute","onDuration","onElapsed","onFullscreen","onStreamTypeChange","dvrLive","setAltText","updateButtons","tipText","title","onAudioMode","onCastAvailable","onCastActive","pct","val","click","currentPosition","each","ele","closeMenus","volumeSlider","elapsedTime","countdownTime","ceil","timeFormat","abs","altText","rewindPosition","startPosition","logoButton","link","newButtons","oldButtons","addedButtons","removedButtons","removeButtons","buttonProps","firstButton","buttonsToRemove","buttonElement","active","getCachedIcon","svg","CustomButton","iconElement","substring","backgroundImage","TimeTip","containerWidth","textLength","dragJustReleased","wrapper","addContent","txt","setWidth","tolerance","TimeSlider","timeTip","seekThrottled","throttle","performSeek","mobileHoverDistance","addCues","onPlaylistItem","onBuffer","onStreamType","elementUI","showTimeTooltip","hideTimeTooltip","percent","activeCue","updatedPosition","seekTo","updateBuffer","updateTime","drawCues","reset","loadThumbnails","loadChapters","playerWidth","timetipText","closeCue","allowNegativeTime","resetWidth","showThumbnail","timeTipWidth","widthPct","timeTipPct","safePct","toFixed","addCue","resetChapters","resetThumbnails","Cue","toString","ChaptersMixin","chaptersLoaded","chaptersFailed","plainText","isArray","obj","Thumbnail","ThumbnailsMixin","vttPath","individualImage","thumbnailsLoaded","thumbnailsFailed","thumbnails","chooseThumbnail","seconds","sortedIndex","url","loadThumbnail","margin","backgroundPosition","hashIndex","matched","exec","Image","image","src","VolumeTooltip","classList","remove","toggleValue","toggleOpenState","DisplayContainer","iconElements","ButtonClass","iconContainer","playback","iconName","RewindDisplayIcon","PlayDisplayIcon","iconDisplay","newstateLabel","replay","removeAttribute","NextDisplayIcon","nextUpChangeModel","NextUpTooltip","_playerElement","nextUpText","nextUpClose","shown","closeButton","playerViewModel","player","onNextUp","stateChangeModel","nextUpSticky","nextUpImage","nextUpItem","thumbnail","thumbnailStyle","header","innerText","showNextUp","setNextUpItem","offset","showUntilEnd","closeAriaLabel","createDomElement","html","logoContainer","RightClick","semverParts","majorMinorPatchPre","menu","items","featured","showLogo","lazySetup","mouseOverContext","hideMenu","showMenu","playerBounds","getOffset","_menuTimeout","buildArray","newEl","childNodes","layer","hideMenuHandler","addOffListener","oncontextmenu","rightClick","removeOffListener","itemsHtml","rightClickItem","createSettingsMenu","setupSubmenuListeners","onVisibility","onSubmenuAdded","onMenuEmpty","submenuName","isDefault","submenu","getSubmenu","activateSubmenu","activateFirstSubmenu","activateSubmenuItem","itemIndex","activateItem","onAudiotracksChanged","onQualitiesChanged","hd","controlbarButton","toggleCaptionsButtonState","setupPlaybackRatesMenu","playbackRates","showPlaybackRateControls","currentAudioTrack","captionsSubmenu","rates","SettingsMenu","documentClickHandler","targetClass","match","submenus","settingsMenuElement","closeOnEnter","closeOnButton","shiftKey","topbarElement","addDocumentListeners","categoryButtonElement","deactivateAllSubmenus","removeDocumentListeners","addSubmenu","sharingButton","removeSubmenu","activate","firstSubmenuName","defineProperties","handler","deactivate","addCaptionsSubmenu","removeCaptionsSubmenu","addAudioTracksSubmenu","removeAudioTracksSubmenu","addQualitiesSubmenu","removeQualitiesSubmenu","addPlaybackRatesSubmenu","removePlaybackRatesSubmenu","AUDIO_TRACKS_SUBMENU","CAPTIONS_SUBMENU","QUALITIES_SUBMENU","PLAYBACK_RATE_SUBMENU","DEFAULT_SUBMENU","makeSubmenu","contentItems","tooltipText","replaceContent","categoryButton","children","action","initialSelectionIndex","captionsContentItems","contentItemElement","audioTracksList","audioTracksItems","audioTracksSubmenu","qualitiesList","qualitiesItems","qualitiesSubmenu","rateList","rateItems","playbackRatesSubmenu","SettingsSubmenu","submenuElement","onFocus","srcElement","itemOrdinal","deactivateAllItems","SettingsContentItem","contentItemUI","uiElement","supportedFields","controller","size","newValue","field","_defaultOptions","skipoffset","tag","InstreamAdapter","_controller","_mediaPool","_adProgram","_array","_arrayOptions","_arrayIndex","_options","_skipAd","_instreamItemNext","_backgroundLoadTriggered","_oldpos","_skipOffset","_backgroundLoadStart","_inited","_clickHandler","hasControls","_doubleClickHandler","addAdProgramTimeListener","_instreamTime","clickHandler","setAlternateClickHandlers","_instreamForward","triggerPlayRejected","_instreamItemComplete","_instreamMeta","mediaContainer","loadingAd","_loadNextItem","loadItem","adModel","addClickHandler","setupSkipButton","customNext","skipMessage","skipText","skipButton","applyProviderListeners","usePsuedoProvider","skipAdType","resizeMedia","replacePlaylistItem","revertAlternateClickHandlers","getMediaElement","setSkipOffset","skipOffset","AdProgramController","playerModel","getAdElement","mediaSrc","srcResetListener","defaultPlaybackRate","playerAttributes","edition","mediaContext","autostartMuted","autostart","advertising","sdkplatform","_nativeFullscreenHandler","_setProvider","isVpaidProvider","adMediaModelContext","changeAdModel","_stateHandler","clean","jwstate","MediaController","providerListener","addProviderListeners","eventQueue","_loadAndPlay","_playAttempt","videoTagPaused","setState","providerSetupPromise","shouldBackground","setContainer","mediaModelState","setSubtitlesTrack","BackgroundMedia","nextMedia","JSON","stringify","Captions","_tracks","_tracksById","_unknownCount","captionsIndex","_captionsMenu","len","_kindSupported","_addTrack","_addVTTCuesToTrack","_setCaptionsList","captionsMenuIndex","_setSubtitlesTracks","labelInfo","_selectDefaultIndex","autoselect","_setCurrentIndex","listIdentity","ControlsLoader","ControlsModule","_isIE","ie","View","isSetup","_videoLayer","_preview","_title","_captionsRenderer","_logo","_lastWidth","_lastHeight","_resizeMediaTimeout","_resizeContainerRequestId","_stateClassRequestId","displayClickHandler","fullscreenHelpers","focusHelper","_breakpoint","_controls","updateBounds","inDOM","rect","containerHeight","_responsiveListener","observe","updateStyles","updateContainerStyles","_resizeMedia","checkResized","_responsiveUpdate","audioMode","smallPlayer","_logoClickHandler","clickHandlerHelper","_fullscreenChangeHandler","_errorHandler","onStretchChange","onFlashBlockedChange","_resizePlayer","onAspectRatioChange","skin","skinColors","iframe","add","updateVisibility","_fullscreen","redraw","setupInstream","destroyInstream","changeControls","_setLiveMode","_onMediaTypeChange","enable","controlsEvent","module","enabledState","addControls","removeControls","lastVisibility","videoLayer","settingsMenuVisible","renderCues","doubleClick","mouseMove","newVal","aspectratio","aspectRatioContainer","paddingTop","linktarget","disable","supportsDomFullscreen","requestFullscreen","exitFullscreen","_toggleDOMFullscreen","playerHeight","resetAspectMode","widthSet","heightSet","playerStyle","_isNativeFullscreen","fsElement","fullscreenElement","getFullScreen","modelState","newState","fullscreenState","overflowY","isAudioFile","isFlash","errorContainer","oldState","_stateUpdate","setMediaTitleAttribute","videotag","dummyDiv","setPosterImage","setImage","controlsContainer","excludeControlbar","safeRegion","controlbarHeight","captionsStyle","clear","unobserve","CONTROLBAR_ONLY_HEIGHT","isAudioMode","verticalPixels","NaN","views","observed","intersectionObserver","responsiveRepaintRequestId","lazyInitIntersectionObserver","IntersectionObserver","entries","view","intersectionRatio","threshold","scheduleResponsiveRedraw","responsiveRepaint","onVisibilityChange","splice","getVisibility","computeVisibility","rootRect","clientWidth","getComputedStyle","targetRect","intersectionRect","atRoot","parentRect","overflow","computeRectIntersection","targetArea","intersectionArea","rect1","rect2","normalizeSkin","handleColorOverrides","skinConfig","inactive","colors","getControlBar","timeslider","getTimeSlider","getMenus","tooltips","getTooltips","controlBarConfig","iconsActive","timesliderConfig","progress","rail","menusConfig","textActive","tooltipsConfig","playerId","addStyle","attr","extendParent","o","styleControlbar","styleTimeslider","styleMenus","styleTooltips","insertGlobalColorClasses","activeColorSet","color","borderColor","stroke","inactiveColorSet","elementContext","documentContext","changeCallback","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","DOCUMENT_FULLSCREEN_EVENTS","events","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","_focusFromClick","onBlur","onMouseDown","ClickHandler","domElement","alternateDoubleClickHandler","alternateClickHandler","doubleClickHandler","_WebVTT","_defaults","back","backgroundOpacity","edgeStyle","fontSize","fontOpacity","fontScale","preprocessor","identity","windowOpacity","CaptionsRenderer","_captionsTrack","_currentCues","_timeEvent","_display","_captionsWindow","_textContainer","_fontScale","_windowStyle","populate","captions","selectCues","_setFontSize","updateBoxPosition","processCues","timeEvent","getAlignmentPosition","getCurrentCues","updateCurrentCues","allCues","difference","playerElementId","_setFontScale","windowColor","textStyle","_addTextStyle","backgroundColor","_addEdgeStyle","_setupCaptionStyles","captionsTrack","isFinite","_setShadowDOMFontSize","_styleNativeCaptions","_stylePlayerCaptions","bgColor","bgOpacity","fontFamily","fontStyle","fontWeight","textDecoration","option","styles","textShadow","_timeChange","_captionsListHandler","loadWebVttPolyfill","Logo","LogoDefaults","_settings","_img","positions","maxHeight","maxWidth","logoAR","videoAR","logoInteractHandler","jwhide","Preview","validState","stretching","playerAspectRatio","backgroundSize","imageAspectRatio","Title","titleEl","arr","description","titleStyle","padding","paddingLeft","paddingRight","updateText","SimpleModelExtendable","changeEventRegEx","dispatchDiffChangeEvents","newAttributes","oldAttributes","removeListeners","PlayerViewModel","eventFilter","_mediaModel","logoWidth","scrubbing","objectOrEvent","previousValue","previousMediaModel","ViewModel","instreamModel","_instreamModel","_playerViewModel","previousInstream","mergedAttributes","middleware","currentState","canAutoplay","VIDEO","Blob","Uint8Array","startPlayback","URL","createObjectURL","AUTOPLAY_ENABLED","AUTOPLAY_MUTED","AUTOPLAY_DISABLED","autoplayPagePromises","getTestElement","timeoutId","promise","timer","race","isDvr","_minDvrWindow","Infinity","TAB_HIDDEN","TAB_VISIBLE","onTimeIncreasesGenerator","lastVal","unbindFirstFrameEvents","_onPlayAttempt","_triggerFirstFrame","_onTime","_onTabVisible","trackFirstFrame","qoeItem","tick","getFirstFrame","loadTime","activeTab","initQoe","initialModel","onMediaModel","oldMediaModel","timeActive","changeMediaModel"],"mappings":"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SAFD,EAEG,IAFH;;AAIA,aAAKvF,OAAL,gBAAoBa,GAApB;AACH;AA18B+B,CAApC;;AA88BA,SAAS2K,cAAT,CAAwB/F,KAAxB,EAA+B;AAC3B,WAAOA,SAAS,6CAA6CzB,IAA7C,CAAkDyB,MAAMvE,IAAxD,CAAhB;AACH;;kBAEc+E,U;;;;;;;;;;;;;;;;AC1/Bf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA,WAAW,0BAA0B;AACrC;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,4BAA4B;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;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","file":"jwplayer.core.controls.polyfills.js","sourcesContent":["import { OS } from 'environment/environment';\nimport { dvrSeekLimit } from 'view/constants';\nimport { DISPLAY_CLICK, USER_ACTION, STATE_PAUSED, STATE_PLAYING, STATE_ERROR } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport utils from 'utils/helpers';\nimport { now } from 'utils/date';\nimport button from 'view/controls/components/button';\nimport Controlbar from 'view/controls/controlbar';\nimport DisplayContainer from 'view/controls/display-container';\nimport NextUpToolTip from 'view/controls/nextuptooltip';\nimport RightClick from 'view/controls/rightclick';\nimport { createSettingsMenu, setupSubmenuListeners } from 'view/controls/settings-menu';\nimport { getBreakpoint } from 'view/utils/breakpoint';\nimport { cloneIcon } from 'view/controls/icons';\nimport ErrorContainer from 'view/error-container';\nimport instances from 'api/players';\n\nrequire('css/controls.less');\n\nconst ACTIVE_TIMEOUT = OS.mobile ? 4000 : 2000;\n\nErrorContainer.cloneIcon = cloneIcon;\ninstances.forEach(api => {\n    if (api.getState() === STATE_ERROR) {\n        const errorIconContainer = api.getContainer().querySelector('.jw-error-msg .jw-icon');\n        if (errorIconContainer && !errorIconContainer.hasChildNodes()) {\n            errorIconContainer.appendChild(ErrorContainer.cloneIcon('error'));\n        }\n    }\n});\n\nconst reasonInteraction = function() {\n    return { reason: 'interaction' };\n};\n\nexport default class Controls {\n    constructor(context, playerContainer) {\n        Object.assign(this, Events);\n\n        // Alphabetic order\n        // Any property on the prototype should be initialized here first\n        this.activeTimeout = -1;\n        this.inactiveTime = 0;\n        this.context = context;\n        this.controlbar = null;\n        this.displayContainer = null;\n        this.backdrop = null;\n        this.enabled = true;\n        this.instreamState = null;\n        this.keydownCallback = null;\n        this.keyupCallback = null;\n        this.blurCallback = null;\n        this.mute = null;\n        this.nextUpToolTip = null;\n        this.playerContainer = playerContainer;\n        this.rightClickMenu = null;\n        this.settingsMenu = null;\n        this.showing = false;\n        this.unmuteCallback = null;\n        this.logo = null;\n        this.div = null;\n        this.dimensions = {};\n        this.userInactiveTimeout = () => {\n            // Rerun at the scheduled time if remaining time is greater than the display refresh rate\n            const remainingTime = this.inactiveTime - now();\n            if (this.inactiveTime && remainingTime > 16) {\n                this.activeTimeout = setTimeout(this.userInactiveTimeout, remainingTime);\n                return;\n            }\n            this.userInactive();\n        };\n    }\n\n    enable(api, model) {\n        const element = this.context.createElement('div');\n        element.className = 'jw-controls jw-reset';\n        this.div = element;\n\n        const backdrop = this.context.createElement('div');\n        backdrop.className = 'jw-controls-backdrop jw-reset';\n        this.backdrop = backdrop;\n\n        this.logo = this.playerContainer.querySelector('.jw-logo');\n\n        const touchMode = model.get('touchMode');\n\n        // Display Buttons\n        if (!this.displayContainer) {\n            const displayContainer = new DisplayContainer(model, api);\n\n            displayContainer.buttons.display.on('click tap enter', () => {\n                this.trigger(DISPLAY_CLICK);\n                this.userActive(1000);\n                api.playToggle(reasonInteraction());\n            });\n\n            this.div.appendChild(displayContainer.element());\n            this.displayContainer = displayContainer;\n        }\n\n        // Touch UI mode when we're on mobile and we have a percentage height or we can fit the large UI in\n        if (touchMode) {\n            utils.addClass(this.playerContainer, 'jw-flag-touch');\n        } else {\n            this.rightClickMenu = new RightClick();\n            model.change('flashBlocked', (modelChanged, isBlocked) => {\n                if (isBlocked) {\n                    this.rightClickMenu.destroy();\n                } else {\n                    this.rightClickMenu.setup(modelChanged, this.playerContainer, this.playerContainer);\n                }\n            }, this);\n        }\n\n        // Controlbar\n        const controlbar = this.controlbar = new Controlbar(api, model);\n        controlbar.on(USER_ACTION, () => this.userActive());\n        controlbar.on('nextShown', function (data) {\n            this.trigger('nextShown', data);\n        }, this);\n\n        // Next Up Tooltip\n        if (model.get('nextUpDisplay') && !controlbar.nextUpToolTip) {\n            const nextUpToolTip = new NextUpToolTip(model, api, this.playerContainer);\n            nextUpToolTip.on('all', this.trigger, this);\n            nextUpToolTip.setup(this.context);\n            controlbar.nextUpToolTip = nextUpToolTip;\n\n            // NextUp needs to be behind the controlbar to not block other tooltips\n            this.div.appendChild(nextUpToolTip.element());\n        }\n\n        this.div.appendChild(controlbar.element());\n\n        // Settings Menu\n        let lastState = null;\n        const visibilityChangeHandler = (visible, evt) => {\n            const state = model.get('state');\n            const settingsInteraction = { reason: 'settingsInteraction' };\n            const isKeyEvent = (evt && evt.sourceEvent || evt || {}).type === 'keydown';\n\n            utils.toggleClass(this.div, 'jw-settings-open', visible);\n            if (getBreakpoint(model.get('containerWidth')) < 2) {\n                if (visible && state === STATE_PLAYING) {\n                    // Pause playback on open if we're currently playing\n                    api.pause(settingsInteraction);\n                } else if (!visible && state === STATE_PAUSED && lastState === STATE_PLAYING) {\n                    // Resume playback on close if we are paused and were playing before\n                    api.play(settingsInteraction);\n                }\n            }\n\n            // Trigger userActive so that a dismissive click outside the player can hide the controlbar\n            const activeTimeout = (visible || isKeyEvent) ? 0 : ACTIVE_TIMEOUT;\n            this.userActive(activeTimeout);\n            lastState = state;\n\n            const settingsButton = this.controlbar.elements.settingsButton;\n            if (!visible && isKeyEvent && settingsButton) {\n                settingsButton.element().focus();\n            }\n        };\n        const settingsMenu = this.settingsMenu = createSettingsMenu(controlbar, visibilityChangeHandler);\n        setupSubmenuListeners(settingsMenu, controlbar, model, api);\n\n        if (OS.mobile) {\n            this.div.appendChild(settingsMenu.element());\n        } else {\n            this.div.insertBefore(settingsMenu.element(), controlbar.element());\n        }\n\n        // Unmute Autoplay behavior.\n        const setupUnmuteAutoplay = (_model) => {\n            if (_model.get('autostartMuted')) {\n                const unmuteCallback = () => this.unmuteAutoplay(api, _model);\n\n                // Show unmute botton only on mobile.\n                if (OS.mobile) {\n                    this.mute = button('jw-autostart-mute jw-off', unmuteCallback, _model.get('localization').unmute,\n                        [cloneIcon('volume-0')]);\n                    this.mute.show();\n                    this.div.appendChild(this.mute.element());\n                }\n\n                // Set mute state in the controlbar\n                controlbar.renderVolume(true, _model.get('volume'));\n                // Hide the controlbar until the autostart flag is removed\n                utils.addClass(this.playerContainer, 'jw-flag-autostart');\n\n                _model.on('change:autostartFailed change:autostartMuted change:mute', unmuteCallback, this);\n                this.unmuteCallback = unmuteCallback;\n            }\n        };\n        model.once('change:autostartMuted', setupUnmuteAutoplay);\n        setupUnmuteAutoplay(model);\n\n        // Keyboard Commands\n        function adjustSeek(amount) {\n            let min = 0;\n            let max = model.get('duration');\n            const position = model.get('position');\n            if (model.get('streamType') === 'DVR') {\n                min = max;\n                max = Math.max(position, dvrSeekLimit);\n            }\n            const newSeek = utils.between(position + amount, min, max);\n            api.seek(newSeek, reasonInteraction());\n        }\n\n        function adjustVolume(amount) {\n            const newVol = utils.between(model.get('volume') + amount, 0, 100);\n            api.setVolume(newVol);\n        }\n\n        function onEscape() {\n            if (model.get('fullscreen')) {\n                api.setFullscreen(false);\n                this.playerContainer.blur();\n                this.userInactive();\n                return;\n            }\n\n            const related = api.getPlugin('related');\n            if (related) {\n                related.close({ type: 'escape' });\n            }\n        }\n\n        const handleKeydown = (evt) => {\n            // If Meta keys return\n            if (evt.ctrlKey || evt.metaKey) {\n                // Let event bubble upwards\n                return true;\n            }\n\n            switch (evt.keyCode) {\n                case 27: // Esc\n                    onEscape();\n                    break;\n                case 13: // enter\n                case 32: // space\n                    api.playToggle(reasonInteraction());\n                    break;\n                case 37: // left-arrow, if not adMode\n                    if (!this.instreamState) {\n                        adjustSeek(-5);\n                    }\n                    break;\n                case 39: // right-arrow, if not adMode\n                    if (!this.instreamState) {\n                        adjustSeek(5);\n                    }\n                    break;\n                case 38: // up-arrow\n                    adjustVolume(10);\n                    break;\n                case 40: // down-arrow\n                    adjustVolume(-10);\n                    break;\n                case 67: // c-key\n                    {\n                        const captionsList = api.getCaptionsList();\n                        const listLength = captionsList.length;\n                        if (listLength) {\n                            const nextIndex = (api.getCurrentCaptions() + 1) % listLength;\n                            api.setCurrentCaptions(nextIndex);\n                        }\n                    }\n                    break;\n                case 77: // m-key\n                    api.setMute();\n                    break;\n                case 70: // f-key\n                    api.setFullscreen();\n                    break;\n                default:\n                    if (evt.keyCode >= 48 && evt.keyCode <= 59) {\n                        // if 0-9 number key, move to n/10 of the percentage of the video\n                        const number = evt.keyCode - 48;\n                        const newSeek = (number / 10) * model.get('duration');\n                        api.seek(newSeek, reasonInteraction());\n                    }\n            }\n\n            if (/13|32|37|38|39|40/.test(evt.keyCode)) {\n                // Prevent keypresses from scrolling the screen\n                evt.preventDefault();\n                return false;\n            }\n        };\n        this.playerContainer.addEventListener('keydown', handleKeydown);\n        this.keydownCallback = handleKeydown;\n\n        // keep controls active when navigating inside the player\n        const handleKeyup = (evt) => {\n            if (!this.instreamState) {\n                const isTab = evt.keyCode === 9;\n                if (isTab) {\n                    const insideContainer = this.playerContainer.contains(evt.target);\n                    const activeTimeout = insideContainer ? 0 : ACTIVE_TIMEOUT;\n                    this.userActive(activeTimeout);\n                }\n            }\n        };\n        this.playerContainer.addEventListener('keyup', handleKeyup);\n        this.keyupCallback = handleKeyup;\n\n        // Hide controls when focus leaves the player\n        const blurCallback = (evt) => {\n            const focusedElement = evt.relatedTarget || document.querySelector(':focus');\n            if (!focusedElement) {\n                return;\n            }\n            const insideContainer = this.playerContainer.contains(focusedElement);\n            if (!insideContainer) {\n                this.userInactive();\n            }\n        };\n        this.playerContainer.addEventListener('blur', blurCallback, true);\n        this.blurCallback = blurCallback;\n\n        // Show controls when enabled\n        this.userActive();\n\n        this.playerContainer.appendChild(this.div);\n\n        this.addBackdrop();\n    }\n\n    disable(model) {\n        this.off();\n\n        if (model) {\n            model.off(null, null, this);\n        }\n\n        clearTimeout(this.activeTimeout);\n        this.activeTimeout = -1;\n\n        if (this.div.parentNode) {\n            utils.removeClass(this.playerContainer, 'jw-flag-touch');\n            this.playerContainer.removeChild(this.div);\n        }\n        if (this.rightClickMenu) {\n            this.rightClickMenu.destroy();\n        }\n\n        if (this.keydownCallback) {\n            this.playerContainer.removeEventListener('keydown', this.keydownCallback);\n        }\n\n        if (this.keyupCallback) {\n            this.playerContainer.removeEventListener('keyup', this.keyupCallback);\n        }\n\n        if (this.blurCallback) {\n            this.playerContainer.removeEventListener('blur', this.blurCallback);\n        }\n\n        const nextUpToolTip = this.nextUpToolTip;\n        if (nextUpToolTip) {\n            nextUpToolTip.destroy();\n        }\n\n        const settingsMenu = this.settingsMenu;\n        if (settingsMenu) {\n            settingsMenu.destroy();\n            this.div.removeChild(settingsMenu.element());\n        }\n\n        this.removeBackdrop();\n    }\n\n    controlbarHeight() {\n        if (!this.dimensions.cbHeight) {\n            this.dimensions.cbHeight = this.controlbar.element().clientHeight;\n        }\n        return this.dimensions.cbHeight;\n    }\n\n    element() {\n        return this.div;\n    }\n\n    resize() {\n        this.dimensions = {};\n    }\n\n    unmuteAutoplay(api, model) {\n        const autostartSucceeded = !model.get('autostartFailed');\n        let mute = model.get('mute');\n\n        // If autostart succeeded, it means the user has chosen to unmute the video,\n        // so we should update the model, setting mute to false\n        if (autostartSucceeded) {\n            mute = false;\n        } else {\n            // Don't try to play again when viewable since it will keep failing\n            model.set('playOnViewable', false);\n        }\n        if (this.unmuteCallback) {\n            model.off('change:autostartFailed change:autostartMuted change:mute', this.unmuteCallback);\n            this.unmuteCallback = null;\n        }\n        model.set('autostartFailed', undefined);\n        model.set('autostartMuted', undefined);\n        api.setMute(mute);\n        // the model's mute value may not have changed. ensure the controlbar's mute button is in the right state\n        this.controlbar.renderVolume(mute, model.get('volume'));\n        this.mute.hide();\n        utils.removeClass(this.playerContainer, 'jw-flag-autostart');\n        this.userActive();\n    }\n\n    mouseMove(event) {\n        const insideControlbar = this.controlbar.element().contains(event.target);\n        const insideNextUp = this.controlbar.nextUpToolTip &&\n            this.controlbar.nextUpToolTip.element().contains(event.target);\n        const insideLogo = this.logo && this.logo.contains(event.target);\n        const activeTimeout = (insideControlbar || insideNextUp || insideLogo) ? 0 : ACTIVE_TIMEOUT;\n\n        this.userActive(activeTimeout);\n    }\n\n    userActive(timeout = ACTIVE_TIMEOUT) {\n        if (timeout > 0) {\n            this.inactiveTime = now() + timeout;\n            if (this.activeTimeout === -1) {\n                this.activeTimeout = setTimeout(this.userInactiveTimeout, timeout);\n            }\n        } else {\n            clearTimeout(this.activeTimeout);\n            this.activeTimeout = -1;\n            this.inactiveTime = 0;\n        }\n        if (!this.showing) {\n            utils.removeClass(this.playerContainer, 'jw-flag-user-inactive');\n            this.showing = true;\n            this.trigger('userActive');\n        }\n    }\n\n    userInactive() {\n        clearTimeout(this.activeTimeout);\n        this.activeTimeout = -1;\n        if (this.settingsMenu.visible) {\n            return;\n        }\n        this.inactiveTime = 0;\n        this.showing = false;\n        utils.addClass(this.playerContainer, 'jw-flag-user-inactive');\n        this.trigger('userInactive');\n    }\n\n    addBackdrop() {\n        // Put the backdrop element on top of overlays during instream mode\n        // otherwise keep it behind captions and on top of preview poster\n        const element = this.instreamState ? this.div : this.playerContainer.querySelector('.jw-captions');\n        this.playerContainer.insertBefore(this.backdrop, element);\n    }\n\n    removeBackdrop() {\n        const parent = this.backdrop.parentNode;\n        if (parent) {\n            parent.removeChild(this.backdrop);\n        }\n    }\n\n    setupInstream() {\n        this.instreamState = true;\n        // Call Controls.userActivity to display the UI temporarily for the start of the ad\n        this.userActive();\n        this.addBackdrop();\n        if (this.settingsMenu) {\n            this.settingsMenu.close();\n        }\n        utils.removeClass(this.playerContainer, 'jw-flag-autostart');\n    }\n\n    destroyInstream(model) {\n        this.instreamState = null;\n        this.addBackdrop();\n        if (model.get('autostartMuted')) {\n            utils.addClass(this.playerContainer, 'jw-flag-autostart');\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/controls.js","import instances from 'api/players';\nimport { showView } from 'api/core-shim';\nimport setConfig from 'api/set-config';\nimport ApiQueueDecorator from 'api/api-queue';\nimport PlaylistLoader from 'playlist/loader';\nimport Playlist, { filterPlaylist, validatePlaylist, fixSources } from 'playlist/playlist';\nimport InstreamAdapter from 'controller/instream-adapter';\nimport Captions from 'controller/captions';\nimport Model from 'controller/model';\nimport View from 'view/view';\nimport ViewModel from 'view/view-model';\nimport changeStateEvent from 'events/change-state-event';\nimport eventsMiddleware from 'controller/events-middleware';\nimport Events from 'utils/backbone.events';\nimport { AUTOPLAY_DISABLED, AUTOPLAY_MUTED, canAutoplay } from 'utils/can-autoplay';\nimport { OS, Features } from 'environment/environment';\nimport { streamType } from 'providers/utils/stream-type';\nimport Promise, { resolved } from 'polyfills/promise';\nimport cancelable from 'utils/cancelable';\nimport _ from 'utils/underscore';\nimport { INITIAL_MEDIA_STATE } from 'model/player-model';\nimport { PLAYER_STATE, STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE, STATE_PAUSED, STATE_PLAYING, STATE_ERROR, STATE_LOADING,\n    STATE_STALLED, AUTOSTART_NOT_ALLOWED, MEDIA_BEFOREPLAY, PLAYLIST_LOADED, ERROR, PLAYLIST_COMPLETE, CAPTIONS_CHANGED, READY,\n    MEDIA_ERROR, MEDIA_COMPLETE, CAST_SESSION, FULLSCREEN, PLAYLIST_ITEM, MEDIA_VOLUME, MEDIA_MUTE, PLAYBACK_RATE_CHANGED,\n    CAPTIONS_LIST, RESIZE, MEDIA_VISUAL_QUALITY } from 'events/events';\nimport ProgramController from 'program/program-controller';\nimport initQoe from 'controller/qoe';\nimport { BACKGROUND_LOAD_OFFSET } from '../program/program-constants';\nimport Item from 'playlist/item';\n\n// The model stores a different state than the provider\nfunction normalizeState(newstate) {\n    if (newstate === STATE_LOADING || newstate === STATE_STALLED) {\n        return STATE_BUFFERING;\n    }\n    return newstate;\n}\n\nconst Controller = function() {};\n\nObject.assign(Controller.prototype, {\n    setup(config, _api, originalContainer, eventListeners, commandQueue, mediaPool) {\n        const _this = this;\n        const _model = _this._model = new Model();\n\n        let _view;\n        let _captions;\n        let _beforePlay = false;\n        let _actionOnAttach;\n        let _stopPlaylist = false;\n        let _interruptPlay;\n        let checkAutoStartCancelable = cancelable(_checkAutoStart);\n        let updatePlaylistCancelable = cancelable(function() {});\n        let primeBeforePlay = true;\n\n        _this.originalContainer = _this.currentContainer = originalContainer;\n        _this._events = eventListeners;\n\n        // Delegate trigger so we can run a middleware function before any event is bubbled through the API\n        _this.trigger = function (type, args) {\n            const data = eventsMiddleware(_model, type, args);\n            return Events.trigger.call(this, type, data);\n        };\n\n        let eventsReadyQueue = new ApiQueueDecorator(_this, [\n            'trigger',\n        ], () => true);\n\n        const _trigger = (type, event) => {\n            _this.trigger(type, event);\n        };\n\n        _model.setup(config);\n\n        const viewModel = new ViewModel(_model);\n\n        _view = this._view = new View(_api, viewModel);\n        _view.on('all', _trigger, _this);\n\n        const _programController = new ProgramController(_model, mediaPool);\n        updateProgramSoundSettings();\n        addProgramControllerListeners();\n        initQoe(_model, _programController);\n\n        _model.on(ERROR, _this.triggerError, _this);\n\n        // If we attempt to load flash, assume it is blocked if we don't hear back within a second\n        _model.on('change:flashBlocked', function(model, isBlocked) {\n            if (!isBlocked) {\n                this._model.set('errorEvent', undefined);\n                return;\n            }\n            // flashThrottle indicates whether this is a throttled event or plugin blocked event\n            const throttled = !!model.get('flashThrottle');\n            const errorEvent = {\n                message: throttled ? 'Click to run Flash' : 'Flash plugin failed to load'\n            };\n            // Only dispatch an error for Flash blocked, not throttled events\n            if (!throttled) {\n                this.trigger(ERROR, errorEvent);\n            }\n            this._model.set('errorEvent', errorEvent);\n        }, this);\n\n        _model.on('change:state', changeStateEvent, this);\n\n        _model.on('change:castState', function(model, evt) {\n            _this.trigger(CAST_SESSION, evt);\n        });\n\n        _model.on('change:fullscreen', function(model, bool) {\n            _this.trigger(FULLSCREEN, {\n                fullscreen: bool\n            });\n            if (bool) {\n                // Stop autoplay behavior when the player enters fullscreen\n                model.set('playOnViewable', false);\n            }\n        });\n\n        _model.on('change:volume', function(model, vol) {\n            _this.trigger(MEDIA_VOLUME, {\n                volume: vol\n            });\n        });\n\n        _model.on('change:mute', function(model) {\n            _this.trigger(MEDIA_MUTE, {\n                mute: model.getMute()\n            });\n        });\n\n        _model.on('change:playbackRate', function(model, rate) {\n            _this.trigger(PLAYBACK_RATE_CHANGED, {\n                playbackRate: rate,\n                position: model.get('position')\n            });\n        });\n\n        _model.on('change:scrubbing', function(model, state) {\n            if (state) {\n                _pause();\n            } else {\n                _play({ reason: 'interaction' });\n            }\n        });\n\n        // For onCaptionsList and onCaptionsChange\n        _model.on('change:captionsList', function(model, captionsList) {\n            _this.trigger(CAPTIONS_LIST, {\n                tracks: captionsList,\n                track: _model.get('captionsIndex') || 0\n            });\n        });\n\n        _model.on('change:mediaModel', function(model, mediaModel) {\n            model.set('errorEvent', undefined);\n            mediaModel.change('mediaState', function (changedMediaModel, state) {\n                if (!model.get('errorEvent')) {\n                    model.set(PLAYER_STATE, normalizeState(state));\n                }\n            }, this);\n            mediaModel.change('duration', function (changedMediaModel, duration) {\n                if (duration === 0) {\n                    return;\n                }\n                const minDvrWindow = model.get('minDvrWindow');\n                const type = streamType(duration, minDvrWindow);\n                model.setStreamType(type);\n            }, this);\n\n            const index = model.get('item') + 1;\n            const recsAuto = (model.get('related') || {}).oncomplete === 'autoplay';\n            let item = model.get('playlist')[index];\n            if ((item || recsAuto) && Features.backgroundLoading) {\n                const onPosition = (changedMediaModel, position) => {\n                    // Do not background load DAI items because that item will be dynamically replaced before play\n                    if ((item && !item.daiSetting) && position >= mediaModel.get('duration') - BACKGROUND_LOAD_OFFSET) {\n                        mediaModel.off('change:position', onPosition, this);\n                        _programController.backgroundLoad(item);\n                    } else if (recsAuto) {\n                        item = _model.get('nextUp');\n                    }\n                };\n                mediaModel.on('change:position', onPosition, this);\n            }\n        });\n\n        // Ensure captionsList event is raised after playlistItem\n        _captions = new Captions(_model);\n        _captions.on('all', _trigger, _this);\n\n        viewModel.on('viewSetup', (viewElement) => {\n            showView(this, viewElement);\n        });\n\n        this.playerReady = function() {\n            const related = _api.getPlugin('related');\n            if (related) {\n                related.on('nextUp', (nextUp) => {\n                    let item = null;\n                    if (nextUp === Object(nextUp)) {\n                        // Format the item from the nextUp feed into a valid PlaylistItem\n                        item = Item(nextUp);\n                        item.sources = fixSources(item, _model);\n                    }\n                    _model.set('nextUp', item);\n                });\n            }\n\n            // Fire 'ready' once the view has resized so that player width and height are available\n            // (requires the container to be in the DOM)\n            _view.once(RESIZE, _playerReadyNotify);\n\n            _view.init();\n        };\n\n        function _playerReadyNotify() {\n            _model.change('visibility', _updateViewable);\n            eventsReadyQueue.off();\n\n            // Tell the api that we are loaded\n            _this.trigger(READY, {\n                // this will be updated by Api\n                setupTime: 0\n            });\n\n            _model.change('playlist', function(model, playlist) {\n                if (playlist.length) {\n                    const eventData = {\n                        playlist: playlist\n                    };\n                    const feedData = _model.get('feedData');\n                    if (feedData) {\n                        const eventFeedData = Object.assign({}, feedData);\n                        delete eventFeedData.playlist;\n                        eventData.feedData = eventFeedData;\n                    }\n                    _this.trigger(PLAYLIST_LOADED, eventData);\n                }\n            });\n\n            _model.change('playlistItem', function(model, playlistItem) {\n                if (playlistItem) {\n                    _this.trigger(PLAYLIST_ITEM, {\n                        index: _model.get('item'),\n                        item: playlistItem\n                    });\n                }\n            });\n\n            eventsReadyQueue.flush();\n            eventsReadyQueue.destroy();\n            eventsReadyQueue = null;\n\n            _model.change('viewable', viewableChange);\n            _model.change('viewable', _checkPlayOnViewable);\n            _model.once('change:autostartFailed change:mute', function(model) {\n                model.off('change:viewable', _checkPlayOnViewable);\n            });\n\n            // Run _checkAutoStart() last\n            // 'viewable' changes can result in preload() being called on the initial provider instance\n            _checkAutoStart();\n        }\n\n        function _updateViewable(model, visibility) {\n            if (!_.isUndefined(visibility)) {\n                _model.set('viewable', Math.round(visibility));\n            }\n        }\n\n        function _checkAutoStart() {\n            if (!apiQueue) {\n                // this player has been destroyed\n                return;\n            }\n\n            // Autostart immediately if we're not waiting for the player to become viewable first.\n            if (_model.get('autostart') === true && !_model.get('playOnViewable')) {\n                _autoStart();\n            }\n            apiQueue.flush();\n        }\n\n        function viewableChange(model, viewable) {\n            _this.trigger('viewable', {\n                viewable: viewable\n            });\n\n            // Only attempt to preload if this is the first player on the page or viewable\n            if (instances[0] !== _api && viewable !== 1) {\n                return;\n            }\n            if (_model.get('state') === 'idle' && _model.get('autostart') === false) {\n                _programController.preloadVideo();\n            }\n        }\n\n        function _checkPlayOnViewable(model, viewable) {\n            if (model.get('playOnViewable')) {\n                if (viewable) {\n                    _autoStart();\n                } else if (OS.mobile) {\n                    _this.pause({ reason: 'autostart' });\n                }\n            }\n        }\n\n        function _load(item, feedData) {\n\n            const instream = _this._instreamAdapter;\n            if (instream) {\n                instream.noResume = true;\n            }\n            _this.trigger('destroyPlugin', {});\n            _stop(true);\n\n            checkAutoStartCancelable.cancel();\n            checkAutoStartCancelable = cancelable(_checkAutoStart);\n            updatePlaylistCancelable.cancel();\n\n            if (_inInteraction(window.event)) {\n                _programController.primeMediaElements();\n            }\n\n            let loadPromise;\n\n            switch (typeof item) {\n                case 'string': {\n                    _model.attributes.item = 0;\n                    _model.attributes.itemReady = false;\n                    const loadPlaylistPromise = _loadPlaylist(item).catch(error => {\n                        _this.triggerError({\n                            message: `Error loading playlist: ${error.message}`\n                        });\n                    });\n                    updatePlaylistCancelable = cancelable((data) => {\n                        if (data) {\n                            return _this.updatePlaylist(Playlist(data.playlist), data);\n                        }\n                    });\n                    loadPromise = loadPlaylistPromise.then(updatePlaylistCancelable.async);\n                    break;\n                }\n                case 'object':\n                    _model.attributes.item = 0;\n                    loadPromise = _this.updatePlaylist(Playlist(item), feedData || {});\n                    break;\n                case 'number':\n                    loadPromise = _setItem(item);\n                    break;\n                default:\n                    return;\n            }\n            loadPromise.catch(error => {\n                _this.triggerError({\n                    message: `Playlist error: ${error.message}`\n                });\n            });\n\n            loadPromise.then(checkAutoStartCancelable.async).catch(function() {});\n        }\n\n        function _loadPlaylist(toLoad) {\n            return new Promise((resolve, reject) => {\n                const loader = new PlaylistLoader();\n                loader.on(PLAYLIST_LOADED, function(data) {\n                    resolve(data);\n                });\n                loader.on(ERROR, function(error) {\n                    reject(error);\n                }, this);\n                loader.load(toLoad);\n            });\n        }\n\n        function _getAdState() {\n            return _this._instreamAdapter && _this._instreamAdapter.getState();\n        }\n\n        function _getState() {\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                return adState;\n            }\n            return _model.get('state');\n        }\n\n        function _play(meta) {\n            checkAutoStartCancelable.cancel();\n\n            if (_model.get('state') === STATE_ERROR) {\n                return resolved;\n            }\n\n            const playReason = _getReason(meta);\n            const startTime = meta ? meta.startTime : null;\n            _model.set('playReason', playReason);\n            // Stop autoplay behavior if the video is started by the user or an api call\n            if (playReason === 'interaction' || playReason === 'external') {\n                _model.set('playOnViewable', false);\n            }\n\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                // this will resume the ad. _api.playAd would load a new ad\n                _api.pauseAd(false);\n                return resolved;\n            }\n\n            if (_model.get('state') === STATE_COMPLETE) {\n                _stop(true);\n                _setItem(0);\n            }\n\n            if (!_beforePlay) {\n                _beforePlay = true;\n                _this.trigger(MEDIA_BEFOREPLAY, {\n                    playReason,\n                    startTime\n                });\n                _beforePlay = false;\n\n                if (_inInteraction(window.event) && primeBeforePlay) {\n                    _programController.primeMediaElements();\n                    primeBeforePlay = false;\n                }\n\n                if (_interruptPlay) {\n                    // Force tags to prime if we're about to play an ad\n                    // Resetting the source in order to prime is OK since we'll be switching it anyway\n                    if (_inInteraction(window.event) && !Features.backgroundLoading) {\n                        _model.get('mediaElement').load();\n                    }\n                    _interruptPlay = false;\n                    _actionOnAttach = null;\n                    return resolved;\n                }\n            }\n\n            return _programController.playVideo(playReason)\n                .then(() => {\n                    // If playback succeeded that means we captured a gesture (and used it to prime the pool)\n                    // Avoid priming again in beforePlay because it could cause BGL'd media to be source reset\n                    primeBeforePlay = false;\n                });\n        }\n\n        function _getReason(meta) {\n            if (meta && meta.reason) {\n                return meta.reason;\n            }\n            if (_inInteraction(window.event)) {\n                return 'interaction';\n            }\n            return 'external';\n        }\n\n        function _autoStart() {\n            const state = _model.get('state');\n            if (state !== STATE_IDLE && state !== STATE_PAUSED) {\n                return;\n            }\n\n            // Reset cancelable for new autoplay test below.\n            checkAutoStartCancelable = cancelable(_checkAutoStart);\n\n            // Detect and store browser autoplay setting in the model.\n            const adConfig = _model.get('advertising');\n            canAutoplay(mediaPool, {\n                cancelable: checkAutoStartCancelable,\n                muted: _this.getMute(),\n                allowMuted: adConfig ? adConfig.autoplayadsmuted : true\n            }).then(result => {\n                _model.set('canAutoplay', result);\n\n                // Only apply autostartMuted on un-muted autostart attempt.\n                if (result === AUTOPLAY_MUTED && !_this.getMute()) {\n                    _model.set('autostartMuted', true);\n                    updateProgramSoundSettings();\n\n                    _model.once('change:autostartMuted', function(model) {\n                        model.off('change:viewable', _checkPlayOnViewable);\n                    });\n                }\n\n                return _play({ reason: 'autostart' }).catch(() => {\n                    if (!_this._instreamAdapter) {\n                        _model.set('autostartFailed', true);\n                    }\n                    _actionOnAttach = null;\n                });\n            }).catch(error => {\n                _model.set('canAutoplay', AUTOPLAY_DISABLED);\n                _model.set('autostart', false);\n\n                // Emit event unless test was explicitly canceled.\n                if (!checkAutoStartCancelable.cancelled()) {\n                    const { reason } = error;\n                    _this.trigger(AUTOSTART_NOT_ALLOWED, {\n                        reason,\n                        error\n                    });\n                }\n            });\n        }\n\n        function _stop(internal) {\n            checkAutoStartCancelable.cancel();\n            apiQueue.empty();\n\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                return;\n            }\n\n            const fromApi = !internal;\n\n            _actionOnAttach = null;\n\n            if (fromApi) {\n                _stopPlaylist = true;\n            }\n\n            if (_beforePlay) {\n                _interruptPlay = true;\n            }\n\n            _model.set('errorEvent', undefined);\n            _programController.stopVideo();\n        }\n\n        function _pause(meta) {\n            _actionOnAttach = null;\n            checkAutoStartCancelable.cancel();\n\n            const pauseReason = _getReason(meta);\n            _model.set('pauseReason', pauseReason);\n            // Stop autoplay behavior if the video is paused by the user or an api call\n            if (pauseReason === 'interaction' || pauseReason === 'external') {\n                _model.set('playOnViewable', false);\n            }\n\n            const adState = _getAdState();\n            if (_.isString(adState)) {\n                _api.pauseAd(true);\n                return;\n            }\n\n            switch (_model.get('state')) {\n                case STATE_ERROR:\n                    return;\n                case STATE_PLAYING:\n                case STATE_BUFFERING: {\n                    _programController.pause();\n                    break;\n                }\n                default:\n                    if (_beforePlay) {\n                        _interruptPlay = true;\n                    }\n            }\n        }\n\n        function _isIdle() {\n            const state = _model.get('state');\n            return (state === STATE_IDLE || state === STATE_COMPLETE || state === STATE_ERROR);\n        }\n\n        function _seek(pos, meta) {\n            if (_model.get('state') === STATE_ERROR) {\n                return;\n            }\n            _programController.position = pos;\n            if (!_model.get('scrubbing') && _model.get('state') !== STATE_PLAYING) {\n                meta = meta || {};\n                meta.startTime = pos;\n                this.play(meta);\n            }\n        }\n\n        function _item(index, meta) {\n            _stop(true);\n            _setItem(index);\n            _play(meta).catch(() => {\n                // Suppress \"Uncaught (in promise) Error\"\n            });\n        }\n\n        function _setItem(index) {\n            _programController.stopVideo();\n\n            const playlist = _model.get('playlist');\n            const length = playlist.length;\n\n            // If looping past the end, or before the beginning\n            index = (parseInt(index, 10) || 0) % length;\n            if (index < 0) {\n                index += length;\n            }\n\n            return _programController.setActiveItem(index);\n        }\n\n        function _prev(meta) {\n            _item(_model.get('item') - 1, meta);\n        }\n\n        function _next(meta) {\n            _item(_model.get('item') + 1, meta);\n        }\n\n        function _completeHandler() {\n            if (!_isIdle()) {\n                // Something has made an API call before the complete handler has fired.\n                return;\n            } else if (_stopPlaylist) {\n                // Stop called in onComplete event listener\n                _stopPlaylist = false;\n                return;\n            }\n\n            _actionOnAttach = _completeHandler;\n\n            const idx = _model.get('item');\n            if (idx === _model.get('playlist').length - 1) {\n                // If it's the last item in the playlist\n                if (_model.get('repeat')) {\n                    _next({ reason: 'repeat' });\n                } else {\n                    // Exit fullscreen on IOS so that our overlays show to the user\n                    if (OS.iOS) {\n                        _setFullscreen(false);\n                    }\n                    // Autoplay/pause no longer needed since there's no more media to play\n                    // This prevents media from replaying when a completed video scrolls into view\n                    _model.set('playOnViewable', false);\n                    _model.set('state', STATE_COMPLETE);\n                    _this.trigger(PLAYLIST_COMPLETE, {});\n                }\n                return;\n            }\n\n            // It wasn't the last item in the playlist,\n            //  so go to the next one and trigger an autoadvance event\n            const related = _api.getPlugin('related');\n            triggerAdvanceEvent(related, 'nextAutoAdvance');\n            _next({ reason: 'playlist' });\n        }\n\n        function _setCurrentQuality(index) {\n            _programController.quality = index;\n        }\n\n        function _getCurrentQuality() {\n            return _programController.quality;\n        }\n\n        function _getConfig() {\n            return this._model ? this._model.getConfiguration() : undefined;\n        }\n\n        function _getVisualQuality() {\n            const mediaModel = this._model.get('mediaModel');\n            if (mediaModel) {\n                return mediaModel.get(MEDIA_VISUAL_QUALITY);\n            }\n            return null;\n        }\n\n        function _getQualityLevels() {\n            return _programController.qualities;\n        }\n\n        function _setCurrentAudioTrack(index) {\n            _programController.audioTrack = index;\n        }\n\n        function _getCurrentAudioTrack() {\n            return _programController.audioTrack;\n        }\n\n        function _getAudioTracks() {\n            return _programController.audioTracks;\n        }\n\n        function _setCurrentCaptions(index) {\n            index = parseInt(index, 10) || 0;\n\n            _model.persistVideoSubtitleTrack(index);\n            _programController.subtitles = index;\n\n            _this.trigger(CAPTIONS_CHANGED, {\n                tracks: _getCaptionsList(),\n                track: index\n            });\n        }\n\n        function _getCurrentCaptions() {\n            return _captions.getCurrentIndex();\n        }\n\n        function _getCaptionsList() {\n            return _captions.getCaptionsList();\n        }\n\n        /* Used for the InStream API */\n        function _detachMedia() {\n            if (_beforePlay) {\n                _interruptPlay = true;\n            }\n\n            if (Features.backgroundLoading) {\n                _programController.backgroundActiveMedia();\n            } else {\n                _programController.attached = false;\n            }\n        }\n\n        function _attachMedia(position) {\n            // Called after instream ends\n\n            if (Features.backgroundLoading) {\n                _programController.restoreBackgroundMedia();\n            } else {\n                // Set the position before attaching so that we resume at the expected time\n                _programController.position = position || 0;\n                _programController.attached = true;\n            }\n\n            if (typeof _actionOnAttach === 'function') {\n                _actionOnAttach();\n            }\n        }\n\n        function _setFullscreen(state) {\n            if (!_.isBoolean(state)) {\n                state = !_model.get('fullscreen');\n            }\n\n            _model.set('fullscreen', state);\n            if (_this._instreamAdapter && _this._instreamAdapter._adModel) {\n                _this._instreamAdapter._adModel.set('fullscreen', state);\n            }\n        }\n\n        function _nextUp() {\n            const related = _api.getPlugin('related');\n            triggerAdvanceEvent(related, 'nextClick', () => related.next());\n        }\n\n        function triggerAdvanceEvent(related, evt, cb) {\n            if (!related) {\n                return;\n            }\n            const nextUp = _model.get('nextUp');\n            if (nextUp) {\n                _this.trigger(evt, {\n                    mode: nextUp.mode,\n                    ui: 'nextup',\n                    target: nextUp,\n                    itemsShown: [ nextUp ],\n                    feedData: nextUp.feedData,\n                });\n            }\n            if (typeof cb === 'function') {\n                cb();\n            }\n        }\n\n        function addProgramControllerListeners() {\n            _programController\n                .on('all', _trigger, _this)\n                .on('subtitlesTracks', (e) => {\n                    _captions.setSubtitlesTracks(e.tracks);\n                    const defaultCaptionsIndex = _captions.getCurrentIndex();\n\n                    // set the current captions if the default index isn't 0 or \"Off\"\n                    if (defaultCaptionsIndex > 0) {\n                        _setCurrentCaptions(defaultCaptionsIndex);\n                    }\n                }, _this)\n                .on(MEDIA_COMPLETE, () => {\n                    // Insert a small delay here so that other complete handlers can execute\n                    resolved.then(_completeHandler);\n                }, _this)\n                .on(MEDIA_ERROR, _this.triggerError, _this);\n        }\n\n        function updateProgramSoundSettings() {\n            _programController.mute = _model.getMute();\n            _programController.volume = _model.get('volume');\n        }\n\n        /** Controller API / public methods **/\n        this.load = _load;\n        this.play = _play;\n        this.pause = _pause;\n        this.seek = _seek;\n        this.stop = _stop;\n        this.playlistItem = _item;\n        this.playlistNext = _next;\n        this.playlistPrev = _prev;\n        this.setCurrentCaptions = _setCurrentCaptions;\n        this.setCurrentQuality = _setCurrentQuality;\n        this.setFullscreen = _setFullscreen;\n        this.detachMedia = _detachMedia;\n        this.attachMedia = _attachMedia;\n        this.getCurrentQuality = _getCurrentQuality;\n        this.getQualityLevels = _getQualityLevels;\n        this.setCurrentAudioTrack = _setCurrentAudioTrack;\n        this.getCurrentAudioTrack = _getCurrentAudioTrack;\n        this.getAudioTracks = _getAudioTracks;\n        this.getCurrentCaptions = _getCurrentCaptions;\n        this.getCaptionsList = _getCaptionsList;\n        this.getVisualQuality = _getVisualQuality;\n        this.getConfig = _getConfig;\n        this.getState = _getState;\n        this.next = _nextUp;\n        this.setConfig = (newConfig) => {\n            setConfig(_this, newConfig);\n        };\n        this.setItemIndex = _setItem;\n\n        // Program Controller passthroughs\n        this.playVideo = (playReason) => _programController.playVideo(playReason);\n        this.stopVideo = () => _programController.stopVideo();\n        this.castVideo = (castProvider, item) => _programController.castVideo(castProvider, item);\n        this.stopCast = () => _programController.stopCast();\n        this.backgroundActiveMedia = () => _programController.backgroundActiveMedia();\n        this.restoreBackgroundMedia = () => _programController.restoreBackgroundMedia();\n        this.preloadNextItem = () => {\n            if (_programController.backgroundMedia) {\n                // Instruct the background media to preload if it's already been loaded\n                _programController.preloadVideo();\n            }\n        };\n        this.isBeforeComplete = () => _programController.beforeComplete;\n\n        // Model passthroughs\n        this.setVolume = (volume) => {\n            _model.setVolume(volume);\n            updateProgramSoundSettings();\n        };\n        this.setMute = (mute) => {\n            _model.setMute(mute);\n            updateProgramSoundSettings();\n        };\n        this.setPlaybackRate = (playbackRate) => {\n            _model.setPlaybackRate(playbackRate);\n        };\n        this.getProvider = () => _model.get('provider');\n        this.getWidth = () => _model.get('containerWidth');\n        this.getHeight = () => _model.get('containerHeight');\n        this.getItemQoe = () => _model._qoeItem;\n        this.addButton = function(img, tooltip, callback, id, btnClass) {\n            let customButtons = _model.get('customButtons') || [];\n            let replaced = false;\n            const newButton = {\n                img: img,\n                tooltip: tooltip,\n                callback: callback,\n                id: id,\n                btnClass: btnClass\n            };\n\n            customButtons = customButtons.reduce((buttons, button) => {\n                if (button.id === id) {\n                    replaced = true;\n                    buttons.push(newButton);\n                } else {\n                    buttons.push(button);\n                }\n                return buttons;\n            }, []);\n\n            if (!replaced) {\n                customButtons.unshift(newButton);\n            }\n\n            _model.set('customButtons', customButtons);\n        };\n        this.removeButton = function(id) {\n            const customButtons = _.filter(\n                _model.get('customButtons'),\n                (button) => button.id !== id\n            );\n\n            _model.set('customButtons', customButtons);\n        };\n\n        // View passthroughs\n        this.resize = _view.resize;\n        this.getSafeRegion = _view.getSafeRegion;\n        this.setCaptions = _view.setCaptions;\n\n        this.checkBeforePlay = function() {\n            return _beforePlay;\n        };\n\n        this.setControls = function (mode) {\n            if (!_.isBoolean(mode)) {\n                mode = !_model.get('controls');\n            }\n            _model.set('controls', mode);\n            _programController.controls = mode;\n        };\n\n        this.setCues = function (cues) {\n            _model.set('cues', cues);\n        };\n\n        this.updatePlaylist = function(playlist, feedData) {\n            try {\n                const filteredPlaylist = filterPlaylist(playlist, _model, feedData);\n\n                // Throw exception if playlist is empty\n                validatePlaylist(filteredPlaylist);\n\n                _model.set('feedData', feedData);\n                _model.set('playlist', filteredPlaylist);\n            } catch (error) {\n                return Promise.reject(error);\n            }\n            return _setItem(_model.get('item'));\n        };\n\n        this.playerDestroy = function () {\n            this.trigger('destroyPlugin', {});\n            this.off();\n            this.stop();\n            showView(this, this.originalContainer);\n            if (_view) {\n                _view.destroy();\n            }\n            if (_model) {\n                _model.destroy();\n            }\n            if (apiQueue) {\n                apiQueue.destroy();\n            }\n            if (_captions) {\n                _captions.destroy();\n            }\n            if (_programController) {\n                _programController.destroy();\n            }\n            this.instreamDestroy();\n        };\n\n        this.isBeforePlay = this.checkBeforePlay;\n\n        this.createInstream = function() {\n            this.instreamDestroy();\n            this._instreamAdapter = new InstreamAdapter(this, _model, _view, mediaPool);\n            return this._instreamAdapter;\n        };\n\n        this.skipAd = function() {\n            if (this._instreamAdapter) {\n                this._instreamAdapter.skipAd();\n            }\n        };\n\n        this.instreamDestroy = function() {\n            if (_this._instreamAdapter) {\n                _this._instreamAdapter.destroy();\n                _this._instreamAdapter = null;\n            }\n        };\n\n        // Setup ApiQueueDecorator after instance methods have been assigned\n        const apiQueue = new ApiQueueDecorator(this, [\n            'play',\n            'pause',\n            'setCurrentAudioTrack',\n            'setCurrentCaptions',\n            'setCurrentQuality',\n            'setFullscreen',\n        ], () => !this._model.get('itemReady') || eventsReadyQueue);\n        // Add commands from CoreLoader to queue\n        apiQueue.queue.push.apply(apiQueue.queue, commandQueue);\n\n        _view.setup();\n    },\n    get(property) {\n        if (property in INITIAL_MEDIA_STATE) {\n            const mediaModel = this._model.get('mediaModel');\n            if (mediaModel) {\n                return mediaModel.get(property);\n            }\n            return INITIAL_MEDIA_STATE[property];\n        }\n        return this._model.get(property);\n    },\n    getContainer() {\n        return this.currentContainer || this.originalContainer;\n    },\n    getMute() {\n        return this._model.getMute();\n    },\n    triggerError(evt) {\n        this._model.set('errorEvent', evt);\n        this._model.set('state', STATE_ERROR);\n        this._model.once('change:state', function() {\n            this._model.set('errorEvent', undefined);\n        }, this);\n\n        this.trigger(ERROR, evt);\n    }\n});\n\n\nfunction _inInteraction(event) {\n    return event && /^(?:mouse|pointer|touch|gesture|click|key)/.test(event.type);\n}\n\nexport default Controller;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/controller.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n\n(function(window, document) {\n'use strict';\n\n\n// Exits early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observering a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = entry.rootBounds;\n  this.boundingClientRect = entry.boundingClientRect;\n  this.intersectionRect = entry.intersectionRect || getEmptyRect();\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    this.intersectionRatio = intersectionArea / targetArea;\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections();\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n\n    return item.element != target;\n  });\n  if (!this._observationTargets.length) {\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibilty state is visible.\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function() {\n  if (!this._monitoringIntersections) {\n    this._monitoringIntersections = true;\n\n    // If a poll interval is set, use polling instead of listening to\n    // resize and scroll events or DOM mutations.\n    if (this.POLL_INTERVAL) {\n      this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL);\n    }\n    else {\n      addEvent(window, 'resize', this._checkForIntersections, true);\n      addEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n        this._domObserver = new MutationObserver(this._checkForIntersections);\n        this._domObserver.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function() {\n  if (this._monitoringIntersections) {\n    this._monitoringIntersections = false;\n\n    clearInterval(this._monitoringInterval);\n    this._monitoringInterval = null;\n\n    removeEvent(window, 'resize', this._checkForIntersections, true);\n    removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n    if (this._domObserver) {\n      this._domObserver.disconnect();\n      this._domObserver = null;\n    }\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, rootRect) {\n\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var targetRect = getBoundingClientRect(target);\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return;\n\n    if (parent == this.root || parent == document) {\n      atRoot = true;\n      parentRect = rootRect;\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      if (parent != document.body &&\n          parent != document.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n      if (!intersectionRect) break;\n    }\n    parent = getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {Object} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {Object} rect The rect object to expand.\n * @return {Object} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its executiong, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object} The intersection rect or undefined if no intersection\n *     is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {Object} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {Object} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n/**\n * Checks to see if a parent element contains a child elemnt (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n  return parent;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}(window, document));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/intersection-observer/intersection-observer.js\n// module id = 9\n// module chunks = 0 2 7","import { Browser, OS, Features } from 'environment/environment';\nimport { DRAG, DRAG_START, DRAG_END, CLICK, DOUBLE_CLICK, MOVE, OUT, TAP, DOUBLE_TAP, OVER, ENTER } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport { now } from 'utils/date';\n\nconst TouchEvent = window.TouchEvent;\nconst PointerEvent = window.PointerEvent;\nconst _supportsPointerEvents = ('PointerEvent' in window) && !OS.android;\nconst _supportsTouchEvents = ('ontouchstart' in window);\nconst _useMouseEvents = !_supportsPointerEvents && !(_supportsTouchEvents && OS.mobile);\nconst _isOSXFirefox = Browser.firefox && OS.mac;\n\nfunction getCoord(e, c) {\n    return /touch/.test(e.type) ? (e.originalEvent || e).changedTouches[0]['page' + c] : e['page' + c];\n}\n\nfunction isRightClick(evt) {\n    const e = evt || window.event;\n\n    if (!(evt instanceof MouseEvent)) {\n        return false;\n    }\n\n    if ('which' in e) {\n        // Gecko (Firefox), WebKit (Safari/Chrome) & Opera\n        return (e.which === 3);\n    } else if ('button' in e) {\n        // IE and Opera\n        return (e.button === 2);\n    }\n\n    return false;\n}\n\nfunction isEnterKey(evt) {\n    const e = evt || window.event;\n\n    if ((e instanceof KeyboardEvent) && e.keyCode === 13) {\n        evt.stopPropagation();\n        return true;\n    }\n\n    return false;\n}\n\nfunction normalizeUIEvent(type, srcEvent, target) {\n    let source;\n\n    if (srcEvent instanceof MouseEvent || (!srcEvent.touches && !srcEvent.changedTouches)) {\n        source = srcEvent;\n    } else if (srcEvent.touches && srcEvent.touches.length) {\n        source = srcEvent.touches[0];\n    } else {\n        source = srcEvent.changedTouches[0];\n    }\n\n    return {\n        type: type,\n        sourceEvent: srcEvent,\n        target: srcEvent.target,\n        currentTarget: target,\n        pageX: source.pageX,\n        pageY: source.pageY\n    };\n}\n\n// Preventdefault to prevent click events\nfunction preventDefault(evt) {\n    // Because sendEvent from utils.eventdispatcher clones evt objects instead of passing them\n    //  we cannot call evt.preventDefault() on them\n    if (!(evt instanceof MouseEvent) && !(evt instanceof TouchEvent)) {\n        return;\n    }\n    if (evt.preventManipulation) {\n        evt.preventManipulation();\n    }\n    // prevent scrolling\n    if (evt.preventDefault) {\n        evt.preventDefault();\n    }\n}\n\nconst UI = function (elem, options) {\n    const _elem = elem;\n    let _hasMoved = false;\n    let _startX = 0;\n    let _startY = 0;\n    let _lastClickTime = 0;\n    let _doubleClickDelay = 300;\n    let _touchListenerTarget;\n    let _pointerId;\n\n    options = options || {};\n\n    const listenerOptions = Features.passiveEvents ? { passive: !options.preventScrolling } : false;\n\n    const interactEndDelegate = (event) => interactEndHandler(event);\n\n    // If its not mobile, add mouse listener.  Add touch listeners so touch devices that aren't Android or iOS\n    // (windows phones) still get listeners just in case they want to use them.\n    if (_supportsPointerEvents) {\n        elem.addEventListener('pointerdown', interactStartHandler, listenerOptions);\n        if (options.useHover) {\n            elem.addEventListener('pointerover', overHandler);\n            elem.addEventListener('pointerout', pointerOutHandler);\n        }\n        if (options.useMove) {\n            elem.addEventListener('pointermove', moveHandler);\n        }\n    } else {\n        if (_useMouseEvents) {\n            elem.addEventListener('mousedown', interactStartHandler, listenerOptions);\n            if (options.useHover) {\n                elem.addEventListener('mouseover', overHandler);\n                elem.addEventListener('mouseout', outHandler);\n            }\n            if (options.useMove) {\n                elem.addEventListener('mousemove', moveHandler);\n            }\n        }\n\n        // Always add this, in case we don't properly identify the device as mobile\n        elem.addEventListener('touchstart', interactStartHandler, listenerOptions);\n    }\n\n    elem.addEventListener('keydown', keyHandler);\n    if (options.useFocus) {\n        elem.addEventListener('focus', overHandler);\n        elem.addEventListener('blur', outHandler);\n    }\n\n    // overHandler and outHandler not assigned in touch situations\n    function overHandler(evt) {\n        if (evt.pointerType !== 'touch') {\n            triggerEvent(OVER, evt);\n        }\n    }\n\n    function moveHandler(evt) {\n        if (evt.pointerType !== 'touch') {\n            triggerEvent(MOVE, evt);\n        }\n    }\n\n    function pointerOutHandler(evt) {\n        if (evt.pointerType !== 'touch' && 'x' in evt) {\n            // elementFromPoint to handle an issue where setPointerCapture is causing a pointerout event\n            const { x, y } = evt;\n            const overElement = document.elementFromPoint(x, y);\n            if (!elem.contains(overElement)) {\n                triggerEvent(OUT, evt);\n            }\n        }\n    }\n\n    function outHandler(evt) {\n        triggerEvent(OUT, evt);\n    }\n\n    function keyHandler(evt) {\n        if (isEnterKey(evt)) {\n            triggerEvent(ENTER, evt);\n        }\n    }\n\n    function setEventListener(element, eventName, callback) {\n        element.removeEventListener(eventName, callback);\n        element.addEventListener(eventName, callback);\n    }\n\n    function interactStartHandler(evt) {\n        _touchListenerTarget = evt.target;\n        _startX = getCoord(evt, 'X');\n        _startY = getCoord(evt, 'Y');\n\n        if (!isRightClick(evt)) {\n\n            if (evt.type === 'pointerdown' && evt.isPrimary) {\n                if (options.preventScrolling) {\n                    _pointerId = evt.pointerId;\n                    elem.setPointerCapture(_pointerId);\n                }\n                setEventListener(elem, 'pointermove', interactDragHandler, listenerOptions);\n                setEventListener(elem, 'pointercancel', interactEndHandler);\n\n                // Listen for mouseup after mouse pointer down because pointerup doesn't fire on swf objects\n                if (evt.pointerType === 'mouse' && _touchListenerTarget.nodeName === 'OBJECT') {\n                    setEventListener(document, 'mouseup', interactEndDelegate);\n                } else {\n                    setEventListener(elem, 'pointerup', interactEndHandler);\n                }\n            } else if (evt.type === 'mousedown') {\n                setEventListener(document, 'mousemove', interactDragHandler, listenerOptions);\n\n                // Handle clicks in OSX Firefox over Flash 'object'\n                if (_isOSXFirefox && evt.target.nodeName.toLowerCase() === 'object') {\n                    setEventListener(elem, 'click', interactEndHandler);\n                } else {\n                    setEventListener(document, 'mouseup', interactEndDelegate);\n                }\n            } else if (evt.type === 'touchstart') {\n                setEventListener(_touchListenerTarget, 'touchmove', interactDragHandler, listenerOptions);\n                setEventListener(_touchListenerTarget, 'touchcancel', interactEndHandler);\n                setEventListener(_touchListenerTarget, 'touchend', interactEndHandler);\n            }\n\n            // Prevent scrolling the screen while dragging on mobile.\n            if (options.preventScrolling) {\n                preventDefault(evt);\n            }\n        }\n    }\n\n    function interactDragHandler(evt) {\n        const movementThreshold = 6;\n\n        if (_hasMoved) {\n            triggerEvent(DRAG, evt);\n        } else {\n            const endX = getCoord(evt, 'X');\n            const endY = getCoord(evt, 'Y');\n            const moveX = endX - _startX;\n            const moveY = endY - _startY;\n            if (moveX * moveX + moveY * moveY > movementThreshold * movementThreshold) {\n                triggerEvent(DRAG_START, evt);\n                _hasMoved = true;\n                triggerEvent(DRAG, evt);\n            }\n        }\n\n        // Prevent scrolling the screen dragging while dragging on mobile.\n        if (options.preventScrolling) {\n            preventDefault(evt);\n        }\n    }\n\n    function interactEndHandler(evt) {\n        const isPointerEvent = (evt.type === 'pointerup' || evt.type === 'pointercancel');\n        if (isPointerEvent && options.preventScrolling) {\n            elem.releasePointerCapture(_pointerId);\n        }\n        elem.removeEventListener('pointermove', interactDragHandler);\n        elem.removeEventListener('pointercancel', interactEndHandler);\n        elem.removeEventListener('pointerup', interactEndHandler);\n        document.removeEventListener('mousemove', interactDragHandler);\n        document.removeEventListener('mouseup', interactEndDelegate);\n        if (_touchListenerTarget) {\n            _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\n            _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\n            _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\n        }\n\n        if (_hasMoved) {\n            triggerEvent(DRAG_END, evt);\n        } else if ((!options.directSelect || evt.target === elem) && evt.type.indexOf('cancel') === -1) {\n            if (evt.type === 'mouseup' || evt.type === 'click' || isPointerEvent && evt.pointerType === 'mouse') {\n                triggerEvent(CLICK, evt);\n            } else {\n                triggerEvent(TAP, evt);\n                if (evt.type === 'touchend') {\n                    // preventDefault to not dispatch the 300ms delayed click after a tap\n                    preventDefault(evt);\n                }\n            }\n        }\n\n        _touchListenerTarget = null;\n        _hasMoved = false;\n    }\n\n    const self = this;\n    function triggerEvent(type, srcEvent) {\n        let evt;\n        if (options.enableDoubleTap && (type === CLICK || type === TAP)) {\n            if (now() - _lastClickTime < _doubleClickDelay) {\n                const doubleType = (type === CLICK) ?\n                    DOUBLE_CLICK : DOUBLE_TAP;\n                evt = normalizeUIEvent(doubleType, srcEvent, _elem);\n                self.trigger(doubleType, evt);\n                _lastClickTime = 0;\n            } else {\n                _lastClickTime = now();\n            }\n        }\n        evt = normalizeUIEvent(type, srcEvent, _elem);\n        self.trigger(type, evt);\n    }\n\n    this.triggerEvent = triggerEvent;\n\n    this.destroy = function() {\n        this.off();\n        elem.removeEventListener('touchstart', interactStartHandler);\n        elem.removeEventListener('mousedown', interactStartHandler);\n        elem.removeEventListener('keydown', keyHandler);\n\n        if (_touchListenerTarget) {\n            _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\n            _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\n            _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\n            _touchListenerTarget = null;\n        }\n\n        if (_supportsPointerEvents) {\n            if (options.preventScrolling) {\n                elem.releasePointerCapture(_pointerId);\n            }\n            elem.removeEventListener('pointerover', overHandler);\n            elem.removeEventListener('pointerdown', interactStartHandler);\n            elem.removeEventListener('pointermove', interactDragHandler);\n            elem.removeEventListener('pointermove', moveHandler);\n            elem.removeEventListener('pointercancel', interactEndHandler);\n            elem.removeEventListener('pointerout', pointerOutHandler);\n            elem.removeEventListener('pointerup', interactEndHandler);\n        }\n\n        elem.removeEventListener('click', interactEndHandler);\n        elem.removeEventListener('mouseover', overHandler);\n        elem.removeEventListener('mousemove', moveHandler);\n        elem.removeEventListener('mouseout', outHandler);\n        document.removeEventListener('mousemove', interactDragHandler);\n        document.removeEventListener('mouseup', interactEndDelegate);\n\n        if (options.useFocus) {\n            elem.removeEventListener('focus', overHandler);\n            elem.removeEventListener('blur', outHandler);\n        }\n    };\n\n    return this;\n};\n\n// Expose what the source of the event is so that we can ensure it's handled correctly.\n// This returns only 'touch' or 'mouse'. 'pen' will be treated as a mouse.\nexport function getPointerType(evt) {\n    if ((_supportsTouchEvents && evt instanceof TouchEvent) ||\n        (_supportsPointerEvents && evt instanceof PointerEvent && evt.pointerType === 'touch')) {\n        return 'touch';\n    }\n\n    return 'mouse';\n}\n\nObject.assign(UI.prototype, Events);\n\nexport default UI;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/ui.js","import BUFFER_ICON from 'assets/SVG/buffer.svg';\nimport REPLAY_ICON from 'assets/SVG/replay.svg';\nimport ERROR_ICON from 'assets/SVG/playback-error.svg';\nimport PLAY_ICON from 'assets/SVG/play.svg';\nimport PAUSE_ICON from 'assets/SVG/pause.svg';\nimport REWIND_ICON from 'assets/SVG/rewind-10.svg';\nimport NEXT_ICON from 'assets/SVG/next.svg';\n// import STOP_ICON from 'assets/SVG/stop.svg';\nimport VOLUME_ICON_0 from 'assets/SVG/volume-0.svg';\nimport VOLUME_ICON_50 from 'assets/SVG/volume-50.svg';\nimport VOLUME_ICON_100 from 'assets/SVG/volume-100.svg';\nimport CAPTIONS_ON_ICON from 'assets/SVG/captions-on.svg';\nimport CAPTIONS_OFF_ICON from 'assets/SVG/captions-off.svg';\nimport AIRPLAY_ON_ICON from 'assets/SVG/airplay-on.svg';\nimport AIRPLAY_OFF_ICON from 'assets/SVG/airplay-off.svg';\nimport PLAYBACK_RATE_ICON from 'assets/SVG/playback-rate.svg';\nimport SETTINGS_ICON from 'assets/SVG/settings.svg';\nimport AUDIO_TRACKS_ICON from 'assets/SVG/audio-tracks.svg';\n// import QUALITY_ICON_25 from 'assets/SVG/quality-25.svg';\n// import QUALITY_ICON_50 from 'assets/SVG/quality-50.svg';\n// import QUALITY_ICON_75 from 'assets/SVG/quality-75.svg';\nimport QUALITY_ICON from 'assets/SVG/quality-100.svg';\nimport FULLSCREEN_EXIT_ICON from 'assets/SVG/fullscreen-not.svg';\nimport FULLSCREEN_ENTER_ICON from 'assets/SVG/fullscreen.svg';\nimport CLOSE_ICON from 'assets/SVG/close.svg';\n// import ARROW_ICON from 'assets/SVG/arror.svg';\nimport JW_LOGO from 'assets/SVG/jw-logo.svg';\nimport svgParse from 'utils/svgParser';\n\nlet collection = null;\n\nexport function cloneIcon(name) {\n    const icon = getCollection().querySelector(nameToClass(name));\n    if (icon) {\n        return clone(icon);\n    }\n    if (__DEBUG__) {\n        throw new Error('Icon not found ' + name);\n    }\n    return null;\n}\n\nexport function cloneIcons(names) {\n    const icons = getCollection().querySelectorAll(names.split(',').map(nameToClass).join(','));\n    if (__DEBUG__ && !icons.length) {\n        throw new Error('Icons not found ' + names);\n    }\n    return Array.prototype.map.call(icons, icon => clone(icon));\n}\n\nfunction nameToClass(name) {\n    return `.jw-svg-icon-${name}`;\n}\n\nfunction clone(icon) {\n    return icon.cloneNode(true);\n}\n\nfunction getCollection() {\n    if (!collection) {\n        collection = parseCollection();\n    }\n    return collection;\n}\n\nfunction parseCollection() {\n    return svgParse('<xml>' +\n        BUFFER_ICON +\n        REPLAY_ICON +\n        ERROR_ICON +\n        PLAY_ICON +\n        PAUSE_ICON +\n        REWIND_ICON +\n        NEXT_ICON +\n        VOLUME_ICON_0 +\n        VOLUME_ICON_50 +\n        VOLUME_ICON_100 +\n        CAPTIONS_ON_ICON +\n        CAPTIONS_OFF_ICON +\n        AIRPLAY_ON_ICON +\n        AIRPLAY_OFF_ICON +\n        PLAYBACK_RATE_ICON +\n        SETTINGS_ICON +\n        AUDIO_TRACKS_ICON +\n        QUALITY_ICON +\n        FULLSCREEN_EXIT_ICON +\n        FULLSCREEN_ENTER_ICON +\n        CLOSE_ICON +\n        JW_LOGO +\n        '</xml>');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/icons.js","import UI from 'utils/ui';\nimport svgParse from 'utils/svgParser';\n\nexport default function (icon, apiAction, ariaText, svgIcons) {\n    const element = document.createElement('div');\n    element.className = 'jw-icon jw-icon-inline jw-button-color jw-reset ' + icon;\n    element.setAttribute('role', 'button');\n    element.setAttribute('tabindex', '0');\n\n    if (ariaText) {\n        element.setAttribute('aria-label', ariaText);\n    }\n\n    element.style.display = 'none';\n\n    if (apiAction) {\n        new UI(element).on('click tap enter', function(event) {\n            apiAction(event);\n        });\n    }\n\n    // Prevent button from being focused on mousedown so that the tooltips don't remain visible until\n    // the user interacts with another element on the page\n    element.addEventListener('mousedown', (e) => {\n        e.preventDefault();\n    });\n\n    if (svgIcons) {\n        Array.prototype.forEach.call(svgIcons, svgIcon => {\n            if (typeof svgIcon === 'string') {\n                element.appendChild(svgParse(svgIcon));\n            } else {\n                element.appendChild(svgIcon);\n            }\n        });\n    }\n\n    return {\n        element: function() {\n            return element;\n        },\n        toggle: function(m) {\n            if (m) {\n                this.show();\n            } else {\n                this.hide();\n            }\n        },\n        show: function() {\n            element.style.display = '';\n        },\n        hide: function() {\n            element.style.display = 'none';\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/button.js","let parser;\n\nexport default function svgParse(svgXml) {\n    if (!parser) {\n        parser = new DOMParser();\n    }\n\n    return parser.parseFromString(svgXml, 'image/svg+xml').documentElement;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/svgParser.js","import { seconds, trim } from 'utils/strings';\n\n// Component that loads and parses an SRT file\n\nexport default function Srt(data) {\n    // Trim whitespace and split the list by returns.\n    var _captions = [];\n    data = trim(data);\n    var list = data.split('\\r\\n\\r\\n');\n    if (list.length === 1) {\n        list = data.split('\\n\\n');\n    }\n\n    for (var i = 0; i < list.length; i++) {\n        if (list[i] === 'WEBVTT') {\n            continue;\n        }\n        // Parse each entry\n        var entry = _entry(list[i]);\n        if (entry.text) {\n            _captions.push(entry);\n        }\n    }\n\n    return _captions;\n}\n\n\n/* Parse a single captions entry. */\nfunction _entry(data) {\n    var entry = {};\n    var array = data.split('\\r\\n');\n    if (array.length === 1) {\n        array = data.split('\\n');\n    }\n    var idx = 1;\n    if (array[0].indexOf(' --> ') > 0) {\n        idx = 0;\n    }\n    if (array.length > idx + 1 && array[idx + 1]) {\n        // This line contains the start and end.\n        var line = array[idx];\n        var index = line.indexOf(' --> ');\n        if (index > 0) {\n            entry.begin = seconds(line.substr(0, index));\n            entry.end = seconds(line.substr(index + 5));\n            // Remaining lines contain the text\n            entry.text = array.slice(idx + 1).join('\\r\\n');\n        }\n    }\n    return entry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/srt.js","\nexport const dvrSeekLimit = -25;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/constants.js","import { resolved } from 'polyfills/promise';\n\nexport default function cancelable(callback) {\n    let cancelled = false;\n\n    return {\n        async: function() {\n            const args = arguments;\n            return resolved.then(() => {\n                if (cancelled) {\n                    return;\n                }\n                return callback.apply(this, args);\n            });\n        },\n        cancel: () => {\n            cancelled = true;\n        },\n        cancelled: () => cancelled\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/cancelable.js","import { OS } from 'environment/environment';\nimport SimpleModel from 'model/simplemodel';\nimport { INITIAL_PLAYER_STATE, INITIAL_MEDIA_STATE } from 'model/player-model';\nimport { STATE_IDLE } from 'events/events';\nimport _ from 'utils/underscore';\nimport { seconds } from 'utils/strings';\nimport Providers from 'providers/providers';\n\n// Represents the state of the player\nconst Model = function() {\n    const _this = this;\n    let providers;\n    let _provider;\n    this.mediaModel = new MediaModel();\n\n    this.set('attached', true);\n    this.set('mediaModel', this.mediaModel);\n\n    this.setup = function(config) {\n        Object.assign(this.attributes, config, INITIAL_PLAYER_STATE);\n        providers = new Providers(this.getConfiguration());\n        this.setAutoStart();\n        return this;\n    };\n\n    this.getConfiguration = function() {\n        const config = this.clone();\n        const mediaModelAttributes = config.mediaModel.attributes;\n        Object.keys(INITIAL_MEDIA_STATE).forEach(key => {\n            config[key] = mediaModelAttributes[key];\n        });\n        delete config.instream;\n        delete config.mediaModel;\n        return config;\n    };\n\n    this.persistQualityLevel = function(quality, levels) {\n        var currentLevel = levels[quality] || {};\n        var label = currentLevel.label;\n        this.set('qualityLabel', label);\n    };\n\n    this.setActiveItem = function (index) {\n        const item = this.get('playlist')[index];\n        this.resetItem(item);\n        this.attributes.playlistItem = null;\n        this.set('item', index);\n        this.set('minDvrWindow', item.minDvrWindow);\n        this.set('playlistItem', item);\n    };\n\n    this.setMediaModel = function (mediaModel) {\n        if (this.mediaModel && this.mediaModel !== mediaModel) {\n            this.mediaModel.off();\n        }\n\n        mediaModel = mediaModel || new MediaModel();\n        this.mediaModel = mediaModel;\n        this.set('mediaModel', mediaModel);\n        syncPlayerWithMediaModel(mediaModel);\n    };\n\n    this.destroy = function() {\n        this.attributes._destroyed = true;\n        this.off();\n        if (_provider) {\n            _provider.off(null, null, this);\n            _provider.destroy();\n        }\n    };\n\n    this.getVideo = function() {\n        return _provider;\n    };\n\n    this.setFullscreen = function(state) {\n        state = !!state;\n        if (state !== _this.get('fullscreen')) {\n            _this.set('fullscreen', state);\n        }\n    };\n\n    this.getProviders = function() {\n        return providers;\n    };\n\n    this.setVolume = function(volume) {\n        volume = Math.round(volume);\n        this.set('volume', volume);\n        var mute = (volume === 0);\n        if (mute !== (this.getMute())) {\n            this.setMute(mute);\n        }\n    };\n\n    this.getMute = function() {\n        return this.get('autostartMuted') || this.get('mute');\n    };\n\n    this.setMute = function(mute) {\n        if (mute === undefined) {\n            mute = !(this.getMute());\n        }\n        this.set('mute', mute);\n        if (!mute) {\n            var volume = Math.max(10, this.get('volume'));\n            this.set('autostartMuted', false);\n            this.setVolume(volume);\n        }\n    };\n\n    this.setStreamType = function(streamType) {\n        this.set('streamType', streamType);\n        if (streamType === 'LIVE') {\n            this.setPlaybackRate(1);\n        }\n    };\n\n    this.setProvider = function (provider) {\n        _provider = provider;\n        syncProviderProperties(this, provider);\n    };\n\n    this.resetProvider = function () {\n        _provider = null;\n        this.set('provider', undefined);\n    };\n\n    this.setPlaybackRate = function(playbackRate) {\n        if (!_.isNumber(playbackRate)) {\n            return;\n        }\n\n        // Clamp the rate between 0.25x and 4x\n        playbackRate = Math.max(Math.min(playbackRate, 4), 0.25);\n\n        if (this.get('streamType') === 'LIVE') {\n            playbackRate = 1;\n        }\n\n        this.set('defaultPlaybackRate', playbackRate);\n\n        if (_provider && _provider.setPlaybackRate) {\n            _provider.setPlaybackRate(playbackRate);\n        }\n    };\n\n    this.persistCaptionsTrack = function() {\n        var track = this.get('captionsTrack');\n\n        if (track) {\n            // update preference if an option was selected\n            this.set('captionLabel', track.name);\n        } else {\n            this.set('captionLabel', 'Off');\n        }\n    };\n\n\n    this.setVideoSubtitleTrack = function(trackIndex, tracks) {\n        this.set('captionsIndex', trackIndex);\n        /*\n         * Tracks could have changed even if the index hasn't.\n         * Need to ensure track has data for captionsrenderer.\n         */\n        if (trackIndex && tracks && trackIndex <= tracks.length && tracks[trackIndex - 1].data) {\n            this.set('captionsTrack', tracks[trackIndex - 1]);\n        }\n    };\n\n    this.persistVideoSubtitleTrack = function(trackIndex, tracks) {\n        this.setVideoSubtitleTrack(trackIndex, tracks);\n        this.persistCaptionsTrack();\n    };\n\n    // Mobile players always wait to become viewable.\n    // Desktop players must have autostart set to viewable\n    this.setAutoStart = function(autoStart) {\n        if (autoStart !== undefined) {\n            this.set('autostart', autoStart);\n        }\n\n        const autoStartOnMobile = OS.mobile && this.get('autostart');\n        this.set('playOnViewable', autoStartOnMobile || this.get('autostart') === 'viewable');\n    };\n\n    this.resetItem = function (item) {\n        const position = item ? seconds(item.starttime) : 0;\n        const duration = item ? seconds(item.duration) : 0;\n        const mediaModel = this.mediaModel;\n        this.set('playRejected', false);\n        this.attributes.itemMeta = {};\n        mediaModel.set('position', position);\n        mediaModel.set('currentTime', 0);\n        mediaModel.set('duration', duration);\n    };\n};\n\nconst syncProviderProperties = (model, provider) => {\n    model.set('provider', provider.getName());\n    if (model.get('instreamMode') === true) {\n        provider.instreamMode = true;\n    }\n\n    if (provider.getName().name.indexOf('flash') === -1) {\n        model.set('flashThrottle', undefined);\n        model.set('flashBlocked', false);\n    }\n\n    // Attempt setting the playback rate to be the user selected value\n    model.setPlaybackRate(model.get('defaultPlaybackRate'));\n\n    // Set playbackRate because provider support for playbackRate may have changed and not sent an update\n    model.set('supportsPlaybackRate', provider.supportsPlaybackRate);\n    model.set('playbackRate', provider.getPlaybackRate());\n    model.set('renderCaptionsNatively', provider.renderNatively);\n};\n\nfunction syncPlayerWithMediaModel(mediaModel) {\n    // Sync player state with mediaModel state\n    const mediaState = mediaModel.get('mediaState');\n    mediaModel.trigger('change:mediaState', mediaModel, mediaState, mediaState);\n}\n\n// Represents the state of the provider/media element\nconst MediaModel = Model.MediaModel = function() {\n    this.attributes = {\n        mediaState: STATE_IDLE\n    };\n};\n\nObject.assign(MediaModel.prototype, SimpleModel, {\n    srcReset() {\n        Object.assign(this.attributes, {\n            setup: false,\n            started: false,\n            preloaded: false,\n            visualQuality: null,\n            buffer: 0,\n            currentTime: 0\n        });\n    }\n});\n\nObject.assign(Model.prototype, SimpleModel);\n\nexport { MediaModel };\nexport default Model;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/model.js","export const requestAnimationFrame = window.requestAnimationFrame || function (callback) {\n    return setTimeout(callback, 17);\n};\n\nexport const cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/request-animation-frame.js","import { replaceClass } from 'utils/dom';\n\nexport function getBreakpoint(width) {\n    let breakpoint = 0;\n\n    if (width >= 1280) {\n        breakpoint = 7;\n    } else if (width >= 960) {\n        breakpoint = 6;\n    } else if (width >= 800) {\n        breakpoint = 5;\n    } else if (width >= 640) {\n        breakpoint = 4;\n    } else if (width >= 540) {\n        breakpoint = 3;\n    } else if (width >= 420) {\n        breakpoint = 2;\n    } else if (width >= 320) {\n        breakpoint = 1;\n    }\n\n    return breakpoint;\n}\n\nexport function setBreakpoint(playerElement, breakpointNumber) {\n    const breakpointClass = 'jw-breakpoint-' + breakpointNumber;\n    replaceClass(playerElement, /jw-breakpoint-\\d+/, breakpointClass);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/breakpoint.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 83\n// module chunks = 0 1 2 3 4 5","export default function(element, ariaLabel) {\n    if (!element || !ariaLabel) {\n        return;\n    }\n\n    element.setAttribute('aria-label', ariaLabel);\n    element.setAttribute('role', 'button');\n    element.setAttribute('tabindex', '0');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/aria.js","import sliderTemplate from 'view/controls/templates/slider';\nimport { OS } from 'environment/environment';\nimport Events from 'utils/backbone.events';\nimport UI from 'utils/ui';\nimport utils from 'utils/helpers';\n\nconst getRailBounds = function(elementRail) {\n    const bounds = utils.bounds(elementRail);\n    // Partial workaround of Android 'inert-visual-viewport'\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    const pageXOffset = window.pageXOffset;\n    if (pageXOffset && OS.android && document.body.parentElement.getBoundingClientRect().left >= 0) {\n        bounds.left -= pageXOffset;\n        bounds.right -= pageXOffset;\n    }\n    return bounds;\n};\n\nexport default class Slider {\n    constructor(className, orientation) {\n        Object.assign(this, Events);\n\n        this.className = className + ' jw-background-color jw-reset';\n        this.orientation = orientation;\n\n        this.dragStartListener = this.dragStart.bind(this);\n        this.dragMoveListener = this.dragMove.bind(this);\n        this.dragEndListener = this.dragEnd.bind(this);\n\n        this.tapListener = this.tap.bind(this);\n    }\n\n    setup() {\n        this.el = utils.createElement(sliderTemplate(this.className, 'jw-slider-' + this.orientation));\n\n        this.elementRail = this.el.getElementsByClassName('jw-slider-container')[0];\n        this.elementBuffer = this.el.getElementsByClassName('jw-buffer')[0];\n        this.elementProgress = this.el.getElementsByClassName('jw-progress')[0];\n        this.elementThumb = this.el.getElementsByClassName('jw-knob')[0];\n\n        this.userInteract = new UI(this.element(), { preventScrolling: true });\n\n        this.userInteract.on('dragStart', this.dragStartListener);\n        this.userInteract.on('drag', this.dragMoveListener);\n        this.userInteract.on('dragEnd', this.dragEndListener);\n\n        this.userInteract.on('tap click', this.tapListener);\n    }\n\n    dragStart() {\n        this.trigger('dragStart');\n        this.railBounds = getRailBounds(this.elementRail);\n    }\n\n    dragEnd(evt) {\n        this.dragMove(evt);\n        this.trigger('dragEnd');\n    }\n\n    dragMove(evt) {\n        const bounds = this.railBounds = (this.railBounds) ? this.railBounds : getRailBounds(this.elementRail);\n        let dimension;\n        let percentage;\n\n        if (this.orientation === 'horizontal') {\n            dimension = evt.pageX;\n            if (dimension < bounds.left) {\n                percentage = 0;\n            } else if (dimension > bounds.right) {\n                percentage = 100;\n            } else {\n                percentage = utils.between((dimension - bounds.left) / bounds.width, 0, 1) * 100;\n            }\n        } else {\n            dimension = evt.pageY;\n            if (dimension >= bounds.bottom) {\n                percentage = 0;\n            } else if (dimension <= bounds.top) {\n                percentage = 100;\n            } else {\n                percentage = utils.between((bounds.height - (dimension - bounds.top)) / bounds.height, 0, 1) * 100;\n            }\n        }\n\n        const updatedPercent = this.limit(percentage);\n        this.render(updatedPercent);\n        this.update(updatedPercent);\n\n        return false;\n    }\n\n    tap(evt) {\n        this.railBounds = getRailBounds(this.elementRail);\n        this.dragMove(evt);\n    }\n\n    limit(percentage) {\n        // modules that extend Slider can set limits on the percentage (TimeSlider)\n        return percentage;\n    }\n\n    update(percentage) {\n        this.trigger('update', { percentage: percentage });\n    }\n\n    render(percentage) {\n        percentage = Math.max(0, Math.min(percentage, 100));\n\n        if (this.orientation === 'horizontal') {\n            this.elementThumb.style.left = percentage + '%';\n            this.elementProgress.style.width = percentage + '%';\n        } else {\n            this.elementThumb.style.bottom = percentage + '%';\n            this.elementProgress.style.height = percentage + '%';\n        }\n    }\n\n    updateBuffer(percentage) {\n        this.elementBuffer.style.width = percentage + '%';\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/slider.js","import Events from 'utils/backbone.events';\nimport ariaLabel from 'utils/aria';\nimport { toggleClass } from 'utils/dom';\nimport svgParse from 'utils/svgParser';\n\nexport default class Tooltip {\n    constructor(name, ariaText, elementShown, svgIcons) {\n        Object.assign(this, Events);\n        this.el = document.createElement('div');\n        let className = 'jw-icon jw-icon-tooltip ' + name + ' jw-button-color jw-reset';\n        if (!elementShown) {\n            className += ' jw-hidden';\n        }\n\n        ariaLabel(this.el, ariaText);\n\n        this.el.className = className;\n        this.container = document.createElement('div');\n        this.container.className = 'jw-overlay jw-reset';\n        this.openClass = 'jw-open';\n        this.componentType = 'tooltip';\n\n        this.el.appendChild(this.container);\n        if (svgIcons && svgIcons.length > 0) {\n            Array.prototype.forEach.call(svgIcons, svgIcon => {\n                if (typeof svgIcon === 'string') {\n                    this.el.appendChild(svgParse(svgIcon));\n                } else {\n                    this.el.appendChild(svgIcon);\n                }\n            });\n        }\n    }\n\n    addContent(elem) {\n        if (this.content) {\n            this.removeContent();\n        }\n\n        this.content = elem;\n        this.container.appendChild(elem);\n    }\n\n    removeContent() {\n        if (this.content) {\n            this.container.removeChild(this.content);\n            this.content = null;\n        }\n    }\n\n    hasContent() {\n        return !!this.content;\n    }\n\n    element() {\n        return this.el;\n    }\n\n    openTooltip(evt) {\n        this.trigger('open-' + this.componentType, evt, { isOpen: true });\n        this.isOpen = true;\n        toggleClass(this.el, this.openClass, this.isOpen);\n    }\n\n    closeTooltip(evt) {\n        this.trigger('close-' + this.componentType, evt, { isOpen: false });\n        this.isOpen = false;\n        toggleClass(this.el, this.openClass, this.isOpen);\n    }\n\n    toggleOpenState(evt) {\n        if (this.isOpen) {\n            this.closeTooltip(evt);\n        } else {\n            this.openTooltip(evt);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/tooltip.js","import { addClass, removeClass } from 'utils/dom';\n\nexport function SimpleTooltip(attachToElement, name, text, openCallback) {\n    const tooltipElement = document.createElement('div');\n    tooltipElement.className = `jw-reset jw-tooltip jw-tooltip-${name}`;\n\n    const textElement = document.createElement('div');\n    textElement.className = 'jw-text';\n    textElement.textContent = text;\n\n    tooltipElement.appendChild(textElement);\n    attachToElement.appendChild(tooltipElement);\n\n    const instance = {\n        open() {\n            if (instance.touchEvent) {\n                return;\n            }\n\n            tooltipElement.setAttribute('aria-expanded', 'true');\n            addClass(tooltipElement, 'jw-open');\n\n            if (openCallback) {\n                openCallback();\n            }\n        },\n        close() {\n            if (instance.touchEvent) {\n                return;\n            }\n\n            tooltipElement.setAttribute('aria-expanded', 'false');\n            removeClass(tooltipElement, 'jw-open');\n        },\n        setText(newText) {\n            tooltipElement.querySelector('.jw-text').textContent = newText;\n        }\n    };\n\n    attachToElement.addEventListener('mouseover', instance.open);\n    attachToElement.addEventListener('focus', instance.open);\n    attachToElement.addEventListener('blur', instance.close);\n    attachToElement.addEventListener('mouseout', instance.close);\n    attachToElement.addEventListener('touchstart', () => {\n        instance.touchEvent = true;\n    }, {\n        passive: true\n    });\n\n    return instance;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/simple-tooltip.js","import Providers from 'providers/providers';\nimport MediaController from 'program/media-controller';\nimport Promise, { resolved } from 'polyfills/promise';\nimport cancelable from 'utils/cancelable';\nimport { MediaControllerListener } from 'program/program-listeners';\nimport Eventable from 'utils/eventable';\nimport BackgroundMedia from 'program/background-media';\n\nimport { ERROR, PLAYER_STATE, STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE } from 'events/events';\nimport { Features } from '../environment/environment';\n\n/** @private Do not include in JSDocs */\n\nclass ProgramController extends Eventable {\n    /**\n     * ProgramController constructor\n     * @param {Model} model - The player's model\n     * @param {MediaElementPool} mediaPool - The player's media element pool\n     */\n    constructor(model, mediaPool) {\n        super();\n\n        this.adPlaying = false;\n        this.background = BackgroundMedia();\n        this.mediaPool = mediaPool;\n        this.mediaController = null;\n        this.mediaControllerListener = MediaControllerListener(model, this);\n        this.model = model;\n        this.providers = new Providers(model.getConfiguration());\n        this.loadPromise = resolved;\n\n        if (!Features.backgroundLoading) {\n            // If background loading is not supported, set the shared media element\n            model.set('mediaElement', this.mediaPool.getPrimedElement());\n        }\n    }\n\n    /**\n     * Activates a playlist item, loading it into the foreground.\n     * This method will either load a new Provider or reuse the active one.\n     * @param {number} index - The playlist index of the item\n     * @returns {Promise} The Provider promise. Resolves with the active Media Controller\n     * @memberOf ProgramController\n     */\n    setActiveItem(index) {\n        const { background, mediaController, model } = this;\n        const item = model.get('playlist')[index];\n\n        model.attributes.itemReady = false;\n        model.setActiveItem(index);\n        const source = getSource(item);\n        if (!source) {\n            return Promise.reject(new Error('No media'));\n        }\n\n        // Activate the background media if it's loading the item we want to play\n        if (background.isNext(item)) {\n            // First destroy the active item so that the BGL provider can enter the foreground\n            this._destroyActiveMedia();\n            // Attach the BGL provider into the load/play chain\n            this.loadPromise = this._activateBackgroundMedia();\n            return this.loadPromise;\n        }\n        // Loading a new item invalidates all background loading media\n        this._destroyBackgroundMedia();\n\n        if (mediaController) {\n            const casting = model.get('castActive');\n            if (casting || this._providerCanPlay(mediaController.provider, source)) {\n                // We can synchronously reuse the current mediaController\n                this.loadPromise = Promise.resolve(mediaController);\n                // Reinitialize the mediaController with the new item, allowing a new playback session\n                mediaController.activeItem = item;\n                this._setActiveMedia(mediaController);\n                return this.loadPromise;\n            }\n\n            // If we can't play the source with the current provider, reset the current one and\n            // prime the next tag within the gesture\n            this._destroyActiveMedia();\n        }\n\n        const mediaModelContext = model.mediaModel;\n        this.loadPromise = this._setupMediaController(source)\n            .then(nextMediaController => {\n                // Don't do anything if we've tried to load another provider while this promise was resolving\n                // We check using the mediaModel because it is unique per item, and per instance of that item\n                if (mediaModelContext === model.mediaModel) {\n                    nextMediaController.activeItem = item;\n                    this._setActiveMedia(nextMediaController);\n                    return nextMediaController;\n                }\n            })\n            .catch(err => {\n                this._destroyActiveMedia();\n                throw err;\n            });\n        return this.loadPromise;\n    }\n\n    /**\n     * Plays the active item.\n     * Will wait for the Provider promise to resolve before any play attempt.\n     * @param {string} playReason - The reason playback is beginning.\n     * @returns {Promise} The Play promise. Resolves when playback begins; rejects upon failure.\n     */\n    playVideo(playReason) {\n        const { mediaController, model } = this;\n        const item = model.get('playlistItem');\n        let playPromise;\n\n        if (!item) {\n            return Promise.reject(new Error('No media'));\n        }\n\n        if (!playReason) {\n            playReason = model.get('playReason');\n        }\n\n        // Start playback immediately if we have already loaded a mediaController\n        if (mediaController) {\n            playPromise = mediaController.play(playReason);\n        } else {\n            // Wait for the provider to load before starting initial playback\n            model.set(PLAYER_STATE, STATE_BUFFERING);\n\n            // Make the subsequent promise cancelable so that we can avoid playback when no longer wanted\n            const thenPlayPromise = cancelable((nextMediaController) => {\n                if (this.mediaController && this.mediaController.mediaModel === nextMediaController.mediaModel) {\n                    return nextMediaController.play(playReason);\n                }\n                throw new Error('Playback cancelled.');\n            });\n\n            playPromise = this.loadPromise\n                .catch(error => {\n                    thenPlayPromise.cancel();\n                    // Required provider was not loaded\n                    model.trigger(ERROR, {\n                        message: `Could not play video: ${error.message}`,\n                        error: error\n                    });\n                    // Fail the playPromise to trigger \"playAttemptFailed\"\n                    throw error;\n                })\n                .then(thenPlayPromise.async);\n        }\n\n        return playPromise;\n    }\n\n    /**\n     * Stops playback of the active item, and sets the player state to IDLE.\n     * @returns {void}\n     */\n    stopVideo() {\n        const { mediaController, model } = this;\n\n        const item = model.get('playlist')[model.get('item')];\n        model.attributes.playlistItem = item;\n        model.resetItem(item);\n\n        if (mediaController) {\n            mediaController.stop();\n        }\n    }\n\n    /**\n     * Preloads the active item, which loads and buffers some content.\n     * @returns {void}\n     */\n    preloadVideo() {\n        const { background, mediaController } = this;\n        const media = mediaController || background.currentMedia;\n        if (!media) {\n            return;\n        }\n        media.preload();\n    }\n\n    /**\n     * Pauses playback of the current video, and sets the player state to PAUSED.\n     * @returns {void}\n     */\n    pause() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.pause();\n    }\n\n    /**\n     * Casts a video. The Cast Controller will control the Cast Provider.\n     * @param {CastProvider} castProvider - The playback provider instance (Casting is implemented in jwplayer-commercial).\n     * @param {Item} item - The playlist Item instance to cast.\n     * @returns {void}\n     */\n    castVideo(castProvider, item) {\n        const { model } = this;\n        model.attributes.itemReady = false;\n\n        const playlistItem = Object.assign({}, item);\n        playlistItem.starttime = model.mediaModel.get('position');\n\n        const castMediaController = new MediaController(castProvider, model);\n        castMediaController.activeItem = playlistItem;\n        this._setActiveMedia(castMediaController);\n    }\n\n    /**\n     * Stops casting. The Player is expected to restore video playback afterwards.\n     * @returns {void}\n     */\n    stopCast() {\n        const { model } = this;\n        const index = model.get('item');\n        const item = model.get('playlist')[index];\n\n        item.starttime = model.mediaModel.get('position');\n\n        this.stopVideo();\n        this.setActiveItem(index);\n    }\n\n    /**\n     * Places the currently active Media Controller into the background.\n     * The media is still attached to a media element, but is removed from the Player's container.\n     * Background media still emits events, but we stop listening to them.\n     * Background media can (and will) be updated via it's API.\n     * @returns {void}\n     */\n    backgroundActiveMedia() {\n        this.adPlaying = true;\n        const { background, mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        // Destroy any existing background media\n        if (background.currentMedia) {\n            this._destroyMediaController(background.currentMedia);\n        }\n\n        mediaController.background = true;\n        background.currentMedia = mediaController;\n        this.mediaController = null;\n    }\n\n    /**\n     * Restores the background media to the foreground.\n     * Its media element is reattached to the Player container.\n     * We start listening to its events again.\n     * @returns {void}\n     */\n    restoreBackgroundMedia() {\n        this.adPlaying = false;\n        const { background, mediaController } = this;\n        const backgroundMediaController = background.currentMedia;\n        if (!backgroundMediaController) {\n            return;\n        } else if (mediaController) {\n            // An existing media controller means that we've changed the active item\n            // The current background media is no longer relevant, so destroy it\n            this._destroyMediaController(backgroundMediaController);\n            background.currentMedia = null;\n            return;\n        }\n\n        backgroundMediaController.mediaModel.attributes.mediaState = 'buffering';\n        this._setActiveMedia(backgroundMediaController);\n        backgroundMediaController.background = false;\n        background.currentMedia = null;\n    }\n\n    /**\n     * Loads the next playlist item in the background.\n     * @param {Item} item - The playlist item to load.\n     *\n     * @returns {void}\n     */\n    backgroundLoad(item) {\n        const { background } = this;\n        const source = getSource(item);\n\n        background.setNext(item, this._setupMediaController(source)\n            .then(nextMediaController => {\n                nextMediaController.activeItem = item;\n                nextMediaController.preload();\n                return nextMediaController;\n            })\n            .catch(() => {\n                background.clearNext();\n            })\n        );\n    }\n\n    /**\n     * Primes media elements so that they can autoplay without further user gesture.\n     * A primed element is required for media to load in the background.\n     * This method does not prime elements who already have a source set (\"safe prime\").\n     * @returns {void}\n     */\n    primeMediaElements() {\n        this.mediaPool.prime();\n    }\n\n    /**\n     * Removes all event listeners and destroys all media.\n     * @returns {void}\n     */\n    destroy() {\n        this.off();\n        this._destroyBackgroundMedia();\n        this._destroyActiveMedia();\n    }\n\n    /**\n     * Activates the provided media controller, placing it into the foreground.\n     * Events fired from the media controller will be forwarded through the program controller.\n     * @param {MediaController} mediaController - The media controller to activate.\n     * @returns {void}\n     * @private\n     */\n    _setActiveMedia(mediaController) {\n        const { model } = this;\n        const { mediaModel, provider } = mediaController;\n\n        assignMediaContainer(model, mediaController);\n        this.mediaController = mediaController;\n\n        model.set('mediaElement', mediaController.mediaElement);\n        model.setMediaModel(mediaModel);\n        model.setProvider(provider);\n\n        forwardEvents(this, mediaController);\n        model.set('itemReady', true);\n    }\n\n    /**\n     * Destroys the active media controller and current playback.\n     * @returns {void}\n     * @private\n     */\n    _destroyActiveMedia() {\n        const { mediaController, model } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.detach();\n        this._destroyMediaController(mediaController);\n        model.resetProvider();\n        this.mediaController = null;\n    }\n\n    /**\n     * Destroys all background media.\n     * @returns {void}\n     * @private\n     */\n    _destroyBackgroundMedia() {\n        const { background } = this;\n        this._destroyMediaController(background.currentMedia);\n        background.currentMedia = null;\n        this._destroyBackgroundLoadingMedia();\n    }\n\n    /**\n     * Destroys a mediaController, and returns it's tag to the pool.\n     * @param {MediaController} mediaController - The media controller to destroy and recycle.\n     * @returns {void}\n     * @private\n     */\n    _destroyMediaController(mediaController) {\n        const { mediaPool } = this;\n        if (!mediaController) {\n            return;\n        }\n        mediaPool.recycle(mediaController.mediaElement);\n        mediaController.destroy();\n    }\n\n    /**\n     * Constructs a new media controller with the provider whose able to play the current source.\n     * Will wait and load the provider constructor if it has not already been loaded.\n     * If the required provider cannot be loaded, the subsequent promise rejection will destroy playback.\n     * @param {Source} source - The playlist item Source for which a provider is needed.\n     * @returns {Promise} The Provider constructor promise.\n     * @private\n     */\n    _setupMediaController(source) {\n        const { model, providers } = this;\n        const makeMediaController = ProviderConstructor => new MediaController(\n            new ProviderConstructor(model.get('id'), model.getConfiguration(), this.primedElement),\n            model\n        );\n\n        const { provider, name } = providers.choose(source);\n        if (provider) {\n            return Promise.resolve(makeMediaController((provider)));\n        }\n\n        return providers.load(name)\n            .then(ProviderConstructor => makeMediaController(ProviderConstructor));\n    }\n\n    /**\n     * Places the background loading media into the foreground. Will wait for the provider promise to resolve.\n     * If the program controller has been placed into ads mode, the background loading media will replace the background\n     * loaded media. When the ad is over, the loaded media will be placed into the foreground via _restoreBackgroundMedia().\n     * This is done to avoid a race condition where we have activated the loading item, but switch to ads mode before the\n     * promise resovles, resulting in two tags in the foreground (since _backgroundActiveMedia \"misses\" the pending promise).\n     * @returns {Promise} The Provider promise. Resolves with preloaded media controller.\n     * @memberOf ProgramController\n     */\n    _activateBackgroundMedia() {\n        const { background, background: { nextLoadPromise } } = this;\n        // Activating this item means that any media already loaded in the background will no longer be needed\n        this._destroyMediaController(background.currentMedia);\n        background.currentMedia = null;\n        return nextLoadPromise.then(nextMediaController => {\n            if (!nextMediaController) {\n                return;\n            }\n            background.clearNext();\n            if (this.adPlaying) {\n                background.currentMedia = nextMediaController;\n            } else {\n                this._setActiveMedia(nextMediaController);\n                nextMediaController.background = false;\n            }\n            return nextMediaController;\n        });\n        // The catch is chained as part of the play promise chain\n    }\n\n    /**\n     * Destroys the mediaController which was constructed and loading in the background (nextMedia).\n     * Does not destroy the mediaController which was already playing and subsequently placed into the background (currentMedia).\n     * @returns {void}\n     * @private\n     */\n    _destroyBackgroundLoadingMedia() {\n        const { background, background: { nextLoadPromise } } = this;\n        if (!nextLoadPromise) {\n            return;\n        }\n        nextLoadPromise.then(nextMediaController => {\n            this._destroyMediaController(nextMediaController);\n            background.clearNext();\n        });\n    }\n\n    _providerCanPlay(_provider, source) {\n        const { provider } = this.providers.choose(source);\n        return provider && (_provider && _provider instanceof provider);\n    }\n\n    /**\n     * Returns the active audio track index.\n     * @returns {number} The active audio track index.\n     */\n    get audioTrack() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return -1;\n        }\n\n        return mediaController.audioTrack;\n    }\n\n    /**\n     * Returns the list of audio tracks.\n     * @returns {Array<AudioTrackOption>} An array of AudioTrackOption instances.\n     */\n    get audioTracks() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        return mediaController.audioTracks;\n    }\n\n    /**\n     * Returns whether the current media has completed playback.\n     * @returns {boolean} Is the \"beforeComplete\" event being propagated\n     * or did it result in the media being detached or backgrounded?\n     */\n    get beforeComplete() {\n        const { mediaController, background: { currentMedia } } = this;\n        if (!mediaController && !currentMedia) {\n            return false;\n        }\n\n        return mediaController ? mediaController.beforeComplete : currentMedia.beforeComplete;\n    }\n\n    /**\n     * Returns a primed element from the media pool.\n     * @returns {HTMLVideoElement|null} The first video element in the pool, or null if the pool is empty.\n     */\n    get primedElement() {\n        if (!Features.backgroundLoading) {\n            // If background loading is not supported, the model will always contain the shared media element\n            // Prime it so that playback after changing the active item does not require further gestures\n            const { model } = this;\n            return model.get('mediaElement');\n        }\n        return this.mediaPool.getPrimedElement();\n    }\n\n    /**\n     * Returns the active quality index.\n     * @returns {number} The active quality level index.\n     */\n    get quality() {\n        if (!this.mediaController) {\n            return -1;\n        }\n\n        return this.mediaController.quality;\n    }\n\n    /**\n     * Returns the list of quality levels.\n     * @returns {Array<QualityOption>} An array of QualityOption objects.\n     */\n    get qualities() {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return null;\n        }\n\n        return mediaController.qualities;\n    }\n\n    /**\n     * Attaches or detaches the current media\n     * @param {boolean} shouldAttach - Attach or detach?\n     * @returns {void}\n     */\n    set attached(shouldAttach) {\n        const { mediaController } = this;\n\n        if (!mediaController) {\n            return;\n        }\n\n        if (shouldAttach) {\n            mediaController.attach();\n        } else {\n            mediaController.detach();\n        }\n    }\n\n    /**\n     * Sets the active audio index.\n     * @param {number} index - The index of the audio track to select.\n     * @returns {void}\n     */\n    set audioTrack(index) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.audioTrack = parseInt(index, 10) || 0;\n    }\n\n    /**\n     * Activates or deactivates media controls.\n     * @param {boolean} mode - Activate or deactivate media controls?\n     * @returns {void}\n     * TODO: deprecate - only used by jwplayer-commercial flash provider\n     */\n    set controls(mode) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.controls = mode;\n    }\n\n    /**\n     * Mutes or unmutes the activate media.\n     * Syncs across all media elements.\n     * @param {boolean} mute - Mute or unmute media?\n     * @returns {void}\n     */\n    set mute(mute) {\n        const { background, mediaController, mediaPool } = this;\n\n        if (mediaController) {\n            mediaController.mute = mute;\n        }\n        if (background.currentMedia) {\n            background.currentMedia.mute = mute;\n        }\n\n        mediaPool.syncMute(mute);\n    }\n\n    /**\n     * Seeks the media to the provided position.\n     * If the media is not attached, set the item's starttime so that when reattaching, it resumes at that time.\n     * If we seek before an item loads, set the item's starttime so that when playback begins, we buffer at that time.\n     * @param {number} pos - The position to start at or seek to.\n     * @returns {void}\n     */\n    set position(pos) {\n        const { mediaController, model } = this;\n        if (!mediaController) {\n            return;\n        }\n        const state = model.get(PLAYER_STATE);\n        const beforeLoad = (!mediaController.started && !mediaController.preloaded && state === STATE_IDLE);\n\n        if (beforeLoad || state === STATE_COMPLETE) {\n            mediaController.item.starttime = pos;\n        } else if (mediaController.attached) {\n            mediaController.position = pos;\n        } else {\n            mediaController.item.starttime = pos;\n        }\n    }\n\n    /**\n     * Sets the current quality level.\n     * @param {number} index - The index of the quality level to select.\n     * @returns {void}\n     */\n    set quality(index) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.quality = parseInt(index, 10) || 0;\n    }\n\n    /**\n     * Sets the current subtitles track.\n     * @param {number} index - The index of the subtitle track to select.\n     * @returns {void}\n     */\n    set subtitles(index) {\n        const { mediaController } = this;\n        if (!mediaController) {\n            return;\n        }\n\n        mediaController.subtitles = index;\n    }\n\n    /**\n     * Sets the volume level.\n     * Syncs across all media elements.\n     * @param {number} volume - A number from 0 to 1.\n     * @returns {void}\n     */\n    set volume(volume) {\n        const { background, mediaController, mediaPool } = this;\n\n        if (mediaController) {\n            mediaController.volume = volume;\n        }\n        if (background.currentMedia) {\n            background.currentMedia.volume = volume;\n        }\n\n        mediaPool.syncVolume(volume);\n    }\n}\n\nfunction assignMediaContainer(model, mediaController) {\n    const container = model.get('mediaContainer');\n    if (container) {\n        mediaController.container = container;\n    } else {\n        model.once('change:mediaContainer', (changedModel, changedContainer) => {\n            mediaController.container = changedContainer;\n        });\n    }\n}\n\nfunction forwardEvents(programController, mediaController) {\n    mediaController.off('all', programController.mediaControllerListener, programController);\n    mediaController.on('all', programController.mediaControllerListener, programController);\n}\n\nfunction getSource(item) {\n    return item && item.sources && item.sources[0];\n}\n\nexport default ProgramController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/program-controller.js","import BackboneEvents from 'utils/backbone.events';\n\n// Combine mixins into a class which can be extended\nexport default class Eventable {}\nEventable.prototype = Object.assign({}, BackboneEvents);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/eventable.js","import { _isNaN, _isNumber } from 'utils/underscore';\nimport { PLAYER_STATE, STATE_IDLE, MEDIA_VOLUME, MEDIA_MUTE,\n    MEDIA_TYPE, AUDIO_TRACKS, AUDIO_TRACK_CHANGED,\n    MEDIA_RATE_CHANGE, MEDIA_BUFFER, MEDIA_TIME, MEDIA_LEVELS, MEDIA_LEVEL_CHANGED, MEDIA_ERROR,\n    MEDIA_BEFORECOMPLETE, MEDIA_COMPLETE, MEDIA_META, MEDIA_SEEK, MEDIA_SEEKED,\n    NATIVE_FULLSCREEN, MEDIA_VISUAL_QUALITY } from 'events/events';\n\nexport function ProviderListener(mediaController) {\n    return function (type, data) {\n        const { mediaModel } = mediaController;\n        const event = Object.assign({}, data, {\n            type: type\n        });\n\n        switch (type) {\n            case MEDIA_TYPE:\n                if (mediaModel.get(MEDIA_TYPE) === data.mediaType) {\n                    return;\n                }\n                mediaModel.set(MEDIA_TYPE, data.mediaType);\n                break;\n            case MEDIA_VISUAL_QUALITY:\n                mediaModel.set(MEDIA_VISUAL_QUALITY, Object.assign({}, data));\n                return;\n            case PLAYER_STATE: {\n                if (data.newstate === STATE_IDLE) {\n                    mediaController.thenPlayPromise.cancel();\n                    mediaModel.srcReset();\n                }\n                // Always fire change:mediaState to keep player model in sync\n                const previousState = mediaModel.attributes.mediaState;\n                mediaModel.attributes.mediaState = data.newstate;\n                mediaModel.trigger('change:mediaState', mediaModel, data.newstate, previousState);\n                // This \"return\" is important because\n                //  we are choosing to not propagate model event.\n                //  Instead letting the master controller do so\n                return;\n            }\n            case MEDIA_COMPLETE:\n                mediaController.beforeComplete = true;\n                mediaController.trigger(MEDIA_BEFORECOMPLETE, event);\n                if (mediaController.attached && !mediaController.background) {\n                    mediaController._playbackComplete();\n                }\n                return;\n            case MEDIA_ERROR:\n                mediaController.thenPlayPromise.cancel();\n                mediaModel.srcReset();\n                break;\n            case MEDIA_META: {\n                const duration = data.duration;\n                if (_isNumber(duration) && !_isNaN(duration)) {\n                    mediaModel.set('duration', duration);\n                }\n                break;\n            }\n            case MEDIA_BUFFER:\n                mediaModel.set('buffer', data.bufferPercent);\n                /* falls through to update duration while media is loaded */\n            case MEDIA_TIME: {\n                mediaModel.set('position', data.position);\n                mediaModel.set('currentTime', data.currentTime);\n                const duration = data.duration;\n                if (_isNumber(duration) && !_isNaN(duration)) {\n                    mediaModel.set('duration', duration);\n                }\n                break;\n            }\n            case MEDIA_LEVELS:\n                mediaModel.set(MEDIA_LEVELS, data.levels);\n                /* falls through to update current level */\n            case MEDIA_LEVEL_CHANGED: {\n                const { currentQuality, levels } = data;\n                if (currentQuality > -1 && levels.length > 1) {\n                    mediaModel.set('currentLevel', parseInt(currentQuality));\n                }\n                break;\n            }\n            case AUDIO_TRACKS:\n                mediaModel.set(AUDIO_TRACKS, data.tracks);\n                /* falls through to update current track */\n            case AUDIO_TRACK_CHANGED: {\n                const { currentTrack, tracks } = data;\n\n                if (currentTrack > -1 && tracks.length > 0 && currentTrack < tracks.length) {\n                    mediaModel.set('currentAudioTrack', parseInt(currentTrack));\n                }\n                break;\n            }\n            case 'visualQuality':\n                mediaModel.set('visualQuality', Object.assign({}, data));\n                break;\n            default:\n                break;\n        }\n\n        mediaController.trigger(type, event);\n    };\n}\n\nexport function MediaControllerListener(model, programController) {\n    return function (type, data) {\n        switch (type) {\n            case 'flashThrottle': {\n                const throttled = (data.state !== 'resume');\n                model.set('flashThrottle', throttled);\n                model.set('flashBlocked', throttled);\n            }\n                break;\n            case 'flashBlocked':\n                model.set('flashBlocked', true);\n                return;\n            case 'flashUnblocked':\n                model.set('flashBlocked', false);\n                return;\n            case MEDIA_VOLUME:\n                model.set(type, data[type]);\n                return;\n            case MEDIA_MUTE:\n                if (!model.get('autostartMuted')) {\n                    // Don't persist mute state with muted autostart\n                    model.set(type, data[type]);\n                }\n                return;\n            case MEDIA_RATE_CHANGE:\n                model.set('playbackRate', data.playbackRate);\n                return;\n            case MEDIA_META: {\n                Object.assign(model.get('itemMeta'), data.metadata);\n                break;\n            }\n            case MEDIA_LEVEL_CHANGED:\n                model.persistQualityLevel(data.currentQuality, data.levels);\n                break;\n            case 'subtitlesTrackChanged':\n                model.persistVideoSubtitleTrack(data.currentTrack, data.tracks);\n                break;\n            case MEDIA_TIME:\n            case MEDIA_SEEK:\n            case MEDIA_SEEKED:\n            case NATIVE_FULLSCREEN:\n            case 'subtitlesTracks':\n            case 'subtitlesTracksData':\n                model.trigger(type, data);\n                break;\n            default:\n        }\n\n        programController.trigger(type, data);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/program-listeners.js","import { STATE_IDLE, STATE_COMPLETE, STATE_ERROR } from 'events/events';\n\n// The api should dispatch an idle event when the model's state changes to complete\n// This is to avoid conflicts with the complete event and to maintain legacy event flow\nfunction normalizeApiState(newstate) {\n    if (newstate === STATE_COMPLETE || newstate === STATE_ERROR) {\n        return STATE_IDLE;\n    }\n    return newstate;\n}\n\nexport default function ChangeStateEvent(model, newstate, oldstate) {\n    newstate = normalizeApiState(newstate);\n    oldstate = normalizeApiState(oldstate);\n    // do not dispatch idle a second time after complete\n    if (newstate !== oldstate) {\n        // buffering, playing and paused states become:\n        // buffer, play and pause events\n        var eventType = newstate.replace(/(?:ing|d)$/, '');\n        var evt = {\n            type: eventType,\n            newstate: newstate,\n            oldstate: oldstate,\n            reason: model.mediaModel.get('mediaState')\n        };\n        // add reason for play/pause events\n        if (eventType === 'play') {\n            evt.playReason = model.get('playReason');\n        } else if (eventType === 'pause') {\n            evt.pauseReason = model.get('pauseReason');\n        }\n        this.trigger(eventType, evt);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/change-state-event.js","export default (function() {\n    if ('hidden' in document) {\n        return function () {\n            return !document.hidden;\n        };\n    }\n    if ('webkitHidden' in document) {\n        return function () {\n            return !document.webkitHidden;\n        };\n    }\n    // document.hidden not supported\n    return function () {\n        return true;\n    };\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/active-tab.js","import VTTCue from 'parsers/captions/vttcue';\nimport { chunkLoadErrorHandler } from '../api/core-loader';\nimport utils from 'utils/helpers';\nimport { localName } from 'parsers/parsers';\nimport srt from 'parsers/captions/srt';\nimport dfxp from 'parsers/captions/dfxp';\n\nexport function loadFile(track, successHandler, errorHandler) {\n    track.xhr = utils.ajax(track.file, function(xhr) {\n        xhrSuccess(xhr, track, successHandler, errorHandler);\n    }, errorHandler);\n}\n\nexport function cancelXhr(tracks) {\n    if (tracks) {\n        tracks.forEach(track => {\n            var xhr = track.xhr;\n            if (xhr) {\n                xhr.onload = null;\n                xhr.onreadystatechange = null;\n                xhr.onerror = null;\n                if ('abort' in xhr) {\n                    xhr.abort();\n                }\n            }\n            delete track.xhr;\n        });\n    }\n}\n\nexport function convertToVTTCues(cues) {\n    // VTTCue is available natively or polyfilled where necessary\n    return cues.map(cue => new VTTCue(cue.begin, cue.end, cue.text));\n}\n\nfunction xhrSuccess(xhr, track, successHandler, errorHandler) {\n    var xmlRoot = xhr.responseXML ? xhr.responseXML.firstChild : null;\n    var cues;\n    var vttCues;\n\n    // IE9 sets the firstChild element to the root <xml> tag\n    if (xmlRoot) {\n        if (localName(xmlRoot) === 'xml') {\n            xmlRoot = xmlRoot.nextSibling;\n        }\n        // Ignore all comments\n        while (xmlRoot.nodeType === xmlRoot.COMMENT_NODE) {\n            xmlRoot = xmlRoot.nextSibling;\n        }\n    }\n\n    try {\n        if (xmlRoot && localName(xmlRoot) === 'tt') {\n            // parse dfxp track\n            cues = dfxp(xhr.responseXML);\n            vttCues = convertToVTTCues(cues);\n            delete track.xhr;\n            successHandler(vttCues);\n        } else {\n            // parse VTT/SRT track\n            var responseText = xhr.responseText;\n            if (responseText.indexOf('WEBVTT') >= 0) {\n                // make VTTCues from VTT track\n                loadVttParser().then(VTTParser => {\n                    var parser = new VTTParser(window);\n                    vttCues = [];\n                    parser.oncue = function(cue) {\n                        vttCues.push(cue);\n                    };\n\n                    parser.onflush = function() {\n                        delete track.xhr;\n                        successHandler(vttCues);\n                    };\n\n                    // Parse calls onflush internally\n                    parser.parse(responseText);\n                }).catch(error => {\n                    delete track.xhr;\n                    errorHandler(error);\n                });\n            } else {\n                // make VTTCues from SRT track\n                cues = srt(responseText);\n                vttCues = convertToVTTCues(cues);\n                delete track.xhr;\n                successHandler(vttCues);\n            }\n        }\n    } catch (error) {\n        delete track.xhr;\n        errorHandler(error);\n    }\n}\n\nfunction loadVttParser() {\n    return require.ensure(['parsers/captions/vttparser'], function (require) {\n        return require('parsers/captions/vttparser').default;\n    }, chunkLoadErrorHandler, 'vttparser');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/tracks-loader.js","export function createId(track, tracksCount) {\n    var trackId;\n    var prefix = track.kind || 'cc';\n    if (track.default || track.defaulttrack) {\n        trackId = 'default';\n    } else {\n        trackId = track._id || track.file || (prefix + tracksCount);\n    }\n    return trackId;\n}\n\nexport function createLabel(track, unknownCount) {\n    var label = track.label || track.name || track.language;\n    if (!label) {\n        label = 'Unknown CC';\n        unknownCount += 1;\n        if (unknownCount > 1) {\n            label += ' [' + unknownCount + ']';\n        }\n    }\n    return { label: label, unknownCount: unknownCount };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/tracks-helper.js","import Promise from 'polyfills/promise';\n\nexport default function createPlayPromise(video) {\n    return new Promise(function(resolve, reject) {\n        if (video.paused) {\n            return reject(new Error('Play refused.'));\n        }\n        const removeEventListeners = function() {\n            video.removeEventListener('playing', listener);\n            video.removeEventListener('pause', listener);\n            video.removeEventListener('abort', listener);\n            video.removeEventListener('error', listener);\n        };\n        const listener = function(e) {\n            removeEventListeners();\n            if (e.type === 'playing') {\n                resolve();\n            } else {\n                reject(new Error('The play() request was interrupted by a \"' + e.type + '\" event.'));\n            }\n        };\n\n        video.addEventListener('playing', listener);\n        video.addEventListener('abort', listener);\n        video.addEventListener('error', listener);\n        video.addEventListener('pause', listener);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/utils/play-promise.js","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n*/\n\nlet VTTCue = window.VTTCue;\n\nfunction findDirectionSetting(value) {\n    if (typeof value !== 'string') {\n        return false;\n    }\n    const directionSetting = {\n        '': true,\n        lr: true,\n        rl: true\n    };\n    const dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n}\n\nfunction findAlignSetting(value) {\n    if (typeof value !== 'string') {\n        return false;\n    }\n    const alignSetting = {\n        start: true,\n        middle: true,\n        end: true,\n        left: true,\n        right: true\n    };\n    const align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n}\n\nif (!VTTCue) {\n    const autoKeyword = 'auto';\n\n    VTTCue = function(startTime, endTime, text) {\n        const cue = this;\n\n        /**\n         * Shim implementation specific properties. These properties are not in\n         * the spec.\n         */\n\n        // Lets us know when the VTTCue's data has changed in such a way that we need\n        // to recompute its display state. This lets us compute its display state\n        // lazily.\n        cue.hasBeenReset = false;\n\n        /**\n         * VTTCue and TextTrackCue properties\n         * http://dev.w3.org/html5/webvtt/#vttcue-interface\n         */\n\n        let _id = '';\n        let _pauseOnExit = false;\n        let _startTime = startTime;\n        let _endTime = endTime;\n        let _text = text;\n        let _region = null;\n        let _vertical = '';\n        let _snapToLines = true;\n        let _line = autoKeyword;\n        let _lineAlign = 'start';\n        let _position = autoKeyword;\n        let _size = 100;\n        let _align = 'middle';\n\n        Object.defineProperty(cue, 'id', {\n            enumerable: true,\n            get: function () {\n                return _id;\n            },\n            set: function (value) {\n                _id = '' + value;\n            }\n        });\n\n        Object.defineProperty(cue, 'pauseOnExit', {\n            enumerable: true,\n            get: function () {\n                return _pauseOnExit;\n            },\n            set: function (value) {\n                _pauseOnExit = !!value;\n            }\n        });\n\n        Object.defineProperty(cue, 'startTime', {\n            enumerable: true,\n            get: function () {\n                return _startTime;\n            },\n            set: function (value) {\n                if (typeof value !== 'number') {\n                    throw new TypeError('Start time must be set to a number.');\n                }\n                _startTime = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'endTime', {\n            enumerable: true,\n            get: function () {\n                return _endTime;\n            },\n            set: function (value) {\n                if (typeof value !== 'number') {\n                    throw new TypeError('End time must be set to a number.');\n                }\n                _endTime = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'text', {\n            enumerable: true,\n            get: function () {\n                return _text;\n            },\n            set: function (value) {\n                _text = '' + value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'region', {\n            enumerable: true,\n            get: function () {\n                return _region;\n            },\n            set: function (value) {\n                _region = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'vertical', {\n            enumerable: true,\n            get: function () {\n                return _vertical;\n            },\n            set: function (value) {\n                const setting = findDirectionSetting(value);\n                // Have to check for false because the setting an be an empty string.\n                if (setting === false) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _vertical = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'snapToLines', {\n            enumerable: true,\n            get: function () {\n                return _snapToLines;\n            },\n            set: function (value) {\n                _snapToLines = !!value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'line', {\n            enumerable: true,\n            get: function () {\n                return _line;\n            },\n            set: function (value) {\n                if (typeof value !== 'number' && value !== autoKeyword) {\n                    throw new SyntaxError('An invalid number or illegal string was specified.');\n                }\n                _line = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'lineAlign', {\n            enumerable: true,\n            get: function () {\n                return _lineAlign;\n            },\n            set: function (value) {\n                const setting = findAlignSetting(value);\n                if (!setting) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _lineAlign = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'position', {\n            enumerable: true,\n            get: function () {\n                return _position;\n            },\n            set: function (value) {\n                if (value < 0 || value > 100) {\n                    throw new Error('Position must be between 0 and 100.');\n                }\n                _position = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'size', {\n            enumerable: true,\n            get: function () {\n                return _size;\n            },\n            set: function (value) {\n                if (value < 0 || value > 100) {\n                    throw new Error('Size must be between 0 and 100.');\n                }\n                _size = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'align', {\n            enumerable: true,\n            get: function () {\n                return _align;\n            },\n            set: function (value) {\n                const setting = findAlignSetting(value);\n                if (!setting) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _align = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        /**\n         * Other <track> spec defined properties\n         */\n\n        // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n        cue.displayState = undefined;\n    };\n\n    /**\n     * VTTCue methods\n     */\n\n    VTTCue.prototype.getCueAsHTML = function () {\n        // Assume WebVTT.convertCueToDOMTree is on the global.\n        const WebVTT = window.WebVTT;\n        return WebVTT.convertCueToDOMTree(window, this.text);\n    };\n}\n\nexport default VTTCue;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/vttcue.js","import { seconds, trim } from 'utils/strings';\n\n// Component that loads and parses an DFXP file\n\nexport default function Dfxp(xmlDoc) {\n    validate(xmlDoc);\n    var _captions = [];\n    var paragraphs = xmlDoc.getElementsByTagName('p');\n    // Default frameRate is 30\n    var frameRate = 30;\n    var tt = xmlDoc.getElementsByTagName('tt');\n    if (tt && tt[0]) {\n        var parsedFrameRate = parseFloat(tt[0].getAttribute('ttp:frameRate'));\n        if (!isNaN(parsedFrameRate)) {\n            frameRate = parsedFrameRate;\n        }\n    }\n    validate(paragraphs);\n    if (!paragraphs.length) {\n        paragraphs = xmlDoc.getElementsByTagName('tt:p');\n        if (!paragraphs.length) {\n            paragraphs = xmlDoc.getElementsByTagName('tts:p');\n        }\n    }\n\n    for (var i = 0; i < paragraphs.length; i++) {\n        var p = paragraphs[i];\n\n        var breaks = p.getElementsByTagName('br');\n        for (var j = 0; j < breaks.length; j++) {\n            var b = breaks[j];\n            b.parentNode.replaceChild(xmlDoc.createTextNode('\\r\\n'), b);\n        }\n\n        var rawText = (p.innerHTML || p.textContent || p.text || '');\n        var text = trim(rawText).replace(/>\\s+</g, '><').replace(/(<\\/?)tts?:/g, '$1').replace(/<br.*?\\/>/g, '\\r\\n');\n        if (text) {\n            var begin = p.getAttribute('begin');\n            var dur = p.getAttribute('dur');\n            var end = p.getAttribute('end');\n\n            var entry = {\n                begin: seconds(begin, frameRate),\n                text: text\n            };\n            if (end) {\n                entry.end = seconds(end, frameRate);\n            } else if (dur) {\n                entry.end = entry.begin + seconds(dur, frameRate);\n            }\n            _captions.push(entry);\n        }\n    }\n    if (!_captions.length) {\n        parseError();\n    }\n    return _captions;\n}\n\nfunction validate(object) {\n    if (!object) {\n        parseError();\n    }\n}\n\nfunction parseError() {\n    throw new Error('Invalid DFXP file');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/dfxp.js","import { cloneIcons } from 'view/controls/icons';\nimport { Browser, OS } from 'environment/environment';\nimport { dvrSeekLimit } from 'view/constants';\nimport CustomButton from 'view/controls/components/custom-button';\nimport utils from 'utils/helpers';\nimport _ from 'utils/underscore';\nimport { USER_ACTION } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport UI from 'utils/ui';\nimport ariaLabel from 'utils/aria';\nimport TimeSlider from 'view/controls/components/timeslider';\nimport VolumeTooltip from 'view/controls/components/volumetooltip';\nimport button from 'view/controls/components/button';\nimport { SimpleTooltip } from 'view/controls/components/simple-tooltip';\nimport { prependChild } from 'utils/dom';\n\nfunction text(name, role) {\n    const element = document.createElement('span');\n    element.className = 'jw-text jw-reset ' + name;\n    if (role) {\n        element.setAttribute('role', role);\n    }\n    return element;\n}\n\nfunction textIcon(name, role) {\n    const element = document.createElement('div');\n    element.className = 'jw-icon jw-icon-inline jw-text jw-reset ' + name;\n    if (role) {\n        element.setAttribute('role', role);\n    }\n    return element;\n}\n\nfunction div(classes) {\n    const element = document.createElement('div');\n    element.className = `jw-reset ${classes}`;\n    return element;\n}\n\nfunction createCastButton(castToggle, localization) {\n\n    if (Browser.safari) {\n        const airplayButton = button(\n            'jw-icon-airplay jw-off',\n            castToggle,\n            localization.airplay,\n            cloneIcons('airplay-off,airplay-on'));\n\n        SimpleTooltip(airplayButton.element(), 'airplay', localization.airplay);\n\n        return airplayButton;\n    }\n\n    if (!Browser.chrome || OS.iOS) {\n        return;\n    }\n\n\n    const castButton = document.createElement('button', 'google-cast-button');\n    castButton.setAttribute('type', 'button');\n    castButton.setAttribute('tabindex', '-1');\n\n    const element = document.createElement('div');\n    element.className = 'jw-reset jw-icon jw-icon-inline jw-icon-cast jw-button-color';\n    element.style.display = 'none';\n    element.style.cursor = 'pointer';\n    element.appendChild(castButton);\n    ariaLabel(element, localization.cast);\n\n    SimpleTooltip(element, 'chromecast', localization.cast);\n\n    return {\n        element: function() {\n            return element;\n        },\n        toggle: function(m) {\n            if (m) {\n                this.show();\n            } else {\n                this.hide();\n            }\n        },\n        show: function() {\n            element.style.display = '';\n        },\n        hide: function() {\n            element.style.display = 'none';\n        },\n        button: castButton\n    };\n}\n\nfunction reasonInteraction() {\n    return { reason: 'interaction' };\n}\n\nfunction buttonsInFirstNotInSecond(buttonsA, buttonsB) {\n    return buttonsA.filter(a =>\n        !buttonsB.some(b => (b.id + b.btnClass === a.id + a.btnClass) && a.callback === b.callback));\n}\n\nconst appendChildren = (container, elements) => {\n    elements.forEach(e => {\n        if (e.element) {\n            e = e.element();\n        }\n        container.appendChild(e);\n    });\n};\n\nexport default class Controlbar {\n    constructor(_api, _model) {\n        Object.assign(this, Events);\n        this._api = _api;\n        this._model = _model;\n        this._isMobile = OS.mobile;\n        const localization = _model.get('localization');\n        const timeSlider = new TimeSlider(_model, _api);\n        let volumeTooltip;\n        let muteButton;\n\n        const play = localization.play;\n        const next = localization.next;\n        const vol = localization.volume;\n        const rewind = localization.rewind;\n\n        // Do not show the volume toggle in the mobile SDKs or <iOS10\n        if (!_model.get('sdkplatform') && !(OS.iOS && OS.version.major < 10)) {\n            // Clone icons so that can be used in VolumeTooltip\n            const svgIcons = cloneIcons('volume-0,volume-100');\n            muteButton = button('jw-icon-volume', () => {\n                _api.setMute();\n            }, vol, svgIcons);\n        }\n\n        // Do not initialize volume slider or tooltip on mobile\n        if (!this._isMobile) {\n            volumeTooltip = new VolumeTooltip(_model, 'jw-icon-volume', vol,\n                cloneIcons('volume-0,volume-50,volume-100'));\n        }\n\n        const nextButton = button('jw-icon-next', () => {\n            _api.next();\n        }, next, cloneIcons('next'));\n\n        const settingsButton = button('jw-icon-settings jw-settings-submenu-button', (event) => {\n            this.trigger('settingsInteraction', 'quality', true, event);\n        }, localization.settings, cloneIcons('settings'));\n        settingsButton.element().setAttribute('aria-haspopup', 'true');\n\n        const captionsButton = button('jw-icon-cc jw-settings-submenu-button', (event) => {\n            this.trigger('settingsInteraction', 'captions', false, event);\n        }, localization.cc, cloneIcons('cc-off,cc-on'));\n        captionsButton.element().setAttribute('aria-haspopup', 'true');\n\n        const liveButton = button('jw-text-live', () => {\n            this.goToLiveEdge();\n        }, localization.liveBroadcast);\n        liveButton.element().textContent = localization.liveBroadcast;\n\n        const elements = this.elements = {\n            alt: text('jw-text-alt', 'status'),\n            play: button('jw-icon-playback', () => {\n                _api.playToggle(reasonInteraction());\n            }, play, cloneIcons('play,pause')),\n            rewind: button('jw-icon-rewind', () => {\n                this.rewind();\n            }, rewind, cloneIcons('rewind')),\n            live: liveButton,\n            next: nextButton,\n            elapsed: textIcon('jw-text-elapsed', 'timer'),\n            countdown: textIcon('jw-text-countdown', 'timer'),\n            time: timeSlider,\n            duration: textIcon('jw-text-duration', 'timer'),\n            mute: muteButton,\n            volumetooltip: volumeTooltip,\n            cast: createCastButton(() => {\n                _api.castToggle();\n            }, localization),\n            fullscreen: button('jw-icon-fullscreen', () => {\n                _api.setFullscreen();\n            }, localization.fullscreen, cloneIcons('fullscreen-off,fullscreen-on')),\n            spacer: div('jw-spacer'),\n            buttonContainer: div('jw-button-container'),\n            settingsButton,\n            captionsButton\n        };\n\n        // Add text tooltips\n        const captionsTip = SimpleTooltip(captionsButton.element(), 'captions', localization.cc);\n        const onCaptionsChanged = (model) => {\n            const currentCaptions = model.get('captionsList')[model.get('captionsIndex')];\n            let newText = localization.cc;\n            if (currentCaptions && currentCaptions.label !== 'Off') {\n                newText = currentCaptions.label;\n            }\n            captionsTip.setText(newText);\n        };\n\n        const nextUpTip = SimpleTooltip(elements.next.element(), 'next', localization.nextUp, () => {\n            const nextUp = _model.get('nextUp');\n\n            this.trigger('nextShown', {\n                mode: nextUp.mode,\n                ui: 'nextup',\n                itemsShown: [nextUp],\n                feedData: nextUp.feedData,\n                reason: 'hover'\n            });\n        });\n        SimpleTooltip(elements.rewind.element(), 'rewind', localization.rewind);\n        SimpleTooltip(elements.settingsButton.element(), 'settings', localization.settings);\n        SimpleTooltip(elements.fullscreen.element(), 'fullscreen', localization.fullscreen);\n\n        // Filter out undefined elements\n        const buttonLayout = [\n            elements.play,\n            elements.rewind,\n            elements.next,\n            elements.volumetooltip,\n            elements.mute,\n            elements.alt,\n            elements.live,\n            elements.elapsed,\n            elements.countdown,\n            elements.duration,\n            elements.spacer,\n            elements.cast,\n            elements.captionsButton,\n            elements.settingsButton,\n            elements.fullscreen\n        ].filter(e => e);\n\n        const layout = [\n            elements.time,\n            elements.buttonContainer\n        ].filter(e => e);\n\n        const menus = this.menus = [\n            elements.volumetooltip\n        ].filter(e => e);\n\n        this.el = document.createElement('div');\n        this.el.className = 'jw-controlbar jw-reset';\n\n        appendChildren(elements.buttonContainer, buttonLayout);\n        appendChildren(this.el, layout);\n\n        const logo = _model.get('logo');\n        if (logo && logo.position === 'control-bar') {\n            this.addLogo(logo);\n        }\n\n        // Initial State\n        elements.play.show();\n        elements.fullscreen.show();\n        if (elements.mute) {\n            elements.mute.show();\n        }\n\n        // Listen for model changes\n        _model.change('volume', this.onVolume, this);\n        _model.change('mute', this.onMute, this);\n        _model.change('duration', this.onDuration, this);\n        _model.change('position', this.onElapsed, this);\n        _model.change('fullscreen', this.onFullscreen, this);\n        _model.change('streamType', this.onStreamTypeChange, this);\n        _model.change('dvrLive', (model, dvrLive) => {\n            utils.toggleClass(this.elements.live.element(), 'jw-dvr-live', dvrLive === false);\n        }, this);\n        _model.change('altText', this.setAltText, this);\n        _model.change('customButtons', this.updateButtons, this);\n        _model.on('change:captionsIndex', onCaptionsChanged, this);\n        _model.on('change:captionsList', onCaptionsChanged, this);\n        _model.change('nextUp', (model, nextUp) => {\n            let tipText = localization.nextUp;\n            if (nextUp && nextUp.title) {\n                tipText += (`: ${nextUp.title}`);\n            }\n            nextUpTip.setText(tipText);\n            elements.next.toggle(!!nextUp);\n        });\n        _model.change('audioMode', this.onAudioMode, this);\n        if (elements.cast) {\n            _model.change('castAvailable', this.onCastAvailable, this);\n            _model.change('castActive', this.onCastActive, this);\n        }\n\n        // Event listeners\n        // Volume sliders do not exist on mobile so don't assign listeners to them.\n        if (elements.volumetooltip) {\n            elements.volumetooltip.on('update', function (pct) {\n                const val = pct.percentage;\n                this._api.setVolume(val);\n            }, this);\n            elements.volumetooltip.on('toggleValue', function () {\n                this._api.setMute();\n            }, this);\n        }\n\n        if (elements.cast && elements.cast.button) {\n            new UI(elements.cast.element()).on('click tap enter', function(evt) {\n                // controlbar cast button needs to manually trigger a click\n                // on the native cast button for taps and enter key\n                if (evt.type !== 'click') {\n                    elements.cast.button.click();\n                }\n                this._model.set('castClicked', true);\n            }, this);\n        }\n\n        new UI(elements.duration).on('click tap enter', function () {\n            if (this._model.get('streamType') === 'DVR') {\n                // Seek to \"Live\" position within live buffer, but not before current position\n                const currentPosition = this._model.get('position');\n                this._api.seek(Math.max(dvrSeekLimit, currentPosition), reasonInteraction());\n            }\n        }, this);\n\n        // When the control bar is interacted with, trigger a user action event\n        new UI(this.el).on('click tap drag', function () {\n            this.trigger(USER_ACTION);\n        }, this);\n        _.each(menus, function (ele) {\n            ele.on('open-tooltip', this.closeMenus, this);\n        }, this);\n    }\n\n    onVolume(model, pct) {\n        this.renderVolume(model.get('mute'), pct);\n    }\n\n    onMute(model, muted) {\n        this.renderVolume(muted, model.get('volume'));\n    }\n\n    renderVolume(muted, vol) {\n        // mute, volume, and volumetooltip do not exist on mobile devices.\n        if (this.elements.mute) {\n            utils.toggleClass(this.elements.mute.element(), 'jw-off', muted);\n            utils.toggleClass(this.elements.mute.element(), 'jw-full', !muted);\n        }\n        if (this.elements.volumetooltip) {\n            this.elements.volumetooltip.volumeSlider.render(muted ? 0 : vol);\n            utils.toggleClass(this.elements.volumetooltip.element(), 'jw-off', muted);\n            utils.toggleClass(this.elements.volumetooltip.element(), 'jw-full', vol >= 75 && !muted);\n        }\n    }\n\n    onCastAvailable(model, val) {\n        this.elements.cast.toggle(val);\n    }\n\n    onCastActive(model, val) {\n        this.elements.fullscreen.toggle(!val);\n        if (this.elements.cast.button) {\n            utils.toggleClass(this.elements.cast.button, 'jw-off', !val);\n        }\n    }\n\n    onElapsed(model, position) {\n        let elapsedTime;\n        let countdownTime;\n        const duration = model.get('duration');\n        if (model.get('streamType') === 'DVR') {\n            const currentPosition = Math.ceil(position);\n            elapsedTime = countdownTime = currentPosition >= dvrSeekLimit ? '' : '-' + utils.timeFormat(-position);\n            model.set('dvrLive', currentPosition >= dvrSeekLimit);\n        } else {\n            elapsedTime = utils.timeFormat(position);\n            countdownTime = utils.timeFormat(duration - position);\n        }\n        this.elements.elapsed.textContent = elapsedTime;\n        this.elements.countdown.textContent = countdownTime;\n    }\n\n    onDuration(model, val) {\n        this.elements.duration.textContent = utils.timeFormat(Math.abs(val));\n    }\n\n    onFullscreen(model, val) {\n        utils.toggleClass(this.elements.fullscreen.element(), 'jw-off', val);\n        this.elements.play.element().focus();\n    }\n\n    onAudioMode(model, val) {\n        const timeSlider = this.elements.time.element();\n        if (val) {\n            this.elements.buttonContainer.insertBefore(\n                timeSlider,\n                this.elements.elapsed\n            );\n        } else {\n            prependChild(this.el, timeSlider);\n        }\n    }\n\n    element() {\n        return this.el;\n    }\n\n    setAltText(model, altText) {\n        this.elements.alt.textContent = altText;\n    }\n\n    // Close menus if it has no event.  Otherwise close all but the event's target.\n    closeMenus(evt) {\n        _.each(this.menus, function (ele) {\n            if (!evt || evt.target !== ele.el) {\n                ele.closeTooltip(evt);\n            }\n        });\n    }\n\n    rewind() {\n        const currentPosition = this._model.get('position');\n        const duration = this._model.get('duration');\n        const rewindPosition = currentPosition - 10;\n        let startPosition = 0;\n\n        // duration is negative in DVR mode\n        if (this._model.get('streamType') === 'DVR') {\n            startPosition = duration;\n        }\n        // Seek 10s back. Seek value should be >= 0 in VOD mode and >= (negative) duration in DVR mode\n        this._api.seek(Math.max(rewindPosition, startPosition), reasonInteraction());\n    }\n\n    onStreamTypeChange(model, streamType) {\n        // Hide rewind button when in LIVE mode\n        this.elements.rewind.toggle(streamType !== 'LIVE');\n        this.elements.live.toggle(streamType === 'LIVE' || streamType === 'DVR');\n        this.elements.duration.style.display = streamType === 'DVR' ? 'none' : '';\n        const duration = model.get('duration');\n        this.onDuration(model, duration);\n    }\n\n    addLogo(logo) {\n        const buttonContainer = this.elements.buttonContainer;\n\n        const logoButton = new CustomButton(\n            logo.file,\n            'Logo',\n            () => {\n                if (logo.link) {\n                    window.open(logo.link, '_blank');\n                }\n            },\n            'logo',\n            'jw-logo-button'\n        );\n\n        if (!logo.link) {\n            logoButton.element().setAttribute('tabindex', '-1');\n        }\n        buttonContainer.insertBefore(\n            logoButton.element(),\n            buttonContainer.querySelector('.jw-spacer').nextSibling\n        );\n    }\n\n    goToLiveEdge() {\n        if (this._model.get('streamType') === 'DVR') {\n            // Seek to \"Live\" position within live buffer, but not before current position\n            const currentPosition = this._model.get('position');\n            this._api.seek(Math.max(dvrSeekLimit, currentPosition), reasonInteraction());\n        }\n    }\n\n    updateButtons(model, newButtons, oldButtons) {\n        // If buttons are undefined exit, buttons are only removed if newButtons is an array\n        if (!newButtons) {\n            return;\n        }\n\n        const buttonContainer = this.elements.buttonContainer;\n\n        let addedButtons;\n        let removedButtons;\n\n        // On model.change these obects are the same and all buttons need to be added\n        if (newButtons === oldButtons || !oldButtons) {\n            addedButtons = newButtons;\n\n        } else {\n            addedButtons = buttonsInFirstNotInSecond(newButtons, oldButtons);\n            removedButtons = buttonsInFirstNotInSecond(oldButtons, newButtons);\n\n            this.removeButtons(buttonContainer, removedButtons);\n        }\n\n        for (let i = addedButtons.length - 1; i >= 0; i--) {\n            let buttonProps = addedButtons[i];\n            const newButton = new CustomButton(\n                buttonProps.img,\n                buttonProps.tooltip,\n                buttonProps.callback,\n                buttonProps.id,\n                buttonProps.btnClass\n            );\n\n            if (buttonProps.tooltip) {\n                SimpleTooltip(newButton.element(), buttonProps.id, buttonProps.tooltip);\n            }\n\n            let firstButton;\n            if (newButton.id === 'related') {\n                firstButton = this.elements.settingsButton.element();\n            } else if (newButton.id === 'share') {\n                firstButton = buttonContainer.querySelector('[button=\"related\"]') ||\n                    this.elements.settingsButton.element();\n            } else {\n                firstButton = this.elements.spacer.nextSibling;\n                if (firstButton && firstButton.getAttribute('button') === 'logo') {\n                    firstButton = firstButton.nextSibling;\n                }\n            }\n            buttonContainer.insertBefore(newButton.element(), firstButton);\n        }\n    }\n\n    removeButtons(buttonContainer, buttonsToRemove) {\n        for (let i = buttonsToRemove.length; i--;) {\n            const buttonElement = buttonContainer.querySelector(`[button=\"${buttonsToRemove[i].id}\"]`);\n            if (buttonElement) {\n                buttonContainer.removeChild(buttonElement);\n            }\n        }\n    }\n\n    toggleCaptionsButtonState(active) {\n        const captionsButton = this.elements.captionsButton;\n        if (!captionsButton) {\n            return;\n        }\n\n        utils.toggleClass(captionsButton.element(), 'jw-off', !active);\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/controlbar.js","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-buffer\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M120,186.667a66.667,66.667,0,0,1,0-133.333V40a80,80,0,1,0,80,80H186.667A66.846,66.846,0,0,1,120,186.667Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/buffer.svg\n// module id = 101\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-replay\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M120,41.9v-20c0-5-4-8-8-4l-44,28a5.865,5.865,0,0,0-3.3,7.6A5.943,5.943,0,0,0,68,56.8l43,29c5,4,9,1,9-4v-20a60,60,0,1,1-60,60H40a80,80,0,1,0,80-79.9Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/replay.svg\n// module id = 102\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-error\\\" viewBox=\\\"0 0 36 36\\\" style=\\\"width:100%;height:100%;\\\" focusable=\\\"false\\\"><path fill=\\\"#FFF\\\" d=\\\"M34.6 20.2L10 33.2 27.6 16l7 3.7a.4.4 0 0 1 .2.5.4.4 0 0 1-.2.2zM33.3 0L21 12.2 9 6c-.2-.3-.6 0-.6.5V25L0 33.6 2.5 36 36 2.7z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/playback-error.svg\n// module id = 103\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-play\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M62.8,199.5c-1,0.8-2.4,0.6-3.3-0.4c-0.4-0.5-0.6-1.1-0.5-1.8V42.6c-0.2-1.3,0.7-2.4,1.9-2.6c0.7-0.1,1.3,0.1,1.9,0.4l154.7,77.7c2.1,1.1,2.1,2.8,0,3.8L62.8,199.5z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/play.svg\n// module id = 104\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-pause\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M100,194.9c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0H65c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V45c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h30c2.6-0.2,4.8,1.8,5,4.4c0,0.2,0,0.4,0,0.6V194.9z M180,45.1c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6V195c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6V45.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/pause.svg\n// module id = 105\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-rewind\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M113.2,131.078a21.589,21.589,0,0,0-17.7-10.6,21.589,21.589,0,0,0-17.7,10.6,44.769,44.769,0,0,0,0,46.3,21.589,21.589,0,0,0,17.7,10.6,21.589,21.589,0,0,0,17.7-10.6,44.769,44.769,0,0,0,0-46.3Zm-17.7,47.2c-7.8,0-14.4-11-14.4-24.1s6.6-24.1,14.4-24.1,14.4,11,14.4,24.1S103.4,178.278,95.5,178.278Zm-43.4,9.7v-51l-4.8,4.8-6.8-6.8,13-13a4.8,4.8,0,0,1,8.2,3.4v62.7l-9.6-.1Zm162-130.2v125.3a4.867,4.867,0,0,1-4.8,4.8H146.6v-19.3h48.2v-96.4H79.1v19.3c0,5.3-3.6,7.2-8,4.3l-41.8-27.9a6.013,6.013,0,0,1-2.7-8,5.887,5.887,0,0,1,2.7-2.7l41.8-27.9c4.4-2.9,8-1,8,4.3v19.3H209.2A4.974,4.974,0,0,1,214.1,57.778Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/rewind-10.svg\n// module id = 106\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-next\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/next.svg\n// module id = 107\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-0\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M116.4,42.8v154.5c0,2.8-1.7,3.6-3.8,1.7l-54.1-48.1H28.9c-2.8,0-5.2-2.3-5.2-5.2V94.2c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48.1C114.6,39.1,116.4,39.9,116.4,42.8z M212.3,96.4l-14.6-14.6l-23.6,23.6l-23.6-23.6l-14.6,14.6l23.6,23.6l-23.6,23.6l14.6,14.6l23.6-23.6l23.6,23.6l14.6-14.6L188.7,120L212.3,96.4z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-0.svg\n// module id = 108\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-50\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M116.4,42.8v154.5c0,2.8-1.7,3.6-3.8,1.7l-54.1-48.1H28.9c-2.8,0-5.2-2.3-5.2-5.2V94.2c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48.1C114.7,39.1,116.4,39.9,116.4,42.8z M178.2,120c0-22.7-18.5-41.2-41.2-41.2v20.6c11.4,0,20.6,9.2,20.6,20.6c0,11.4-9.2,20.6-20.6,20.6v20.6C159.8,161.2,178.2,142.7,178.2,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-50.svg\n// module id = 109\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-100\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M116.5,42.8v154.4c0,2.8-1.7,3.6-3.8,1.7l-54.1-48H29c-2.8,0-5.2-2.3-5.2-5.2V94.3c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48C114.8,39.2,116.5,39.9,116.5,42.8z\\\"></path><path d=\\\"M136.2,160v-20c11.1,0,20-8.9,20-20s-8.9-20-20-20V80c22.1,0,40,17.9,40,40S158.3,160,136.2,160z\\\"></path><path d=\\\"M216.2,120c0-44.2-35.8-80-80-80v20c33.1,0,60,26.9,60,60s-26.9,60-60,60v20C180.4,199.9,216.1,164.1,216.2,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-100.svg\n// module id = 110\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-cc-on\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z M108.1,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C90.4,141.7,102,143.5,108.1,137.7z M152.9,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C135.2,141.7,146.8,143.5,152.9,137.7z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/captions-on.svg\n// module id = 111\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-cc-off\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M99.4,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C107.9,100,103.8,97.8,99.4,97.8z M144.1,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C152.6,100,148.5,97.8,144.1,97.8L144.1,97.8z M200,60v120H40V60H200 M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/captions-off.svg\n// module id = 112\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-airplay-on\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/airplay-on.svg\n// module id = 113\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-airplay-off\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M210,55v100h-50l20,20h45c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6V40c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0H15c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6v130c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h45l20-20H30V55H210 M60,205l60-70l60,70H60L60,205z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/airplay-off.svg\n// module id = 114\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-playback-rate\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M158.83,48.83A71.17,71.17,0,1,0,230,120,71.163,71.163,0,0,0,158.83,48.83Zm45.293,77.632H152.34V74.708h12.952v38.83h38.83ZM35.878,74.708h38.83V87.66H35.878ZM10,113.538H61.755V126.49H10Zm25.878,38.83h38.83V165.32H35.878Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/playback-rate.svg\n// module id = 115\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-settings\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M204,145l-25-14c0.8-3.6,1.2-7.3,1-11c0.2-3.7-0.2-7.4-1-11l25-14c2.2-1.6,3.1-4.5,2-7l-16-26c-1.2-2.1-3.8-2.9-6-2l-25,14c-6-4.2-12.3-7.9-19-11V35c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6v28c-6.7,3.1-13,6.7-19,11L56,60c-2.2-0.9-4.8-0.1-6,2L35,88c-1.6,2.2-1.3,5.3,0.9,6.9c0,0,0.1,0,0.1,0.1l25,14c-0.8,3.6-1.2,7.3-1,11c-0.2,3.7,0.2,7.4,1,11l-25,14c-2.2,1.6-3.1,4.5-2,7l16,26c1.2,2.1,3.8,2.9,6,2l25-14c5.7,4.6,12.2,8.3,19,11v28c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6v-28c7-2.3,13.5-6,19-11l25,14c2.5,1.3,5.6,0.4,7-2l15-26C206.7,149.4,206,146.7,204,145z M120,149.9c-16.5,0-30-13.4-30-30s13.4-30,30-30s30,13.4,30,30c0.3,16.3-12.6,29.7-28.9,30C120.7,149.9,120.4,149.9,120,149.9z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/settings.svg\n// module id = 116\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-audio-tracks\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M35,34h160v20H35V34z M35,94h160V74H35V94z M35,134h60v-20H35V134z M160,114c-23.4-1.3-43.6,16.5-45,40v50h20c5.2,0.3,9.7-3.6,10-8.9c0-0.4,0-0.7,0-1.1v-20c0.3-5.2-3.6-9.7-8.9-10c-0.4,0-0.7,0-1.1,0h-10v-10c1.5-17.9,17.1-31.3,35-30c17.9-1.3,33.6,12.1,35,30v10H185c-5.2-0.3-9.7,3.6-10,8.9c0,0.4,0,0.7,0,1.1v20c-0.3,5.2,3.6,9.7,8.9,10c0.4,0,0.7,0,1.1,0h20v-50C203.5,130.6,183.4,112.7,160,114z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/audio-tracks.svg\n// module id = 117\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-quality-100\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M55,200H35c-3,0-5-2-5-4c0,0,0,0,0-1v-30c0-3,2-5,4-5c0,0,0,0,1,0h20c3,0,5,2,5,4c0,0,0,0,0,1v30C60,198,58,200,55,200L55,200z M110,195v-70c0-3-2-5-4-5c0,0,0,0-1,0H85c-3,0-5,2-5,4c0,0,0,0,0,1v70c0,3,2,5,4,5c0,0,0,0,1,0h20C108,200,110,198,110,195L110,195z M160,195V85c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v110c0,3,2,5,4,5c0,0,0,0,1,0h20C158,200,160,198,160,195L160,195z M210,195V45c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v150c0,3,2,5,4,5c0,0,0,0,1,0h20C208,200,210,198,210,195L210,195z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/quality-100.svg\n// module id = 118\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-fullscreen-off\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M109.2,134.9l-8.4,50.1c-0.4,2.7-2.4,3.3-4.4,1.4L82,172l-27.9,27.9l-14.2-14.2l27.9-27.9l-14.4-14.4c-1.9-1.9-1.3-3.9,1.4-4.4l50.1-8.4c1.8-0.5,3.6,0.6,4.1,2.4C109.4,133.7,109.4,134.3,109.2,134.9L109.2,134.9z M172.1,82.1L200,54.2L185.8,40l-27.9,27.9l-14.4-14.4c-1.9-1.9-3.9-1.3-4.4,1.4l-8.4,50.1c-0.5,1.8,0.6,3.6,2.4,4.1c0.5,0.2,1.2,0.2,1.7,0l50.1-8.4c2.7-0.4,3.3-2.4,1.4-4.4L172.1,82.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/fullscreen-not.svg\n// module id = 119\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-fullscreen-on\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M96.3,186.1c1.9,1.9,1.3,4-1.4,4.4l-50.6,8.4c-1.8,0.5-3.7-0.6-4.2-2.4c-0.2-0.6-0.2-1.2,0-1.7l8.4-50.6c0.4-2.7,2.4-3.4,4.4-1.4l14.5,14.5l28.2-28.2l14.3,14.3l-28.2,28.2L96.3,186.1z M195.8,39.1l-50.6,8.4c-2.7,0.4-3.4,2.4-1.4,4.4l14.5,14.5l-28.2,28.2l14.3,14.3l28.2-28.2l14.5,14.5c1.9,1.9,4,1.3,4.4-1.4l8.4-50.6c0.5-1.8-0.6-3.6-2.4-4.2C197,39,196.4,39,195.8,39.1L195.8,39.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/fullscreen.svg\n// module id = 120\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-close\\\" viewBox=\\\"0 0 240 240\\\" focusable=\\\"false\\\"><path d=\\\"M134.8,120l48.6-48.6c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2l-7.4-7.4c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L120,105.2L71.4,56.6c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L56.6,64c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l48.6,48.7l-48.6,48.6c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l7.4,7.4c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l48.7-48.6l48.6,48.6c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l7.4-7.4c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2L134.8,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/close.svg\n// module id = 121\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-jwplayer-logo\\\" viewBox=\\\"0 0 992 1024\\\"><path d=\\\"M144 518.4c0 6.4-6.4 6.4-6.4 0l-3.2-12.8c0 0-6.4-19.2-12.8-38.4 0-6.4-6.4-12.8-9.6-22.4-6.4-6.4-16-9.6-28.8-6.4-9.6 3.2-16 12.8-16 22.4s0 16 0 25.6c3.2 25.6 22.4 121.6 32 140.8 9.6 22.4 35.2 32 54.4 22.4 22.4-9.6 28.8-35.2 38.4-54.4 9.6-25.6 60.8-166.4 60.8-166.4 6.4-12.8 9.6-12.8 9.6 0 0 0 0 140.8-3.2 204.8 0 25.6 0 67.2 9.6 89.6 6.4 16 12.8 28.8 25.6 38.4s28.8 12.8 44.8 12.8c6.4 0 16-3.2 22.4-6.4 9.6-6.4 16-12.8 25.6-22.4 16-19.2 28.8-44.8 38.4-64 25.6-51.2 89.6-201.6 89.6-201.6 6.4-12.8 9.6-12.8 9.6 0 0 0-9.6 256-9.6 355.2 0 25.6 6.4 48 12.8 70.4 9.6 22.4 22.4 38.4 44.8 48s48 9.6 70.4-3.2c16-9.6 28.8-25.6 38.4-38.4 12.8-22.4 25.6-48 32-70.4 19.2-51.2 35.2-102.4 51.2-153.6s153.6-540.8 163.2-582.4c0-6.4 0-9.6 0-12.8 0-9.6-6.4-19.2-16-22.4-16-6.4-32 0-38.4 12.8-6.4 16-195.2 470.4-195.2 470.4-6.4 12.8-9.6 12.8-9.6 0 0 0 0-156.8 0-288 0-70.4-35.2-108.8-83.2-118.4-22.4-3.2-44.8 0-67.2 12.8s-35.2 32-48 54.4c-16 28.8-105.6 297.6-105.6 297.6-6.4 12.8-9.6 12.8-9.6 0 0 0-3.2-115.2-6.4-144-3.2-41.6-12.8-108.8-67.2-115.2-51.2-3.2-73.6 57.6-86.4 99.2-9.6 25.6-51.2 163.2-51.2 163.2v3.2z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/jw-logo.svg\n// module id = 122\n// module chunks = 0 1 2 3 4","import { style } from 'utils/css';\nimport UI from 'utils/ui';\nimport svgParse from 'utils/svgParser';\n\nlet collection = {};\n\nfunction getCachedIcon(svg) {\n    if (!collection[svg]) {\n        const icons = Object.keys(collection);\n        if (icons.length > 10) {\n            delete collection[icons[0]];\n        }\n        const element = svgParse(svg);\n        collection[svg] = element;\n    }\n    return collection[svg].cloneNode(true);\n}\n\nexport default class CustomButton {\n\n    constructor(img, ariaText, callback, id, btnClass) {\n        const buttonElement = document.createElement('div');\n        buttonElement.className = `jw-icon jw-icon-inline jw-button-color jw-reset ${btnClass || ''}`;\n        buttonElement.setAttribute('button', id);\n        buttonElement.setAttribute('role', 'button');\n        buttonElement.setAttribute('tabindex', '0');\n        if (ariaText) {\n            buttonElement.setAttribute('aria-label', ariaText);\n        }\n\n        let iconElement;\n        if (img && img.substring(0, 4) === '<svg') {\n            iconElement = getCachedIcon(img);\n        } else {\n            iconElement = document.createElement('div');\n            iconElement.className = 'jw-icon jw-button-image jw-button-color jw-reset';\n            if (img) {\n                style(iconElement, {\n                    backgroundImage: `url(${img})`\n                });\n            }\n        }\n\n        buttonElement.appendChild(iconElement);\n\n        new UI(buttonElement).on('click tap enter', callback, this);\n\n        // Prevent button from being focused on mousedown so that the tooltips don't remain visible until\n        // the user interacts with another element on the page\n        buttonElement.addEventListener('mousedown', (e) => {\n            e.preventDefault();\n        });\n\n        this.id = id;\n        this.buttonElement = buttonElement;\n    }\n\n    element() {\n        return this.buttonElement;\n    }\n\n    toggle(show) {\n        if (show) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    show() {\n        this.buttonElement.style.display = '';\n    }\n    hide() {\n        this.buttonElement.style.display = 'none';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/custom-button.js","import { dvrSeekLimit } from 'view/constants';\nimport _ from 'utils/underscore';\nimport utils from 'utils/helpers';\nimport UI, { getPointerType } from 'utils/ui';\nimport Slider from 'view/controls/components/slider';\nimport Tooltip from 'view/controls/components/tooltip';\nimport ChaptersMixin from 'view/controls/components/chapters.mixin';\nimport ThumbnailsMixin from 'view/controls/components/thumbnails.mixin';\n\nclass TimeTip extends Tooltip {\n\n    setup() {\n        this.text = document.createElement('span');\n        this.text.className = 'jw-text jw-reset';\n        this.img = document.createElement('div');\n        this.img.className = 'jw-time-thumb jw-reset';\n        this.containerWidth = 0;\n        this.textLength = 0;\n        this.dragJustReleased = false;\n\n        var wrapper = document.createElement('div');\n        wrapper.className = 'jw-time-tip jw-reset';\n        wrapper.appendChild(this.img);\n        wrapper.appendChild(this.text);\n\n        this.addContent(wrapper);\n    }\n\n    image(style) {\n        utils.style(this.img, style);\n    }\n\n    update(txt) {\n        this.text.textContent = txt;\n    }\n\n    getWidth () {\n        if (!this.containerWidth) {\n            this.setWidth();\n        }\n\n        return this.containerWidth;\n    }\n\n    setWidth (width) {\n        const tolerance = 16; // add a little padding so the tooltip isn't flush against the edge\n\n        if (width) {\n            this.containerWidth = width + tolerance;\n            return;\n        }\n\n        if (!this.container) {\n            return;\n        }\n\n        this.containerWidth = utils.bounds(this.container).width + tolerance;\n    }\n\n    resetWidth () {\n        this.containerWidth = 0;\n    }\n}\n\nfunction reasonInteraction() {\n    return { reason: 'interaction' };\n}\n\nclass TimeSlider extends Slider {\n    constructor(_model, _api) {\n        super('jw-slider-time', 'horizontal');\n\n        this._model = _model;\n        this._api = _api;\n\n        this.timeTip = new TimeTip('jw-tooltip-time', null, true);\n        this.timeTip.setup();\n\n        this.cues = [];\n\n        // Store the attempted seek, until the previous one completes\n        this.seekThrottled = _.throttle(this.performSeek, 400);\n        this.mobileHoverDistance = 5;\n\n        this.setup();\n    }\n\n    // These overwrite Slider methods\n    setup() {\n        super.setup.apply(this, arguments);\n\n        this._model\n            .on('change:duration', this.onDuration, this)\n            .on('change:cues', this.addCues, this)\n            .change('playlistItem', this.onPlaylistItem, this)\n            .change('position', this.onPosition, this)\n            .change('buffer', this.onBuffer, this)\n            .change('streamType', this.onStreamType, this);\n\n        this.elementRail.appendChild(this.timeTip.element());\n\n        // Show the tooltip on while dragging (touch) moving(mouse), or moving over(mouse)\n        this.elementUI = new UI(this.el, { useHover: true, useMove: true })\n            .on('drag move over', this.showTimeTooltip.bind(this), this)\n            .on('dragEnd out', this.hideTimeTooltip.bind(this), this);\n    }\n\n    limit(percent) {\n        if (this.activeCue && _.isNumber(this.activeCue.pct)) {\n            return this.activeCue.pct;\n        }\n        var duration = this._model.get('duration');\n        if (this.streamType === 'DVR') {\n            var position = (1 - (percent / 100)) * duration;\n            var currentPosition = this._model.get('position');\n            var updatedPosition = Math.min(position, Math.max(dvrSeekLimit, currentPosition));\n            var updatedPercent = updatedPosition * 100 / duration;\n            return 100 - updatedPercent;\n        }\n        return percent;\n    }\n\n    update(percent) {\n        this.seekTo = percent;\n        this.seekThrottled();\n        super.update.apply(this, arguments);\n    }\n\n    dragStart() {\n        this._model.set('scrubbing', true);\n        super.dragStart.apply(this, arguments);\n    }\n\n    dragEnd() {\n        super.dragEnd.apply(this, arguments);\n        this._model.set('scrubbing', false);\n    }\n\n    onBuffer(model, pct) {\n        this.updateBuffer(pct);\n    }\n\n    onPosition(model, position) {\n        this.updateTime(position, model.get('duration'));\n    }\n\n    onDuration(model, duration) {\n        this.updateTime(model.get('position'), duration);\n        this.drawCues();\n    }\n\n    onStreamType(model, streamType) {\n        this.streamType = streamType;\n    }\n\n    updateTime(position, duration) {\n        var pct = 0;\n        if (duration) {\n            if (this.streamType === 'DVR') {\n                pct = (duration - position) / duration * 100;\n            } else if (this.streamType === 'VOD' || !this.streamType) {\n                // Default to VOD behavior if streamType isn't set\n                pct = position / duration * 100;\n            }\n        }\n        this.render(pct);\n    }\n\n    onPlaylistItem(model, playlistItem) {\n        if (!playlistItem) {\n            return;\n        }\n        this.reset();\n        this.addCues(model, model.get('cues'));\n\n        var tracks = playlistItem.tracks;\n        _.each(tracks, function (track) {\n            if (track && track.kind && track.kind.toLowerCase() === 'thumbnails') {\n                this.loadThumbnails(track.file);\n            } else if (track && track.kind && track.kind.toLowerCase() === 'chapters') {\n                this.loadChapters(track.file);\n            }\n        }, this);\n    }\n\n    performSeek() {\n        var percent = this.seekTo;\n        var duration = this._model.get('duration');\n        var position;\n        if (duration === 0) {\n            this._api.play(reasonInteraction());\n        } else if (this.streamType === 'DVR') {\n            position = (100 - percent) / 100 * duration;\n            this._api.seek(position, reasonInteraction());\n        } else {\n            position = percent / 100 * duration;\n            this._api.seek(Math.min(position, duration - 0.25), reasonInteraction());\n        }\n    }\n\n    showTimeTooltip(evt) {\n        var duration = this._model.get('duration');\n        if (duration === 0) {\n            return;\n        }\n\n        var playerWidth = this._model.get('containerWidth');\n        var railBounds = utils.bounds(this.elementRail);\n        var position = (evt.pageX ? (evt.pageX - railBounds.left) : evt.x);\n        position = utils.between(position, 0, railBounds.width);\n        var pct = position / railBounds.width;\n        var time = duration * pct;\n\n        // For DVR we need to swap it around\n        if (duration < 0) {\n            time = duration - time;\n        }\n\n        var timetipText;\n\n        // With touch events, we never will get the hover events on the cues that cause cues to be active.\n        // Therefore use the info we about the scroll position to detect if there is a nearby cue to be active.\n        if (getPointerType(evt.sourceEvent) === 'touch') {\n            this.activeCue = this.cues.reduce((closeCue, cue) => {\n                if (Math.abs(position - (parseInt(cue.pct) / 100 * railBounds.width)) < this.mobileHoverDistance) {\n                    return cue;\n                }\n                return closeCue;\n            }, undefined);\n        }\n\n        if (this.activeCue) {\n            timetipText = this.activeCue.text;\n        } else {\n            var allowNegativeTime = true;\n            timetipText = utils.timeFormat(time, allowNegativeTime);\n\n            // If DVR and within live buffer\n            if (duration < 0 && time > dvrSeekLimit) {\n                timetipText = 'Live';\n            }\n        }\n        var timeTip = this.timeTip;\n\n        timeTip.update(timetipText);\n        if (this.textLength !== timetipText.length) {\n            // An activeCue may cause the width of the timeTip container to change\n            this.textLength = timetipText.length;\n            timeTip.resetWidth();\n        }\n        this.showThumbnail(time);\n\n        utils.addClass(timeTip.el, 'jw-open');\n\n        var timeTipWidth = timeTip.getWidth();\n        var widthPct = railBounds.width / 100;\n        var tolerance = playerWidth - railBounds.width;\n        var timeTipPct = 0;\n        if (timeTipWidth > tolerance) {\n            // timeTip may go outside the bounds of the player. Determine the % of tolerance needed\n            timeTipPct = (timeTipWidth - tolerance) / (2 * 100 * widthPct);\n        }\n        var safePct = Math.min(1 - timeTipPct, Math.max(timeTipPct, pct)).toFixed(3) * 100;\n        utils.style(timeTip.el, { left: safePct + '%' });\n    }\n\n    hideTimeTooltip() {\n        utils.removeClass(this.timeTip.el, 'jw-open');\n    }\n\n    addCues(model, cues) {\n        if (cues && cues.length) {\n            cues.forEach((ele) => {\n                this.addCue(ele);\n            });\n            this.drawCues();\n        } else {\n            this.resetChapters();\n        }\n    }\n\n    reset() {\n        this.resetThumbnails();\n        this.timeTip.resetWidth();\n        this.textLength = 0;\n    }\n}\n\nObject.assign(TimeSlider.prototype, ChaptersMixin, ThumbnailsMixin);\n\nexport default TimeSlider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/timeslider.js","export default (className = '', orientation = '') => {\n    return (\n        `<div class=\"${className} ${orientation} jw-reset\" aria-hidden=\"true\">` +\n            `<div class=\"jw-slider-container jw-reset\">` +\n                `<div class=\"jw-rail jw-reset\"></div>` +\n                `<div class=\"jw-buffer jw-reset\"></div>` +\n                `<div class=\"jw-progress jw-reset\"></div>` +\n                `<div class=\"jw-knob jw-reset\"></div>` +\n            `</div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/slider.js","import utils from 'utils/helpers';\nimport srt from 'parsers/captions/srt';\n\nclass Cue {\n    constructor (time, text) {\n        this.time = time;\n        this.text = text;\n        this.el = document.createElement('div');\n        this.el.className = 'jw-cue jw-reset';\n    }\n\n    align(duration) {\n        // If a percentage, use it, else calculate the percentage\n        if (this.time.toString().slice(-1) === '%') {\n            this.pct = this.time;\n        } else {\n            const percentage = (this.time / duration) * 100;\n            this.pct = percentage + '%';\n        }\n\n        this.el.style.left = this.pct;\n    }\n}\n\nconst ChaptersMixin = {\n\n    loadChapters: function (file) {\n        utils.ajax(file, this.chaptersLoaded.bind(this), this.chaptersFailed, {\n            plainText: true\n        });\n    },\n\n    chaptersLoaded: function (evt) {\n        const data = srt(evt.responseText);\n        if (Array.isArray(data)) {\n            data.forEach((obj) => this.addCue(obj));\n            this.drawCues();\n        }\n    },\n\n    chaptersFailed: function () {},\n\n    addCue: function (obj) {\n        this.cues.push(new Cue(obj.begin, obj.text));\n    },\n\n    drawCues: function () {\n        // We won't want to draw them until we have a duration\n        const duration = this._model.get('duration');\n        if (!duration || duration <= 0) {\n            return;\n        }\n\n        this.cues.forEach((cue) => {\n            cue.align(duration);\n            cue.el.addEventListener('mouseover', () => {\n                this.activeCue = cue;\n            });\n            cue.el.addEventListener('mouseout', () => {\n                this.activeCue = null;\n            });\n            this.elementRail.appendChild(cue.el);\n        });\n    },\n\n    resetChapters: function() {\n        this.cues.forEach((cue) => {\n            if (cue.el.parentNode) {\n                cue.el.parentNode.removeChild(cue.el);\n            }\n        });\n        this.cues = [];\n    }\n};\n\nexport default ChaptersMixin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/chapters.mixin.js","import _ from 'utils/underscore';\nimport utils from 'utils/helpers';\nimport srt from 'parsers/captions/srt';\n\nfunction Thumbnail(obj) {\n    this.begin = obj.begin;\n    this.end = obj.end;\n    this.img = obj.text;\n}\n\nconst ThumbnailsMixin = {\n    loadThumbnails: function (file) {\n        if (!file) {\n            return;\n        }\n        this.vttPath = file.split('?')[0].split('/').slice(0, -1).join('/');\n        // Only load the first individual image file so we can get its dimensions. All others are loaded when\n        // they're set as background-images.\n        this.individualImage = null;\n        utils.ajax(file, this.thumbnailsLoaded.bind(this), this.thumbnailsFailed.bind(this), {\n            plainText: true\n        });\n    },\n\n    thumbnailsLoaded: function (evt) {\n        var data = srt(evt.responseText);\n        if (_.isArray(data)) {\n            _.each(data, function(obj) {\n                this.thumbnails.push(new Thumbnail(obj));\n            }, this);\n            this.drawCues();\n        }\n    },\n\n    thumbnailsFailed: function () { },\n\n    chooseThumbnail: function(seconds) {\n        var idx = _.sortedIndex(this.thumbnails, { end: seconds }, _.property('end'));\n        if (idx >= this.thumbnails.length) {\n            idx = this.thumbnails.length - 1;\n        }\n        var url = this.thumbnails[idx].img;\n        if (url.indexOf('://') < 0) {\n            url = this.vttPath ? this.vttPath + '/' + url : url;\n        }\n\n        return url;\n    },\n\n    loadThumbnail: function(seconds) {\n        var url = this.chooseThumbnail(seconds);\n        var style = {\n            margin: '0 auto',\n            backgroundPosition: '0 0'\n        };\n\n        var hashIndex = url.indexOf('#xywh');\n        if (hashIndex > 0) {\n            try {\n                var matched = (/(.+)#xywh=(\\d+),(\\d+),(\\d+),(\\d+)/).exec(url);\n                url = matched[1];\n                style.backgroundPosition = (matched[2] * -1) + 'px ' + (matched[3] * -1) + 'px';\n                style.width = matched[4];\n                this.timeTip.setWidth(+style.width);\n                style.height = matched[5];\n            } catch (e) {\n                // this.vttFailed('Could not parse thumbnail');\n                return;\n            }\n        } else if (!this.individualImage) {\n            this.individualImage = new Image();\n            this.individualImage.onload = _.bind(function () {\n                this.individualImage.onload = null;\n                this.timeTip.image({ width: this.individualImage.width, height: this.individualImage.height });\n                this.timeTip.setWidth(this.individualImage.width);\n            }, this);\n            this.individualImage.src = url;\n        }\n\n        style.backgroundImage = 'url(\"' + url + '\")';\n\n        return style;\n    },\n\n    showThumbnail: function(seconds) {\n        // Don't attempt to set thumbnail for small players or when a thumbnail doesn't exist\n        if (this._model.get('containerWidth') <= 420 || this.thumbnails.length < 1) {\n            return;\n        }\n        this.timeTip.image(this.loadThumbnail(seconds));\n    },\n\n    resetThumbnails: function() {\n        this.timeTip.image({\n            backgroundImage: '',\n            width: 0,\n            height: 0\n        });\n        this.thumbnails = [];\n    }\n};\n\nexport default ThumbnailsMixin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/thumbnails.mixin.js","import Tooltip from 'view/controls/components/tooltip';\nimport Slider from 'view/controls/components/slider';\nimport UI from 'utils/ui';\n\nexport default class VolumeTooltip extends Tooltip {\n    constructor(_model, name, ariaText, svgIcons) {\n        super(name, ariaText, true, svgIcons);\n\n        this._model = _model;\n        this.volumeSlider = new Slider('jw-slider-volume jw-volume-tip', 'vertical');\n        this.volumeSlider.setup();\n        this.volumeSlider.element().classList.remove('jw-background-color');\n\n        this.addContent(this.volumeSlider.element());\n\n        this.volumeSlider.on('update', function (evt) {\n            this.trigger('update', evt);\n        }, this);\n\n        new UI(this.el, { useHover: true, directSelect: true, useFocus: true })\n            .on('click enter', this.toggleValue, this)\n            .on('tap', this.toggleOpenState, this)\n            .on('over', this.openTooltip, this)\n            .on('out', this.closeTooltip, this);\n\n        this._model.on('change:volume', this.onVolume, this);\n    }\n\n    toggleValue() {\n        this.trigger('toggleValue');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/volumetooltip.js","import displayContainerTemplate from 'view/controls/templates/display-container';\nimport RewindDisplayIcon from 'view/controls/rewind-display-icon';\nimport PlayDisplayIcon from 'view/controls/play-display-icon';\nimport NextDisplayIcon from 'view/controls/next-display-icon';\nimport { cloneIcons } from 'view/controls/icons';\nimport utils from 'utils/helpers';\n\nexport default class DisplayContainer {\n    constructor(model, api) {\n        this.el = utils.createElement(displayContainerTemplate(model.get('localization')));\n\n        const container = this.el.querySelector('.jw-display-controls');\n        const buttons = {};\n\n        addButton('rewind', cloneIcons('rewind'), RewindDisplayIcon, container, buttons, model, api);\n        addButton('display', cloneIcons('play,pause,buffer,replay'), PlayDisplayIcon, container, buttons, model, api);\n        addButton('next', cloneIcons('next'), NextDisplayIcon, container, buttons, model, api);\n\n        this.container = container;\n        this.buttons = buttons;\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\nfunction addButton(name, iconElements, ButtonClass, container, buttons, model, api) {\n    const buttonElement = container.querySelector(`.jw-display-icon-${name}`);\n    const iconContainer = container.querySelector(`.jw-icon-${name}`);\n    iconElements.forEach(icon => {\n        iconContainer.appendChild(icon); \n    });\n    buttons[name] = new ButtonClass(model, api, buttonElement);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/display-container.js","import displayIconTemplate from 'view/controls/templates/display-icon';\n\nexport default (localization) => {\n    return (\n        `<div class=\"jw-display jw-reset\">` +\n            `<div class=\"jw-display-container jw-reset\">` +\n                `<div class=\"jw-display-controls jw-reset\">` +\n                    displayIconTemplate('rewind', localization.rewind) +\n                    displayIconTemplate('display', localization.playback) +\n                    displayIconTemplate('next', localization.next) +\n                `</div>` +\n            `</div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/display-container.js","export default (iconName = '', ariaLabel = '') => {\n    return (\n        `<div class=\"jw-display-icon-container jw-display-icon-${iconName} jw-reset\">` +\n            `<div class=\"jw-icon jw-icon-${iconName} jw-button-color jw-reset\" role=\"button\" tabindex=\"0\" aria-label=\"${ariaLabel}\"></div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/display-icon.js","import UI from 'utils/ui';\n\nexport default class RewindDisplayIcon {\n    constructor(model, api, element) {\n        this.el = element;\n\n        new UI(this.el).on('click tap enter', function() {\n            const currentPosition = model.get('position');\n            const duration = model.get('duration');\n            const rewindPosition = currentPosition - 10;\n            let startPosition = 0;\n\n            // duration is negative in DVR mode\n            if (model.get('streamType') === 'DVR') {\n                startPosition = duration;\n            }\n            // Seek 10s back. Seek value should be >= 0 in VOD mode and >= (negative) duration in DVR mode\n            api.seek(Math.max(rewindPosition, startPosition));\n        });\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/rewind-display-icon.js","import Events from 'utils/backbone.events';\nimport UI from 'utils/ui';\n\nexport default class PlayDisplayIcon {\n    constructor(_model, api, element) {\n        Object.assign(this, Events);\n\n        const localization = _model.get('localization');\n        const iconDisplay = element.getElementsByClassName('jw-icon-display')[0];\n        element.style.cursor = 'pointer';\n        this.icon = iconDisplay;\n        this.el = element;\n\n        new UI(this.el).on('click tap enter', (evt) => {\n            this.trigger(evt.type);\n        });\n\n        _model.on('change:state', (model, newstate) => {\n            let newstateLabel;\n            switch (newstate) {\n                case 'buffering':\n                    newstateLabel = localization.buffer;\n                    break;\n                case 'playing':\n                    newstateLabel = localization.pause;\n                    break;\n                case 'paused':\n                    newstateLabel = localization.playback;\n                    break;\n                case 'complete':\n                    newstateLabel = localization.replay;\n                    break;\n                default:\n                    newstateLabel = '';\n                    break;\n            }\n            if (newstateLabel === '') {\n                iconDisplay.removeAttribute('aria-label');\n            } else {\n                iconDisplay.setAttribute('aria-label', newstateLabel);\n            }\n        });\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/play-display-icon.js","import UI from 'utils/ui';\n\nexport default class NextDisplayIcon {\n    constructor(model, api, element) {\n\n        new UI(element).on('click tap enter', function() {\n            api.next();\n        });\n\n        model.change('nextUp', function(nextUpChangeModel, nextUp) {\n            element.style.visibility = nextUp ? '' : 'hidden';\n        });\n\n        this.el = element;\n    }\n\n    element() {\n        return this.el;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/next-display-icon.js","import nextUpTemplate from 'view/controls/templates/nextup';\nimport { toggleClass } from 'utils/dom';\nimport UI from 'utils/ui';\nimport Events from 'utils/backbone.events';\nimport utils from 'utils/helpers';\nimport { cloneIcon } from 'view/controls/icons';\n\nexport default class NextUpTooltip {\n    constructor(_model, _api, playerElement) {\n        Object.assign(this, Events);\n        this._model = _model;\n        this._api = _api;\n        this._playerElement = playerElement;\n        this.nextUpText = _model.get('localization').nextUp;\n        this.nextUpClose = _model.get('localization').nextUpClose;\n        this.state = 'tooltip';\n        this.enabled = false;\n        this.shown = false;\n        this.reset();\n    }\n\n    setup(context) {\n        this.container = context.createElement('div');\n        this.container.className = 'jw-nextup-container jw-reset';\n        const element = utils.createElement(nextUpTemplate());\n        element.querySelector('.jw-nextup-close').appendChild(cloneIcon('close'));\n        this.addContent(element);\n\n        this.closeButton = this.content.querySelector('.jw-nextup-close');\n        this.closeButton.setAttribute('aria-label', this.nextUpClose);\n        this.tooltip = this.content.querySelector('.jw-nextup-tooltip');\n\n        const viewModel = this._model;\n        const playerViewModel = viewModel.player;\n        // Next Up is hidden until we get a valid NextUp item from the nextUp event\n        this.enabled = false;\n\n        // Events\n        viewModel.on('change:nextUp', this.onNextUp, this);\n\n        // Listen for duration changes to determine the offset from the end for when next up should be shown\n        playerViewModel.change('duration', this.onDuration, this);\n        // Listen for position changes so we can show the tooltip when the offset has been crossed\n        playerViewModel.change('position', this.onElapsed, this);\n\n        playerViewModel.change('streamType', this.onStreamType, this);\n\n        playerViewModel.change('state', function(stateChangeModel, state) {\n            if (state === 'complete') {\n                this.toggle(false);\n            }\n        }, this);\n\n        // Close button\n        new UI(this.closeButton, { directSelect: true })\n            .on('click tap enter', function() {\n                this.nextUpSticky = false;\n                this.toggle(false);\n            }, this);\n        // Tooltip\n        new UI(this.tooltip)\n            .on('click tap', this.click, this);\n    }\n\n    loadThumbnail(url) {\n        this.nextUpImage = new Image();\n        this.nextUpImage.onload = (function() {\n            this.nextUpImage.onload = null;\n        }).bind(this);\n        this.nextUpImage.src = url;\n\n        return {\n            backgroundImage: 'url(\"' + url + '\")'\n        };\n    }\n\n    click() {\n        this.reset();\n        this._api.next();\n    }\n\n    toggle(show, reason) {\n        if (!this.enabled) {\n            return;\n        }\n        toggleClass(this.container, 'jw-nextup-sticky', !!this.nextUpSticky);\n        if (this.shown !== show) {\n            this.shown = show;\n            toggleClass(this.container, 'jw-nextup-container-visible', show);\n            toggleClass(this._playerElement, 'jw-flag-nextup', show);\n            const nextUp = this._model.get('nextUp');\n            if (show && nextUp) {\n                this.trigger('nextShown', {\n                    mode: nextUp.mode,\n                    ui: 'nextup',\n                    itemsShown: [ nextUp ],\n                    feedData: nextUp.feedData,\n                    reason: reason,\n                });\n            }\n        }\n    }\n\n    setNextUpItem(nextUpItem) {\n        // Give the previous item time to complete its animation\n        setTimeout(() => {\n            // Set thumbnail\n            this.thumbnail = this.content.querySelector('.jw-nextup-thumbnail');\n            toggleClass(this.content, 'jw-nextup-thumbnail-visible', !!nextUpItem.image);\n            if (nextUpItem.image) {\n                const thumbnailStyle = this.loadThumbnail(nextUpItem.image);\n                utils.style(this.thumbnail, thumbnailStyle);\n            }\n\n            // Set header\n            this.header = this.content.querySelector('.jw-nextup-header');\n            this.header.innerText = this.nextUpText;\n\n            // Set title\n            this.title = this.content.querySelector('.jw-nextup-title');\n            const title = nextUpItem.title;\n            this.title.innerText = title ? utils.createElement(title).textContent : '';\n\n            // Set duration\n            if (nextUpItem.duration) {\n                this.duration = this.content.querySelector('.jw-nextup-duration');\n                const duration = nextUpItem.duration;\n                this.duration.innerText = duration ? utils.createElement(duration).textContent : '';\n            }\n\n        }, 500);\n    }\n\n    onNextUp(model, nextUp) {\n        this.reset();\n        if (!nextUp) {\n            return;\n        }\n\n        this.enabled = !!(nextUp.title || nextUp.image);\n\n        if (this.enabled) {\n            if (!nextUp.showNextUp) {\n                // The related plugin will countdown the nextUp item\n                this.nextUpSticky = false;\n                this.toggle(false);\n            }\n            this.setNextUpItem(nextUp);\n        }\n    }\n\n    onDuration(model, duration) {\n        if (!duration) {\n            return;\n        }\n\n        // Use nextupoffset if set or default to 10 seconds from the end of playback\n        let offset = utils.seconds(model.get('nextupoffset') || -10);\n        if (offset < 0) {\n            // Determine offset from the end. Duration may change.\n            offset += duration;\n        }\n\n        this.offset = offset;\n    }\n\n    onElapsed(model, val) {\n        const nextUpSticky = this.nextUpSticky;\n        if (!this.enabled || nextUpSticky === false) {\n            return;\n        }\n        // Show nextup during VOD streams if:\n        // - in playlist mode but not playing an ad\n        // - autoplaying in related mode and autoplaytimer is set to 0\n        const showUntilEnd = val >= this.offset;\n        if (showUntilEnd && nextUpSticky === undefined) { // show if nextUpSticky is unset\n            this.nextUpSticky = showUntilEnd;\n            this.toggle(showUntilEnd, 'time');\n        } else if (!showUntilEnd && nextUpSticky) { // reset if there was a backward seek\n            this.reset();\n        }\n    }\n\n    onStreamType(model, streamType) {\n        if (streamType !== 'VOD') {\n            this.nextUpSticky = false;\n            this.toggle(false);\n        }\n    }\n\n    element() {\n        return this.container;\n    }\n\n    addContent(elem) {\n        if (this.content) {\n            this.removeContent();\n        }\n        this.content = elem;\n        this.container.appendChild(elem);\n    }\n\n    removeContent() {\n        if (this.content) {\n            this.container.removeChild(this.content);\n            this.content = null;\n        }\n    }\n\n    reset() {\n        this.nextUpSticky = undefined;\n        this.toggle(false);\n    }\n\n    destroy() {\n        this.off();\n        this._model.off(null, null, this);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/nextuptooltip.js","export default (header = '', title = '', duration = '', closeAriaLabel = '') => {\n    return (\n        `<div class=\"jw-nextup jw-background-color jw-reset\">` +\n             `<div class=\"jw-nextup-tooltip jw-reset\">` +\n                `<div class=\"jw-nextup-thumbnail jw-reset\"></div>` +\n                `<div class=\"jw-nextup-body jw-reset\">` +\n                    `<div class=\"jw-nextup-header jw-reset\">${header}</div>` +\n                    `<div class=\"jw-nextup-title jw-reset\">${title}</div>` +\n                    `<div class=\"jw-nextup-duration jw-reset\">${duration}</div>` +\n                `</div>` +\n            `</div>` +\n            `<button type=\"button\" class=\"jw-icon jw-nextup-close jw-reset\" aria-label=\"${closeAriaLabel}\"></button>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/nextup.js","import rightclickTemplate from 'view/controls/templates/rightclick';\nimport { cloneIcon } from 'view/controls/icons';\nimport { version } from 'version';\nimport { flashVersion } from 'utils/browser';\nimport { createElement, emptyElement, addClass, removeClass, bounds } from 'utils/dom';\nimport UI from 'utils/ui';\n\nfunction createDomElement(html) {\n    const element = createElement(html);\n    const logoContainer = element.querySelector('.jw-rightclick-logo');\n    if (logoContainer) {\n        logoContainer.appendChild(cloneIcon('jwplayer-logo'));\n    }\n    return element;\n}\n\nexport default class RightClick {\n\n    buildArray() {\n        var semverParts = version.split('+');\n        var majorMinorPatchPre = semverParts[0];\n\n        var menu = {\n            items: [{\n                title: 'Powered by <span class=\"jw-reset\">JW Player ' + majorMinorPatchPre + '</span>',\n                featured: true,\n                showLogo: true,\n                link: 'https://jwplayer.com/learn-more'\n            }]\n        };\n\n        var provider = this.model.get('provider');\n        if (provider && provider.name.indexOf('flash') >= 0) {\n            var text = 'Flash Version ' + flashVersion();\n            menu.items.push({\n                title: text,\n                link: 'http://www.adobe.com/software/flash/about/'\n            });\n        }\n\n        return menu;\n    }\n\n    rightClick(evt) {\n        this.lazySetup();\n\n        if (this.mouseOverContext) {\n            // right click on menu item should execute it\n            return false;\n        }\n\n        this.hideMenu();\n        this.showMenu(evt);\n\n        return false;\n    }\n\n    getOffset(evt) {\n        var playerBounds = bounds(this.playerElement);\n        var x = evt.pageX - playerBounds.left;\n        var y = evt.pageY - playerBounds.top;\n\n        return { x: x, y: y };\n    }\n\n    showMenu(evt) {\n        // Offset relative to player element\n        var off = this.getOffset(evt);\n\n        this.el.style.left = off.x + 'px';\n        this.el.style.top = off.y + 'px';\n\n        addClass(this.playerElement, 'jw-flag-rightclick-open');\n        addClass(this.el, 'jw-open');\n        clearTimeout(this._menuTimeout);\n        this._menuTimeout = setTimeout(() => this.hideMenu(), 3000);\n        return false;\n    }\n\n    hideMenu() {\n        this.elementUI.off('out', this.hideMenu, this);\n        if (this.mouseOverContext) {\n            // If mouse is over the menu, hide the menu when mouse moves out\n            this.elementUI.on('out', this.hideMenu, this);\n            return;\n        }\n        removeClass(this.playerElement, 'jw-flag-rightclick-open');\n        removeClass(this.el, 'jw-open');\n    }\n\n    lazySetup() {\n        const html = rightclickTemplate(this.buildArray());\n        if (this.el) {\n            if (this.html !== html) {\n                this.html = html;\n                const newEl = createDomElement(html);\n                emptyElement(this.el);\n                for (let i = newEl.childNodes.length; i--;) {\n                    this.el.appendChild(newEl.firstChild);\n                }\n            }\n            return;\n        }\n\n        this.html = html;\n        this.el = createDomElement(this.html);\n\n        this.layer.appendChild(this.el);\n\n        this.hideMenuHandler = this.hideMenu.bind(this);\n        this.addOffListener(this.playerElement);\n        this.addOffListener(document);\n\n        // Track if the mouse is above the menu or not\n        this.elementUI = new UI(this.el, { useHover: true })\n            .on('over', function() {\n                this.mouseOverContext = true;\n            }, this)\n            .on('out', function() {\n                this.mouseOverContext = false;\n            }, this);\n    }\n\n    setup(_model, _playerElement, layer) {\n        this.playerElement = _playerElement;\n        this.model = _model;\n        this.mouseOverContext = false;\n        this.layer = layer;\n\n        // Defer the rest of setup until the first click\n        _playerElement.oncontextmenu = this.rightClick.bind(this);\n    }\n\n    addOffListener(element) {\n        element.addEventListener('mousedown', this.hideMenuHandler);\n        element.addEventListener('touchstart', this.hideMenuHandler);\n        element.addEventListener('pointerdown', this.hideMenuHandler);\n    }\n\n    removeOffListener(element) {\n        element.removeEventListener('mousedown', this.hideMenuHandler);\n        element.removeEventListener('touchstart', this.hideMenuHandler);\n        element.removeEventListener('pointerdown', this.hideMenuHandler);\n    }\n\n    destroy() {\n        clearTimeout(this._menuTimeout);\n        if (this.el) {\n            this.hideMenu();\n            this.elementUI.off();\n            this.removeOffListener(this.playerElement);\n            this.removeOffListener(document);\n            this.hideMenuHandler = null;\n            this.el = null;\n        }\n\n        if (this.playerElement) {\n            this.playerElement.oncontextmenu = null;\n            this.playerElement = null;\n        }\n\n        if (this.model) {\n            this.model = null;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/rightclick.js","export default (menu) => {\n    const { items = [] } = menu;\n    const itemsHtml = items\n        .map(item => {\n            return rightClickItem(item.link, item.title, item.featured, item.showLogo);\n        })\n        .join('');\n\n    return (\n        `<div class=\"jw-rightclick jw-reset\">` +\n            `<ul class=\"jw-rightclick-list jw-reset\">${itemsHtml}</ul>` +\n        `</div>`\n    );\n};\n\nconst rightClickItem = (link = '', title = '', featured, showLogo) => {\n    const logo = showLogo ? `<span class=\"jw-rightclick-logo jw-reset\"></span>` : '';\n    return (\n        `<li class=\"jw-reset jw-rightclick-item ${featured ? 'jw-featured' : ''}\">` +\n            `<a href=\"${link}\" class=\"jw-rightclick-link jw-reset\" target=\"_blank\">${logo}${title}</a>` +\n        `</li>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/rightclick.js","import { SettingsMenu } from 'view/controls/components/settings/menu';\nimport {\n    addCaptionsSubmenu,\n    removeCaptionsSubmenu,\n    addQualitiesSubmenu,\n    removeQualitiesSubmenu,\n    addAudioTracksSubmenu,\n    removeAudioTracksSubmenu,\n    addPlaybackRatesSubmenu,\n    removePlaybackRatesSubmenu\n} from 'view/utils/submenu-factory';\n\nexport function createSettingsMenu(controlbar, onVisibility) {\n    const settingsButton = controlbar.elements.settingsButton;\n    const onSubmenuAdded = () => {\n        settingsButton.show();\n    };\n    const onMenuEmpty = () => {\n        settingsButton.hide();\n    };\n\n    const settingsMenu = SettingsMenu(onVisibility, onSubmenuAdded, onMenuEmpty);\n\n    controlbar.on('settingsInteraction', (submenuName, isDefault, event) => {\n        const submenu = settingsMenu.getSubmenu(submenuName);\n        if (!submenu && !isDefault) {\n            // Do nothing if activating an invalid submenu\n            // An invalid submenu is one which does not exist\n            // The default submenu may not exist, but this case has defined behavior\n            return;\n        }\n\n        if (settingsMenu.visible) {\n            if (isDefault || submenu.active) {\n                // Close the submenu if clicking the default button (the gear) or if we're already at that submenu\n                settingsMenu.close();\n            } else {\n                // Tab to the newly activated submenu\n                settingsMenu.activateSubmenu(submenuName);\n            }\n        } else {\n            if (submenu) {\n                // Activate the selected submenu\n                settingsMenu.activateSubmenu(submenuName);\n            } else {\n                // Activate the first submenu if clicking the default button\n                settingsMenu.activateFirstSubmenu();\n            }\n            settingsMenu.open(isDefault, event);\n        }\n    });\n\n    return settingsMenu;\n}\n\n\nexport function setupSubmenuListeners(settingsMenu, controlbar, viewModel, api) {\n    const model = viewModel.player;\n\n    const activateSubmenuItem = (submenuName, itemIndex) => {\n        const submenu = settingsMenu.getSubmenu(submenuName);\n        if (submenu) {\n            submenu.activateItem(itemIndex);\n        }\n    };\n\n    const onAudiotracksChanged = (changedModel, audioTracks) => {\n        if (!audioTracks || audioTracks.length <= 1) {\n            removeAudioTracksSubmenu(settingsMenu);\n            return;\n        }\n\n        addAudioTracksSubmenu(\n            settingsMenu,\n            audioTracks,\n            (index) => api.setCurrentAudioTrack(index),\n            model.get('currentAudioTrack'),\n            model.get('localization').audioTracks\n        );\n    };\n\n    const onQualitiesChanged = (changedModel, levels) => {\n        if (!levels || levels.length <= 1) {\n            removeQualitiesSubmenu(settingsMenu);\n            return;\n        }\n\n        addQualitiesSubmenu(\n            settingsMenu,\n            levels,\n            (index) => api.setCurrentQuality(index),\n            model.get('currentLevel'),\n            model.get('localization').hd\n        );\n    };\n\n    const onCaptionsChanged = (changedModel, captionsList) => {\n        const controlbarButton = controlbar.elements.captionsButton;\n        if (!captionsList || captionsList.length <= 1) {\n            removeCaptionsSubmenu(settingsMenu);\n            controlbarButton.hide();\n            return;\n        }\n\n        addCaptionsSubmenu(settingsMenu,\n            captionsList,\n            (index) => api.setCurrentCaptions(index),\n            model.get('captionsIndex'),\n            model.get('localization').cc\n        );\n        controlbar.toggleCaptionsButtonState(!!model.get('captionsIndex'));\n        controlbarButton.show();\n    };\n\n    const setupPlaybackRatesMenu = (changedModel, playbackRates) => {\n        const showPlaybackRateControls =\n            model.get('supportsPlaybackRate') &&\n            model.get('streamType') !== 'LIVE' &&\n            model.get('playbackRateControls') &&\n            playbackRates.length > 1;\n\n        if (!showPlaybackRateControls) {\n            removePlaybackRatesSubmenu(settingsMenu);\n            return;\n        }\n\n        addPlaybackRatesSubmenu(\n            settingsMenu,\n            playbackRates,\n            (playbackRate) => api.setPlaybackRate(playbackRate),\n            model.get('playbackRate'),\n            model.get('localization').playbackRates\n        );\n    };\n\n    // Quality Levels\n    model.change('levels', onQualitiesChanged, settingsMenu);\n    model.on('change:currentLevel', (changedModel, currentQuality) => {\n        activateSubmenuItem('quality', currentQuality);\n    }, settingsMenu);\n\n    // Audio Tracks\n    model.change('audioTracks', onAudiotracksChanged, settingsMenu);\n    model.on('change:currentAudioTrack', (changedModel, currentAudioTrack) => {\n        activateSubmenuItem('audioTracks', currentAudioTrack);\n    }, settingsMenu);\n\n    // Captions\n    model.change('captionsList', onCaptionsChanged, settingsMenu);\n    model.change('captionsIndex', (changedModel, index) => {\n        const captionsSubmenu = settingsMenu.getSubmenu('captions');\n        if (captionsSubmenu) {\n            captionsSubmenu.activateItem(index);\n            controlbar.toggleCaptionsButtonState(!!index);\n        }\n    }, settingsMenu);\n\n    // Playback Rates\n    model.change('playbackRates', setupPlaybackRatesMenu, settingsMenu);\n    model.change('playbackRate', (changedModel, playbackRate) => {\n        const rates = model.get('playbackRates');\n        if (rates) {\n            activateSubmenuItem('playbackRates', rates.indexOf(playbackRate));\n        }\n    }, settingsMenu);\n\n    // Remove the audio tracks, qualities, and playback rates submenus when casting\n    model.on('change:castActive', (changedModel, active, previousState) => {\n        if (active === previousState) {\n            return;\n        }\n\n        if (active) {\n            removeAudioTracksSubmenu(settingsMenu);\n            removeQualitiesSubmenu(settingsMenu);\n            removePlaybackRatesSubmenu(settingsMenu);\n        } else {\n            onAudiotracksChanged(model, model.get('audioTracks'));\n            onQualitiesChanged(model, model.get('levels'));\n            setupPlaybackRatesMenu(model, model.get('playbackRates'));\n        }\n    }, settingsMenu);\n\n    model.on('change:streamType', () => {  \n        setupPlaybackRatesMenu(model, model.get('playbackRates'));\n    }, settingsMenu);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/settings-menu.js","import { cloneIcon } from 'view/controls/icons';\nimport button from 'view/controls/components/button';\nimport SettingsMenuTemplate from 'view/controls/templates/settings/menu';\nimport { createElement, emptyElement, prependChild } from 'utils/dom';\n\nexport function SettingsMenu(onVisibility, onSubmenuAdded, onMenuEmpty) {\n    const documentClickHandler = (e) => {\n        // Close if anything other than the settings menu has been clicked\n        // Let the display (jw-video) handles closing itself (display clicks do not pause if the menu is open)\n        // Don't close if the user has dismissed the nextup tooltip via it's close button (the tooltip overlays the menu)\n        const targetClass = e.target.className;\n        if (!targetClass.match(/jw-(settings|video|nextup-close|sharing-link)/)) {\n            instance.close();\n        }\n    };\n\n    let visible;\n    let active = null;\n    const submenus = {};\n\n    const settingsMenuElement = createElement(SettingsMenuTemplate());\n\n    const closeOnEnter = function(evt) {\n        if (evt && evt.keyCode === 27) {\n            instance.close(evt);\n            evt.stopPropagation();\n        }\n    };\n    settingsMenuElement.addEventListener('keydown', closeOnEnter);\n\n    const closeButton = button('jw-settings-close', () => {\n        instance.close();\n    }, 'Close Settings', [cloneIcon('close')]);\n\n    const closeOnButton = function(evt) {\n        // Close settings menu when enter is pressed on the close button\n        // or when tab key is pressed since it is the last element in topbar\n        if (evt.keyCode === 13 || (evt.keyCode === 9 && !evt.shiftKey)) {\n            instance.close(evt);\n        }\n    };\n    closeButton.show();\n    closeButton.element().addEventListener('keydown', closeOnButton);\n\n    const topbarElement = settingsMenuElement.querySelector('.jw-settings-topbar');\n    topbarElement.appendChild(closeButton.element());\n\n    const instance = {\n        open(isDefault, event) {\n            visible = true;\n            onVisibility(visible, event);\n            settingsMenuElement.setAttribute('aria-expanded', 'true');\n            addDocumentListeners(documentClickHandler);\n\n            if (isDefault) {\n                if (event && event.type === 'enter') {\n                    active.categoryButtonElement.focus();\n                }\n            } else {\n                active.element().firstChild.focus();\n            }\n\n        },\n        close(event) {\n            visible = false;\n            onVisibility(visible, event);\n\n            active = null;\n            deactivateAllSubmenus(submenus);\n\n            settingsMenuElement.setAttribute('aria-expanded', 'false');\n            removeDocumentListeners(documentClickHandler);\n        },\n        toggle() {\n            if (visible) {\n                this.close();\n            } else {\n                this.open();\n            }\n        },\n        addSubmenu(submenu) {\n            if (!submenu) {\n                return;\n            }\n            const name = submenu.name;\n            submenus[name] = submenu;\n\n            if (submenu.isDefault) {\n                prependChild(topbarElement, submenu.categoryButtonElement);\n                submenu.categoryButtonElement.addEventListener('keydown', function(evt) {\n                    // close settings menu if you shift-tab on the first category button element\n                    if (evt.keyCode === 9 && evt.shiftKey) {\n                        instance.close(evt);\n                    }\n                });\n            } else {\n                // sharing should always be the last submenu\n                const sharingButton = topbarElement.querySelector('.jw-submenu-sharing');\n                topbarElement.insertBefore(\n                    submenu.categoryButtonElement,\n                    sharingButton || closeButton.element()\n                );\n            }\n\n            settingsMenuElement.appendChild(submenu.element());\n\n            onSubmenuAdded();\n        },\n        getSubmenu(name) {\n            return submenus[name];\n        },\n        removeSubmenu(name) {\n            const submenu = submenus[name];\n            if (!submenu || submenu.element().parentNode !== settingsMenuElement) {\n                return;\n            }\n            settingsMenuElement.removeChild(submenu.element());\n            topbarElement.removeChild(submenu.categoryButtonElement);\n            submenu.destroy();\n            delete submenus[name];\n\n            if (!Object.keys(submenus).length) {\n                this.close();\n                onMenuEmpty();\n            }\n        },\n        activateSubmenu(name) {\n            const submenu = submenus[name];\n            if (!submenu || submenu.active) {\n                return;\n            }\n\n            deactivateAllSubmenus(submenus);\n            submenu.activate();\n            active = submenu;\n\n            if (!submenu.isDefault) {\n                active.element().firstChild.focus();\n            }\n        },\n        activateFirstSubmenu() {\n            const firstSubmenuName = Object.keys(submenus)[0];\n            this.activateSubmenu(firstSubmenuName);\n        },\n        element() {\n            return settingsMenuElement;\n        },\n        destroy() {\n            this.close();\n            settingsMenuElement.removeEventListener('keydown', closeOnEnter);\n            closeButton.element().removeEventListener('keydown', closeOnButton);\n            emptyElement(settingsMenuElement);\n        }\n    };\n\n    Object.defineProperties(instance, {\n        visible: {\n            enumerable: true,\n            get: () => visible\n        },\n    });\n\n    return instance;\n}\n\nconst addDocumentListeners = (handler) => {\n    document.addEventListener('mouseup', handler);\n    document.addEventListener('pointerup', handler);\n    document.addEventListener('touchstart', handler);\n};\n\nconst removeDocumentListeners = (handler) => {\n    document.removeEventListener('mouseup', handler);\n    document.removeEventListener('pointerup', handler);\n    document.removeEventListener('touchstart', handler);\n};\n\nconst deactivateAllSubmenus = (submenus) => {\n    Object.keys(submenus).forEach(name => {\n        submenus[name].deactivate();\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/menu.js","export default () => {\n    return (\n        `<div class=\"jw-reset jw-settings-menu\" role=\"menu\" aria-expanded=\"false\">` +\n            `<div class=\"jw-reset jw-settings-topbar\" role=\"menubar\">` +\n            `</div>` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/menu.js","import { cloneIcon } from 'view/controls/icons';\nimport SettingsSubmenu from 'view/controls/components/settings/submenu';\nimport SettingsContentItem from 'view/controls/components/settings/content-item';\nimport button from 'view/controls/components/button';\nimport { SimpleTooltip } from 'view/controls/components/simple-tooltip';\n\nconst AUDIO_TRACKS_SUBMENU = 'audioTracks';\nconst CAPTIONS_SUBMENU = 'captions';\nconst QUALITIES_SUBMENU = 'quality';\nconst PLAYBACK_RATE_SUBMENU = 'playbackRates';\nconst DEFAULT_SUBMENU = QUALITIES_SUBMENU;\n\nexport const makeSubmenu = (settingsMenu, name, contentItems, icon, tooltipText) => {\n    let submenu = settingsMenu.getSubmenu(name);\n    if (submenu) {\n        submenu.replaceContent(contentItems);\n    } else {\n        const categoryButton = button(`jw-settings-${name}`, () => {\n            settingsMenu.activateSubmenu(name);\n            submenu.element().children[0].focus();\n        }, name, [icon]);\n        const categoryButtonElement = categoryButton.element();\n        categoryButtonElement.setAttribute('role', 'menuitemradio');\n        categoryButtonElement.setAttribute('aria-checked', 'false');\n\n        // Qualities submenu is the default submenu\n        submenu = SettingsSubmenu(name, categoryButton, name === DEFAULT_SUBMENU);\n        submenu.addContent(contentItems);\n        if (!('ontouchstart' in window)) {\n            SimpleTooltip(categoryButtonElement, name, tooltipText);\n        }\n        settingsMenu.addSubmenu(submenu);\n    }\n\n    return submenu;\n};\n\nexport function addCaptionsSubmenu(settingsMenu, captionsList, action, initialSelectionIndex, tooltipText) {\n    const captionsContentItems = captionsList.map((track, index) => {\n        const contentItemElement = SettingsContentItem(track.id, track.label, (evt) => {\n            action(index);\n            settingsMenu.close(evt);\n        });\n\n        return contentItemElement;\n    });\n\n    const captionsSubmenu = makeSubmenu(settingsMenu, CAPTIONS_SUBMENU, captionsContentItems, cloneIcon('cc-off'), tooltipText);\n    captionsSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removeCaptionsSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(CAPTIONS_SUBMENU);\n}\n\nexport function addAudioTracksSubmenu(settingsMenu, audioTracksList, action, initialSelectionIndex, tooltipText) {\n    const audioTracksItems = audioTracksList.map((track, index) => {\n        return SettingsContentItem(track.name, track.name, (evt) => {\n            action(index);\n            settingsMenu.close(evt);\n        });\n    });\n\n    const audioTracksSubmenu = makeSubmenu(settingsMenu, AUDIO_TRACKS_SUBMENU, audioTracksItems,\n        cloneIcon('audio-tracks'), tooltipText);\n    audioTracksSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removeAudioTracksSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(AUDIO_TRACKS_SUBMENU);\n}\n\nexport function addQualitiesSubmenu(settingsMenu, qualitiesList, action, initialSelectionIndex, tooltipText) {\n    const qualitiesItems = qualitiesList.map((track, index) => {\n        return SettingsContentItem(track.label, track.label, (evt) => {\n            action(index);\n            settingsMenu.close(evt);\n        });\n    });\n\n    const qualitiesSubmenu = makeSubmenu(settingsMenu, QUALITIES_SUBMENU, qualitiesItems, cloneIcon('quality-100'), tooltipText);\n    qualitiesSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removeQualitiesSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(QUALITIES_SUBMENU);\n}\n\nexport function addPlaybackRatesSubmenu(settingsMenu, rateList, action, initialSelectionIndex, tooltipText) {\n    const rateItems = rateList.map((playbackRate) => {\n        return SettingsContentItem(playbackRate, playbackRate + 'x', (evt) => {\n            action(playbackRate);\n            settingsMenu.close(evt);\n        });\n    });\n\n    const playbackRatesSubmenu = makeSubmenu(settingsMenu, PLAYBACK_RATE_SUBMENU, rateItems, cloneIcon('playback-rate'), tooltipText);\n    playbackRatesSubmenu.activateItem(initialSelectionIndex);\n}\n\nexport function removePlaybackRatesSubmenu(settingsMenu) {\n    settingsMenu.removeSubmenu(PLAYBACK_RATE_SUBMENU);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/submenu-factory.js","import SubmenuTemplate from 'view/controls/templates/settings/submenu';\nimport { createElement, emptyElement, toggleClass } from 'utils/dom';\n\nexport default function SettingsSubmenu(name, categoryButton, isDefault) {\n\n    let active;\n    let contentItems = [];\n    const submenuElement = createElement(SubmenuTemplate(name));\n    const categoryButtonElement = categoryButton.element();\n\n    categoryButtonElement.setAttribute('name', name);\n    categoryButtonElement.className += ' jw-submenu-' + name;\n    categoryButton.show();\n\n    // return focus to topbar element when tabbing after the first or last item\n    const onFocus = function(evt) {\n        const focus =\n            categoryButtonElement &&\n            evt.keyCode === 9 && (\n                evt.srcElement === contentItems[0].element() && evt.shiftKey ||\n                evt.srcElement === contentItems[contentItems.length - 1].element() && !evt.shiftKey\n            );\n\n        if (focus) {\n            categoryButtonElement.focus();\n        }\n    };\n\n    const instance = {\n        addContent(items) {\n            if (!items) {\n                return;\n            }\n            items.forEach(item => {\n                submenuElement.appendChild(item.element());\n            });\n\n            contentItems = items;\n\n            contentItems[0].element().addEventListener('keydown', onFocus);\n            contentItems[contentItems.length - 1].element().addEventListener('keydown', onFocus);\n        },\n        replaceContent(items) {\n            instance.removeContent();\n            this.addContent(items);\n        },\n        removeContent() {\n            contentItems[0].element().removeEventListener('keydown', onFocus);\n            contentItems[contentItems.length - 1].element().removeEventListener('keydown', onFocus);\n\n            emptyElement(submenuElement);\n            contentItems = [];\n        },\n        activate() {\n            toggleClass(submenuElement, 'jw-settings-submenu-active', true);\n            submenuElement.setAttribute('aria-expanded', 'true');\n            categoryButtonElement.setAttribute('aria-checked', 'true');\n            active = true;\n        },\n        deactivate() {\n            toggleClass(submenuElement, 'jw-settings-submenu-active', false);\n            submenuElement.setAttribute('aria-expanded', 'false');\n            categoryButtonElement.setAttribute('aria-checked', 'false');\n            active = false;\n        },\n        activateItem(itemOrdinal = 0) {\n            const item = contentItems[itemOrdinal];\n            if (!item || item.active) {\n                return;\n            }\n            deactivateAllItems(contentItems);\n            item.activate();\n        },\n        element() {\n            return submenuElement;\n        },\n        destroy() {\n            if (!contentItems) {\n                return;\n            }\n            contentItems.forEach(item => {\n                item.destroy();\n            });\n            this.removeContent();\n        }\n    };\n\n    Object.defineProperties(instance,\n        {\n            name: {\n                enumerable: true,\n                get: () => name\n            },\n            active: {\n                enumerable: true,\n                get: () => active\n            },\n            categoryButtonElement: {\n                enumerable: true,\n                get: () => categoryButtonElement\n            },\n            isDefault: {\n                enumerable: true,\n                get: () => isDefault\n            }\n        }\n    );\n\n    return instance;\n}\n\nconst deactivateAllItems = (items) => {\n    items.forEach(item => {\n        item.deactivate();\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/submenu.js","export default () => {\n    return (\n        `<div class=\"jw-reset jw-settings-submenu\" role=\"menu\" aria-expanded=\"false\">` +\n        `</div>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/submenu.js","import ContentItemTemplate from 'view/controls/templates/settings/content-item';\nimport { createElement, toggleClass } from 'utils/dom';\nimport UI from 'utils/ui';\n\nexport default function SettingsContentItem(name, content, action) {\n    let active;\n    const contentItemElement = createElement(ContentItemTemplate(content));\n    const contentItemUI = new UI(contentItemElement);\n    contentItemUI.on('click tap enter', (evt) => {\n        action(evt);\n    });\n\n    const instance = {\n        activate() {\n            toggleClass(contentItemElement, 'jw-settings-item-active', true);\n            contentItemElement.setAttribute('aria-checked', 'true');\n            active = true;\n        },\n        deactivate() {\n            toggleClass(contentItemElement, 'jw-settings-item-active', false);\n            contentItemElement.setAttribute('aria-checked', 'false');\n            active = false;\n        },\n        element() {\n            return contentItemElement;\n        },\n        uiElement() {\n            return contentItemUI;\n        },\n        destroy() {\n            this.deactivate();\n            contentItemUI.destroy();\n        }\n    };\n\n    Object.defineProperty(instance, 'active', {\n        enumerable: true,\n        get: () => active\n    });\n\n    return instance;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/content-item.js","export default (content) => {\n    return (\n        `<button type=\"button\" class=\"jw-reset jw-settings-content-item\" role=\"menuitemradio\" aria-checked=\"false\">` +\n            `${content}` +\n        `</button>`\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/content-item.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/less-loader/dist/cjs.js??ref--0-3!./controls.less\");\nif(typeof content === 'string') content = [['all-players', content, '']];\n// add the styles to the DOM\nrequire(\"!../../node_modules/simple-style-loader/addStyles.js\").style(content,'all-players');\nif(content.locals) module.exports = content.locals;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/controls.less\n// module id = 147\n// module chunks = 0 1 2 3 4","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".jw-overlays,.jw-controls,.jw-controls-backdrop,.jw-settings-submenu{height:100%;width:100%}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-settings-menu .jw-icon.jw-button-color::after{position:absolute;right:0}.jw-overlays,.jw-controls,.jw-controls-backdrop{top:0;position:absolute;left:0}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-settings-menu .jw-icon.jw-button-color::after{position:absolute;bottom:0;left:0}.jw-nextup-close{position:absolute;top:0;right:0}.jw-overlays,.jw-controls{position:absolute;bottom:0;right:0}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-time-tip::after,.jw-settings-menu .jw-icon.jw-button-color::after,.jw-text-live::before,.jw-controlbar .jw-tooltip::after,.jw-settings-menu .jw-tooltip::after{content:\\\"\\\";display:block}.jw-svg-icon{height:24px;width:24px;fill:currentColor;pointer-events:none}.jw-icon{height:44px;width:44px;background-color:transparent}.jw-icon-airplay .jw-svg-icon-airplay-off{display:none}.jw-off.jw-icon-airplay .jw-svg-icon-airplay-off{display:block}.jw-icon-airplay .jw-svg-icon-airplay-on{display:block}.jw-off.jw-icon-airplay .jw-svg-icon-airplay-on{display:none}.jw-icon-cc .jw-svg-icon-cc-off{display:none}.jw-off.jw-icon-cc .jw-svg-icon-cc-off{display:block}.jw-icon-cc .jw-svg-icon-cc-on{display:block}.jw-off.jw-icon-cc .jw-svg-icon-cc-on{display:none}.jw-icon-fullscreen .jw-svg-icon-fullscreen-off{display:none}.jw-off.jw-icon-fullscreen .jw-svg-icon-fullscreen-off{display:block}.jw-icon-fullscreen .jw-svg-icon-fullscreen-on{display:block}.jw-off.jw-icon-fullscreen .jw-svg-icon-fullscreen-on{display:none}.jw-icon-volume .jw-svg-icon-volume-0{display:none}.jw-off.jw-icon-volume .jw-svg-icon-volume-0{display:block}.jw-icon-volume .jw-svg-icon-volume-100{display:none}.jw-full.jw-icon-volume .jw-svg-icon-volume-100{display:block}.jw-icon-volume .jw-svg-icon-volume-50{display:block}.jw-off.jw-icon-volume .jw-svg-icon-volume-50,.jw-full.jw-icon-volume .jw-svg-icon-volume-50{display:none}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after{height:100%;width:24px;box-shadow:inset 0 -3px 0 -1px currentColor;margin:auto;opacity:0;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-settings-menu .jw-icon[aria-checked=\\\"true\\\"]::after,.jw-settings-open .jw-icon-settings::after,.jw-icon-volume.jw-open::after{opacity:1}.jw-overlays,.jw-controls{pointer-events:none}.jw-controls-backdrop{display:block;background:linear-gradient(to bottom, transparent, rgba(0,0,0,0.4) 77%, rgba(0,0,0,0.4) 100%) 100% 100% / 100% 240px no-repeat transparent;transition:opacity 250ms cubic-bezier(0, -0.25, .25, 1),background-size 250ms cubic-bezier(0, -0.25, .25, 1);pointer-events:none}.jw-overlays{cursor:auto}.jw-controls{overflow:hidden}.jw-flag-small-player .jw-controls{text-align:center}.jw-text{height:1em;font-family:Arial,Helvetica,sans-serif;font-size:.75em;font-style:normal;font-weight:normal;color:#fff;text-align:center;font-variant:normal;font-stretch:normal}.jw-controlbar,.jw-skip,.jw-display-icon-container,.jw-display-icon-container .jw-icon,.jw-nextup-container,.jw-autostart-mute,.jw-overlays .jw-plugin{pointer-events:all}.jwplayer .jw-display-icon-container,.jw-error .jw-display-icon-container{width:auto;height:auto;box-sizing:content-box}.jw-display{display:table;height:100%;padding:57px 0;position:relative;width:100%}.jw-flag-dragging .jw-display{display:none}.jw-state-idle:not(.jw-flag-cast-available) .jw-display{padding:0}.jw-display-container{display:table-cell;height:100%;text-align:center;vertical-align:middle}.jw-display-controls{display:inline-block}.jwplayer .jw-display-icon-container{float:left}.jw-display-icon-container{display:inline-block}.jw-display-icon-container .jw-icon{height:75px;width:75px;cursor:pointer;display:flex;justify-content:center;align-items:center}.jw-display-icon-container .jw-icon .jw-svg-icon{height:33px;width:33px;padding:0;position:relative}.jw-display-icon-container .jw-icon .jw-svg-icon-rewind{padding:.2em .05em}.jw-breakpoint-0 .jw-display-icon-next,.jw-breakpoint-0 .jw-display-icon-rewind{display:none}.jw-breakpoint-0 .jw-display .jw-icon,.jw-breakpoint-0 .jw-display .jw-svg-icon{width:44px;height:44px;line-height:44px}.jw-breakpoint-0 .jw-display .jw-icon:before,.jw-breakpoint-0 .jw-display .jw-svg-icon:before{width:22px;height:22px}.jw-breakpoint-1 .jw-display-icon-container{padding:5.5px;margin:0 22px}.jw-breakpoint-1 .jw-display .jw-icon,.jw-breakpoint-1 .jw-display .jw-svg-icon{width:44px;height:44px;line-height:44px}.jw-breakpoint-1 .jw-display .jw-icon:before,.jw-breakpoint-1 .jw-display .jw-svg-icon:before{width:22px;height:22px}.jw-breakpoint-1 .jw-display .jw-icon.jw-icon-rewind:before{width:33px;height:33px}.jw-breakpoint-2 .jw-display .jw-icon,.jw-breakpoint-3 .jw-display .jw-icon,.jw-breakpoint-2 .jw-display .jw-svg-icon,.jw-breakpoint-3 .jw-display .jw-svg-icon{width:77px;height:77px;line-height:77px}.jw-breakpoint-2 .jw-display .jw-icon:before,.jw-breakpoint-3 .jw-display .jw-icon:before,.jw-breakpoint-2 .jw-display .jw-svg-icon:before,.jw-breakpoint-3 .jw-display .jw-svg-icon:before{width:38.5px;height:38.5px}.jw-breakpoint-4 .jw-display .jw-icon,.jw-breakpoint-5 .jw-display .jw-icon,.jw-breakpoint-6 .jw-display .jw-icon,.jw-breakpoint-7 .jw-display .jw-icon,.jw-breakpoint-4 .jw-display .jw-svg-icon,.jw-breakpoint-5 .jw-display .jw-svg-icon,.jw-breakpoint-6 .jw-display .jw-svg-icon,.jw-breakpoint-7 .jw-display .jw-svg-icon{width:88px;height:88px;line-height:88px}.jw-breakpoint-4 .jw-display .jw-icon:before,.jw-breakpoint-5 .jw-display .jw-icon:before,.jw-breakpoint-6 .jw-display .jw-icon:before,.jw-breakpoint-7 .jw-display .jw-icon:before,.jw-breakpoint-4 .jw-display .jw-svg-icon:before,.jw-breakpoint-5 .jw-display .jw-svg-icon:before,.jw-breakpoint-6 .jw-display .jw-svg-icon:before,.jw-breakpoint-7 .jw-display .jw-svg-icon:before{width:44px;height:44px}.jw-controlbar{display:flex;flex-flow:row wrap;align-items:center;justify-content:center;position:absolute;left:0;bottom:0;width:100%;border:none;border-radius:0;background-size:auto;box-shadow:none;max-height:72px;transition:250ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility;transition-delay:0s}.jw-controlbar .jw-button-image{background:no-repeat 50% 50%;background-size:contain;max-height:24px}.jw-controlbar .jw-spacer{flex:1 1 auto;align-self:stretch}.jw-controlbar .jw-icon.jw-button-color:hover{color:#fff}.jw-button-container{display:flex;flex-flow:row nowrap;flex:1 1 auto;align-items:center;justify-content:center;width:100%;padding:0 12px}.jw-slider-horizontal{background-color:transparent}.jw-icon-inline{position:relative}.jw-icon-inline,.jw-icon-tooltip{height:44px;width:44px;align-items:center;display:flex;justify-content:center}.jw-icon-inline:not(.jw-text),.jw-icon-tooltip,.jw-slider-horizontal{cursor:pointer}.jw-text-elapsed,.jw-text-duration{justify-content:flex-start;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.jw-icon-tooltip{position:relative}.jw-knob:hover,.jw-icon-inline:hover,.jw-icon-tooltip:hover,.jw-icon-display:hover,.jw-option:before:hover{color:#fff}.jw-time-tip,.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{pointer-events:none}.jw-icon-cast{display:none;margin:0;padding:0}.jw-icon-cast button{background-color:transparent;border:none;padding:0;width:24px;height:24px;cursor:pointer}.jw-icon-inline.jw-icon-volume{display:none}.jwplayer .jw-text-countdown{display:none}.jw-flag-small-player .jw-display{padding-top:44px;padding-bottom:66px}.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-rewind,.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-next,.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-playback{display:none}.jw-flag-ads-vpaid:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar,.jw-flag-user-inactive.jw-state-playing:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar,.jw-flag-user-inactive.jw-state-buffering:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar{visibility:hidden;pointer-events:none;opacity:0;transition-delay:0s,250ms}.jw-flag-ads-vpaid:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop,.jw-flag-user-inactive.jw-state-playing:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop,.jw-flag-user-inactive.jw-state-buffering:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop{opacity:0}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-countdown{display:flex}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-elapsed,.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-duration{display:none}.jwplayer:not(.jw-breakpoint-0) .jw-text-duration:before{content:\\\"/\\\";padding-right:1ch;padding-left:1ch}.jwplayer:not(.jw-flag-user-inactive) .jw-controlbar{will-change:transform}.jwplayer:not(.jw-flag-user-inactive) .jw-controlbar .jw-text{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.jw-slider-container{display:flex;align-items:center;position:relative;touch-action:none}.jw-rail,.jw-buffer,.jw-progress{position:absolute;cursor:pointer}.jw-progress{background-color:#f2f2f2}.jw-rail{background-color:rgba(255,255,255,0.3)}.jw-buffer{background-color:rgba(255,255,255,0.3)}.jw-knob{height:13px;width:13px;background-color:#fff;border-radius:50%;box-shadow:0 0 10px rgba(0,0,0,0.4);opacity:1;pointer-events:none;position:absolute;-webkit-transform:translate(-50%, -50%) scale(0);transform:translate(-50%, -50%) scale(0);transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.jw-flag-dragging .jw-slider-time .jw-knob,.jw-icon-volume:active .jw-slider-volume .jw-knob{box-shadow:0 0 26px rgba(0,0,0,0.2),0 0 10px rgba(0,0,0,0.4),0 0 0 6px rgba(255,255,255,0.2)}.jw-slider-horizontal,.jw-slider-vertical{display:flex}.jw-slider-horizontal .jw-slider-container{height:5px;width:100%}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-cue,.jw-slider-horizontal .jw-knob{top:50%}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-cue{-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress{height:5px}.jw-slider-horizontal .jw-rail{width:100%}.jw-slider-vertical{align-items:center;flex-direction:column}.jw-slider-vertical .jw-slider-container{height:88px;width:5px}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-knob{left:50%}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress{height:100%;width:5px;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out;bottom:0}.jw-slider-vertical .jw-knob{-webkit-transform:translate(-50%, 50%);transform:translate(-50%, 50%)}.jw-slider-time{height:17px;width:100%;align-items:center;background:transparent none;padding:0 12px;z-index:1}.jw-slider-time .jw-rail,.jw-slider-time .jw-buffer,.jw-slider-time .jw-progress,.jw-slider-time .jw-cue{-webkit-backface-visibility:hidden;backface-visibility:hidden;height:100%;-webkit-transform:translate(0, -50%) scale(1, .6);transform:translate(0, -50%) scale(1, .6);transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}.jw-slider-time .jw-cue{background-color:rgba(33,33,33,0.8);cursor:pointer;position:absolute;width:6px}.jw-slider-time:hover .jw-rail,.jw-flag-dragging .jw-slider-time .jw-rail,.jw-flag-touch .jw-slider-time .jw-rail,.jw-slider-time:hover .jw-buffer,.jw-flag-dragging .jw-slider-time .jw-buffer,.jw-flag-touch .jw-slider-time .jw-buffer,.jw-slider-time:hover .jw-progress,.jw-flag-dragging .jw-slider-time .jw-progress,.jw-flag-touch .jw-slider-time .jw-progress,.jw-slider-time:hover .jw-cue,.jw-flag-dragging .jw-slider-time .jw-cue,.jw-flag-touch .jw-slider-time .jw-cue{-webkit-transform:translate(0, -50%) scale(1, 1);transform:translate(0, -50%) scale(1, 1)}.jw-slider-time:hover .jw-knob,.jw-flag-dragging .jw-slider-time .jw-knob,.jw-flag-touch .jw-slider-time .jw-knob{-webkit-transform:translate(-50%, -50%) scale(1);transform:translate(-50%, -50%) scale(1)}.jw-slider-time .jw-rail{background-color:rgba(255,255,255,0.2)}.jw-slider-time .jw-buffer{background-color:rgba(255,255,255,0.4)}.jw-flag-touch .jw-slider-time::before{height:44px;width:100%;content:\\\"\\\";position:absolute;display:block;bottom:calc(100% - 17px);left:0}.jwplayer .jw-rightclick{display:none;position:absolute;white-space:nowrap}.jwplayer .jw-rightclick.jw-open{display:block}.jwplayer .jw-rightclick .jw-rightclick-list{border-radius:1px;list-style:none;margin:0;padding:0}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item{background-color:rgba(0,0,0,0.8);border-bottom:1px solid #444;margin:0}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-logo{color:#fff;display:inline-flex;padding:0 10px 0 0;vertical-align:middle}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-logo .jw-svg-icon{height:20px;width:20px}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-link{border:none;color:#fff;display:block;font-size:11px;line-height:1em;padding:15px 23px;text-decoration:none}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item:last-child{border-bottom:none}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item:hover{cursor:pointer}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured{vertical-align:middle}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured .jw-rightclick-link{color:#d2d2d2}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured .jw-rightclick-link span{color:#fff}.jw-icon-tooltip.jw-open .jw-overlay{opacity:1;transition-delay:0s;visibility:visible}.jw-slider-time .jw-overlay:before{height:1em;top:auto}.jw-volume-tip{padding:13px 0 26px}.jw-time-tip,.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{height:auto;width:100%;box-shadow:0 0 10px rgba(0,0,0,0.4);color:#fff;display:block;margin:0 0 14px;pointer-events:none;position:relative;z-index:0}.jw-time-tip::after,.jw-controlbar .jw-tooltip::after,.jw-settings-menu .jw-tooltip::after{top:100%;position:absolute;left:50%;height:14px;width:14px;border-radius:1px;background-color:currentColor;-webkit-transform-origin:75% 50%;transform-origin:75% 50%;-webkit-transform:translate(-50%, -50%) rotate(45deg);transform:translate(-50%, -50%) rotate(45deg);z-index:-1}.jw-time-tip .jw-text,.jw-controlbar .jw-tooltip .jw-text,.jw-settings-menu .jw-tooltip .jw-text{background-color:#fff;border-radius:1px;color:#000;font-size:10px;height:auto;line-height:1;padding:7px 10px;display:inline-block;min-width:100%;vertical-align:middle}.jw-controlbar .jw-overlay{position:absolute;bottom:100%;left:50%;margin:0;min-height:44px;min-width:44px;opacity:0;transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility;transition-delay:0s,150ms;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);visibility:hidden;width:100%;z-index:1}.jw-controlbar .jw-overlay .jw-contents{position:relative}.jw-controlbar .jw-option{position:relative;white-space:nowrap;cursor:pointer;list-style:none;height:1.5em;font-family:inherit;line-height:1.5em;padding:0 .5em;font-size:.8em;margin:0}.jw-controlbar .jw-option::before{padding-right:.125em}.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{position:absolute;bottom:100%;left:50%;opacity:0;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);transition:100ms 0s cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,transform,visibility;transition-property:opacity,transform,visibility,-webkit-transform;visibility:hidden;white-space:nowrap;width:auto;z-index:1}.jw-controlbar .jw-tooltip.jw-open,.jw-settings-menu .jw-tooltip.jw-open,.jw-controlbar .jw-icon:focus>.jw-tooltip,.jw-settings-menu .jw-icon:focus>.jw-tooltip{opacity:1;-webkit-transform:translate(-50%, -10px);transform:translate(-50%, -10px);transition-duration:150ms;transition-delay:500ms,0s,500ms;visibility:visible}.jw-controlbar .jw-tooltip.jw-tooltip-fullscreen,.jw-settings-menu .jw-tooltip.jw-tooltip-fullscreen{left:auto;right:0;-webkit-transform:translate(0, 0);transform:translate(0, 0)}.jw-controlbar .jw-tooltip.jw-tooltip-fullscreen.jw-open,.jw-settings-menu .jw-tooltip.jw-tooltip-fullscreen.jw-open{-webkit-transform:translate(0, -10px);transform:translate(0, -10px)}.jw-controlbar .jw-tooltip.jw-tooltip-fullscreen::after,.jw-settings-menu .jw-tooltip.jw-tooltip-fullscreen::after{left:auto;right:9px}.jw-tooltip-time{height:auto;width:0;bottom:100%;line-height:normal;padding:0;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jw-tooltip-time .jw-overlay{bottom:0;min-height:0;width:auto}.jw-tooltip{bottom:57px;display:none;position:absolute}.jw-tooltip .jw-text{height:100%;white-space:nowrap;text-overflow:ellipsis;max-width:246px;overflow:hidden}.jw-flag-audio-player .jw-tooltip{display:none}.jw-flag-small-player .jw-time-thumb{display:none}.jw-skip{color:rgba(255,255,255,0.8);cursor:default;position:absolute;display:flex;right:.75em;bottom:56px;padding:.5em;border:1px solid #333;background-color:#000;align-items:center;height:2em}.jw-skip.jw-skippable{cursor:pointer;padding:.25em .75em}.jw-skip.jw-skippable:hover{cursor:pointer;color:#fff}.jw-skip.jw-skippable .jw-skip-icon{display:inline;height:24px;width:24px;margin:0}.jw-skip .jw-skip-icon{display:none;margin-left:-0.75em;padding:0 .5em}.jw-skip .jw-skip-icon .jw-svg-icon-next{display:block;padding:0}.jw-skip .jw-text,.jw-skip .jw-skip-icon{vertical-align:middle;font-size:.7em}.jw-skip .jw-text{font-weight:bold}.jw-cast{background-size:cover;display:none;height:100%;position:relative;width:100%}.jw-cast-container{background:linear-gradient(180deg, rgba(25,25,25,0.75), rgba(25,25,25,0.25), rgba(25,25,25,0));left:0;padding:20px 20px 80px;position:absolute;top:0;width:100%}.jw-cast-text{color:#fff;font-size:1.6em}.jw-breakpoint-0 .jw-cast-text{font-size:1.15em}.jw-breakpoint-1 .jw-cast-text,.jw-breakpoint-2 .jw-cast-text,.jw-breakpoint-3 .jw-cast-text{font-size:1.3em}.jw-nextup-container{position:absolute;bottom:66px;left:0;background-color:transparent;cursor:pointer;margin:0 auto;padding:12px;pointer-events:none;right:0;text-align:right;visibility:hidden;width:100%}.jw-flag-small-player .jw-nextup-container,.jw-settings-open .jw-nextup-container{display:none}.jw-nextup{background:#333;border-radius:0;box-shadow:0 0 10px rgba(0,0,0,0.5);color:rgba(255,255,255,0.8);display:inline-block;max-width:280px;overflow:hidden;opacity:0;position:relative;width:64%;pointer-events:all;-webkit-transform:translate(0, -5px);transform:translate(0, -5px);transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;transition-delay:0s}.jw-nextup:hover .jw-nextup-tooltip{color:#fff}.jw-nextup.jw-nextup-thumbnail-visible{max-width:400px}.jw-nextup.jw-nextup-thumbnail-visible .jw-nextup-thumbnail{display:block}.jw-nextup-container-visible{visibility:visible}.jw-nextup-container-visible .jw-nextup{opacity:1;-webkit-transform:translate(0, 0);transform:translate(0, 0);transition-delay:0s,0s,150ms}.jw-nextup-tooltip{display:flex;height:80px}.jw-nextup-thumbnail{width:120px;background-position:center;background-size:cover;flex:0 0 auto;display:none}.jw-nextup-body{flex:1 1 auto;overflow:hidden;padding:.75em .875em;display:flex;flex-flow:column wrap;justify-content:space-between}.jw-nextup-header,.jw-nextup-title{font-size:14px;line-height:1.35}.jw-nextup-header{font-weight:bold}.jw-nextup-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.jw-nextup-duration{align-self:flex-end;text-align:right;font-size:12px}.jw-nextup-close{height:24px;width:24px;border:none;color:rgba(255,255,255,0.8);cursor:pointer;margin:6px;visibility:hidden}.jw-nextup-close:hover{color:#fff}.jw-nextup-sticky .jw-nextup-close{visibility:visible}.jw-autostart-mute{position:absolute;bottom:0;right:12px;height:44px;width:44px;background-color:rgba(33,33,33,0.4);padding:5px 4px 5px 6px;display:none}.jwplayer.jw-flag-autostart:not(.jw-flag-media-audio) .jw-nextup{display:none}.jw-settings-menu{display:none;position:absolute;flex-flow:column nowrap;align-items:flex-start;right:12px;bottom:57px;max-width:284px;background-color:#333;pointer-events:auto}.jw-settings-open .jw-settings-menu{display:flex}.jw-breakpoint-7 .jw-settings-menu,.jw-breakpoint-6 .jw-settings-menu,.jw-breakpoint-5 .jw-settings-menu{height:232px;width:284px;max-height:232px}.jw-breakpoint-4 .jw-settings-menu,.jw-breakpoint-3 .jw-settings-menu{height:192px;width:284px;max-height:192px}.jw-breakpoint-2 .jw-settings-menu{height:179px;width:284px;max-height:179px}.jw-flag-small-player .jw-settings-menu{bottom:0;right:0;height:100%;width:100%;max-width:none}.jw-settings-menu .jw-icon.jw-button-color::after{height:100%;width:24px;box-shadow:inset 0 -3px 0 -1px currentColor;margin:auto;opacity:0;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-settings-menu .jw-icon.jw-button-color[aria-checked=\\\"true\\\"]::after{opacity:1}.jw-settings-topbar{display:flex;flex:0 0 auto;align-items:center;width:100%;background-color:rgba(0,0,0,0.4);padding:3px 5px 0}.jw-settings-topbar .jw-settings-close{margin-left:auto}.jw-settings-submenu{display:none;flex:1 1 auto;overflow-y:auto;padding:8px 20px 0 5px}.jw-settings-submenu.jw-settings-submenu-active{display:block}.jw-settings-submenu::-webkit-scrollbar{background-color:transparent;width:6px}.jw-settings-submenu::-webkit-scrollbar-thumb{background-color:#fff;border:1px solid #333;border-radius:6px}.jw-flag-touch .jw-settings-submenu{overflow-y:scroll;-webkit-overflow-scrolling:touch}.jw-settings-content-item{color:rgba(255,255,255,0.8);width:100%;font-size:12px;line-height:1;padding:7px 0 7px 15px;cursor:pointer}.jw-settings-content-item.jw-settings-item-active{color:#fff;font-weight:bold}.jw-settings-content-item:hover,.jw-settings-content-item:focus{color:#fff}.jw-settings-content-item:focus{outline:none}.jw-flag-small-player .jw-settings-content-item{line-height:1.75}.jw-breakpoint-2 .jw-settings-open .jw-display-container,.jw-flag-small-player .jw-settings-open .jw-display-container,.jw-flag-touch .jw-settings-open .jw-display-container{display:none}.jw-breakpoint-2 .jw-settings-open.jw-controls,.jw-flag-small-player .jw-settings-open.jw-controls,.jw-flag-touch .jw-settings-open.jw-controls{z-index:1}.jw-flag-small-player .jw-settings-open .jw-controlbar{display:none}.jw-settings-open .jw-icon-settings::after{opacity:1}.jw-settings-open .jw-tooltip-settings{display:none}.jw-sharing-link{cursor:pointer}.jw-state-idle:not(.jw-flag-cast-available) .jw-display{padding:0}.jw-state-idle .jw-controls{background:rgba(0,0,0,0.4)}.jw-state-idle.jw-flag-cast-available:not(.jw-flag-audio-player) .jw-controlbar .jw-slider-time,.jw-state-idle.jw-flag-cardboard-available .jw-controlbar .jw-slider-time,.jw-state-idle.jw-flag-cast-available:not(.jw-flag-audio-player) .jw-controlbar .jw-icon:not(.jw-icon-cardboard):not(.jw-icon-cast):not(.jw-icon-airplay),.jw-state-idle.jw-flag-cardboard-available .jw-controlbar .jw-icon:not(.jw-icon-cardboard):not(.jw-icon-cast):not(.jw-icon-airplay){display:none}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-icon{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-icon .jw-svg-icon-buffer{display:block}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.jwplayer.jw-state-buffering .jw-icon-playback .jw-svg-icon-play{display:none}.jwplayer.jw-state-buffering .jw-icon-display .jw-svg-icon-pause{display:none}.jwplayer.jw-state-playing .jw-display .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-playing .jw-icon-playback .jw-svg-icon-play{display:none}.jwplayer.jw-state-playing .jw-display .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-playing .jw-icon-playback .jw-svg-icon-pause{display:block}.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio) .jw-controls-backdrop{opacity:0}.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio) .jw-logo-bottom-left,.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio):not(.jw-flag-autostart) .jw-logo-bottom-right{bottom:0}.jwplayer.jw-state-paused .jw-svg-icon-pause,.jwplayer.jw-state-idle .jw-svg-icon-pause,.jwplayer.jw-state-error .jw-svg-icon-pause,.jwplayer.jw-state-complete .jw-svg-icon-pause{display:none}.jwplayer.jw-state-error .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-complete .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-buffering .jw-icon-display .jw-svg-icon-play{display:none}.jwplayer:not(.jw-state-buffering) .jw-svg-icon-buffer{display:none}.jwplayer:not(.jw-state-complete) .jw-svg-icon-replay{display:none}.jwplayer:not(.jw-state-error) .jw-svg-icon-error{display:none}.jwplayer.jw-state-complete .jw-display .jw-icon-display .jw-svg-icon-replay{display:block}.jwplayer.jw-state-complete .jw-display .jw-text{display:none}.jwplayer.jw-state-complete .jw-controls{background:rgba(0,0,0,0.4);height:100%}.jw-state-idle .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-paused .jw-icon-playback .jw-svg-icon-pause,.jwplayer.jw-state-paused .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-complete .jw-icon-playback .jw-svg-icon-pause{display:none}.jw-state-idle .jw-display-icon-rewind,.jwplayer.jw-state-buffering .jw-display-icon-rewind,.jwplayer.jw-state-complete .jw-display-icon-rewind,body .jw-error .jw-display-icon-rewind,body .jwplayer.jw-state-error .jw-display-icon-rewind,.jw-state-idle .jw-display-icon-next,.jwplayer.jw-state-buffering .jw-display-icon-next,.jwplayer.jw-state-complete .jw-display-icon-next,body .jw-error .jw-display-icon-next,body .jwplayer.jw-state-error .jw-display-icon-next{display:none}body .jw-error .jw-icon-display,body .jwplayer.jw-state-error .jw-icon-display{cursor:default}body .jw-error .jw-icon-display .jw-svg-icon-error,body .jwplayer.jw-state-error .jw-icon-display .jw-svg-icon-error{display:block}body .jw-error .jw-icon-container{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-preview{display:none}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title{padding-top:4px}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title-primary{width:auto;display:inline-block;padding-right:.5ch}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title-secondary{width:auto;display:inline-block;padding-left:0}body .jwplayer.jw-state-error .jw-controlbar,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-controlbar{display:none}body .jwplayer.jw-state-error .jw-settings-menu,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-settings-menu{height:100%;top:0;bottom:0}body .jwplayer.jw-state-error .jw-display,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-display{padding:0}body .jwplayer.jw-state-error .jw-logo-bottom-left,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-logo-bottom-left,body .jwplayer.jw-state-error .jw-logo-bottom-right,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-logo-bottom-right{bottom:0}.jwplayer.jw-state-playing.jw-flag-user-inactive .jw-display{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-state-playing:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display,.jwplayer.jw-state-paused:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting):not(.jw-flag-play-rejected) .jw-display{display:none}.jwplayer.jw-state-paused.jw-flag-play-rejected:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display-icon-rewind,.jwplayer.jw-state-paused.jw-flag-play-rejected:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display-icon-next{display:none}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-text,.jwplayer.jw-state-complete .jw-display .jw-text{display:none}.jwplayer.jw-flag-casting:not(.jw-flag-audio-player) .jw-cast{display:block}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-display-icon-container{display:none}.jwplayer.jw-flag-casting .jw-icon-hd,.jwplayer.jw-flag-casting .jw-captions,.jwplayer.jw-flag-casting .jw-icon-fullscreen,.jwplayer.jw-flag-casting .jw-icon-audio-tracks{display:none}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-icon-volume{display:none}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-icon-airplay{color:#fff}.jw-state-playing.jw-flag-casting:not(.jw-flag-audio-player) .jw-display,.jw-state-paused.jw-flag-casting:not(.jw-flag-audio-player) .jw-display{display:table}.jwplayer.jw-flag-cast-available .jw-icon-cast,.jwplayer.jw-flag-cast-available .jw-icon-airplay{display:flex}.jwplayer.jw-flag-cardboard-available .jw-icon-cardboard{display:flex}.jwplayer.jw-flag-live .jw-display-icon-rewind{visibility:hidden}.jwplayer.jw-flag-live .jw-controlbar .jw-text-elapsed,.jwplayer.jw-flag-live .jw-controlbar .jw-text-duration,.jwplayer.jw-flag-live .jw-controlbar .jw-text-countdown,.jwplayer.jw-flag-live .jw-controlbar .jw-slider-time{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-text-alt{display:flex}.jwplayer.jw-flag-live .jw-controlbar .jw-overlay:after{display:none}.jwplayer.jw-flag-live .jw-nextup-container{bottom:44px}.jwplayer.jw-flag-live .jw-text-elapsed,.jwplayer.jw-flag-live .jw-text-duration{display:none}.jw-text-live{height:24px;width:auto;align-items:center;border-radius:1px;color:rgba(255,255,255,0.8);display:flex;font-size:12px;font-weight:bold;margin-right:10px;padding:0 1ch;text-rendering:geometricPrecision;text-transform:uppercase;transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:box-shadow,color}.jw-text-live::before{height:8px;width:8px;background-color:currentColor;border-radius:50%;margin-right:6px;opacity:1;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-text-live.jw-dvr-live{box-shadow:inset 0 0 0 2px currentColor}.jw-text-live.jw-dvr-live::before{opacity:.5}.jw-text-live.jw-dvr-live:hover{color:#fff}.jwplayer.jw-flag-controls-hidden .jw-logo.jw-hide{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-flag-controls-hidden:not(.jw-flag-casting) .jw-logo-top-right{top:0}.jwplayer.jw-flag-controls-hidden .jw-plugin{bottom:.5em}.jwplayer.jw-flag-controls-hidden .jw-nextup-container{bottom:0}.jw-flag-controls-hidden .jw-controlbar,.jw-flag-controls-hidden .jw-display{visibility:hidden;pointer-events:none;opacity:0;transition-delay:0s,250ms}.jw-flag-controls-hidden .jw-controls-backdrop{opacity:0}.jw-flag-controls-hidden .jw-logo{visibility:visible}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-logo.jw-hide{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing:not(.jw-flag-casting) .jw-logo-top-right{top:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-plugin{bottom:.5em}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-nextup-container{bottom:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-captions{max-height:none}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-media{cursor:none;-webkit-cursor-visibility:auto-hide}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing.jw-flag-casting .jw-display{display:table}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing:not(.jw-flag-ads) .jw-autostart-mute{display:flex}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-flag-casting .jw-nextup-container{bottom:66px}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-flag-casting.jw-state-idle .jw-nextup-container{display:none}.jw-flag-media-audio .jw-preview{display:block}.jwplayer.jw-flag-ads .jw-preview,.jwplayer.jw-flag-ads .jw-logo,.jwplayer.jw-flag-ads .jw-captions.jw-captions-enabled,.jwplayer.jw-flag-ads .jw-nextup-container,.jwplayer.jw-flag-ads .jw-text-duration,.jwplayer.jw-flag-ads .jw-text-elapsed{display:none}.jwplayer.jw-flag-ads video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-rewind,.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-next,.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-display{display:none}.jwplayer.jw-flag-ads.jw-flag-small-player.jw-state-buffering .jw-display-icon-display{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar{flex-wrap:wrap-reverse}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time{height:auto;padding:0;pointer-events:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-slider-container{height:5px}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-rail,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-knob,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-buffer,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-cue,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-icon-settings{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-progress{-webkit-transform:none;transform:none;top:auto}.jwplayer.jw-flag-ads .jw-controlbar .jw-tooltip,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip:not(.jw-icon-volume),.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline:not(.jw-icon-playback):not(.jw-icon-fullscreen):not(.jw-icon-volume){display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-volume-tip{padding:13px 0}.jwplayer.jw-flag-ads .jw-controlbar .jw-text-alt{display:flex}.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid) .jw-controls .jw-controlbar,.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-autostart .jw-controls .jw-controlbar{display:flex;pointer-events:all;visibility:visible;opacity:1}.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-user-inactive .jw-controls-backdrop,.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-autostart.jw-flag-user-inactive .jw-controls-backdrop{opacity:1;background-size:100% 60px}.jwplayer.jw-flag-ads .jw-nextup-container{bottom:44px}.jwplayer.jw-flag-ads .jw-icon,.jwplayer.jw-flag-ads .jw-slider-horizontal{pointer-events:all}.jwplayer.jw-flag-ads-vpaid .jw-display-container,.jwplayer.jw-flag-touch.jw-flag-ads-vpaid .jw-display-container,.jwplayer.jw-flag-ads-vpaid .jw-skip,.jwplayer.jw-flag-touch.jw-flag-ads-vpaid .jw-skip{display:none}.jwplayer.jw-flag-ads-vpaid.jw-flag-small-player .jw-controls{background:none}.jwplayer.jw-flag-ads-vpaid.jw-flag-small-player .jw-controls::after{content:none}.jwplayer.jw-flag-ads-hide-controls .jw-controls-backdrop,.jwplayer.jw-flag-ads-hide-controls .jw-controls{display:none !important}.jw-flag-overlay-open-related .jw-controls,.jw-flag-overlay-open-related .jw-title,.jw-flag-overlay-open-related .jw-logo{display:none}.jwplayer.jw-flag-rightclick-open{overflow:visible}.jwplayer.jw-flag-rightclick-open .jw-rightclick{z-index:16777215}body .jwplayer.jw-flag-flash-blocked .jw-controls,body .jwplayer.jw-flag-flash-blocked .jw-overlays,body .jwplayer.jw-flag-flash-blocked .jw-controls-backdrop,body .jwplayer.jw-flag-flash-blocked .jw-preview{display:none}.jw-flag-touch.jw-breakpoint-7 .jw-captions,.jw-flag-touch.jw-breakpoint-6 .jw-captions,.jw-flag-touch.jw-breakpoint-5 .jw-captions,.jw-flag-touch.jw-breakpoint-4 .jw-captions,.jw-flag-touch.jw-breakpoint-7 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-6 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-5 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-4 .jw-nextup-container{bottom:4.25em}.jw-flag-touch.jw-breakpoint-7 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-6 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-5 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-4 video::-webkit-media-text-track-container{max-height:calc(100% - 60px)}.jw-flag-touch .jw-controlbar .jw-icon-volume{display:flex}.jw-flag-touch .jw-display,.jw-flag-touch .jw-display-container,.jw-flag-touch .jw-display-controls{pointer-events:none}.jw-flag-touch.jw-state-paused:not(.jw-breakpoint-1) .jw-display-icon-next,.jw-flag-touch.jw-state-playing:not(.jw-breakpoint-1) .jw-display-icon-next,.jw-flag-touch.jw-state-paused:not(.jw-breakpoint-1) .jw-display-icon-rewind,.jw-flag-touch.jw-state-playing:not(.jw-breakpoint-1) .jw-display-icon-rewind{display:none}.jw-flag-touch.jw-state-paused.jw-flag-dragging .jw-display{display:none}.jw-flag-audio-player{background-color:#000}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:44px}.jw-flag-audio-player .jw-preview,.jw-flag-audio-player .jw-display,.jw-flag-audio-player .jw-title,.jw-flag-audio-player .jw-nextup-container{display:none}.jw-flag-audio-player .jw-controlbar{position:relative}.jw-flag-audio-player .jw-controlbar .jw-button-container{padding-right:3px;padding-left:0}.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip,.jw-flag-audio-player .jw-controlbar .jw-icon-inline{display:none}.jw-flag-audio-player .jw-controlbar .jw-icon-volume:not(.jw-icon-tooltip),.jw-flag-audio-player .jw-controlbar .jw-icon-playback,.jw-flag-audio-player .jw-controlbar .jw-icon-next,.jw-flag-audio-player .jw-controlbar .jw-icon-rewind,.jw-flag-audio-player .jw-controlbar .jw-icon-cast,.jw-flag-audio-player .jw-controlbar .jw-text-live,.jw-flag-audio-player .jw-controlbar .jw-icon-airplay,.jw-flag-audio-player .jw-controlbar .jw-logo-button,.jw-flag-audio-player .jw-controlbar .jw-text-elapsed,.jw-flag-audio-player .jw-controlbar .jw-text-duration{display:flex;flex:0 0 auto}.jw-flag-audio-player .jw-controlbar .jw-text-duration,.jw-flag-audio-player .jw-controlbar .jw-text-countdown{padding-right:10px}.jw-flag-audio-player .jw-controlbar .jw-slider-time{display:flex;flex:0 1 auto;align-items:center}.jw-flag-audio-player.jw-flag-small-player .jw-text-elapsed,.jw-flag-audio-player.jw-flag-small-player .jw-text-duration{display:none}.jw-flag-audio-player.jw-flag-ads .jw-slider-time{display:none}.jw-hidden{display:none}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/postcss-loader/lib!./node_modules/less-loader/dist/cjs.js?{\"compress\":true,\"strictMath\":true,\"noIeCompat\":true}!./src/css/controls.less\n// module id = 148\n// module chunks = 0 1 2 3 4","import _ from 'utils/underscore';\n\nconst supportedFields = [\n    'repeat',\n    'volume',\n    'mute',\n    'autostart'\n];\n\nfunction setAutoStart(model, controller, autoStart) {\n    model.setAutoStart(autoStart);\n\n    if (model.get('state') === 'idle' && autoStart === true) {\n        controller.play({ reason: 'autostart' });\n    }\n}\n\nexport default (controller, newConfig) => {\n    const model = controller._model;\n\n    if (!_.size(newConfig)) {\n        return;\n    }\n\n    supportedFields.forEach(field => {\n        const newValue = newConfig[field];\n\n        if (_.isUndefined(newValue)) {\n            return;\n        }\n\n        switch (field) {\n            case 'mute':\n                controller.setMute(newValue);\n                break;\n            case 'volume':\n                controller.setVolume(newValue);\n                break;\n            case 'autostart':\n                setAutoStart(model, controller, newValue);\n                break;\n            default:\n                model.set(field, newValue);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/set-config.js","import { STATE_BUFFERING, STATE_COMPLETE, STATE_PAUSED,\n    MEDIA_META, MEDIA_PLAY_ATTEMPT_FAILED, MEDIA_TIME, MEDIA_COMPLETE,\n    PLAYLIST_ITEM, PLAYLIST_COMPLETE,\n    INSTREAM_CLICK, AD_SKIPPED } from 'events/events';\nimport { BACKGROUND_LOAD_OFFSET, BACKGROUND_LOAD_MIN_OFFSET } from '../program/program-constants';\nimport Promise from 'polyfills/promise';\nimport { offsetToSeconds } from 'utils/strings';\nimport Events from 'utils/backbone.events';\nimport _ from 'utils/underscore';\nimport AdProgramController from 'program/ad-program-controller';\n\nvar _defaultOptions = {\n    skipoffset: null,\n    tag: null\n};\n\nvar InstreamAdapter = function(_controller, _model, _view, _mediaPool) {\n    const _this = this;\n\n    let _adProgram = new AdProgramController(_model, _mediaPool);\n    let _array;\n    let _arrayOptions;\n    let _arrayIndex = 0;\n    let _options = {};\n    let _skipAd = _instreamItemNext;\n    let _backgroundLoadTriggered = false;\n    let _oldpos;\n    let _skipOffset;\n    let _backgroundLoadStart;\n    let _destroyed = false;\n    let _inited = false;\n\n    const _clickHandler = (evt) => {\n        if (_destroyed) {\n            return;\n        }\n        evt = evt || {};\n        evt.hasControls = !!_model.get('controls');\n\n        this.trigger(INSTREAM_CLICK, evt);\n\n        // toggle playback after click event\n        if (_adProgram.model.get('state') === STATE_PAUSED) {\n            if (evt.hasControls) {\n                _adProgram.playVideo();\n            }\n        } else {\n            _adProgram.pause();\n        }\n    };\n\n    const _doubleClickHandler = () => {\n        if (_destroyed) {\n            return;\n        }\n\n        if (_adProgram.model.get('state') === STATE_PAUSED) {\n            if (_model.get('controls')) {\n                _controller.setFullscreen();\n                _controller.play();\n            }\n        }\n    };\n\n    this.type = 'instream';\n\n    this.addAdProgramTimeListener = function() {\n        if (_inited || _destroyed) {\n            return;\n        }\n\n        _adProgram.on(MEDIA_TIME, _instreamTime, this);\n\n        // This enters the player into instream mode\n        _model.set('instream', _adProgram);\n\n        // don't trigger api play/pause on display click\n        const clickHandler = _view.clickHandler();\n        if (clickHandler) {\n            clickHandler.setAlternateClickHandlers(() => {}, null);\n        }\n\n        return this;\n    };\n\n    this.init = function() {\n        if (_inited || _destroyed) {\n            return;\n        }\n        _inited = true;\n\n        // Keep track of the original player state\n        _adProgram.setup();\n\n        _oldpos = _controller.get('position');\n        _adProgram.on('all', _instreamForward, this);\n        _adProgram.on(MEDIA_PLAY_ATTEMPT_FAILED, triggerPlayRejected, this);\n        _adProgram.on(MEDIA_TIME, _instreamTime, this);\n        _adProgram.on(MEDIA_COMPLETE, _instreamItemComplete, this);\n        _adProgram.on(MEDIA_META, _instreamMeta, this);\n\n        // Make sure the original player's provider stops broadcasting events (pseudo-lock...)\n        _controller.detachMedia();\n\n        const mediaElement = _adProgram.primedElement;\n        const mediaContainer = _model.get('mediaContainer');\n        mediaContainer.appendChild(mediaElement);\n\n        if (_controller.checkBeforePlay() || (_oldpos === 0 && !_controller.isBeforeComplete())) {\n            // make sure video restarts after preroll\n            _oldpos = 0;\n        } else if (_controller.isBeforeComplete() || _model.get('state') === STATE_COMPLETE) {\n            _oldpos = null;\n        }\n\n        // This enters the player into instream mode\n        _model.set('instream', _adProgram);\n        _adProgram.model.set('state', STATE_BUFFERING);\n\n        // don't trigger api play/pause on display click\n        const clickHandler = _view.clickHandler();\n        if (clickHandler) {\n            clickHandler.setAlternateClickHandlers(() => {}, null);\n        }\n\n        this.setText(_model.get('localization').loadingAd);\n        return this;\n    };\n\n    function triggerPlayRejected() { \n        _adProgram.model.set('playRejected', true);\n    }\n\n    function _loadNextItem() {\n        _arrayIndex++;\n        _this.loadItem(_array);\n    }\n\n    function _instreamForward(type, data) {\n        if (type === 'complete') {\n            return;\n        }\n        data = data || {};\n\n        if (_options.tag && !data.tag) {\n            data.tag = _options.tag;\n        }\n\n        this.trigger(type, data);\n\n        if (type === 'mediaError' || type === 'error') {\n            if (_array && _arrayIndex + 1 < _array.length) {\n                _loadNextItem();\n            }\n        }\n    }\n\n    function _instreamTime(evt) {\n        const { duration, position } = evt;\n        const mediaModel = _adProgram.model.mediaModel || _adProgram.model;\n        mediaModel.set('duration', duration);\n        mediaModel.set('position', position);\n\n        // Start background loading once the skip button is clickable\n        // If no skipoffset is set, default to background loading 5 seconds before the end\n        if (!_backgroundLoadStart) {\n            // Ensure background loading doesn't degrade ad performance by starting too early\n            _backgroundLoadStart = (offsetToSeconds(_skipOffset, duration) || duration) - BACKGROUND_LOAD_OFFSET;\n        }\n        if (!_backgroundLoadTriggered && position >= Math.max(_backgroundLoadStart, BACKGROUND_LOAD_MIN_OFFSET)) {\n            _controller.preloadNextItem();\n            _backgroundLoadTriggered = true;\n        }\n    }\n\n    function _instreamItemComplete(e) {\n        var data = {};\n        if (_options.tag) {\n            data.tag = _options.tag;\n        }\n        this.trigger(MEDIA_COMPLETE, data);\n        _instreamItemNext.call(this, e);\n    }\n\n    function _instreamItemNext(e) {\n        if (_array && _arrayIndex + 1 < _array.length) {\n            _loadNextItem();\n        } else {\n            if (e.type === MEDIA_COMPLETE) {\n                // Dispatch playlist complete event for ad pods\n                this.trigger(PLAYLIST_COMPLETE, {});\n            }\n            this.destroy();\n        }\n    }\n\n    this.loadItem = function(item, options) {\n        if (_destroyed || !_inited) {\n            return Promise.reject(new Error('Instream not setup'));\n        }\n        // Copy the playlist item passed in and make sure it's formatted as a proper playlist item\n        let playlist = item;\n        if (_.isArray(item)) {\n            _array = item;\n            _arrayOptions = options || _arrayOptions;\n            item = _array[_arrayIndex];\n            if (_arrayOptions) {\n                options = _arrayOptions[_arrayIndex];\n            }\n        } else {\n            playlist = [item];\n        }\n\n        const adModel = _adProgram.model;\n        adModel.set('playlist', playlist);\n\n        _model.set('hideAdsControls', false);\n\n        // Dispatch playlist item event for ad pods\n        _this.trigger(PLAYLIST_ITEM, {\n            index: _arrayIndex,\n            item: item\n        });\n\n        _options = Object.assign({}, _defaultOptions, options);\n\n        _this.addClickHandler();\n\n        adModel.set('skipButton', false);\n\n        const playPromise = _adProgram.setActiveItem(_arrayIndex);\n\n        _backgroundLoadTriggered = false;\n        _skipOffset = item.skipoffset || _options.skipoffset;\n        if (_skipOffset) {\n            _this.setupSkipButton(_skipOffset, _options);\n        }\n        return playPromise;\n    };\n\n    this.setupSkipButton = function(skipoffset, options, customNext) {\n        const adModel = _adProgram.model;\n        if (customNext) {\n            _skipAd = customNext;\n        } else {\n            _skipAd = _instreamItemNext;\n        }\n        adModel.set('skipMessage', options.skipMessage);\n        adModel.set('skipText', options.skipText);\n        adModel.set('skipOffset', skipoffset);\n        adModel.attributes.skipButton = false;\n        adModel.set('skipButton', true);\n    };\n\n    this.applyProviderListeners = function(provider) {\n        _adProgram.usePsuedoProvider(provider);\n\n        this.addClickHandler();\n    };\n\n    this.play = function() {\n        _adProgram.playVideo();\n    };\n\n    this.pause = function() {\n        _adProgram.pause();\n    };\n\n    this.addClickHandler = function() {\n        if (_destroyed) {\n            return;\n        }\n        // start listening for ad click\n        if (_view.clickHandler()) {\n            _view.clickHandler().setAlternateClickHandlers(_clickHandler, _doubleClickHandler);\n        }\n    };\n\n    this.skipAd = function(evt) {\n        var skipAdType = AD_SKIPPED;\n        this.trigger(skipAdType, evt);\n        _skipAd.call(this, {\n            type: skipAdType\n        });\n    };\n\n    function _instreamMeta(evt) {\n        // If we're getting video dimension metadata from the provider, allow the view to resize the media\n        if (evt.width && evt.height) {\n            _view.resizeMedia();\n        }\n    }\n\n    this.replacePlaylistItem = function(item) {\n        if (_destroyed) {\n            return;\n        }\n        _model.set('playlistItem', item);\n        _adProgram.srcReset();\n    };\n\n    this.destroy = function() {\n        if (_destroyed) {\n            return;\n        }\n        _destroyed = true;\n        this.trigger('destroyed');\n        this.off();\n\n        if (_view.clickHandler()) {\n            _view.clickHandler().revertAlternateClickHandlers();\n        }\n\n        _model.off(null, null, _adProgram);\n        _adProgram.off(null, null, _this);\n        _adProgram.destroy();\n\n        // Force player state with ad to pause for model \"change:state\" events to trigger\n        if (_inited && _adProgram.model) {\n            _model.attributes.state = STATE_PAUSED;\n        }\n\n        _model.set('instream', null);\n\n        _adProgram = null;\n\n        if (!_inited || _model.attributes._destroyed) {\n            return;\n        }\n\n        // Re-attach the controller & resume playback\n        // when instream was inited and the player was not destroyed\\\n        _controller.attachMedia(_oldpos);\n\n        if (this.noResume) {\n            return;\n        }\n\n        if (_oldpos === null) {\n            _controller.stopVideo();\n        } else {\n            _controller.playVideo();\n        }\n    };\n\n    this.getState = function() {\n        if (_destroyed) {\n            // api expects false to know we aren't in instreamMode\n            return false;\n        }\n        return _adProgram.model.get('state');\n    };\n\n    this.setText = function(text) {\n        if (_destroyed) {\n            return;\n        }\n        _view.setAltText(text || '');\n    };\n\n    // This method is triggered by plugins which want to hide player controls\n    this.hide = function() {\n        if (_destroyed) {\n            return;\n        }\n        _model.set('hideAdsControls', true);\n    };\n\n    /**\n     * Extracts the video tag in the foreground.\n     * @returns {Element|undefined} videoTag - the HTML <video> element in the foreground.\n     */\n    this.getMediaElement = function () {\n        if (_destroyed) {\n            return null;\n        }\n        return _adProgram.primedElement;\n    };\n\n    /**\n     * Sets the internal skip offset. Does not set the skip button.\n     * @param {Number} skipOffset - The number of seconds from the start where the ad becomes skippable.\n     * @returns {void}\n     */\n    this.setSkipOffset = function(skipOffset) {\n        // IMA will pass -1 if it doesn't know the skipoffset, or if the ad is unskippable\n        _skipOffset = skipOffset > 0 ? skipOffset : null;\n        if (_adProgram) {\n            _adProgram.model.set('skipOffset', _skipOffset);\n        }\n    };\n};\n\nObject.assign(InstreamAdapter.prototype, Events);\n\nexport default InstreamAdapter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/instream-adapter.js","import { Features } from 'environment/environment';\nimport { ERROR, FULLSCREEN, MEDIA_COMPLETE, PLAYER_STATE, STATE_PLAYING, STATE_PAUSED } from 'events/events';\nimport ProgramController from 'program/program-controller';\nimport Model from 'controller/model';\nimport changeStateEvent from 'events/change-state-event';\nimport SharedMediaPool from 'program/shared-media-pool';\n\nexport default class AdProgramController extends ProgramController {\n    constructor(model, mediaPool) {\n        super(model, mediaPool);\n        const adModel = this.model = new Model();\n        this.playerModel = model;\n        this.provider = null;\n\n        adModel.mediaModel.attributes.mediaType = 'video';\n\n        // Ad plugins must use only one element, and must use the same element during playback of an item\n        // (i.e. prerolls, midrolls, and postrolls must use the same tag)\n        let mediaElement;\n        if (Features.backgroundLoading) {\n            // The media pool has reserves an element for ads to use. It is reserved on setup and is not used by other media\n            mediaElement = mediaPool.getAdElement();\n        } else {\n            // Take the tag that we're using to play the current item. The tag has been freed before reaching this point\n            mediaElement = model.get('mediaElement');\n\n            adModel.attributes.mediaElement = mediaElement;\n            adModel.attributes.mediaSrc = mediaElement.src;\n\n            // Listen to media element for events that indicate src was reset or load() was called\n            const srcResetListener = this.srcResetListener = () => {\n                this.srcReset();\n            };\n            mediaElement.addEventListener('emptied', srcResetListener);\n            mediaElement.playbackRate = mediaElement.defaultPlaybackRate = 1;\n        }\n\n        this.mediaPool = SharedMediaPool(mediaElement, mediaPool);\n    }\n\n    setup() {\n        const { model, playerModel, primedElement } = this;\n        const playerAttributes = playerModel.attributes;\n        const mediaModelContext = playerModel.mediaModel;\n        model.setup({\n            id: playerAttributes.id,\n            volume: playerAttributes.volume,\n            instreamMode: true,\n            edition: playerAttributes.edition,\n            mediaContext: mediaModelContext,\n            mute: playerAttributes.mute,\n            streamType: 'VOD',\n            autostartMuted: playerAttributes.autostartMuted,\n            autostart: playerAttributes.autostart,\n            advertising: playerAttributes.advertising,\n            sdkplatform: playerAttributes.sdkplatform,\n            skipButton: false\n        });\n\n        model.on('fullscreenchange', this._nativeFullscreenHandler);\n        model.on('change:state', changeStateEvent, this);\n        model.on(ERROR, function(data) {\n            this.trigger(ERROR, data);\n        }, this);\n\n        if (!primedElement.paused) {\n            primedElement.pause();\n        }\n    }\n\n    setActiveItem(index) {\n        this.stopVideo();\n        this.provider = null;\n        super.setActiveItem(index)\n            .then((mediaController) => {\n                this._setProvider(mediaController.provider);\n            });\n        return this.playVideo();\n    }\n\n    usePsuedoProvider(provider) {\n        this.provider = provider;\n        if (!provider) {\n            return;\n        }\n        this._setProvider(provider);\n\n        // Match the main player's controls state\n        provider.off(ERROR);\n        provider.on(ERROR, function(data) {\n            this.trigger(ERROR, data);\n        }, this);\n    }\n\n    _setProvider(provider) {\n        // Clear current provider when applyProviderListeners(null) is called\n        if (!provider || !this.mediaPool) {\n            return;\n        }\n\n        const { model, playerModel } = this;\n        const isVpaidProvider = provider.type === 'vpaid';\n\n        provider.off();\n        provider.on('all', function(type, data) {\n            if (isVpaidProvider && (type === MEDIA_COMPLETE)) {\n                return;\n            }\n            this.trigger(type, Object.assign({}, data, { type: type }));\n        }, this);\n\n        const adMediaModelContext = model.mediaModel;\n        provider.on(PLAYER_STATE, (event) => {\n            adMediaModelContext.set('mediaState', event.newstate);\n        });\n        adMediaModelContext.on('change:mediaState', (changeAdModel, state) => {\n            this._stateHandler(state);\n        });\n        provider.attachMedia();\n        provider.volume(playerModel.get('volume'));\n        provider.mute(playerModel.getMute());\n        if (provider.setPlaybackRate) {\n            provider.setPlaybackRate(1);\n        }\n        playerModel.on('change:volume', function(data, value) {\n            this.volume = value;\n        }, this);\n        playerModel.on('change:mute', function(data, mute) {\n            this.mute = mute;\n            if (!mute) {\n                this.volume = playerModel.get('volume');\n            }\n        }, this);\n        playerModel.on('change:autostartMuted', function(data, value) {\n            if (!value) {\n                model.set('autostartMuted', value);\n                this.mute = playerModel.get('mute');\n            }\n        }, this);\n    }\n\n    destroy() {\n        const { model, mediaPool, playerModel } = this;\n        model.off();\n\n        // We only use one media element from ads; getPrimedElement will return it\n        const mediaElement = mediaPool.getPrimedElement();\n        if (!Features.backgroundLoading) {\n            if (mediaElement) {\n                mediaElement.removeEventListener('emptied', this.srcResetListener);\n                // Reset the player media model if the src was changed externally\n                if (mediaElement.src !== model.get('mediaSrc')) {\n                    this.srcReset();\n                }\n            }\n        } else {\n            mediaPool.clean();\n            const mediaContainer = playerModel.get('mediaContainer');\n            if (mediaElement.parentNode === mediaContainer) {\n                mediaContainer.removeChild(mediaElement);\n            }\n        }\n    }\n\n    srcReset() {\n        const { playerModel } = this;\n        const mediaModel = playerModel.get('mediaModel');\n        const provider = playerModel.getVideo();\n\n        mediaModel.srcReset();\n\n        // Set hlsjs.src to null so that it reloads it's item source\n        if (provider) {\n            provider.src = null;\n        }\n    }\n\n    _nativeFullscreenHandler(evt) {\n        const { model } = this;\n        model.trigger(evt.type, evt);\n        this.trigger(FULLSCREEN, {\n            fullscreen: evt.jwstate\n        });\n    }\n\n    _stateHandler(state) {\n        const { model } = this;\n        switch (state) {\n            case STATE_PLAYING:\n            case STATE_PAUSED:\n                model.set(PLAYER_STATE, state);\n                break;\n            default:\n                break;\n        }\n    }\n\n    set mute(mute) {\n        const { mediaController, model, provider } = this;\n        model.set('mute', mute);\n        super.mute = mute;\n        if (!mediaController) {\n            provider.mute(mute);\n        }\n    }\n\n    set volume(volume) {\n        const { mediaController, model, provider } = this;\n        model.set('volume', volume);\n        super.volume = volume;\n        if (!mediaController) {\n            provider.volume(volume);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/ad-program-controller.js","import cancelable from 'utils/cancelable';\nimport Eventable from 'utils/eventable';\nimport ApiQueueDecorator from 'api/api-queue';\nimport { ProviderListener } from 'program/program-listeners';\nimport { resolved } from 'polyfills/promise';\nimport { MediaModel } from 'controller/model';\nimport { seconds } from 'utils/strings';\nimport {\n    MEDIA_PLAY_ATTEMPT, MEDIA_PLAY_ATTEMPT_FAILED, MEDIA_COMPLETE,\n    PLAYER_STATE, STATE_PAUSED, STATE_BUFFERING, STATE_COMPLETE,\n    MEDIA_VISUAL_QUALITY\n} from 'events/events';\n\nexport default class MediaController extends Eventable {\n    constructor(provider, model) {\n        super();\n        this.attached = true;\n        this.beforeComplete = false;\n        this.item = null;\n        this.mediaModel = new MediaModel();\n        this.model = model;\n        this.provider = provider;\n        this.providerListener = new ProviderListener(this);\n        this.thenPlayPromise = cancelable(() => {});\n        addProviderListeners(this);\n        this.eventQueue = new ApiQueueDecorator(this, ['trigger'],\n            () => !this.attached || this.background);\n    }\n\n    play(playReason) {\n        const { item, model, mediaModel, provider } = this;\n\n        if (!playReason) {\n            playReason = model.get('playReason');\n        }\n\n        model.set('playRejected', false);\n        let playPromise = resolved;\n        if (mediaModel.get('setup')) {\n            playPromise = provider.play();\n        } else {\n            mediaModel.set('setup', true);\n            playPromise = this._loadAndPlay(item, provider);\n            if (!mediaModel.get('started')) {\n                this._playAttempt(playPromise, playReason);\n            }\n        }\n        return playPromise;\n    }\n\n    stop() {\n        const { provider } = this;\n        provider.stop();\n    }\n\n    pause() {\n        const { provider } = this;\n        provider.pause();\n    }\n\n    preload() {\n        const { item, mediaModel, provider } = this;\n        if (!item || (item && item.preload === 'none')) {\n            return;\n        }\n        // The provider has a video tag, but has not started nor preloaded\n        if (this.attached && !this.setup && !this.preloaded) {\n            mediaModel.set('preloaded', true);\n            provider.preload(item);\n        }\n    }\n\n    destroy() {\n        const { provider, mediaModel } = this;\n        this.off();\n        mediaModel.off();\n        provider.off();\n        this.eventQueue.destroy();\n        this.detach();\n        if (provider.getContainer()) {\n            provider.remove();\n        }\n        delete provider.instreamMode;\n        this.provider = null;\n        this.item = null;\n    }\n\n    attach() {\n        const { model, provider } = this;\n\n        // Restore the playback rate to the provider in case it changed while detached and we reused a video tag.\n        model.setPlaybackRate(model.get('defaultPlaybackRate'));\n        provider.attachMedia();\n        this.attached = true;\n        model.set('attached', true);\n        this.eventQueue.flush();\n\n        if (this.beforeComplete) {\n            this._playbackComplete();\n        }\n    }\n\n    detach() {\n        const { model, provider } = this;\n        this.thenPlayPromise.cancel();\n        provider.detachMedia();\n        this.attached = false;\n        model.set('attached', false);\n    }\n\n    // Executes the playPromise\n    _playAttempt(playPromise, playReason) {\n        const { item, mediaModel, model, provider } = this;\n\n        this.trigger(MEDIA_PLAY_ATTEMPT, {\n            item,\n            playReason\n        });\n        // Immediately set player state to buffering if these conditions are met\n        if (provider && provider.video && !provider.video.paused) {\n            model.set(PLAYER_STATE, STATE_BUFFERING);\n        }\n\n        playPromise.then(() => {\n            if (!mediaModel.get('setup')) {\n                // Exit if model state was reset\n                return;\n            }\n            delete item.starttime;\n            mediaModel.set('started', true);\n            if (mediaModel === model.mediaModel) {\n                // Start firing visualQuality once playback has started\n                mediaModel.off(MEDIA_VISUAL_QUALITY, null, this);\n                mediaModel.change(MEDIA_VISUAL_QUALITY, (changedMediaModel, eventData) => {\n                    this.trigger(MEDIA_VISUAL_QUALITY, eventData);\n                }, this);\n                syncPlayerWithMediaModel(mediaModel);\n            }\n        }).catch(error => {\n            model.set('playRejected', true);\n            const videoTagPaused = provider && provider.video && provider.video.paused;\n            if (videoTagPaused) {\n                mediaModel.set('mediaState', STATE_PAUSED);\n            }\n            this.trigger(MEDIA_PLAY_ATTEMPT_FAILED, {\n                error,\n                item,\n                playReason\n            });\n        });\n    }\n\n    _playbackComplete() {\n        const { provider } = this;\n        this.beforeComplete = false;\n        provider.setState(STATE_COMPLETE);\n        this.trigger(MEDIA_COMPLETE, {});\n    }\n\n    _loadAndPlay() {\n        const { item, provider } = this;\n        // Calling load() on Shaka may return a player setup promise\n        const providerSetupPromise = provider.load(item);\n        if (providerSetupPromise) {\n            const thenPlayPromise = cancelable(() => {\n                return provider.play() || resolved;\n            });\n            this.thenPlayPromise = thenPlayPromise;\n            return providerSetupPromise.then(thenPlayPromise.async);\n        }\n        return provider.play() || resolved;\n    }\n\n    get audioTrack() {\n        return this.provider.getCurrentAudioTrack();\n    }\n\n    get quality() {\n        return this.provider.getCurrentQuality();\n    }\n\n    get audioTracks() {\n        return this.provider.getAudioTracks();\n    }\n\n    get background() {\n        const { container, provider } = this;\n        // A backgrounded provider is attached to a video tag\n        if (!this.attached) {\n            return false;\n        }\n        // A provider without a video tag cannot be backgrounded\n        if (!provider.video) {\n            return false;\n        }\n        // A backgrounded provider does not have a parent container, or has one, but without the media tag as a child\n        return !container || (container && !container.contains(provider.video));\n    }\n\n    get container() {\n        return this.provider.getContainer();\n    }\n\n    get mediaElement() {\n        return this.provider.video;\n    }\n\n    get preloaded() {\n        return this.mediaModel.get('preloaded');\n    }\n\n    get qualities() {\n        return this.provider.getQualityLevels();\n    }\n\n    get setup() {\n        return this.mediaModel.get('setup');\n    }\n\n    get started() {\n        return this.mediaModel.get('started');\n    }\n\n    set activeItem(item) {\n        const mediaModel = this.mediaModel = new MediaModel();\n        const position = item ? seconds(item.starttime) : 0;\n        const duration = item ? seconds(item.duration) : 0;\n        const mediaModelState = mediaModel.attributes;\n        mediaModel.srcReset();\n        mediaModelState.position = position;\n        mediaModelState.duration = duration;\n\n        this.item = item;\n        this.provider.init(item);\n    }\n\n    set audioTrack(index) {\n        this.provider.setCurrentAudioTrack(index);\n    }\n\n    set background(shouldBackground) {\n        const { container, provider } = this;\n        // A provider without a video tag must use attach and detach\n        if (!provider.video) {\n            if (shouldBackground) {\n                this.detach();\n            } else {\n                this.attach();\n            }\n            return;\n        }\n        if (!container) {\n            return;\n        }\n\n        if (shouldBackground) {\n            if (!this.background) {\n                this.thenPlayPromise.cancel();\n                this.pause();\n                container.removeChild(provider.video);\n                this.container = null;\n            }\n        } else {\n            this.eventQueue.flush();\n            if (this.beforeComplete) {\n                this._playbackComplete();\n            }\n        }\n    }\n\n    set container(element) {\n        const { provider } = this;\n        provider.setContainer(element);\n    }\n\n    set controls(mode) {\n        this.provider.setControls(mode);\n    }\n\n    set mute(mute) {\n        this.provider.mute(mute);\n    }\n\n    set position(pos) {\n        this.provider.seek(pos);\n    }\n\n    set quality(index) {\n        this.provider.setCurrentQuality(index);\n    }\n\n    set subtitles(index) {\n        if (this.provider.setSubtitlesTrack) {\n            this.provider.setSubtitlesTrack(index);\n        }\n    }\n\n    set volume(volume) {\n        this.provider.volume(volume);\n    }\n}\n\nfunction syncPlayerWithMediaModel(mediaModel) {\n    // Sync player state with mediaModel state\n    const mediaState = mediaModel.get('mediaState');\n    mediaModel.trigger('change:mediaState', mediaModel, mediaState, mediaState);\n}\n\nfunction addProviderListeners(mediaController) {\n    mediaController.provider.on('all', mediaController.providerListener, mediaController);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/media-controller.js","/**\n * A simple data structure for containing both of the background loading objects.\n * currentMedia is the currently active item which has been put into the background during ad playback.\n * nextMedia is an item which is preloading in the background which may be selected in the future. It is usually the\n * next item in the playlist, or the next up item in a recommendations feed.\n * @returns {BackgroundMedia}\n */\n/**\n * @typedef {Object} BackgroundMedia\n * @property {MediaController} currentMedia - The mediaController which has been placed into the background during playback.\n * @property {Item} nextItem - The playlist item loading in the background.\n * @property {Promise} nextMedia - A promise representing the media loading in the background. Resolves with the mediaController.\n * @constructor\n */\nexport default function BackgroundMedia() {\n    let currentMedia = null;\n    let nextMedia = null;\n\n    return Object.defineProperties({\n        setNext(item, loadPromise) {\n            nextMedia = { item, loadPromise };\n        },\n        isNext(item) {\n            return !!(nextMedia && JSON.stringify(nextMedia.item.sources[0]) === JSON.stringify(item.sources[0]));\n        },\n        clearNext() {\n            nextMedia = null;\n        }\n    }, {\n        nextLoadPromise: {\n            get() {\n                return nextMedia ? nextMedia.loadPromise : null;\n            }\n        },\n        currentMedia: {\n            get() {\n                return currentMedia;\n            },\n            set(mediaController) {\n                currentMedia = mediaController;\n            }\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/program/background-media.js","import { loadFile } from 'controller/tracks-loader';\nimport { createId, createLabel } from 'controller/tracks-helper';\nimport Events from 'utils/backbone.events';\nimport { ERROR } from 'events/events';\n\n/* Displays closed captions or subtitles on top of the video */\nconst Captions = function(_model) {\n\n    let _tracks = [];\n    let _tracksById = {};\n    let _unknownCount = 0;\n\n    // Reset and load external captions on playlist item\n    _model.on('change:playlistItem', (model) => {\n        _tracks = [];\n        _tracksById = {};\n        _unknownCount = 0;\n\n        // Update model without dispatching events\n        const attributes = model.attributes;\n        attributes.captionsIndex = 0;\n        attributes.captionsList = _captionsMenu();\n        model.set('captionsTrack', null);\n    }, this);\n\n    // Update tracks once we know \"renderCaptionsNatively\" based on provider\n    _model.on('change:itemReady', () => {\n        // Sideload tracks when not rendering natively\n        const item = _model.get('playlistItem');\n        const tracks = item.tracks;\n        const len = tracks && tracks.length;\n        if (len && !_model.get('renderCaptionsNatively')) {\n            for (let i = 0; i < len; i++) {\n                /* eslint-disable no-loop-func */\n                const track = tracks[i];\n                if (_kindSupported(track.kind) && !_tracksById[track._id]) {\n                    _addTrack(track);\n                    loadFile(track, (vttCues) => {\n                        _addVTTCuesToTrack(track, vttCues);\n                    }, (error) => {\n                        this.trigger(ERROR, {\n                            message: 'Captions failed to load',\n                            reason: error\n                        });\n                    });\n                }\n            }\n        }\n        _setCaptionsList();\n    }, this);\n\n    // Listen for captions menu index changes from the view\n    _model.on('change:captionsIndex', (model, captionsMenuIndex) => {\n        let track = null;\n        if (captionsMenuIndex !== 0) {\n            track = _tracks[captionsMenuIndex - 1];\n        }\n        model.set('captionsTrack', track);\n    }, this);\n\n    function _setSubtitlesTracks(tracks) {\n        if (!tracks.length) {\n            return;\n        }\n\n        for (let i = 0; i < tracks.length; i++) {\n            _addTrack(tracks[i]);\n        }\n\n        // To avoid duplicate tracks in the menu when we reuse an _id, regenerate the tracks array\n        _tracks = Object.keys(_tracksById).map(id => _tracksById[id]);\n\n        _setCaptionsList();\n    }\n\n    function _kindSupported(kind) {\n        return kind === 'subtitles' || kind === 'captions';\n    }\n\n    function _addVTTCuesToTrack(track, vttCues) {\n        track.data = vttCues;\n    }\n\n    function _addTrack(track) {\n        track.data = track.data || [];\n        track.name = track.label || track.name || track.language;\n        track._id = createId(track, _tracks.length);\n\n        if (!track.name) {\n            const labelInfo = createLabel(track, _unknownCount);\n            track.name = labelInfo.label;\n            _unknownCount = labelInfo.unknownCount;\n        }\n\n        // During the same playlist we may reu and readd tracks with the same _id; allow the new track to replace the old\n        _tracksById[track._id] = track;\n        _tracks.push(track);\n    }\n\n    function _captionsMenu() {\n        const list = [{\n            id: 'off',\n            label: 'Off'\n        }];\n        for (let i = 0; i < _tracks.length; i++) {\n            list.push({\n                id: _tracks[i]._id,\n                label: _tracks[i].name || 'Unknown CC'\n            });\n        }\n        return list;\n    }\n\n    function _selectDefaultIndex() {\n        let captionsMenuIndex = 0;\n        const label = _model.get('captionLabel');\n\n        // Because there is no explicit track for \"Off\"\n        //  it is the implied zeroth track\n        if (label === 'Off') {\n            _model.set('captionsIndex', 0);\n            return;\n        }\n\n        for (let i = 0; i < _tracks.length; i++) {\n            const track = _tracks[i];\n            if (label && label === track.name) {\n                captionsMenuIndex = i + 1;\n                break;\n            } else if (track.default || track.defaulttrack || track._id === 'default') {\n                captionsMenuIndex = i + 1;\n            } else if (track.autoselect) {\n                // TODO: auto select track by comparing track.language to system lang\n            }\n        }\n        // set the index without the side effect of storing the Off label in _selectCaptions\n        _setCurrentIndex(captionsMenuIndex);\n    }\n\n    function _setCurrentIndex(index) {\n        if (_tracks.length) {\n            _model.setVideoSubtitleTrack(index, _tracks);\n        } else {\n            _model.set('captionsIndex', index);\n        }\n    }\n\n    function _setCaptionsList() {\n        const captionsList = _captionsMenu();\n        if (listIdentity(captionsList) !== listIdentity(_model.get('captionsList'))) {\n            _selectDefaultIndex();\n            _model.set('captionsList', captionsList);\n        }\n    }\n\n    function listIdentity(list) {\n        return list.map(item => `${item.id}-${item.label}`).join(',');\n    }\n\n    this.setSubtitlesTracks = _setSubtitlesTracks;\n\n    this.getCurrentIndex = function() {\n        return _model.get('captionsIndex');\n    };\n\n    this.getCaptionsList = function() {\n        return _model.get('captionsList');\n    };\n\n    this.destroy = function() {\n        this.off(null, null, this);\n    };\n};\n\nObject.assign(Captions.prototype, Events);\n\nexport default Captions;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/captions.js","import playerTemplate from 'templates/player';\nimport ErrorContainer from 'view/error-container';\nimport { isAudioMode, CONTROLBAR_ONLY_HEIGHT } from 'view/utils/audio-mode';\nimport viewsManager from 'view/utils/views-manager';\nimport getVisibility from 'view/utils/visibility';\nimport activeTab from 'utils/active-tab';\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\nimport { getBreakpoint, setBreakpoint } from 'view/utils/breakpoint';\nimport { normalizeSkin, handleColorOverrides } from 'view/utils/skin';\nimport { Browser, OS, Features } from 'environment/environment';\nimport * as ControlsLoader from 'controller/controls-loader';\nimport {\n    STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE, STATE_PAUSED, STATE_PLAYING, STATE_ERROR,\n    RESIZE, BREAKPOINT, DISPLAY_CLICK, LOGO_CLICK, ERROR, NATIVE_FULLSCREEN, MEDIA_VISUAL_QUALITY, CONTROLS } from 'events/events';\nimport Events from 'utils/backbone.events';\nimport {\n    addClass,\n    hasClass,\n    removeClass,\n    replaceClass,\n    toggleClass,\n    createElement,\n    bounds,\n} from 'utils/dom';\nimport {\n    clearCss,\n    style,\n} from 'utils/css';\nimport _ from 'utils/underscore';\nimport requestFullscreenHelper from 'view/utils/request-fullscreen-helper';\nimport flagNoFocus from 'view/utils/flag-no-focus';\nimport ClickHandler from 'view/utils/clickhandler';\nimport CaptionsRenderer from 'view/captionsrenderer';\nimport Logo from 'view/logo';\nimport Preview from 'view/preview';\nimport Title from 'view/title';\n\nrequire('css/jwplayer.less');\n\nlet ControlsModule;\n\nconst _isMobile = OS.mobile;\nconst _isIE = Browser.ie;\n\nfunction View(_api, _model) {\n    const _this = Object.assign(this, Events, {\n        isSetup: false,\n        api: _api,\n        model: _model\n    });\n\n    const _playerElement = createElement(playerTemplate(_model.get('id'), _model.get('localization').player));\n    const _videoLayer = _playerElement.querySelector('.jw-media');\n\n    const _preview = new Preview(_model);\n    const _title = new Title(_model);\n\n    const _captionsRenderer = new CaptionsRenderer(_model);\n    _captionsRenderer.on('all', _this.trigger, _this);\n\n    let _logo;\n\n    let _lastWidth;\n    let _lastHeight;\n\n    let _resizeMediaTimeout = -1;\n    let _resizeContainerRequestId = -1;\n    let _stateClassRequestId = -1;\n\n    let displayClickHandler;\n    let fullscreenHelpers;\n    let focusHelper;\n\n    let _breakpoint = null;\n    let _controls;\n\n    function reasonInteraction() {\n        return { reason: 'interaction' };\n    }\n\n    this.updateBounds = function () {\n        cancelAnimationFrame(_resizeContainerRequestId);\n        const inDOM = document.body.contains(_playerElement);\n        const rect = bounds(_playerElement);\n        const containerWidth = Math.round(rect.width);\n        const containerHeight = Math.round(rect.height);\n\n        // If the container is the same size as before, return early\n        if (containerWidth === _lastWidth && containerHeight === _lastHeight) {\n            // Listen for player to be added to DOM\n            if (!_lastWidth || !_lastHeight) {\n                _responsiveListener();\n            }\n            _model.set('inDom', inDOM);\n            return;\n        }\n        // If we have bad values for either dimension, return early\n        if (!containerWidth || !containerHeight) {\n            // If we haven't established player size, try again\n            if (!_lastWidth || !_lastHeight) {\n                _responsiveListener();\n            }\n        }\n\n        // Don't update container dimensions to 0, 0 when not in DOM\n        if (containerWidth || containerHeight || inDOM) {\n            _model.set('containerWidth', containerWidth);\n            _model.set('containerHeight', containerHeight);\n        }\n        _model.set('inDom', inDOM);\n\n        if (inDOM) {\n            viewsManager.observe(_playerElement);\n        }\n    };\n\n    this.updateStyles = function() {\n        const containerWidth = _model.get('containerWidth');\n        const containerHeight = _model.get('containerHeight');\n\n        if (_model.get('controls')) {\n            updateContainerStyles(containerWidth, containerHeight);\n        }\n\n        if (_controls) {\n            _controls.resize(containerWidth, containerHeight);\n        }\n\n        _resizeMedia(containerWidth, containerHeight);\n        _captionsRenderer.resize();\n    };\n\n    this.checkResized = function() {\n        const containerWidth = _model.get('containerWidth');\n        const containerHeight = _model.get('containerHeight');\n        if (containerWidth !== _lastWidth || containerHeight !== _lastHeight) {\n            _lastWidth = containerWidth;\n            _lastHeight = containerHeight;\n            _this.trigger(RESIZE, {\n                width: containerWidth,\n                height: containerHeight\n            });\n            const breakpoint = getBreakpoint(containerWidth);\n            if (_breakpoint !== breakpoint) {\n                _breakpoint = breakpoint;\n                _this.trigger(BREAKPOINT, {\n                    breakpoint: _breakpoint\n                });\n            }\n        }\n    };\n\n    function _responsiveListener() {\n        cancelAnimationFrame(_resizeContainerRequestId);\n        _resizeContainerRequestId = requestAnimationFrame(_responsiveUpdate);\n    }\n\n    function _responsiveUpdate() {\n        if (!_this.isSetup) {\n            return;\n        }\n        _this.updateBounds();\n        _this.updateStyles();\n        _this.checkResized();\n    }\n\n    function updateContainerStyles(width, height) {\n        const audioMode = isAudioMode(_model);\n        // Set timeslider flags\n        if (_.isNumber(width) && _.isNumber(height)) {\n            const breakpoint = getBreakpoint(width);\n            setBreakpoint(_playerElement, breakpoint);\n\n            const smallPlayer = breakpoint < 2;\n            toggleClass(_playerElement, 'jw-flag-small-player', smallPlayer);\n            toggleClass(_playerElement, 'jw-orientation-portrait', (height > width));\n        }\n        toggleClass(_playerElement, 'jw-flag-audio-player', audioMode);\n        _model.set('audioMode', audioMode);\n    }\n\n    this.setup = function () {\n        _preview.setup(_playerElement.querySelector('.jw-preview'));\n        _title.setup(_playerElement.querySelector('.jw-title'));\n\n        _logo = new Logo(_model);\n        _logo.setup();\n        _logo.setContainer(_playerElement);\n        _logo.on(LOGO_CLICK, _logoClickHandler);\n\n        // captions rendering\n        _captionsRenderer.setup(_playerElement.id, _model.get('captions'));\n\n        // captions should be placed behind controls, and not hidden when controls are hidden\n        _playerElement.insertBefore(_captionsRenderer.element(), _title.element());\n\n        // Display Click and Double Click Handling\n        displayClickHandler = clickHandlerHelper(_api, _model, _videoLayer);\n\n        focusHelper = flagNoFocus(_playerElement);\n        fullscreenHelpers = requestFullscreenHelper(_playerElement, document, _fullscreenChangeHandler);\n\n        _model.on('change:hideAdsControls', function (model, val) {\n            toggleClass(_playerElement, 'jw-flag-ads-hide-controls', val);\n        });\n        _model.on('change:scrubbing', function (model, val) {\n            toggleClass(_playerElement, 'jw-flag-dragging', val);\n        });\n        _model.on('change:playRejected', function (model, val) {\n            toggleClass(_playerElement, 'jw-flag-play-rejected', val);\n        });\n\n        // Native fullscreen (coming through from the provider)\n        _model.on(NATIVE_FULLSCREEN, _fullscreenChangeHandler);\n\n        _model.on(`change:${MEDIA_VISUAL_QUALITY}`, () => {\n            _resizeMedia();\n        });\n\n        const playerViewModel = _model.player;\n        playerViewModel.on('change:errorEvent', _errorHandler);\n        \n        _model.change('stretching', onStretchChange);\n        _model.change('flashBlocked', onFlashBlockedChange);\n\n        const width = _model.get('width');\n        const height = _model.get('height');\n        _resizePlayer(width, height);\n        _model.change('aspectratio', onAspectRatioChange);\n        if (_model.get('controls')) {\n            updateContainerStyles(width, height);\n        } else {\n            addClass(_playerElement, 'jw-flag-controls-hidden');\n        }\n\n        if (_isIE) {\n            addClass(_playerElement, 'jw-ie');\n        }\n\n        const skin = _model.get('skin') || {};\n\n        if (skin.name) {\n            replaceClass(_playerElement, /jw-skin-\\S+/, 'jw-skin-' + skin.name);\n        }\n\n        const skinColors = normalizeSkin(skin);\n        handleColorOverrides(_model.get('id'), skinColors);\n\n        // adds video tag to video layer\n        _model.set('mediaContainer', _videoLayer);\n        _model.set('iFrame', Features.iframe);\n        _model.set('activeTab', activeTab());\n        _model.set('touchMode', _isMobile && (typeof height === 'string' || height >= CONTROLBAR_ONLY_HEIGHT));\n\n        viewsManager.add(this);\n\n        this.isSetup = true;\n        _model.trigger('viewSetup', _playerElement);\n\n        const inDOM = document.body.contains(_playerElement);\n        if (inDOM) {\n            viewsManager.observe(_playerElement);\n        }\n        _model.set('inDom', inDOM);\n    };\n\n    function updateVisibility() {\n        _model.set('visibility', getVisibility(_model, _playerElement));\n    }\n\n    this.init = function() {\n        this.updateBounds();\n\n        _model.on('change:fullscreen', _fullscreen);\n        _model.on('change:activeTab', updateVisibility);\n        _model.on('change:fullscreen', updateVisibility);\n        _model.on('change:intersectionRatio', updateVisibility);\n        _model.on('change:visibility', redraw);\n        _model.on('instreamMode', (instreamMode) => {\n            if (instreamMode) {\n                setupInstream();\n            } else {\n                destroyInstream();\n            }\n        });\n\n        updateVisibility();\n\n        // Always draw first player for icons to load\n        if (viewsManager.size() === 1 && !_model.get('visibility')) {\n            redraw(_model, 1, 0);\n        }\n\n        const playerViewModel = _model.player;\n\n        _model.change('state', _stateHandler);\n        playerViewModel.change('controls', changeControls);\n        playerViewModel.change('streamType', _setLiveMode);\n        _model.change('mediaType', _onMediaTypeChange);\n        playerViewModel.change('playlistItem', onPlaylistItem);\n        // Triggering 'resize' resulting in player 'ready'\n        _lastWidth = _lastHeight = null;\n        this.checkResized();\n    };\n\n    function changeControls(model, enable) {\n        const controlsEvent = {\n            controls: enable\n        };\n        if (enable) {\n            ControlsModule = ControlsLoader.module.controls;\n            if (!ControlsModule) {\n                controlsEvent.loadPromise = ControlsLoader.load()\n                    .then(function (Controls) {\n                        ControlsModule = Controls;\n                        // Check that controls is still true after the loader promise resolves\n                        const enabledState = model.get('controls');\n                        if (enabledState) {\n                            addControls();\n                        }\n                        return enabledState;\n                    });\n                controlsEvent.loadPromise.catch(function (reason) {\n                    _this.trigger(ERROR, {\n                        message: 'Controls failed to load',\n                        reason: reason\n                    });\n                });\n            } else {\n                addControls();\n            }\n        } else {\n            _this.removeControls();\n        }\n        // Only trigger controls events after the player and view are set up (and has width/height)\n        if (_lastWidth && _lastHeight) {\n            _this.trigger(CONTROLS, controlsEvent);\n        }\n    }\n\n    function addControls() {\n        const controls = new ControlsModule(document, _this.element());\n        _this.addControls(controls);\n    }\n\n    function redraw(model, visibility, lastVisibility) {\n        if (visibility && !lastVisibility) {\n            _stateHandler(model, model.get('state'));\n            _this.updateStyles();\n        }\n    }\n\n    function clickHandlerHelper(api, model, videoLayer) {\n        const clickHandler = new ClickHandler(model, videoLayer);\n        const controls = model.get('controls');\n        clickHandler.on({\n            click: () => {\n                _this.trigger(DISPLAY_CLICK);\n\n                if (_controls) {\n                    if (settingsMenuVisible()) {\n                        _controls.settingsMenu.close();\n                    } else {\n                        api.playToggle(reasonInteraction());\n                    }\n                }\n            },\n            tap: () => {\n                _playerElement.removeEventListener('mousemove', moveHandler);\n                _playerElement.removeEventListener('mouseout', outHandler);\n                _playerElement.removeEventListener('mouseover', overHandler);\n                _this.trigger(DISPLAY_CLICK);\n                if (settingsMenuVisible()) {\n                    _controls.settingsMenu.close();\n                }\n                const state = model.get('state');\n\n                if (controls &&\n                    ((state === STATE_IDLE || state === STATE_COMPLETE) ||\n                    (model.get('instream') && state === STATE_PAUSED))) {\n                    api.playToggle(reasonInteraction());\n                }\n\n                if (controls && state === STATE_PAUSED) {\n                    // Toggle visibility of the controls when tapping the media\n                    // Do not add mobile toggle \"jw-flag-controls-hidden\" in these cases\n                    if (model.get('instream') || model.get('castActive') || (model.get('mediaType') === 'audio')) {\n                        return;\n                    }\n                    toggleClass(_playerElement, 'jw-flag-controls-hidden');\n                    _captionsRenderer.renderCues(true);\n                } else if (_controls) {\n                    if (!_controls.showing) {\n                        _controls.userActive();\n                    } else {\n                        _controls.userInactive();\n                    }\n                }\n            },\n            doubleClick: () => _controls && api.setFullscreen()\n        });\n\n        _playerElement.addEventListener('mousemove', moveHandler);\n        _playerElement.addEventListener('mouseover', overHandler);\n        _playerElement.addEventListener('mouseout', outHandler);\n\n        return clickHandler;\n    }\n\n    function moveHandler(event) {\n        if (_controls) {\n            _controls.mouseMove(event);\n        }\n    }\n\n    function overHandler(event) {\n        if (_controls && !_controls.showing && event.target.nodeName === 'IFRAME') {\n            _controls.userActive();\n        }\n    }\n\n    function outHandler(event) {\n        if (_controls && _controls.showing && event.relatedTarget && !_playerElement.contains(event.relatedTarget)) {\n            _controls.userActive();\n        }\n    }\n\n    function onStretchChange(model, newVal) {\n        replaceClass(_playerElement, /jw-stretch-\\S+/, 'jw-stretch-' + newVal);\n    }\n\n    function onAspectRatioChange(model, aspectratio) {\n        toggleClass(_playerElement, 'jw-flag-aspect-mode', !!aspectratio);\n        const aspectRatioContainer = _playerElement.querySelector('.jw-aspect');\n        style(aspectRatioContainer, {\n            paddingTop: aspectratio || null\n        });\n    }\n\n    function onFlashBlockedChange(model, isBlocked) {\n        toggleClass(_playerElement, 'jw-flag-flash-blocked', isBlocked);\n    }\n\n    function _logoClickHandler(evt) {\n        if (!evt.link) {\n            if (_model.get('controls')) {\n                _api.playToggle(reasonInteraction());\n            }\n        } else {\n            _api.pause(reasonInteraction());\n            _api.setFullscreen(false);\n            window.open(evt.link, evt.linktarget);\n        }\n    }\n\n    this.addControls = function (controls) {\n        _controls = controls;\n\n        removeClass(_playerElement, 'jw-flag-controls-hidden');\n\n        controls.enable(_api, _model);\n\n        // refresh breakpoint and timeslider classes\n        if (_lastHeight) {\n            updateContainerStyles(_lastWidth, _lastHeight);\n            controls.resize(_lastWidth, _lastHeight);\n            _captionsRenderer.renderCues(true);\n        }\n\n        controls.on('userActive userInactive', function() {\n            const state = _model.get('state');\n            if (state === STATE_PLAYING || state === STATE_BUFFERING) {\n                _captionsRenderer.renderCues(true);\n            }\n        });\n\n        controls.on('all', _this.trigger, _this);\n\n        if (_model.get('instream')) {\n            _controls.setupInstream();\n        }\n    };\n\n    this.removeControls = function () {\n        if (_controls) {\n            _controls.disable(_model);\n            _controls = null;\n        }\n\n        addClass(_playerElement, 'jw-flag-controls-hidden');\n    };\n\n    // Perform the switch to fullscreen\n    const _fullscreen = function (model, state) {\n\n        // Unmute the video so volume can be adjusted with native controls in fullscreen\n        if (state && _controls && model.get('autostartMuted')) {\n            _controls.unmuteAutoplay(_api, model);\n        }\n\n        if (fullscreenHelpers.supportsDomFullscreen()) {\n            if (state) {\n                fullscreenHelpers.requestFullscreen();\n            } else {\n                fullscreenHelpers.exitFullscreen();\n            }\n            _toggleDOMFullscreen(_playerElement, state);\n        } else if (_isIE) {\n            _toggleDOMFullscreen(_playerElement, state);\n        } else {\n            // Request media element fullscreen (iOS)\n            const provider = model.getVideo();\n            provider.setFullscreen(state);\n        }\n    };\n\n    function _resizePlayer(playerWidth, playerHeight, resetAspectMode) {\n        const widthSet = playerWidth !== undefined;\n        const heightSet = playerHeight !== undefined;\n        const playerStyle = {\n            width: playerWidth\n        };\n\n        // when jwResize is called remove aspectMode and force layout\n        if (heightSet && resetAspectMode) {\n            _model.set('aspectratio', null);\n        }\n        if (!_model.get('aspectratio')) {\n            // If the height is a pixel value (number) greater than 0, snap it to the minimum supported height\n            // Allow zero to mean \"hide the player\"\n            let height = playerHeight;\n            if (_.isNumber(height) && height !== 0) {\n                height = Math.max(height, CONTROLBAR_ONLY_HEIGHT);\n            }\n            playerStyle.height = height;\n        }\n\n        if (widthSet && heightSet) {\n            _model.set('width', playerWidth);\n            _model.set('height', playerHeight);\n        }\n\n        style(_playerElement, playerStyle);\n    }\n\n    function _resizeMedia(containerWidth, containerHeight) {\n        if (!containerWidth || isNaN(1 * containerWidth)) {\n            containerWidth = _model.get('containerWidth');\n            if (!containerWidth) {\n                return;\n            }\n        }\n        if (!containerHeight || isNaN(1 * containerHeight)) {\n            containerHeight = _model.get('containerHeight');\n            if (!containerHeight) {\n                return;\n            }\n        }\n\n        if (_preview) {\n            _preview.resize(containerWidth, containerHeight, _model.get('stretching'));\n        }\n\n        const provider = _model.getVideo();\n        if (!provider) {\n            return;\n        }\n        provider.resize(containerWidth, containerHeight, _model.get('stretching'));\n    }\n\n    this.resize = function (playerWidth, playerHeight) {\n        const resetAspectMode = true;\n        _resizePlayer(playerWidth, playerHeight, resetAspectMode);\n        _responsiveUpdate();\n    };\n    this.resizeMedia = _resizeMedia;\n\n    function _isNativeFullscreen() {\n        // Return whether or not we're in native fullscreen\n        if (fullscreenHelpers.supportsDomFullscreen()) {\n            const fsElement = fullscreenHelpers.fullscreenElement();\n            return !!(fsElement && fsElement === _playerElement);\n        }\n        // If native fullscreen is not available, return video fullscreen state\n        const provider = _model.getVideo();\n        return provider.getFullScreen();\n    }\n\n\n    function _fullscreenChangeHandler(event) {\n        const modelState = _model.get('fullscreen');\n        const newState = (event.jwstate !== undefined) ? event.jwstate : _isNativeFullscreen();\n\n        // If fullscreen was triggered by something other than the player\n        //  then we want to sync up our internal state\n        if (modelState !== newState) {\n            _model.set('fullscreen', newState);\n        }\n\n        _responsiveListener();\n        clearTimeout(_resizeMediaTimeout);\n        _resizeMediaTimeout = setTimeout(_resizeMedia, 200);\n    }\n\n    function _toggleDOMFullscreen(playerElement, fullscreenState) {\n        toggleClass(playerElement, 'jw-flag-fullscreen', fullscreenState);\n        style(document.body, { overflowY: (fullscreenState) ? 'hidden' : '' });\n\n        if (fullscreenState && _controls) {\n            // When going into fullscreen, we want the control bar to fade after a few seconds\n            _controls.userActive();\n        }\n\n        _resizeMedia();\n        _responsiveListener();\n    }\n\n    function _setLiveMode(model, streamType) {\n        const live = (streamType === 'LIVE');\n        toggleClass(_playerElement, 'jw-flag-live', live);\n    }\n\n    function _onMediaTypeChange(model, val) {\n        const isAudioFile = (val === 'audio');\n        const provider = model.get('provider');\n\n        toggleClass(_playerElement, 'jw-flag-media-audio', isAudioFile);\n\n        const isFlash = (provider && provider.name.indexOf('flash') === 0);\n        const element = (isAudioFile && !isFlash) ? _videoLayer : _videoLayer.nextSibling;\n        // Put the preview element before the media element in order to display browser captions\n        // otherwise keep it on top of the media element to display captions with the captions renderer\n        _playerElement.insertBefore(_preview.el, element);\n    }\n\n    function _errorHandler(model, evt) {\n        if (!evt) {\n            _title.playlistItem(model, model.get('playlistItem'));\n            return;\n        }\n        const errorContainer = ErrorContainer(model, evt.message);\n        if (ErrorContainer.cloneIcon) {\n            errorContainer.querySelector('.jw-icon').appendChild(ErrorContainer.cloneIcon('error'));\n        }\n        _title.hide();\n        _playerElement.appendChild(errorContainer.firstChild);\n        toggleClass(_playerElement, 'jw-flag-audio-player', !!model.get('audioMode'));\n    }\n\n    function _stateHandler(model, newState, oldState) {\n        if (!_this.isSetup) {\n            return;\n        }\n\n        if (oldState === STATE_ERROR) {\n            const errorContainer = _playerElement.querySelector('.jw-error-msg');\n            if (errorContainer) {\n                errorContainer.parentNode.removeChild(errorContainer);\n            }\n        }\n\n        cancelAnimationFrame(_stateClassRequestId);\n        if (newState === STATE_PLAYING) {\n            _stateUpdate(newState);\n        } else {\n            _stateClassRequestId = requestAnimationFrame(() => _stateUpdate(newState));\n        }\n    }\n\n    function _stateUpdate(state) {\n        if (_model.get('controls') && state !== STATE_PAUSED && hasClass(_playerElement, 'jw-flag-controls-hidden')) {\n            removeClass(_playerElement, 'jw-flag-controls-hidden');\n        }\n        replaceClass(_playerElement, /jw-state-\\S+/, 'jw-state-' + state);\n\n        switch (state) {\n            case STATE_IDLE:\n            case STATE_ERROR:\n            case STATE_COMPLETE:\n                if (_captionsRenderer) {\n                    _captionsRenderer.hide();\n                }\n                break;\n            default:\n                if (_captionsRenderer) {\n                    _captionsRenderer.show();\n                    if (state === STATE_PAUSED && _controls && !_controls.showing) {\n                        _captionsRenderer.renderCues(true);\n                    }\n                }\n                break;\n        }\n    }\n\n    function setMediaTitleAttribute(model, playlistItem) {\n        const videotag = model.get('mediaElement');\n        // chromecast and flash providers do no support video tags\n        if (!videotag) {\n            return;\n        }\n\n        // Writing a string to innerHTML completely decodes multiple-encoded strings\n        const dummyDiv = document.createElement('div');\n        dummyDiv.innerHTML = playlistItem.title || '';\n        videotag.setAttribute('title', dummyDiv.textContent);\n    }\n\n    function setPosterImage(item) {\n        _preview.setImage(item && item.image);\n    }\n\n    function onPlaylistItem(model, item) {\n        setPosterImage(item);\n        // Set the title attribute of the video tag to display background media information on mobile devices\n        if (_isMobile) {\n            setMediaTitleAttribute(model, item);\n        }\n    }\n\n    const settingsMenuVisible = () => {\n        const settingsMenu = _controls && _controls.settingsMenu;\n        return !!(settingsMenu && settingsMenu.visible);\n    };\n\n    const setupInstream = function() {\n        addClass(_playerElement, 'jw-flag-ads');\n\n        if (_controls) {\n            _controls.setupInstream();\n        }\n    };\n\n    const destroyInstream = function() {\n        if (!displayClickHandler) {\n            // view was destroyed\n            return;\n        }\n        if (_controls) {\n            _controls.destroyInstream(_model);\n        }\n\n        _this.setAltText('');\n        removeClass(_playerElement, ['jw-flag-ads', 'jw-flag-ads-hide-controls']);\n        _model.set('hideAdsControls', false);\n\n        // Make sure that the provider's media element is returned to the DOM after instream mode\n        const provider = _model.getVideo();\n        if (provider) {\n            provider.setContainer(_videoLayer);\n        }\n\n        // reset display click handler\n        displayClickHandler.revertAlternateClickHandlers();\n    };\n\n    this.setAltText = function (text) {\n        _model.set('altText', text);\n    };\n\n    this.clickHandler = function () {\n        return displayClickHandler;\n    };\n\n    this.getContainer = this.element = function () {\n        return _playerElement;\n    };\n\n    this.controlsContainer = function() {\n        if (_controls) {\n            return _controls.element();\n        }\n        return null;\n    };\n\n    this.getSafeRegion = function (excludeControlbar = true) {\n        const safeRegion = {\n            x: 0,\n            y: 0,\n            width: _lastWidth || 0,\n            height: _lastHeight || 0\n        };\n        if (_controls) {\n            // Subtract controlbar from the bottom when using one\n            if (excludeControlbar) {\n                safeRegion.height -= _controls.controlbarHeight();\n            }\n        }\n        return safeRegion;\n    };\n\n    this.setCaptions = function (captionsStyle) {\n        _captionsRenderer.clear();\n        _captionsRenderer.setup(_model.get('id'), captionsStyle);\n        _captionsRenderer.resize();\n    };\n\n    this.destroy = function () {\n        _model.destroy();\n        viewsManager.unobserve(_playerElement);\n        viewsManager.remove(this);\n        this.isSetup = false;\n        this.off();\n        cancelAnimationFrame(_resizeContainerRequestId);\n        clearTimeout(_resizeMediaTimeout);\n        if (focusHelper) {\n            focusHelper.destroy();\n            focusHelper = null;\n        }\n        if (fullscreenHelpers) {\n            fullscreenHelpers.destroy();\n            fullscreenHelpers = null;\n        }\n        if (_controls) {\n            _controls.disable(_model);\n        }\n        if (displayClickHandler) {\n            displayClickHandler.destroy();\n            _playerElement.removeEventListener('mousemove', moveHandler);\n            _playerElement.removeEventListener('mouseout', outHandler);\n            _playerElement.removeEventListener('mouseover', overHandler);\n            displayClickHandler = null;\n        }\n        _captionsRenderer.destroy();\n        if (_logo) {\n            _logo.destroy();\n            _logo = null;\n        }\n        clearCss(_model.get('id'));\n    };\n}\n\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/view.js","export default (id, ariaLabel = '') => {\n    return (\n        `<div id=\"${id}\" class=\"jwplayer jw-reset jw-state-setup\" tabindex=\"0\" aria-label=\"${ariaLabel}\">` +\n            `<div class=\"jw-aspect jw-reset\"></div>` +\n            `<div class=\"jw-media jw-reset\"></div>` +\n            `<div class=\"jw-preview jw-reset\"></div>` +\n            `<div class=\"jw-title jw-reset\">` +\n                `<div class=\"jw-title-primary jw-reset\"></div>` +\n                `<div class=\"jw-title-secondary jw-reset\"></div>` +\n            `</div>` +\n            `<div class=\"jw-overlays jw-reset\"></div>` +\n        `</div>`\n    );\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/player.js","export const CONTROLBAR_ONLY_HEIGHT = 44;\n\nexport const isAudioMode = function(model) {\n    const playerHeight = model.get('height');\n    if (model.get('aspectratio')) {\n        return false;\n    }\n    if (typeof playerHeight === 'string' && playerHeight.indexOf('%') > -1) {\n        return false;\n    }\n\n    // Coerce into Number (don't parse out CSS units)\n    let verticalPixels = (playerHeight * 1) || NaN;\n    verticalPixels = (!isNaN(verticalPixels) ? verticalPixels : model.get('containerHeight'));\n    if (!verticalPixels) {\n        return false;\n    }\n\n    return verticalPixels && verticalPixels <= CONTROLBAR_ONLY_HEIGHT;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/audio-mode.js","import activeTab from 'utils/active-tab';\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\n\nconst views = [];\nconst observed = {};\n\nlet intersectionObserver;\nlet responsiveRepaintRequestId = -1;\n\nfunction lazyInitIntersectionObserver() {\n    const IntersectionObserver = window.IntersectionObserver;\n    if (!intersectionObserver) {\n        // Fire the callback every time 25% of the player comes in/out of view\n        intersectionObserver = new IntersectionObserver((entries) => {\n            if (entries && entries.length) {\n                for (let i = entries.length; i--;) {\n                    const entry = entries[i];\n                    for (let j = views.length; j--;) {\n                        let view = views[j];\n                        if (entry.target === view.getContainer()) {\n                            view.model.set('intersectionRatio', entry.intersectionRatio);\n                            break;\n                        }\n                    }\n                }\n            }\n        }, { threshold: [0, 0.25, 0.5, 0.75, 1] });\n    }\n}\n\nfunction scheduleResponsiveRedraw() {\n    cancelAnimationFrame(responsiveRepaintRequestId);\n    responsiveRepaintRequestId = requestAnimationFrame(function responsiveRepaint() {\n        views.forEach(view => {\n            view.updateBounds();\n        });\n        views.forEach(view => {\n            if (view.model.get('visibility')) {\n                view.updateStyles();\n            }\n        });\n        views.forEach(view => {\n            view.checkResized();\n        });\n    });\n}\n\nfunction onVisibilityChange() {\n    views.forEach(view => {\n        view.model.set('activeTab', activeTab());\n    });\n}\n\ndocument.addEventListener('visibilitychange', onVisibilityChange);\ndocument.addEventListener('webkitvisibilitychange', onVisibilityChange);\nwindow.addEventListener('resize', scheduleResponsiveRedraw);\nwindow.addEventListener('orientationchange', scheduleResponsiveRedraw);\n\nwindow.addEventListener('beforeunload', () => {\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n    document.removeEventListener('webkitvisibilitychange', onVisibilityChange);\n    window.removeEventListener('resize', scheduleResponsiveRedraw);\n    window.removeEventListener('orientationchange', scheduleResponsiveRedraw);\n});\n\nexport default {\n    add: function(view) {\n        views.push(view);\n    },\n    remove: function(view) {\n        const index = views.indexOf(view);\n        if (index !== -1) {\n            views.splice(index, 1);\n        }\n    },\n    size: function() {\n        return views.length;\n    },\n    observe(container) {\n        lazyInitIntersectionObserver();\n\n        if (observed[container.id]) {\n            return;\n        }\n\n        observed[container.id] = true;\n        intersectionObserver.observe(container);\n    },\n    unobserve(container) {\n        if (intersectionObserver && observed[container.id]) {\n            delete observed[container.id];\n            intersectionObserver.unobserve(container);\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/views-manager.js","export default function getVisibility(model, element) {\n    // Set visibility to 1 if we're in fullscreen\n    if (model.get('fullscreen')) {\n        return 1;\n    }\n\n    // Set visibility to 0 if we're not in the active tab\n    if (!model.get('activeTab')) {\n        return 0;\n    }\n    // Otherwise, set it to the intersection ratio reported from the intersection observer\n    let intersectionRatio = model.get('intersectionRatio');\n\n    if (intersectionRatio === undefined) {\n        // Get intersectionRatio through brute force\n        intersectionRatio = computeVisibility(element);\n    }\n\n    return intersectionRatio;\n}\n\nfunction computeVisibility(target) {\n    const html = document.documentElement;\n    const body = document.body;\n    const rootRect = {\n        top: 0,\n        left: 0,\n        right: html.clientWidth || body.clientWidth,\n        width: html.clientWidth || body.clientWidth,\n        bottom: html.clientHeight || body.clientHeight,\n        height: html.clientHeight || body.clientHeight\n    };\n\n    if (!body.contains(target)) {\n        return 0;\n    }\n    // If the element isn't displayed, an intersection can't happen.\n    if (window.getComputedStyle(target).display === 'none') {\n        return 0;\n    }\n\n    const targetRect = getBoundingClientRect(target);\n    if (!targetRect) {\n        return 0;\n    }\n\n    let intersectionRect = targetRect;\n    let parent = target.parentNode;\n    let atRoot = false;\n\n    while (!atRoot) {\n        let parentRect = null;\n        if (parent === body || parent === html || parent.nodeType !== 1) {\n            atRoot = true;\n            parentRect = rootRect;\n        } else if (window.getComputedStyle(parent).overflow !== 'visible') {\n            parentRect = getBoundingClientRect(parent);\n        }\n        if (parentRect) {\n            intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n            if (!intersectionRect) {\n                return 0;\n            }\n        }\n        parent = parent.parentNode;\n    }\n    const targetArea = targetRect.width * targetRect.height;\n    const intersectionArea = intersectionRect.width * intersectionRect.height;\n    return targetArea ? (intersectionArea / targetArea) : 0;\n}\n\nfunction getBoundingClientRect(el) {\n    try {\n        return el.getBoundingClientRect();\n    } catch (e) {/* ignore Windows 7 IE11 \"Unspecified error\" */}\n}\n\nfunction computeRectIntersection(rect1, rect2) {\n    const top = Math.max(rect1.top, rect2.top);\n    const bottom = Math.min(rect1.bottom, rect2.bottom);\n    const left = Math.max(rect1.left, rect2.left);\n    const right = Math.min(rect1.right, rect2.right);\n    const width = right - left;\n    const height = bottom - top;\n    return (width >= 0 && height >= 0) && {\n        top: top,\n        bottom: bottom,\n        left: left,\n        right: right,\n        width: width,\n        height: height\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/visibility.js","import { prefix } from 'utils/strings';\nimport { css, getRgba } from 'utils/css';\n\nexport function normalizeSkin(skinConfig) {\n    if (!skinConfig) {\n        skinConfig = {};\n    }\n\n    const active = skinConfig.active;\n    const inactive = skinConfig.inactive;\n    const background = skinConfig.background;\n\n    const colors = {};\n\n    colors.controlbar = getControlBar(skinConfig.controlbar);\n\n    colors.timeslider = getTimeSlider(skinConfig.timeslider);\n\n    colors.menus = getMenus(skinConfig.menus);\n\n    colors.tooltips = getTooltips(skinConfig.tooltips);\n\n    function getControlBar(controlBarConfig) {\n        if (controlBarConfig || active || inactive || background) {\n            const config = {};\n\n            controlBarConfig = controlBarConfig || {};\n            config.iconsActive = controlBarConfig.iconsActive || active;\n            config.icons = controlBarConfig.icons || inactive;\n            config.text = controlBarConfig.text || inactive;\n            config.background = controlBarConfig.background || background;\n\n            return config;\n        }\n    }\n\n    function getTimeSlider(timesliderConfig) {\n        if (timesliderConfig || active) {\n            const config = {};\n\n            timesliderConfig = timesliderConfig || {};\n            config.progress = timesliderConfig.progress || active;\n            config.rail = timesliderConfig.rail;\n\n            return config;\n        }\n    }\n\n    function getMenus(menusConfig) {\n        if (menusConfig || active || inactive || background) {\n            const config = {};\n\n            menusConfig = menusConfig || {};\n            config.text = menusConfig.text || inactive;\n            config.textActive = menusConfig.textActive || active;\n            config.background = menusConfig.background || background;\n\n            return config;\n        }\n    }\n\n    function getTooltips(tooltipsConfig) {\n        if (tooltipsConfig || inactive || background) {\n            const config = {};\n\n            tooltipsConfig = tooltipsConfig || {};\n            config.text = tooltipsConfig.text || inactive;\n            config.background = tooltipsConfig.background || background;\n\n            return config;\n        }\n    }\n\n    return colors;\n}\n\nexport function handleColorOverrides(playerId, skin) {\n    if (!skin) {\n        return;\n    }\n\n    function addStyle(elements, attr, value, extendParent) {\n        if (!value) {\n            return;\n        }\n        /* if extendParent is true, bundle the first selector of\n         element string to the player element instead of defining it as a\n         child of the player element (default). i.e. #player.sel-1 .sel-2 vs. #player .sel-1 .sel-2 */\n        elements = prefix(elements, '#' + playerId + (extendParent ? '' : ' '));\n\n        const o = {};\n        o[attr] = value;\n        css(elements.join(', '), o, playerId);\n    }\n\n    // These will use standard style names for CSS since they are added directly to a style sheet\n    // Using background instead of background-color so we don't have to clear gradients with background-image\n\n    if (skin.controlbar) {\n        styleControlbar(skin.controlbar);\n    }\n    if (skin.timeslider) {\n        styleTimeslider(skin.timeslider);\n    }\n    if (skin.menus) {\n        styleMenus(skin.menus);\n    }\n    if (skin.tooltips) {\n        styleTooltips(skin.tooltips);\n    }\n    if (skin.menus) {\n        insertGlobalColorClasses(skin.menus);\n    }\n\n    function styleControlbar(config) {\n\n        addStyle([\n            // controlbar text colors\n            '.jw-controlbar .jw-icon-inline.jw-text',\n            '.jw-title-primary',\n            '.jw-title-secondary',\n        ], 'color', config.text);\n\n        if (config.icons) {\n            addStyle([\n                // controlbar button colors\n                '.jw-button-color:not(.jw-icon-cast)',\n                '.jw-button-color.jw-toggle.jw-off:not(.jw-icon-cast)',\n            ], 'color', config.icons);\n\n            addStyle([\n                '.jw-display-icon-container .jw-button-color',\n            ], 'color', config.icons);\n\n            // Chromecast overrides\n            // Can't use addStyle since it will camel case the style name\n            css(`#${playerId} .jw-icon-cast button.jw-off`, `{--disconnected-color: ${config.icons}}`, playerId);\n        }\n        if (config.iconsActive) {\n            addStyle([\n                '.jw-display-icon-container .jw-button-color:hover',\n                '.jw-display-icon-container .jw-button-color:focus',\n            ], 'color', config.iconsActive);\n\n            // Apply active color\n            addStyle([\n                // Toggle and menu button active colors\n                '.jw-button-color.jw-toggle:not(.jw-icon-cast)',\n                '.jw-button-color:hover:not(.jw-icon-cast)',\n                '.jw-button-color:focus:not(.jw-icon-cast)',\n                '.jw-button-color.jw-toggle.jw-off:hover:not(.jw-icon-cast)'\n            ], 'color', config.iconsActive);\n\n            addStyle([\n                '.jw-svg-icon-buffer',\n            ], 'fill', config.icons);\n\n            // Chromecast overrides\n            // Can't use addStyle since it will camel case the style name\n            css(`#${playerId} .jw-icon-cast:hover button.jw-off`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast:focus button.jw-off`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast button.jw-off:focus`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\n\n            css(`#${playerId} .jw-icon-cast button`, `{--connected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast button:focus`, `{--connected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast:hover button`, `{--connected-color: ${config.iconsActive}}`, playerId);\n            css(`#${playerId} .jw-icon-cast:focus button`, `{--connected-color: ${config.iconsActive}}`, playerId);\n        }\n\n        // A space is purposefully left before '.jw-settings-topbar' since extendParent is set to true in order to append ':not(.jw-state-idle)'\n        addStyle([\n            ' .jw-settings-topbar',\n            ':not(.jw-state-idle) .jw-controlbar',\n            '.jw-flag-audio-player .jw-controlbar'\n        ], 'background', config.background, true);\n    }\n\n    function styleTimeslider(config) {\n\n        addStyle([\n            '.jw-progress',\n            '.jw-knob'\n        ], 'background-color', config.progress);\n\n        addStyle([\n            '.jw-buffer',\n        ], 'background-color', getRgba(config.progress, 50));\n\n        addStyle([\n            '.jw-rail'\n        ], 'background-color', config.rail);\n\n        addStyle([\n            '.jw-background-color.jw-slider-time',\n            '.jw-slider-time .jw-cue'\n        ], 'background-color', config.background);\n    }\n\n    function styleMenus(config) {\n\n        addStyle([\n            '.jw-option',\n            '.jw-toggle.jw-off',\n            '.jw-skip .jw-skip-icon',\n            '.jw-nextup-tooltip',\n            '.jw-nextup-close',\n            '.jw-settings-content-item',\n            '.jw-related-title'\n        ], 'color', config.text);\n\n        addStyle([\n            '.jw-option.jw-active-option',\n            '.jw-option:not(.jw-active-option):hover',\n            '.jw-option:not(.jw-active-option):focus',\n            '.jw-settings-item-active',\n            '.jw-settings-content-item:hover',\n            '.jw-settings-content-item:focus',\n            '.jw-nextup-tooltip:hover',\n            '.jw-nextup-tooltip:focus',\n            '.jw-nextup-close:hover'\n        ], 'color', config.textActive);\n\n        addStyle([\n            '.jw-nextup',\n            '.jw-settings-menu',\n        ], 'background', config.background);\n    }\n\n    function styleTooltips(config) {\n\n        addStyle([\n            '.jw-skip',\n            '.jw-tooltip .jw-text',\n            '.jw-time-tip .jw-text'\n        ], 'background-color', config.background);\n\n        addStyle([\n            '.jw-time-tip',\n            '.jw-tooltip'\n        ], 'color', config.background);\n\n        addStyle([\n            '.jw-skip',\n        ], 'border', 'none');\n\n        addStyle([\n            '.jw-skip .jw-text',\n            '.jw-skip .jw-icon',\n            '.jw-time-tip .jw-text',\n            '.jw-tooltip .jw-text'\n        ], 'color', config.text);\n    }\n\n    // Set global colors, used by related plugin\n    // If a color is undefined simple-style-loader won't add their styles to the dom\n    function insertGlobalColorClasses(config) {\n        if (config.textActive) {\n            const activeColorSet = {\n                color: config.textActive,\n                borderColor: config.textActive,\n                stroke: config.textActive\n            };\n            css(`#${playerId} .jw-color-active`, activeColorSet, playerId);\n            css(`#${playerId} .jw-color-active-hover:hover`, activeColorSet, playerId);\n        }\n        if (config.text) {\n            const inactiveColorSet = {\n                color: config.text,\n                borderColor: config.text,\n                stroke: config.text\n            };\n            css(`#${playerId} .jw-color-inactive`, inactiveColorSet, playerId);\n            css(`#${playerId} .jw-color-inactive-hover:hover`, inactiveColorSet, playerId);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/skin.js","const DOCUMENT_FULLSCREEN_EVENTS = [\n    'fullscreenchange',\n    'webkitfullscreenchange',\n    'mozfullscreenchange',\n    'MSFullscreenChange'\n];\n\nexport default function(elementContext, documentContext, changeCallback) {\n    const requestFullscreen = elementContext.requestFullscreen ||\n        elementContext.webkitRequestFullscreen ||\n        elementContext.webkitRequestFullScreen ||\n        elementContext.mozRequestFullScreen ||\n        elementContext.msRequestFullscreen;\n\n    const exitFullscreen = documentContext.exitFullscreen ||\n        documentContext.webkitExitFullscreen ||\n        documentContext.webkitCancelFullScreen ||\n        documentContext.mozCancelFullScreen ||\n        documentContext.msExitFullscreen;\n\n    const supportsDomFullscreen = !!(requestFullscreen && exitFullscreen);\n\n    for (let i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\n        documentContext.addEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\n    }\n\n    return {\n        events: DOCUMENT_FULLSCREEN_EVENTS,\n        supportsDomFullscreen: function() {\n            return supportsDomFullscreen;\n        },\n        requestFullscreen: function() {\n            requestFullscreen.apply(elementContext);\n        },\n        exitFullscreen: function() {\n            exitFullscreen.apply(documentContext);\n        },\n        fullscreenElement: function() {\n            return documentContext.fullscreenElement ||\n                documentContext.webkitCurrentFullScreenElement ||\n                documentContext.mozFullScreenElement ||\n                documentContext.msFullscreenElement;\n        },\n        destroy: function() {\n            for (let i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\n                documentContext.removeEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\n            }\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/request-fullscreen-helper.js","import { addClass, removeClass } from 'utils/dom';\n\n\nexport default function (elementContext) {\n    var _focusFromClick = false;\n\n    const onBlur = function () {\n        _focusFromClick = false;\n        removeClass(elementContext, 'jw-no-focus');\n    };\n\n    const onMouseDown = function () {\n        _focusFromClick = true;\n        addClass(elementContext, 'jw-no-focus');\n    };\n\n    const onFocus = function () {\n        if (!_focusFromClick) {\n            onBlur();\n        }\n    };\n\n    elementContext.addEventListener('focus', onFocus);\n    elementContext.addEventListener('blur', onBlur);\n    elementContext.addEventListener('mousedown', onMouseDown);\n\n    return {\n        destroy: function() {\n            elementContext.removeEventListener('focus', onFocus);\n            elementContext.removeEventListener('blur', onBlur);\n            elementContext.removeEventListener('mousedown', onMouseDown);\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/flag-no-focus.js","import { CLICK } from 'events/events';\nimport UI from 'utils/ui';\nimport Events from 'utils/backbone.events';\n\nexport default class ClickHandler {\n    constructor(model, element) {\n        Object.assign(this, Events);\n\n        this.revertAlternateClickHandlers();\n        this.domElement = element;\n        this.model = model;\n\n        this.ui = new UI(element, { enableDoubleTap: true, useMove: true }).on({\n            'click tap': this.clickHandler,\n            'doubleClick doubleTap': function() {\n                if (this.alternateDoubleClickHandler) {\n                    this.alternateDoubleClickHandler();\n                    return;\n                }\n                this.trigger('doubleClick');\n            }\n        }, this);\n    }\n\n    destroy() {\n        if (this.ui) {\n            this.ui.destroy();\n            this.ui = this.domElement = this.model = null;\n            this.revertAlternateClickHandlers();\n        }\n    }\n\n    clickHandler(evt) {\n        if (this.model.get('flashBlocked')) {\n            return;\n        }\n        if (this.alternateClickHandler) {\n            this.alternateClickHandler(evt);\n            return;\n        }\n        this.trigger((evt.type === CLICK) ? 'click' : 'tap');\n    }\n\n    element() {\n        return this.domElement;\n    }\n\n    setAlternateClickHandlers(clickHandler, doubleClickHandler) {\n        this.alternateClickHandler = clickHandler;\n        this.alternateDoubleClickHandler = doubleClickHandler || null;\n    }\n\n    revertAlternateClickHandlers() {\n        this.alternateClickHandler = null;\n        this.alternateDoubleClickHandler = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/clickhandler.js","import { Browser } from 'environment/environment';\nimport { chunkLoadErrorHandler } from '../api/core-loader';\nimport Events from 'utils/backbone.events';\nimport { ERROR } from 'events/events';\nimport { css, style, getRgba } from 'utils/css';\nimport { addClass, removeClass, empty } from 'utils/dom';\nimport _ from 'utils/underscore';\nimport { MEDIA_SEEK, MEDIA_TIME } from 'events/events';\n\nlet _WebVTT;\n\nconst _defaults = {\n    back: true,\n    backgroundOpacity: 50,\n    edgeStyle: null,\n    fontSize: 14,\n    fontOpacity: 100,\n    fontScale: 0.05, // Default captions font size = 1/20th of the video's height\n    preprocessor: _.identity,\n    windowOpacity: 0\n};\n\n/**\n * Component that renders the actual captions on screen.\n * param {ViewModel} viewModel - The player's ViewModel instance.\n */\n\nconst CaptionsRenderer = function (viewModel) {\n\n    const _model = viewModel.player;\n\n    let _options;\n    let _captionsTrack;\n    let _currentCues;\n    let _timeEvent;\n    let _display;\n    let _captionsWindow;\n    let _textContainer;\n    let _fontScale;\n    let _windowStyle;\n\n    _display = document.createElement('div');\n    _display.className = 'jw-captions jw-reset';\n\n    this.show = function () {\n        addClass(_display, 'jw-captions-enabled');\n    };\n\n    this.hide = function () {\n        removeClass(_display, 'jw-captions-enabled');\n    };\n\n    // Assign list of captions to the renderer\n    this.populate = function (captions) {\n        if (_model.get('renderCaptionsNatively')) {\n            return;\n        }\n\n        _currentCues = [];\n        _captionsTrack = captions;\n        if (!captions) {\n            this.renderCues();\n            return;\n        }\n        this.selectCues(captions, _timeEvent);\n    };\n\n    this.resize = function () {\n        _setFontSize();\n        this.renderCues(true);\n    };\n\n    this.renderCues = function (updateBoxPosition) {\n        updateBoxPosition = !!updateBoxPosition;\n        if (_WebVTT) {\n            _WebVTT.processCues(window, _currentCues, _display, updateBoxPosition);\n        }\n    };\n\n    this.selectCues = function (track, timeEvent) {\n        if (!track || !track.data || !timeEvent || _model.get('renderCaptionsNatively')) {\n            return;\n        }\n\n        const pos = this.getAlignmentPosition(track, timeEvent);\n        if (pos === false) {\n            return;\n        }\n\n        const cues = this.getCurrentCues(track.data, pos);\n\n        this.updateCurrentCues(cues);\n        this.renderCues(true);\n    };\n\n    this.getCurrentCues = function (allCues, pos) {\n        return _.filter(allCues, function (cue) {\n            return pos >= (cue.startTime) && (!cue.endTime || pos <= cue.endTime);\n        });\n    };\n\n    this.updateCurrentCues = function (cues) {\n        // Render with vtt.js if there are cues, clear if there are none\n        if (!cues.length) {\n            _currentCues = [];\n        } else if (_.difference(cues, _currentCues).length) {\n            addClass(_captionsWindow, 'jw-captions-window-active');\n            _currentCues = cues;\n        }\n\n        return _currentCues;\n    };\n\n    this.getAlignmentPosition = function (track, timeEvent) {\n        const source = track.source;\n        const metadata = timeEvent.metadata;\n\n        // subtitles with \"source\" time must be synced with \"metadata[source]\"\n        if (source) {\n            if (metadata && _.isNumber(metadata[source])) {\n                return metadata[source];\n            }\n            return;\n        } else if (timeEvent.duration < 0) {\n            // When the duration is negative (DVR mode), need to make alignmentPosition positive for captions to work\n            return timeEvent.position - timeEvent.duration;\n        }\n\n        // Default to syncing with current position\n        return timeEvent.position;\n    };\n\n    this.clear = function () {\n        empty(_display);\n    };\n\n    /**\n     * Initialize the captions renderer\n     * @param {string} playerElementId - The player container's DOM id\n     * @param {object} options - The captions styling configuration\n     * @returns {void}\n     */\n    this.setup = function (playerElementId, options) {\n        _captionsWindow = document.createElement('div');\n        _textContainer = document.createElement('span');\n        _captionsWindow.className = 'jw-captions-window jw-reset';\n        _textContainer.className = 'jw-captions-text jw-reset';\n\n        _options = Object.assign({}, _defaults, options);\n\n        _fontScale = _defaults.fontScale;\n        _setFontScale(_options.fontSize);\n\n        const windowColor = _options.windowColor;\n        const windowOpacity = _options.windowOpacity;\n        const edgeStyle = _options.edgeStyle;\n        _windowStyle = {};\n        const textStyle = {};\n\n        _addTextStyle(textStyle, _options);\n\n        if (windowColor || windowOpacity !== _defaults.windowOpacity) {\n            _windowStyle.backgroundColor = getRgba(windowColor || '#000000', windowOpacity);\n        }\n\n        _addEdgeStyle(edgeStyle, textStyle, _options.fontOpacity);\n\n        if (!_options.back && edgeStyle === null) {\n            _addEdgeStyle('uniform', textStyle);\n        }\n\n        style(_captionsWindow, _windowStyle);\n        style(_textContainer, textStyle);\n        _setupCaptionStyles(playerElementId, textStyle);\n\n        _captionsWindow.appendChild(_textContainer);\n        _display.appendChild(_captionsWindow);\n\n        _model.change('captionsTrack', function (model, captionsTrack) {\n            this.populate(captionsTrack);\n        }, this);\n\n        _model.set('captions', _options);\n    };\n\n    this.element = function () {\n        return _display;\n    };\n\n    this.destroy = function() {\n        _model.off(null, null, this);\n        this.off();\n    };\n\n    function _setFontScale() {\n        if (!_.isFinite(_options.fontSize)) {\n            return;\n        }\n\n        const height = _model.get('containerHeight');\n\n        if (!height) {\n            _model.once('change:containerHeight', _setFontScale, this);\n            return;\n        }\n\n        // Adjust scale based on font size relative to the default\n        _fontScale = _defaults.fontScale * _options.fontSize / _defaults.fontSize;\n    }\n\n    function _setFontSize() {\n        const height = _model.get('containerHeight');\n\n        if (!height) {\n            return;\n        }\n\n        const fontSize = Math.round(height * _fontScale);\n\n        if (_model.get('renderCaptionsNatively')) {\n            _setShadowDOMFontSize(_model.get('id'), fontSize);\n        } else {\n            style(_display, {\n                fontSize: fontSize + 'px'\n            });\n        }\n    }\n\n    function _setupCaptionStyles(playerId, textStyle) {\n        _setFontSize();\n        _styleNativeCaptions(playerId, textStyle);\n        _stylePlayerCaptions(playerId, textStyle);\n    }\n\n    function _stylePlayerCaptions(playerId, textStyle) {\n        // VTT.js DOM window and text styles\n        css('#' + playerId + ' .jw-text-track-display', _windowStyle, playerId);\n        css('#' + playerId + ' .jw-text-track-cue', textStyle, playerId);\n    }\n\n    function _styleNativeCaptions(playerId, textStyle) {\n        if (Browser.safari) {\n            // Only Safari uses a separate element for styling text background\n            css('#' + playerId + ' .jw-video::-webkit-media-text-track-display-backdrop', {\n                backgroundColor: textStyle.backgroundColor\n            }, playerId, true);\n        }\n\n        css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\n        css('#' + playerId + ' .jw-video::cue', textStyle, playerId, true);\n    }\n\n    function _setShadowDOMFontSize(playerId, fontSize) {\n        // Set Shadow DOM font size (needs to be important to override browser's in line style)\n        _windowStyle.fontSize = fontSize + 'px';\n        css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\n    }\n\n    function _addTextStyle(textStyle, options) {\n        const color = options.color;\n        const fontOpacity = options.fontOpacity;\n        if (color || fontOpacity !== _defaults.fontOpacity) {\n            textStyle.color = getRgba(color || '#ffffff', fontOpacity);\n        }\n\n        if (options.back) {\n            const bgColor = options.backgroundColor;\n            const bgOpacity = options.backgroundOpacity;\n            if (bgColor !== _defaults.backgroundColor || bgOpacity !== _defaults.backgroundOpacity) {\n                textStyle.backgroundColor = getRgba(bgColor, bgOpacity);\n            }\n        } else {\n            textStyle.background = 'transparent';\n        }\n\n        if (options.fontFamily) {\n            textStyle.fontFamily = options.fontFamily;\n        }\n\n        if (options.fontStyle) {\n            textStyle.fontStyle = options.fontStyle;\n        }\n\n        if (options.fontWeight) {\n            textStyle.fontWeight = options.fontWeight;\n        }\n\n        if (options.textDecoration) {\n            textStyle.textDecoration = options.textDecoration;\n        }\n    }\n\n    function _addEdgeStyle(option, styles, fontOpacity) {\n        const color = getRgba('#000000', fontOpacity);\n        if (option === 'dropshadow') { // small drop shadow\n            styles.textShadow = '0 2px 1px ' + color;\n        } else if (option === 'raised') { // larger drop shadow\n            styles.textShadow = '0 0 5px ' + color + ', 0 1px 5px ' + color + ', 0 2px 5px ' + color;\n        } else if (option === 'depressed') { // top down shadow\n            styles.textShadow = '0 -2px 1px ' + color;\n        } else if (option === 'uniform') { // outline\n            styles.textShadow = '-2px 0 1px ' + color + ',2px 0 1px ' + color +\n                ',0 -2px 1px ' + color + ',0 2px 1px ' + color + ',-1px 1px 1px ' +\n                color + ',1px 1px 1px ' + color + ',1px -1px 1px ' + color +\n                ',1px 1px 1px ' + color;\n        }\n    }\n\n    const _timeChange = (e) => {\n        _timeEvent = e;\n        this.selectCues(_captionsTrack, _timeEvent);\n    };\n\n    function _captionsListHandler(model, captionsList) {\n        if (captionsList.length === 1) {\n            // captionsList only contains 'off'\n            return;\n        }\n\n        // don't load the polyfill or do unnecessary work if rendering natively\n        if (!model.get('renderCaptionsNatively') && !_WebVTT) {\n            loadWebVttPolyfill().catch((error) => {\n                this.trigger(ERROR, {\n                    message: 'Captions renderer failed to load',\n                    reason: error\n                });\n            });\n            model.off('change:captionsList', _captionsListHandler, this);\n        }\n    }\n\n    function loadWebVttPolyfill() {\n        return require.ensure(['polyfills/webvtt'], function (require) {\n            _WebVTT = require('polyfills/webvtt').default;\n        }, chunkLoadErrorHandler, 'polyfills.webvtt');\n    }\n\n    _model.on('change:playlistItem', function () {\n        _timeEvent = null;\n        _currentCues = [];\n    }, this);\n\n    _model.on(MEDIA_SEEK, function (e) {\n        _currentCues = [];\n        _timeChange(e);\n    }, this);\n\n    _model.on(MEDIA_TIME, _timeChange, this);\n\n    _model.on('subtitlesTrackData', function () {\n        // update captions after a provider's subtitle track changes\n        this.selectCues(_captionsTrack, _timeEvent);\n    }, this);\n\n    _model.on('change:captionsList', _captionsListHandler, this);\n};\n\nObject.assign(CaptionsRenderer.prototype, Events);\n\nexport default CaptionsRenderer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/captionsrenderer.js","import logoTemplate from 'templates/logo';\nimport { LOGO_CLICK } from 'events/events';\nimport UI from 'utils/ui';\nimport { style } from 'utils/css';\nimport { createElement } from 'utils/dom';\nimport Events from 'utils/backbone.events';\n\nconst LogoDefaults = {\n    linktarget: '_blank',\n    margin: 8,\n    hide: false,\n    position: 'top-right'\n};\n\nexport default function Logo(_model) {\n    Object.assign(this, Events);\n\n    var _logo;\n    var _settings;\n    const _img = new Image();\n\n    this.setup = function() {\n        _settings = Object.assign({}, LogoDefaults, _model.get('logo'));\n        _settings.position = _settings.position || LogoDefaults.position;\n        _settings.hide = (_settings.hide.toString() === 'true');\n\n        // We should only create a logo in the display container when\n        // it is not supposed to be in the control bar, as it will\n        // handle the creation in that case\n        if (!_settings.file || _settings.position === 'control-bar') {\n            return;\n        }\n\n        if (!_logo) {\n            _logo = createElement(logoTemplate(_settings.position, _settings.hide));\n        }\n\n        _model.set('logo', _settings);\n\n        // apply styles onload when image width and height are known\n        _img.onload = function () {\n            // update logo style\n            let height = this.height;\n            let width = this.width;\n            const styles = {\n                backgroundImage: 'url(\"' + this.src + '\")'\n            };\n            if (_settings.margin !== LogoDefaults.margin) {\n                const positions = (/(\\w+)-(\\w+)/).exec(_settings.position);\n                if (positions.length === 3) {\n                    styles['margin-' + positions[1]] = _settings.margin;\n                    styles['margin-' + positions[2]] = _settings.margin;\n                }\n            }\n\n            // Constraint logo size to 15% of their respective player dimension\n            const maxHeight = _model.get('containerHeight') * 0.15;\n            const maxWidth = _model.get('containerWidth') * 0.15;\n\n            if (height > maxHeight || width > maxWidth) {\n                const logoAR = width / height;\n                const videoAR = maxWidth / maxHeight;\n\n                if (videoAR > logoAR) {\n                    // height = max dimension\n                    height = maxHeight;\n                    width = maxHeight * logoAR;\n                } else {\n                    // width = max dimension\n                    width = maxWidth;\n                    height = maxWidth / logoAR;\n                }\n            }\n\n            styles.width = Math.round(width);\n            styles.height = Math.round(height);\n\n            style(_logo, styles);\n\n            // update title\n            _model.set('logoWidth', styles.width);\n        };\n\n        _img.src = _settings.file;\n\n        const logoInteractHandler = new UI(_logo);\n\n        if (_settings.link) {\n            _logo.setAttribute('tabindex', '0');\n            _logo.setAttribute('aria-label', 'Logo');\n        }\n\n        logoInteractHandler.on('click tap enter', function (evt) {\n            if (evt && evt.stopPropagation) {\n                evt.stopPropagation();\n            }\n\n            this.trigger(LOGO_CLICK, {\n                link: _settings.link,\n                linktarget: _settings.linktarget\n            });\n\n        }, this);\n    };\n\n    this.setContainer = function(container) {\n        if (_logo) {\n            container.appendChild(_logo);\n        }\n    };\n\n    this.element = function() {\n        return _logo;\n    };\n\n    this.position = function() {\n        return _settings.position;\n    };\n\n    this.destroy = function() {\n        _img.onload = null;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/logo.js","export default (position, hide) => {\n    const jwhide = hide ? ' jw-hide' : '';\n    return `<div class=\"jw-logo jw-logo-${position}${jwhide} jw-reset\"></div>`;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/logo.js","import { style } from 'utils/css';\n\nconst Preview = function(_model) {\n    this.model = _model;\n    this.image = null;\n};\n\nfunction validState(state) {\n    return state === 'complete' || state === 'idle' || state === 'error' || state === 'buffering';\n}\n\nObject.assign(Preview.prototype, {\n    setup: function(element) {\n        this.el = element;\n    },\n    setImage: function(img) {\n        // Remove onload function from previous image\n        var image = this.image;\n        if (image) {\n            image.onload = null;\n        }\n        this.image = null;\n        var backgroundImage = '';\n        if (typeof img === 'string') {\n            backgroundImage = 'url(\"' + img + '\")';\n            image = this.image = new Image();\n            image.src = img;\n        }\n        style(this.el, {\n            backgroundImage: backgroundImage\n        });\n    },\n    resize: function(width, height, stretching) {\n        if (stretching === 'uniform') {\n            if (width) {\n                this.playerAspectRatio = width / height;\n            }\n            if (!this.playerAspectRatio ||\n                !this.image ||\n                !validState(this.model.get('state'))) {\n                return;\n            }\n            // snap image to edges when the difference in aspect ratio is less than 9%\n            var image = this.image;\n            var backgroundSize = null;\n            if (image) {\n                if (image.width === 0) {\n                    var _this = this;\n                    image.onload = function() {\n                        _this.resize(width, height, stretching);\n                    };\n                    return;\n                }\n                var imageAspectRatio = image.width / image.height;\n                if (Math.abs(this.playerAspectRatio - imageAspectRatio) < 0.09) {\n                    backgroundSize = 'cover';\n                }\n            }\n            style(this.el, {\n                backgroundSize: backgroundSize\n            });\n        }\n    },\n    element: function() {\n        return this.el;\n    }\n});\n\nexport default Preview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/preview.js","import { style } from 'utils/css';\n\nconst Title = function(_model) {\n    this.model = _model.player;\n};\n\nObject.assign(Title.prototype, {\n    // This is normally shown/hidden by states\n    //   these are only used for when no title exists\n    hide: function() {\n        style(this.el, { display: 'none' });\n    },\n    show: function() {\n        style(this.el, { display: '' });\n    },\n\n    setup: function(titleEl) {\n        this.el = titleEl;\n\n        // Perform the DOM search only once\n        var arr = this.el.getElementsByTagName('div');\n        this.title = arr[0];\n        this.description = arr[1];\n\n        this.model.on('change:logoWidth', this.update, this);\n        this.model.change('playlistItem', this.playlistItem, this);\n    },\n\n    update: function(model) {\n        var titleStyle = {};\n        var logo = model.get('logo');\n        if (logo) {\n            // Only use Numeric or pixel (\"Npx\") margin values\n            var margin = 1 * ('' + logo.margin).replace('px', '');\n            var padding = model.get('logoWidth') + (isNaN(margin) ? 0 : margin + 10);\n            if (logo.position === 'top-left') {\n                titleStyle.paddingLeft = padding;\n            } else if (logo.position === 'top-right') {\n                titleStyle.paddingRight = padding;\n            }\n        }\n        style(this.el, titleStyle);\n    },\n\n    playlistItem: function(model, item) {\n        if (!item) {\n            return;\n        }\n        if (model.get('displaytitle') || model.get('displaydescription')) {\n            var title = '';\n            var description = '';\n\n            if (item.title && model.get('displaytitle')) {\n                title = item.title;\n            }\n            if (item.description && model.get('displaydescription')) {\n                description = item.description;\n            }\n\n            this.updateText(title, description);\n        } else {\n            this.hide();\n        }\n    },\n\n    updateText: function(title, description) {\n        this.title.innerHTML = title;\n        this.description.innerHTML = description;\n\n        if (this.title.firstChild || this.description.firstChild) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    },\n\n    element: function() {\n        return this.el;\n    }\n});\n\nexport default Title;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/title.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/less-loader/dist/cjs.js??ref--0-3!./jwplayer.less\");\nif(typeof content === 'string') content = [['all-players', content, '']];\n// add the styles to the DOM\nrequire(\"!../../node_modules/simple-style-loader/addStyles.js\").style(content,'all-players');\nif(content.locals) module.exports = content.locals;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/jwplayer.less\n// module id = 169\n// module chunks = 0 1 2 3 5","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}body .jw-error,body .jwplayer.jw-state-error{height:100%;width:100%}.jw-title{position:absolute;top:0}.jw-background-color{background:rgba(0,0,0,0.4)}.jw-text{color:rgba(255,255,255,0.8)}.jw-knob{color:rgba(255,255,255,0.8);background-color:#fff}.jw-button-color{color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):focus,:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):hover{outline:none;color:#fff}.jw-toggle{color:#fff}.jw-toggle.jw-off{color:rgba(255,255,255,0.8)}.jw-toggle.jw-off:focus{color:#fff}.jw-toggle:focus{outline:none}:not(.jw-flag-touch) .jw-toggle.jw-off:hover{color:#fff}.jw-rail{background:rgba(255,255,255,0.3)}.jw-buffer{background:rgba(255,255,255,0.3)}.jw-progress{background:#f2f2f2}.jw-time-tip,.jw-volume-tip{border:0}.jw-slider-volume.jw-volume-tip.jw-background-color.jw-slider-vertical{background:none}.jw-skip{padding:.5em;outline:none}.jw-skip .jw-skiptext,.jw-skip .jw-skip-icon{color:rgba(255,255,255,0.8)}.jw-skip.jw-skippable:hover .jw-skip-icon,.jw-skip.jw-skippable:focus .jw-skip-icon{color:#fff}.jw-icon-cast button{--connected-color:#fff;--disconnected-color:rgba(255,255,255,0.8)}.jw-icon-cast button:focus{outline:none}.jw-icon-cast button.jw-off{--connected-color:rgba(255,255,255,0.8)}.jw-icon-cast:focus button{--connected-color:#fff;--disconnected-color:#fff}.jw-icon-cast:hover button{--connected-color:#fff;--disconnected-color:#fff}.jw-nextup-container{bottom:2.5em;padding:5px .5em}.jw-nextup{border-radius:0}.jw-color-active{color:#fff;stroke:#fff;border-color:#fff}:not(.jw-flag-touch) .jw-color-active-hover:hover,:not(.jw-flag-touch) .jw-color-active-hover:focus{color:#fff;stroke:#fff;border-color:#fff}.jw-color-inactive{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-color-inactive-hover:hover{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}.jw-option{color:rgba(255,255,255,0.8)}.jw-option.jw-active-option{color:#fff;background-color:rgba(255,255,255,0.1)}:not(.jw-flag-touch) .jw-option:hover{color:#fff}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto !important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer.jw-no-focus:focus,.jwplayer .jw-swf{outline:none}.jwplayer.jw-ie:focus{outline:#585858 dotted 1px}.jw-media,.jw-preview{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-plugin{position:absolute;bottom:66px}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0;left:0;right:0;bottom:0;display:block}.jw-preview,.jw-captions,.jw-title{pointer-events:none}.jw-media,.jw-logo{pointer-events:all}.jwplayer video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jwplayer video::-webkit-media-controls-start-playback-button{display:none}.jwplayer.jw-stretch-uniform video{object-fit:contain}.jwplayer.jw-stretch-none video{object-fit:none}.jwplayer.jw-stretch-fill video{object-fit:cover}.jwplayer.jw-stretch-exactfit video{object-fit:fill}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jwplayer .jw-preview,.jw-error .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-title{display:none;padding-top:20px;width:100%;z-index:1}.jw-title-primary,.jw-title-secondary{color:#fff;padding-left:20px;padding-right:20px;padding-bottom:.5em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.jw-title-primary{font-size:1.625em}.jw-breakpoint-2 .jw-title-primary,.jw-breakpoint-3 .jw-title-primary{font-size:1.5em}.jw-flag-small-player .jw-title-primary{font-size:1.25em}.jw-flag-small-player .jw-title-secondary,.jw-title-secondary:empty{display:none}.jw-captions{position:absolute;width:100%;height:100%;text-align:center;display:none;max-height:calc(100% - 60px);letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-decoration:none;pointer-events:none;overflow:hidden;top:0}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{display:inline-block;color:#fff;background-color:#000;word-wrap:normal;word-break:normal;white-space:pre-line;font-style:normal;font-weight:normal;text-align:center;text-decoration:none}.jw-text-track-display{font-size:inherit;line-height:1.5}.jw-text-track-cue{background-color:rgba(0,0,0,0.5);color:#fff;padding:.1em .3em}.jwplayer video::-webkit-media-controls{display:none;justify-content:flex-start}.jwplayer video::-webkit-media-text-track-container{max-height:calc(100% - 60px);line-height:normal}.jwplayer video::-webkit-media-text-track-display{min-width:-webkit-min-content}.jwplayer video::cue{background-color:rgba(0,0,0,0.5)}.jwplayer video::-webkit-media-controls-panel-container{display:none}.jw-logo{position:absolute;margin:20px;cursor:pointer;pointer-events:all;background-repeat:no-repeat;background-size:contain;top:auto;right:auto;left:auto;bottom:auto}.jw-flag-audio-player .jw-logo{display:none}.jw-logo-top-right{top:0;right:0}.jw-logo-top-left{top:0;left:0}.jw-logo-bottom-left{left:0}.jw-logo-bottom-right{right:0}.jw-logo-bottom-left,.jw-logo-bottom-right{bottom:44px;transition:bottom 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-state-idle .jw-logo{z-index:1}.jw-state-setup{background-color:transparent}.jw-state-setup .jw-logo,.jw-state-setup .jw-controls,.jw-state-setup .jw-controls-backdrop{visibility:hidden}body .jw-error,body .jwplayer.jw-state-error{background-color:#333;color:#fff;font-size:16px;display:table;opacity:1;overflow:hidden;position:relative}body .jw-error .jw-display,body .jwplayer.jw-state-error .jw-display{display:none}body .jw-error .jw-media,body .jwplayer.jw-state-error .jw-media{cursor:default}body .jw-error .jw-preview,body .jwplayer.jw-state-error .jw-preview{background-color:#333}body .jw-error .jw-error-msg,body .jwplayer.jw-state-error .jw-error-msg{top:50%;position:absolute;left:50%;align-items:center;background-color:#000;border-radius:2px;display:flex;padding:20px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}body .jw-error .jw-error-msg .jw-icon,body .jwplayer.jw-state-error .jw-error-msg .jw-icon{height:30px;width:30px;margin-right:20px;flex:0 0 auto}body .jw-error .jw-error-msg .jw-icon:empty,body .jwplayer.jw-state-error .jw-error-msg .jw-icon:empty{display:none}body .jw-error .jw-error-msg .jw-title,body .jwplayer.jw-state-error .jw-error-msg .jw-title{display:block;position:static}body .jw-error .jw-error-msg .jw-title,body .jwplayer.jw-state-error .jw-error-msg .jw-title,body .jw-error .jw-error-msg .jw-title-primary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-primary,body .jw-error .jw-error-msg .jw-title-secondary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-secondary{font-size:14px;line-height:1.35;padding:0}body .jw-error .jw-error-msg .jw-title-primary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-primary{font-weight:600;white-space:normal}.jwplayer.jw-state-error.jw-flag-audio-player .jw-error-msg{height:100%;width:100%;top:0;position:absolute;left:0;background:#000;-webkit-transform:none;transform:none;padding:0 16px;z-index:1}body .jwplayer.jw-state-error .jw-title,body .jw-error .jw-title,.jw-state-idle .jw-title,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-title{display:block}body .jwplayer.jw-state-error .jw-preview,body .jw-error .jw-preview,.jw-state-idle .jw-preview,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-preview{display:block}.jw-state-idle .jw-captions,.jwplayer.jw-state-complete .jw-captions,body .jwplayer.jw-state-error .jw-captions{display:none}.jw-state-idle video::-webkit-media-text-track-container,.jwplayer.jw-state-complete video::-webkit-media-text-track-container,body .jwplayer.jw-state-error video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-fullscreen{width:100% !important;height:100% !important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}.jwplayer.jw-flag-controls-hidden .jw-captions{max-height:none}.jwplayer.jw-flag-controls-hidden video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-controls-hidden .jw-media{cursor:default}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:45px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/postcss-loader/lib!./node_modules/less-loader/dist/cjs.js?{\"compress\":true,\"strictMath\":true,\"noIeCompat\":true}!./src/css/jwplayer.less\n// module id = 170\n// module chunks = 0 1 2 3 5","import SimpleModel from 'model/simplemodel';\n\nclass SimpleModelExtendable {}\nSimpleModelExtendable.prototype = Object.assign({}, SimpleModel);\n\nconst changeEventRegEx = /^change:(.+)$/;\n\nfunction dispatchDiffChangeEvents(viewModel, newAttributes, oldAttributes) {\n    Object.keys(newAttributes).forEach((attr) => {\n        if (attr in newAttributes && newAttributes[attr] !== oldAttributes[attr]) {\n            viewModel.trigger(`change:${attr}`, viewModel, newAttributes[attr], oldAttributes[attr]);\n        }\n    });\n}\n\nfunction removeListeners(instance, viewModel) {\n    if (instance) {\n        instance.off(null, null, viewModel);\n    }\n}\n\nclass PlayerViewModel extends SimpleModelExtendable {\n\n    constructor(playerModel, eventFilter) {\n        super();\n\n        this._model = playerModel;\n        this._mediaModel = null;\n\n        Object.assign(playerModel.attributes, {\n            altText: '',\n            fullscreen: false,\n            logoWidth: 0,\n            scrubbing: false\n        });\n\n        playerModel.on('all', (type, objectOrEvent, value, previousValue) => {\n            if (objectOrEvent === playerModel) {\n                objectOrEvent = this;\n            }\n            if (!eventFilter || eventFilter(type, objectOrEvent, value, previousValue)) {\n                this.trigger(type, objectOrEvent, value, previousValue);\n            }\n        }, this);\n\n        playerModel.on('change:mediaModel', (model, mediaModel) => {\n            this.mediaModel = mediaModel;\n        }, this);\n    }\n\n    set mediaModel(mediaModel) {\n        const previousMediaModel = this._mediaModel;\n        removeListeners(previousMediaModel, this);\n\n        this._mediaModel = mediaModel;\n\n        mediaModel.on('all', (type, objectOrEvent, value, previousValue) => {\n            if (objectOrEvent === mediaModel) {\n                objectOrEvent = this;\n            }\n            this.trigger(type, objectOrEvent, value, previousValue);\n        }, this);\n\n        if (previousMediaModel) {\n            dispatchDiffChangeEvents(this, mediaModel.attributes, previousMediaModel.attributes);\n        }\n    }\n\n    get(attr) {\n        const mediaModel = this._mediaModel;\n        if (mediaModel && attr in mediaModel.attributes) {\n            return mediaModel.get(attr);\n        }\n        return this._model.get(attr);\n    }\n\n    set(attr, val) {\n        return this._model.set(attr, val);\n    }\n\n    getVideo() {\n        return this._model.getVideo();\n    }\n\n    destroy() {\n        removeListeners(this._model, this);\n        removeListeners(this._mediaModel, this);\n        this.off();\n    }\n}\n\nexport default class ViewModel extends PlayerViewModel {\n    constructor(playerModel) {\n        super(playerModel, (type) => {\n            // Do not propagate attribute changes from the player model for attributes present in instream\n            const instreamModel = this._instreamModel;\n            if (instreamModel) {\n                const match = changeEventRegEx.exec(type);\n                if (match) {\n                    const attr = match[1];\n                    if (attr in instreamModel.attributes) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        });\n\n        this._instreamModel = null;\n        this._playerViewModel = new PlayerViewModel(this._model);\n\n        playerModel.on('change:instream', (model, instream) => {\n            this.instreamModel = instream ? instream.model : null;\n        }, this);\n    }\n\n    get player() {\n        return this._playerViewModel;\n    }\n\n    set instreamModel(instreamModel) {\n        const previousInstream = this._instreamModel;\n        removeListeners(previousInstream, this);\n\n        this._model.off('change:mediaModel', null, this);\n\n        this._instreamModel = instreamModel;\n\n        this.trigger('instreamMode', !!instreamModel);\n\n        if (instreamModel) {\n            instreamModel.on('all', (type, objectOrEvent, value, previousValue) => {\n                if (objectOrEvent === instreamModel) {\n                    objectOrEvent = this;\n                }\n                this.trigger(type, objectOrEvent, value, previousValue);\n            }, this);\n\n            instreamModel.change('mediaModel', (model, mediaModel) => {\n                this.mediaModel = mediaModel;\n            }, this);\n\n            dispatchDiffChangeEvents(this, instreamModel.attributes, this._model.attributes);\n        } else if (previousInstream) {\n            this._model.change('mediaModel', (model, mediaModel) => {\n                this.mediaModel = mediaModel;\n            }, this);\n\n            const mergedAttributes = Object.assign({}, this._model.attributes, previousInstream.attributes);\n            dispatchDiffChangeEvents(this, this._model.attributes, mergedAttributes);\n        }\n    }\n\n    get(attr) {\n        const mediaModel = this._mediaModel;\n        if (mediaModel && attr in mediaModel.attributes) {\n            return mediaModel.get(attr);\n        }\n        const instreamModel = this._instreamModel;\n        if (instreamModel && attr in instreamModel.attributes) {\n            return instreamModel.get(attr);\n        }\n        return this._model.get(attr);\n    }\n\n    getVideo() {\n        const instreamModel = this._instreamModel;\n        if (instreamModel && instreamModel.getVideo()) {\n            return instreamModel.getVideo();\n        }\n        return super.getVideo();\n    }\n\n    destroy() {\n        super.destroy();\n        removeListeners(this._instreamModel, this);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/view-model.js","export default function middleware(model, type, currentState) {\n    let newState = currentState;\n\n    switch (type) {\n        case 'time':\n        case 'beforePlay':\n        case 'pause':\n        case 'play':\n        case 'ready': {\n            const viewable = model.get('viewable');\n            // Don't add viewable to events if we don't know we're viewable\n            if (viewable !== undefined) {\n                // Emit viewable as 0 or 1\n                newState = Object.assign({}, currentState, { viewable: viewable });\n            }\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n\n    return newState;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/events-middleware.js","// https://github.com/video-dev/can-autoplay/tree/v3.0.0 (modified)\n//\n// MIT License\n\n// Copyright (c) 2017 video-dev\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport createPlayPromise from '../providers/utils/play-promise';\nimport Promise from '../polyfills/promise';\n\n/**\n * Small video file with audio.\n * Source: https://github.com/mathiasbynens/small\n *\n * @constant\n * @default\n * @type {String}\n */\nconst VIDEO = new Blob([new Uint8Array([0, 0, 0, 28, 102, 116, 121, 112, 105, 115, 111, 109, 0, 0, 2, 0, 105, 115, 111, 109, 105, 115, 111, 50, 109, 112, 52, 49, 0, 0, 0, 8, 102, 114, 101, 101, 0, 0, 2, 239, 109, 100, 97, 116, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 0, 0, 2, 194, 109, 111, 111, 118, 0, 0, 0, 108, 109, 118, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232, 0, 0, 0, 47, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 236, 116, 114, 97, 107, 0, 0, 0, 92, 116, 107, 104, 100, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 101, 100, 116, 115, 0, 0, 0, 28, 101, 108, 115, 116, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 47, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 100, 109, 100, 105, 97, 0, 0, 0, 32, 109, 100, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 172, 68, 0, 0, 8, 0, 85, 196, 0, 0, 0, 0, 0, 45, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0, 0, 0, 1, 15, 109, 105, 110, 102, 0, 0, 0, 16, 115, 109, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 100, 105, 110, 102, 0, 0, 0, 28, 100, 114, 101, 102, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1, 0, 0, 0, 211, 115, 116, 98, 108, 0, 0, 0, 103, 115, 116, 115, 100, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 87, 109, 112, 52, 97, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 16, 0, 0, 0, 0, 172, 68, 0, 0, 0, 0, 0, 51, 101, 115, 100, 115, 0, 0, 0, 0, 3, 128, 128, 128, 34, 0, 2, 0, 4, 128, 128, 128, 20, 64, 21, 0, 0, 0, 0, 1, 244, 0, 0, 1, 243, 249, 5, 128, 128, 128, 2, 18, 16, 6, 128, 128, 128, 1, 2, 0, 0, 0, 24, 115, 116, 116, 115, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 4, 0, 0, 0, 0, 28, 115, 116, 115, 99, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 28, 115, 116, 115, 122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 115, 0, 0, 1, 116, 0, 0, 0, 20, 115, 116, 99, 111, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 44, 0, 0, 0, 98, 117, 100, 116, 97, 0, 0, 0, 90, 109, 101, 116, 97, 0, 0, 0, 0, 0, 0, 0, 33, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 109, 100, 105, 114, 97, 112, 112, 108, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 105, 108, 115, 116, 0, 0, 0, 37, 169, 116, 111, 111, 0, 0, 0, 29, 100, 97, 116, 97, 0, 0, 0, 1, 0, 0, 0, 0, 76, 97, 118, 102, 53, 54, 46, 52, 48, 46, 49, 48, 49])], { type: 'video/mp4' });\n\nfunction startPlayback (element, { muted }) {\n    // Configure element.\n    element.muted = muted;\n    element.src = URL.createObjectURL(VIDEO);\n\n    // Start playback.\n    return element.play() || createPlayPromise(element);\n}\n\nexport const AUTOPLAY_ENABLED = 'autoplayEnabled';\nexport const AUTOPLAY_MUTED = 'autoplayMuted';\nexport const AUTOPLAY_DISABLED = 'autoplayDisabled';\n\nconst autoplayPagePromises = {};\n\nexport function canAutoplay(mediaPool, { cancelable, muted = false, allowMuted = false, timeout = 10000 }) {\n    const element = mediaPool.getTestElement();\n    const key = muted ? 'muted' : `${allowMuted}`;\n\n    // Skip test if it is currently running, or test previously evaluated to AUTOPLAY_ENABLED.\n    if (!autoplayPagePromises[key]) {\n        // Run the first test: autoplay with specified muted setting.\n        autoplayPagePromises[key] = startPlayback(element, { muted }).catch((e) => {\n            // Second optional test: autoplay muted.\n            if (!cancelable.cancelled() && muted === false && allowMuted) {\n                muted = true;\n                return startPlayback(element, { muted });\n            }\n            throw e;\n        }).then(() => {\n            if (muted) {\n                autoplayPagePromises[key] = null; // Clear cache.\n                return AUTOPLAY_MUTED;\n            }\n            return AUTOPLAY_ENABLED;\n        }).catch(error => {\n            clearTimeout(timeoutId);\n            autoplayPagePromises[key] = null; // Clear cache.\n            error.reason = AUTOPLAY_DISABLED;\n            throw error;\n        });\n    }\n\n    // If the cancelable was canceled, abort the test.\n    const promise = autoplayPagePromises[key].then(result => {\n        clearTimeout(timeoutId);\n        if (cancelable.cancelled()) {\n            const error = new Error('Autoplay test was cancelled');\n            error.reason = 'cancelled';\n            throw error;\n        }\n        return result;\n    });\n\n    // Return playback promise, or timeout.\n    let timeoutId;\n    const timer = new Promise((resolve, reject) => {\n        timeoutId = setTimeout(() => {\n            autoplayPagePromises[key] = null; // Clear cache.\n            const error = new Error('Autoplay test timed out');\n            error.reason = 'timeout';\n            reject(error);\n        }, timeout);\n    });\n    return Promise.race([ promise, timer ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/can-autoplay.js","\n// It's DVR if the duration is above the minDvrWindow, Live otherwise\nexport function isDvr(duration, minDvrWindow) {\n    return Math.abs(duration) >= Math.max(minDvrWindow, 0);\n}\n\n// Determine the adaptive type - Live, DVR, or VOD\n// Duration can be positive or negative, but minDvrWindow should always be positive\nexport function streamType(duration, minDvrWindow) {\n    const _minDvrWindow = (minDvrWindow === undefined) ? 120 : minDvrWindow;\n    let type = 'VOD';\n\n    if (duration === Infinity) {\n        // Live streams are always Infinity duration\n        type = 'LIVE';\n    } else if (duration < 0) {\n        type = isDvr(duration, _minDvrWindow) ? 'DVR' : 'LIVE';\n    }\n\n    // Default option is VOD (i.e. positive or non-infinite)\n    return type;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/utils/stream-type.js","import { PLAYLIST_ITEM, MEDIA_PLAY_ATTEMPT, PROVIDER_FIRST_FRAME, MEDIA_TIME, MEDIA_FIRST_FRAME } from 'events/events';\nimport Timer from 'api/timer';\n\nconst TAB_HIDDEN = 'tabHidden';\nconst TAB_VISIBLE = 'tabVisible';\n\n// This is to provide a first frame event even when\n//  a provider does not give us one.\nconst onTimeIncreasesGenerator = (function(callback) {\n    let lastVal = 0;\n    return function (evt) {\n        const pos = evt.position;\n        if (pos > lastVal) {\n            callback();\n        }\n        // sometimes the number will wrap around (ie 100 down to 0)\n        //  so always update\n        lastVal = pos;\n    };\n});\n\nfunction unbindFirstFrameEvents(model, programController) {\n    programController.off(MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\n    programController.off(PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\n    programController.off(MEDIA_TIME, model._onTime);\n    model.off('change:activeTab', model._onTabVisible);\n}\n\nfunction trackFirstFrame(model, programController) {\n    if (model._onTabVisible) {\n        unbindFirstFrameEvents(model, programController);\n    }\n\n    // When it occurs, send the event, and unbind all listeners\n    let once = false;\n    model._triggerFirstFrame = function() {\n        if (once) {\n            return;\n        }\n        once = true;\n        const qoeItem = model._qoeItem;\n        qoeItem.tick(MEDIA_FIRST_FRAME);\n\n        const time = qoeItem.getFirstFrame();\n        programController.trigger(MEDIA_FIRST_FRAME, { loadTime: time });\n        unbindFirstFrameEvents(model, programController);\n    };\n\n    model._onTime = onTimeIncreasesGenerator(model._triggerFirstFrame);\n\n    model._onPlayAttempt = function() {\n        model._qoeItem.tick(MEDIA_PLAY_ATTEMPT);\n    };\n\n    // track visibility change\n    model._onTabVisible = function(modelChanged, activeTab) {\n        if (activeTab) {\n            model._qoeItem.tick(TAB_VISIBLE);\n        } else {\n            model._qoeItem.tick(TAB_HIDDEN);\n        }\n    };\n\n    model.on('change:activeTab', model._onTabVisible);\n    programController.on(MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\n    programController.once(PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\n    programController.on(MEDIA_TIME, model._onTime);\n}\n\nconst initQoe = function(initialModel, programController) {\n    function onMediaModel(model, mediaModel, oldMediaModel) {\n        // finish previous item\n        if (model._qoeItem && oldMediaModel) {\n            model._qoeItem.end(oldMediaModel.get('mediaState'));\n        }\n        // reset item level qoe\n        model._qoeItem = new Timer();\n        model._qoeItem.getFirstFrame = function() {\n            const time = this.between(MEDIA_PLAY_ATTEMPT, MEDIA_FIRST_FRAME);\n            // If time between the tab becoming visible and first frame is valid\n            // and less than the time since play attempt, play was not attempted until the tab became visible\n            const timeActive = this.between(TAB_VISIBLE, MEDIA_FIRST_FRAME);\n            if (timeActive > 0 && timeActive < time) {\n                return timeActive;\n            }\n            return time;\n        };\n        model._qoeItem.tick(PLAYLIST_ITEM);\n        model._qoeItem.start(mediaModel.get('mediaState'));\n\n        trackFirstFrame(model, programController);\n\n        mediaModel.on('change:mediaState', function (changeMediaModel, newstate, oldstate) {\n            if (newstate !== oldstate) {\n                model._qoeItem.end(oldstate);\n                model._qoeItem.start(newstate);\n            }\n        });\n    }\n\n    initialModel.change('mediaModel', onMediaModel);\n};\n\nexport default initQoe;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/qoe.js"],"sourceRoot":""}