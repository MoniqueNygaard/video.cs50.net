<!DOCTYPE html>

<html lang="en">
  <head>
    <script src="/lib/jquery-1.9.1.min.js"></script>
    <script>
        $(document).ready(function() {
            var videos = {
                a: $("#a")[0],    
                b: $("#b")[0], 
            }

            // With requestAnimationFrame, we can ensure that as 
            // frequently as the browser would allow, 
            // the video is resync'ed.
            function sync() {
                if (videos.b.readyState === 4 && Math.abs(videos.b.currentTime - videos.a.currentTime) > .05) {
                    videos.b.currentTime = videos.a.currentTime;
                }
                setTimeout(function(sync()), 20);
                //webkitRequestAnimationFrame(sync);
            }
            
            sync();
        });
    </script>
  </head>
  <body>
    <video autoplay height="180" width="300" id="a" controls > 
    <source src="http://cdn.cs50.net/.test/cs50_week2m_camA-360p.mp4"></source>
    </video>
    <video autoplay height="180" width="300" id="b" controls > 
    <source src="http://cdn.cs50.net/.test/cs50_week2m_camB-360p.mp4"></source>
    </video>
    <input type="range" value="0" id="scrub" />
  </body>
</html>
